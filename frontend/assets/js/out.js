(()=>{var nY=Object.create;var Lb=Object.defineProperty;var aY=Object.getOwnPropertyDescriptor;var oY=Object.getOwnPropertyNames;var sY=Object.getPrototypeOf,lY=Object.prototype.hasOwnProperty;var lD=(Yr,Gr)=>()=>(Gr||Yr((Gr={exports:{}}).exports,Gr),Gr.exports),uY=(Yr,Gr)=>{for(var Wr in Gr)Lb(Yr,Wr,{get:Gr[Wr],enumerable:!0})},fY=(Yr,Gr,Wr,Zr)=>{if(Gr&&typeof Gr=="object"||typeof Gr=="function")for(let Kr of oY(Gr))!lY.call(Yr,Kr)&&Kr!==Wr&&Lb(Yr,Kr,{get:()=>Gr[Kr],enumerable:!(Zr=aY(Gr,Kr))||Zr.enumerable});return Yr};var uD=(Yr,Gr,Wr)=>(Wr=Yr!=null?nY(sY(Yr)):{},fY(Gr||!Yr||!Yr.__esModule?Lb(Wr,"default",{value:Yr,enumerable:!0}):Wr,Yr));var fD=lD((exports,module)=>{typeof navigator<"u"&&function(Yr,Gr){typeof exports=="object"&&typeof module<"u"?module.exports=Gr():typeof define=="function"&&define.amd?define(Gr):(Yr=typeof globalThis<"u"?globalThis:Yr||self,Yr.lottie=Gr())}(exports,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(Gr){_useWebWorker=!!Gr},getWebWorker=function(){return _useWebWorker},setLocationHref=function(Gr){locationHref=Gr},getLocationHref=function(){return locationHref};function createTag(Yr){return document.createElement(Yr)}function extendPrototype(Yr,Gr){var Wr,Zr=Yr.length,Kr;for(Wr=0;Wr<Zr;Wr+=1){Kr=Yr[Wr].prototype;for(var Jr in Kr)Object.prototype.hasOwnProperty.call(Kr,Jr)&&(Gr.prototype[Jr]=Kr[Jr])}}function getDescriptor(Yr,Gr){return Object.getOwnPropertyDescriptor(Yr,Gr)}function createProxyFunction(Yr){function Gr(){}return Gr.prototype=Yr,Gr}var audioControllerFactory=function(){function Yr(Gr){this.audios=[],this.audioFactory=Gr,this._volume=1,this._isMuted=!1}return Yr.prototype={addAudio:function(Wr){this.audios.push(Wr)},pause:function(){var Wr,Zr=this.audios.length;for(Wr=0;Wr<Zr;Wr+=1)this.audios[Wr].pause()},resume:function(){var Wr,Zr=this.audios.length;for(Wr=0;Wr<Zr;Wr+=1)this.audios[Wr].resume()},setRate:function(Wr){var Zr,Kr=this.audios.length;for(Zr=0;Zr<Kr;Zr+=1)this.audios[Zr].setRate(Wr)},createAudio:function(Wr){return this.audioFactory?this.audioFactory(Wr):window.Howl?new window.Howl({src:[Wr]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Wr){this.audioFactory=Wr},setVolume:function(Wr){this._volume=Wr,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Wr,Zr=this.audios.length;for(Wr=0;Wr<Zr;Wr+=1)this.audios[Wr].volume(this._volume*(this._isMuted?0:1))}},function(){return new Yr}}(),createTypedArray=function(){function Yr(Wr,Zr){var Kr=0,Jr=[],Qr;switch(Wr){case"int16":case"uint8c":Qr=1;break;default:Qr=1.1;break}for(Kr=0;Kr<Zr;Kr+=1)Jr.push(Qr);return Jr}function Gr(Wr,Zr){return Wr==="float32"?new Float32Array(Zr):Wr==="int16"?new Int16Array(Zr):Wr==="uint8c"?new Uint8ClampedArray(Zr):Yr(Wr,Zr)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?Gr:Yr}();function createSizedArray(Yr){return Array.apply(null,{length:Yr})}function _typeof$6(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(Wr){return typeof Wr}:_typeof$6=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof$6(Yr)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Yr=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Gr,Wr=Yr.length;for(Gr=0;Gr<Wr;Gr+=1)BMMath[Yr[Gr]]=Math[Yr[Gr]]})();function ProjectInterface$1(){return{}}BMMath.random=Math.random,BMMath.abs=function(Yr){var Gr=_typeof$6(Yr);if(Gr==="object"&&Yr.length){var Wr=createSizedArray(Yr.length),Zr,Kr=Yr.length;for(Zr=0;Zr<Kr;Zr+=1)Wr[Zr]=Math.abs(Yr[Zr]);return Wr}return Math.abs(Yr)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(Yr){_shouldRoundValues=!!Yr}function bmRnd(Yr){return _shouldRoundValues?Math.round(Yr):Yr}function styleDiv(Yr){Yr.style.position="absolute",Yr.style.top=0,Yr.style.left=0,Yr.style.display="block",Yr.style.transformOrigin="0 0",Yr.style.webkitTransformOrigin="0 0",Yr.style.backfaceVisibility="visible",Yr.style.webkitBackfaceVisibility="visible",Yr.style.transformStyle="preserve-3d",Yr.style.webkitTransformStyle="preserve-3d",Yr.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Yr,Gr,Wr,Zr){this.type=Yr,this.currentTime=Gr,this.totalTime=Wr,this.direction=Zr<0?-1:1}function BMCompleteEvent(Yr,Gr){this.type=Yr,this.direction=Gr<0?-1:1}function BMCompleteLoopEvent(Yr,Gr,Wr,Zr){this.type=Yr,this.currentLoop=Wr,this.totalLoops=Gr,this.direction=Zr<0?-1:1}function BMSegmentStartEvent(Yr,Gr,Wr){this.type=Yr,this.firstFrame=Gr,this.totalFrames=Wr}function BMDestroyEvent(Yr,Gr){this.type=Yr,this.target=Gr}function BMRenderFrameErrorEvent(Yr,Gr){this.type="renderFrameError",this.nativeError=Yr,this.currentTime=Gr}function BMConfigErrorEvent(Yr){this.type="configError",this.nativeError=Yr}function BMAnimationConfigErrorEvent(Yr,Gr){this.type=Yr,this.nativeError=Gr}var createElementID=function(){var Yr=0;return function(){return Yr+=1,idPrefix$1+"__lottie_element_"+Yr}}();function HSVtoRGB(Yr,Gr,Wr){var Zr,Kr,Jr,Qr,ti,ei,ri,ii;switch(Qr=Math.floor(Yr*6),ti=Yr*6-Qr,ei=Wr*(1-Gr),ri=Wr*(1-ti*Gr),ii=Wr*(1-(1-ti)*Gr),Qr%6){case 0:Zr=Wr,Kr=ii,Jr=ei;break;case 1:Zr=ri,Kr=Wr,Jr=ei;break;case 2:Zr=ei,Kr=Wr,Jr=ii;break;case 3:Zr=ei,Kr=ri,Jr=Wr;break;case 4:Zr=ii,Kr=ei,Jr=Wr;break;case 5:Zr=Wr,Kr=ei,Jr=ri;break;default:break}return[Zr,Kr,Jr]}function RGBtoHSV(Yr,Gr,Wr){var Zr=Math.max(Yr,Gr,Wr),Kr=Math.min(Yr,Gr,Wr),Jr=Zr-Kr,Qr,ti=Zr===0?0:Jr/Zr,ei=Zr/255;switch(Zr){case Kr:Qr=0;break;case Yr:Qr=Gr-Wr+Jr*(Gr<Wr?6:0),Qr/=6*Jr;break;case Gr:Qr=Wr-Yr+Jr*2,Qr/=6*Jr;break;case Wr:Qr=Yr-Gr+Jr*4,Qr/=6*Jr;break;default:break}return[Qr,ti,ei]}function addSaturationToRGB(Yr,Gr){var Wr=RGBtoHSV(Yr[0]*255,Yr[1]*255,Yr[2]*255);return Wr[1]+=Gr,Wr[1]>1?Wr[1]=1:Wr[1]<=0&&(Wr[1]=0),HSVtoRGB(Wr[0],Wr[1],Wr[2])}function addBrightnessToRGB(Yr,Gr){var Wr=RGBtoHSV(Yr[0]*255,Yr[1]*255,Yr[2]*255);return Wr[2]+=Gr,Wr[2]>1?Wr[2]=1:Wr[2]<0&&(Wr[2]=0),HSVtoRGB(Wr[0],Wr[1],Wr[2])}function addHueToRGB(Yr,Gr){var Wr=RGBtoHSV(Yr[0]*255,Yr[1]*255,Yr[2]*255);return Wr[0]+=Gr/360,Wr[0]>1?Wr[0]-=1:Wr[0]<0&&(Wr[0]+=1),HSVtoRGB(Wr[0],Wr[1],Wr[2])}var rgbToHex=function(){var Yr=[],Gr,Wr;for(Gr=0;Gr<256;Gr+=1)Wr=Gr.toString(16),Yr[Gr]=Wr.length===1?"0"+Wr:Wr;return function(Zr,Kr,Jr){return Zr<0&&(Zr=0),Kr<0&&(Kr=0),Jr<0&&(Jr=0),"#"+Yr[Zr]+Yr[Kr]+Yr[Jr]}}(),setSubframeEnabled=function(Gr){subframeEnabled=!!Gr},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(Gr){expressionsPlugin=Gr},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(Gr){expressionsInterfaces=Gr},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(Gr){defaultCurveSegments=Gr},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(Gr){idPrefix$1=Gr},getIdPrefix=function(){return idPrefix$1};function createNS(Yr){return document.createElementNS(svgNS,Yr)}function _typeof$5(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(Wr){return typeof Wr}:_typeof$5=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof$5(Yr)}var dataManager=function(){var Yr=1,Gr=[],Wr,Zr,Kr={onmessage:function(){},postMessage:function(oi){Wr({data:oi})}},Jr={postMessage:function(oi){Kr.onmessage({data:oi})}};function Qr(ai){if(window.Worker&&window.Blob&&getWebWorker()){var oi=new Blob(["var _workerSelf = self; self.onmessage = ",ai.toString()],{type:"text/javascript"}),si=URL.createObjectURL(oi);return new Worker(si)}return Wr=ai,Kr}function ti(){Zr||(Zr=Qr(function(oi){function si(){function ui(Mi,wi){var Pi,xi,Ci=Mi.length,Li,Ii,zi,Bi;for(xi=0;xi<Ci;xi+=1)if(Pi=Mi[xi],"ks"in Pi&&!Pi.completed){if(Pi.completed=!0,Pi.hasMask){var Vi=Pi.masksProperties;for(Ii=Vi.length,Li=0;Li<Ii;Li+=1)if(Vi[Li].pt.k.i)di(Vi[Li].pt.k);else for(Bi=Vi[Li].pt.k.length,zi=0;zi<Bi;zi+=1)Vi[Li].pt.k[zi].s&&di(Vi[Li].pt.k[zi].s[0]),Vi[Li].pt.k[zi].e&&di(Vi[Li].pt.k[zi].e[0])}Pi.ty===0?(Pi.layers=ci(Pi.refId,wi),ui(Pi.layers,wi)):Pi.ty===4?pi(Pi.shapes):Pi.ty===5&&Ai(Pi)}}function fi(Mi,wi){if(Mi){var Pi=0,xi=Mi.length;for(Pi=0;Pi<xi;Pi+=1)Mi[Pi].t===1&&(Mi[Pi].data.layers=ci(Mi[Pi].data.refId,wi),ui(Mi[Pi].data.layers,wi))}}function hi(Mi,wi){for(var Pi=0,xi=wi.length;Pi<xi;){if(wi[Pi].id===Mi)return wi[Pi];Pi+=1}return null}function ci(Mi,wi){var Pi=hi(Mi,wi);return Pi?Pi.layers.__used?JSON.parse(JSON.stringify(Pi.layers)):(Pi.layers.__used=!0,Pi.layers):null}function pi(Mi){var wi,Pi=Mi.length,xi,Ci;for(wi=Pi-1;wi>=0;wi-=1)if(Mi[wi].ty==="sh")if(Mi[wi].ks.k.i)di(Mi[wi].ks.k);else for(Ci=Mi[wi].ks.k.length,xi=0;xi<Ci;xi+=1)Mi[wi].ks.k[xi].s&&di(Mi[wi].ks.k[xi].s[0]),Mi[wi].ks.k[xi].e&&di(Mi[wi].ks.k[xi].e[0]);else Mi[wi].ty==="gr"&&pi(Mi[wi].it)}function di(Mi){var wi,Pi=Mi.i.length;for(wi=0;wi<Pi;wi+=1)Mi.i[wi][0]+=Mi.v[wi][0],Mi.i[wi][1]+=Mi.v[wi][1],Mi.o[wi][0]+=Mi.v[wi][0],Mi.o[wi][1]+=Mi.v[wi][1]}function vi(Mi,wi){var Pi=wi?wi.split("."):[100,100,100];return Mi[0]>Pi[0]?!0:Pi[0]>Mi[0]?!1:Mi[1]>Pi[1]?!0:Pi[1]>Mi[1]?!1:Mi[2]>Pi[2]?!0:Pi[2]>Mi[2]?!1:null}var mi=function(){var Mi=[4,4,14];function wi(xi){var Ci=xi.t.d;xi.t.d={k:[{s:Ci,t:0}]}}function Pi(xi){var Ci,Li=xi.length;for(Ci=0;Ci<Li;Ci+=1)xi[Ci].ty===5&&wi(xi[Ci])}return function(xi){if(vi(Mi,xi.v)&&(Pi(xi.layers),xi.assets)){var Ci,Li=xi.assets.length;for(Ci=0;Ci<Li;Ci+=1)xi.assets[Ci].layers&&Pi(xi.assets[Ci].layers)}}}(),gi=function(){var Mi=[4,7,99];return function(wi){if(wi.chars&&!vi(Mi,wi.v)){var Pi,xi=wi.chars.length;for(Pi=0;Pi<xi;Pi+=1){var Ci=wi.chars[Pi];Ci.data&&Ci.data.shapes&&(pi(Ci.data.shapes),Ci.data.ip=0,Ci.data.op=99999,Ci.data.st=0,Ci.data.sr=1,Ci.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},wi.chars[Pi].t||(Ci.data.shapes.push({ty:"no"}),Ci.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),yi=function(){var Mi=[5,7,15];function wi(xi){var Ci=xi.t.p;typeof Ci.a=="number"&&(Ci.a={a:0,k:Ci.a}),typeof Ci.p=="number"&&(Ci.p={a:0,k:Ci.p}),typeof Ci.r=="number"&&(Ci.r={a:0,k:Ci.r})}function Pi(xi){var Ci,Li=xi.length;for(Ci=0;Ci<Li;Ci+=1)xi[Ci].ty===5&&wi(xi[Ci])}return function(xi){if(vi(Mi,xi.v)&&(Pi(xi.layers),xi.assets)){var Ci,Li=xi.assets.length;for(Ci=0;Ci<Li;Ci+=1)xi.assets[Ci].layers&&Pi(xi.assets[Ci].layers)}}}(),Si=function(){var Mi=[4,1,9];function wi(xi){var Ci,Li=xi.length,Ii,zi;for(Ci=0;Ci<Li;Ci+=1)if(xi[Ci].ty==="gr")wi(xi[Ci].it);else if(xi[Ci].ty==="fl"||xi[Ci].ty==="st")if(xi[Ci].c.k&&xi[Ci].c.k[0].i)for(zi=xi[Ci].c.k.length,Ii=0;Ii<zi;Ii+=1)xi[Ci].c.k[Ii].s&&(xi[Ci].c.k[Ii].s[0]/=255,xi[Ci].c.k[Ii].s[1]/=255,xi[Ci].c.k[Ii].s[2]/=255,xi[Ci].c.k[Ii].s[3]/=255),xi[Ci].c.k[Ii].e&&(xi[Ci].c.k[Ii].e[0]/=255,xi[Ci].c.k[Ii].e[1]/=255,xi[Ci].c.k[Ii].e[2]/=255,xi[Ci].c.k[Ii].e[3]/=255);else xi[Ci].c.k[0]/=255,xi[Ci].c.k[1]/=255,xi[Ci].c.k[2]/=255,xi[Ci].c.k[3]/=255}function Pi(xi){var Ci,Li=xi.length;for(Ci=0;Ci<Li;Ci+=1)xi[Ci].ty===4&&wi(xi[Ci].shapes)}return function(xi){if(vi(Mi,xi.v)&&(Pi(xi.layers),xi.assets)){var Ci,Li=xi.assets.length;for(Ci=0;Ci<Li;Ci+=1)xi.assets[Ci].layers&&Pi(xi.assets[Ci].layers)}}}(),bi=function(){var Mi=[4,4,18];function wi(xi){var Ci,Li=xi.length,Ii,zi;for(Ci=Li-1;Ci>=0;Ci-=1)if(xi[Ci].ty==="sh")if(xi[Ci].ks.k.i)xi[Ci].ks.k.c=xi[Ci].closed;else for(zi=xi[Ci].ks.k.length,Ii=0;Ii<zi;Ii+=1)xi[Ci].ks.k[Ii].s&&(xi[Ci].ks.k[Ii].s[0].c=xi[Ci].closed),xi[Ci].ks.k[Ii].e&&(xi[Ci].ks.k[Ii].e[0].c=xi[Ci].closed);else xi[Ci].ty==="gr"&&wi(xi[Ci].it)}function Pi(xi){var Ci,Li,Ii=xi.length,zi,Bi,Vi,ji;for(Li=0;Li<Ii;Li+=1){if(Ci=xi[Li],Ci.hasMask){var tn=Ci.masksProperties;for(Bi=tn.length,zi=0;zi<Bi;zi+=1)if(tn[zi].pt.k.i)tn[zi].pt.k.c=tn[zi].cl;else for(ji=tn[zi].pt.k.length,Vi=0;Vi<ji;Vi+=1)tn[zi].pt.k[Vi].s&&(tn[zi].pt.k[Vi].s[0].c=tn[zi].cl),tn[zi].pt.k[Vi].e&&(tn[zi].pt.k[Vi].e[0].c=tn[zi].cl)}Ci.ty===4&&wi(Ci.shapes)}}return function(xi){if(vi(Mi,xi.v)&&(Pi(xi.layers),xi.assets)){var Ci,Li=xi.assets.length;for(Ci=0;Ci<Li;Ci+=1)xi.assets[Ci].layers&&Pi(xi.assets[Ci].layers)}}}();function Ti(Mi){Mi.__complete||(Si(Mi),mi(Mi),gi(Mi),yi(Mi),bi(Mi),ui(Mi.layers,Mi.assets),fi(Mi.chars,Mi.assets),Mi.__complete=!0)}function Ai(Mi){Mi.t.a.length===0&&"m"in Mi.t.p}var Ei={};return Ei.completeData=Ti,Ei.checkColors=Si,Ei.checkChars=gi,Ei.checkPathProperties=yi,Ei.checkShapes=bi,Ei.completeLayers=ui,Ei}if(Jr.dataManager||(Jr.dataManager=si()),Jr.assetLoader||(Jr.assetLoader=function(){function ui(hi){var ci=hi.getResponseHeader("content-type");return ci&&hi.responseType==="json"&&ci.indexOf("json")!==-1||hi.response&&_typeof$5(hi.response)==="object"?hi.response:hi.response&&typeof hi.response=="string"?JSON.parse(hi.response):hi.responseText?JSON.parse(hi.responseText):null}function fi(hi,ci,pi,di){var vi,mi=new XMLHttpRequest;try{mi.responseType="json"}catch{}mi.onreadystatechange=function(){if(mi.readyState===4)if(mi.status===200)vi=ui(mi),pi(vi);else try{vi=ui(mi),pi(vi)}catch(gi){di&&di(gi)}};try{mi.open(["G","E","T"].join(""),hi,!0)}catch{mi.open(["G","E","T"].join(""),ci+"/"+hi,!0)}mi.send()}return{load:fi}}()),oi.data.type==="loadAnimation")Jr.assetLoader.load(oi.data.path,oi.data.fullPath,function(ui){Jr.dataManager.completeData(ui),Jr.postMessage({id:oi.data.id,payload:ui,status:"success"})},function(){Jr.postMessage({id:oi.data.id,status:"error"})});else if(oi.data.type==="complete"){var li=oi.data.animation;Jr.dataManager.completeData(li),Jr.postMessage({id:oi.data.id,payload:li,status:"success"})}else oi.data.type==="loadData"&&Jr.assetLoader.load(oi.data.path,oi.data.fullPath,function(ui){Jr.postMessage({id:oi.data.id,payload:ui,status:"success"})},function(){Jr.postMessage({id:oi.data.id,status:"error"})})}),Zr.onmessage=function(ai){var oi=ai.data,si=oi.id,li=Gr[si];Gr[si]=null,oi.status==="success"?li.onComplete(oi.payload):li.onError&&li.onError()})}function ei(ai,oi){Yr+=1;var si="processId_"+Yr;return Gr[si]={onComplete:ai,onError:oi},si}function ri(ai,oi,si){ti();var li=ei(oi,si);Zr.postMessage({type:"loadAnimation",path:ai,fullPath:window.location.origin+window.location.pathname,id:li})}function ii(ai,oi,si){ti();var li=ei(oi,si);Zr.postMessage({type:"loadData",path:ai,fullPath:window.location.origin+window.location.pathname,id:li})}function ni(ai,oi,si){ti();var li=ei(oi,si);Zr.postMessage({type:"complete",animation:ai,id:li})}return{loadAnimation:ri,loadData:ii,completeAnimation:ni}}(),ImagePreloader=function(){var Yr=function(){var fi=createTag("canvas");fi.width=1,fi.height=1;var hi=fi.getContext("2d");return hi.fillStyle="rgba(0,0,0,0)",hi.fillRect(0,0,1,1),fi}();function Gr(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Wr(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Zr(fi,hi,ci){var pi="";if(fi.e)pi=fi.p;else if(hi){var di=fi.p;di.indexOf("images/")!==-1&&(di=di.split("/")[1]),pi=hi+di}else pi=ci,pi+=fi.u?fi.u:"",pi+=fi.p;return pi}function Kr(fi){var hi=0,ci=setInterval(function(){var pi=fi.getBBox();(pi.width||hi>500)&&(this._imageLoaded(),clearInterval(ci)),hi+=1}.bind(this),50)}function Jr(fi){var hi=Zr(fi,this.assetsPath,this.path),ci=createNS("image");isSafari?this.testImageLoaded(ci):ci.addEventListener("load",this._imageLoaded,!1),ci.addEventListener("error",function(){pi.img=Yr,this._imageLoaded()}.bind(this),!1),ci.setAttributeNS("http://www.w3.org/1999/xlink","href",hi),this._elementHelper.append?this._elementHelper.append(ci):this._elementHelper.appendChild(ci);var pi={img:ci,assetData:fi};return pi}function Qr(fi){var hi=Zr(fi,this.assetsPath,this.path),ci=createTag("img");ci.crossOrigin="anonymous",ci.addEventListener("load",this._imageLoaded,!1),ci.addEventListener("error",function(){pi.img=Yr,this._imageLoaded()}.bind(this),!1),ci.src=hi;var pi={img:ci,assetData:fi};return pi}function ti(fi){var hi={assetData:fi},ci=Zr(fi,this.assetsPath,this.path);return dataManager.loadData(ci,function(pi){hi.img=pi,this._footageLoaded()}.bind(this),function(){hi.img={},this._footageLoaded()}.bind(this)),hi}function ei(fi,hi){this.imagesLoadedCb=hi;var ci,pi=fi.length;for(ci=0;ci<pi;ci+=1)fi[ci].layers||(!fi[ci].t||fi[ci].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(fi[ci]))):fi[ci].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(fi[ci]))))}function ri(fi){this.path=fi||""}function ii(fi){this.assetsPath=fi||""}function ni(fi){for(var hi=0,ci=this.images.length;hi<ci;){if(this.images[hi].assetData===fi)return this.images[hi].img;hi+=1}return null}function ai(){this.imagesLoadedCb=null,this.images.length=0}function oi(){return this.totalImages===this.loadedAssets}function si(){return this.totalFootages===this.loadedFootagesCount}function li(fi,hi){fi==="svg"?(this._elementHelper=hi,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ui(){this._imageLoaded=Gr.bind(this),this._footageLoaded=Wr.bind(this),this.testImageLoaded=Kr.bind(this),this.createFootageData=ti.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ui.prototype={loadAssets:ei,setAssetsPath:ii,setPath:ri,loadedImages:oi,loadedFootages:si,destroy:ai,getAsset:ni,createImgData:Qr,createImageData:Jr,imageLoaded:Gr,footageLoaded:Wr,setCacheType:li},ui}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(Gr,Wr){if(this._cbs[Gr])for(var Zr=this._cbs[Gr],Kr=0;Kr<Zr.length;Kr+=1)Zr[Kr](Wr)},addEventListener:function(Gr,Wr){return this._cbs[Gr]||(this._cbs[Gr]=[]),this._cbs[Gr].push(Wr),function(){this.removeEventListener(Gr,Wr)}.bind(this)},removeEventListener:function(Gr,Wr){if(!Wr)this._cbs[Gr]=null;else if(this._cbs[Gr]){for(var Zr=0,Kr=this._cbs[Gr].length;Zr<Kr;)this._cbs[Gr][Zr]===Wr&&(this._cbs[Gr].splice(Zr,1),Zr-=1,Kr-=1),Zr+=1;this._cbs[Gr].length||(this._cbs[Gr]=null)}}};var markerParser=function(){function Yr(Gr){for(var Wr=Gr.split(`\r
`),Zr={},Kr,Jr=0,Qr=0;Qr<Wr.length;Qr+=1)Kr=Wr[Qr].split(":"),Kr.length===2&&(Zr[Kr[0]]=Kr[1].trim(),Jr+=1);if(Jr===0)throw new Error;return Zr}return function(Gr){for(var Wr=[],Zr=0;Zr<Gr.length;Zr+=1){var Kr=Gr[Zr],Jr={time:Kr.tm,duration:Kr.dr};try{Jr.payload=JSON.parse(Gr[Zr].cm)}catch{try{Jr.payload=Yr(Gr[Zr].cm)}catch{Jr.payload={name:Gr[Zr].cm}}}Wr.push(Jr)}return Wr}}(),ProjectInterface=function(){function Yr(Gr){this.compositions.push(Gr)}return function(){function Gr(Wr){for(var Zr=0,Kr=this.compositions.length;Zr<Kr;){if(this.compositions[Zr].data&&this.compositions[Zr].data.nm===Wr)return this.compositions[Zr].prepareFrame&&this.compositions[Zr].data.xt&&this.compositions[Zr].prepareFrame(this.currentFrame),this.compositions[Zr].compInterface;Zr+=1}return null}return Gr.compositions=[],Gr.currentFrame=0,Gr.registerComposition=Yr,Gr}}(),renderers={},registerRenderer=function(Gr,Wr){renderers[Gr]=Wr};function getRenderer(Yr){return renderers[Yr]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Yr in renderers)if(renderers[Yr])return Yr;return""}function _typeof$4(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(Wr){return typeof Wr}:_typeof$4=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof$4(Yr)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Yr){(Yr.wrapper||Yr.container)&&(this.wrapper=Yr.wrapper||Yr.container);var Gr="svg";Yr.animType?Gr=Yr.animType:Yr.renderer&&(Gr=Yr.renderer);var Wr=getRenderer(Gr);this.renderer=new Wr(this,Yr.rendererSettings),this.imagePreloader.setCacheType(Gr,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=Gr,Yr.loop===""||Yr.loop===null||Yr.loop===void 0||Yr.loop===!0?this.loop=!0:Yr.loop===!1?this.loop=!1:this.loop=parseInt(Yr.loop,10),this.autoplay="autoplay"in Yr?Yr.autoplay:!0,this.name=Yr.name?Yr.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Yr,"autoloadSegments")?Yr.autoloadSegments:!0,this.assetsPath=Yr.assetsPath,this.initialSegment=Yr.initialSegment,Yr.audioFactory&&this.audioController.setAudioFactory(Yr.audioFactory),Yr.animationData?this.setupAnimation(Yr.animationData):Yr.path&&(Yr.path.lastIndexOf("\\")!==-1?this.path=Yr.path.substr(0,Yr.path.lastIndexOf("\\")+1):this.path=Yr.path.substr(0,Yr.path.lastIndexOf("/")+1),this.fileName=Yr.path.substr(Yr.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Yr.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Yr){dataManager.completeAnimation(Yr,this.configAnimation)},AnimationItem.prototype.setData=function(Yr,Gr){Gr&&_typeof$4(Gr)!=="object"&&(Gr=JSON.parse(Gr));var Wr={wrapper:Yr,animationData:Gr},Zr=Yr.attributes;Wr.path=Zr.getNamedItem("data-animation-path")?Zr.getNamedItem("data-animation-path").value:Zr.getNamedItem("data-bm-path")?Zr.getNamedItem("data-bm-path").value:Zr.getNamedItem("bm-path")?Zr.getNamedItem("bm-path").value:"",Wr.animType=Zr.getNamedItem("data-anim-type")?Zr.getNamedItem("data-anim-type").value:Zr.getNamedItem("data-bm-type")?Zr.getNamedItem("data-bm-type").value:Zr.getNamedItem("bm-type")?Zr.getNamedItem("bm-type").value:Zr.getNamedItem("data-bm-renderer")?Zr.getNamedItem("data-bm-renderer").value:Zr.getNamedItem("bm-renderer")?Zr.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Kr=Zr.getNamedItem("data-anim-loop")?Zr.getNamedItem("data-anim-loop").value:Zr.getNamedItem("data-bm-loop")?Zr.getNamedItem("data-bm-loop").value:Zr.getNamedItem("bm-loop")?Zr.getNamedItem("bm-loop").value:"";Kr==="false"?Wr.loop=!1:Kr==="true"?Wr.loop=!0:Kr!==""&&(Wr.loop=parseInt(Kr,10));var Jr=Zr.getNamedItem("data-anim-autoplay")?Zr.getNamedItem("data-anim-autoplay").value:Zr.getNamedItem("data-bm-autoplay")?Zr.getNamedItem("data-bm-autoplay").value:Zr.getNamedItem("bm-autoplay")?Zr.getNamedItem("bm-autoplay").value:!0;Wr.autoplay=Jr!=="false",Wr.name=Zr.getNamedItem("data-name")?Zr.getNamedItem("data-name").value:Zr.getNamedItem("data-bm-name")?Zr.getNamedItem("data-bm-name").value:Zr.getNamedItem("bm-name")?Zr.getNamedItem("bm-name").value:"";var Qr=Zr.getNamedItem("data-anim-prerender")?Zr.getNamedItem("data-anim-prerender").value:Zr.getNamedItem("data-bm-prerender")?Zr.getNamedItem("data-bm-prerender").value:Zr.getNamedItem("bm-prerender")?Zr.getNamedItem("bm-prerender").value:"";Qr==="false"&&(Wr.prerender=!1),Wr.path?this.setParams(Wr):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Yr){Yr.op>this.animationData.op&&(this.animationData.op=Yr.op,this.totalFrames=Math.floor(Yr.op-this.animationData.ip));var Gr=this.animationData.layers,Wr,Zr=Gr.length,Kr=Yr.layers,Jr,Qr=Kr.length;for(Jr=0;Jr<Qr;Jr+=1)for(Wr=0;Wr<Zr;){if(Gr[Wr].id===Kr[Jr].id){Gr[Wr]=Kr[Jr];break}Wr+=1}if((Yr.chars||Yr.fonts)&&(this.renderer.globalData.fontManager.addChars(Yr.chars),this.renderer.globalData.fontManager.addFonts(Yr.fonts,this.renderer.globalData.defs)),Yr.assets)for(Zr=Yr.assets.length,Wr=0;Wr<Zr;Wr+=1)this.animationData.assets.push(Yr.assets[Wr]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Yr){this.animationData=Yr;var Gr=getExpressionsPlugin();Gr&&Gr.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Yr=this.animationData.segments;if(!Yr||Yr.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var Gr=Yr.shift();this.timeCompleted=Gr.time*this.frameRate;var Wr=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(Wr,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var Yr=this.animationData.segments;Yr||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Yr){if(this.renderer)try{this.animationData=Yr,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Yr),Yr.assets||(Yr.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Yr.assets),this.markers=markerParser(Yr.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(Gr){this.triggerConfigError(Gr)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Yr=getExpressionsPlugin();Yr&&Yr.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Yr,Gr){var Wr=typeof Yr=="number"?Yr:void 0,Zr=typeof Gr=="number"?Gr:void 0;this.renderer.updateContainerSize(Wr,Zr)},AnimationItem.prototype.setSubframe=function(Yr){this.isSubframeEnabled=!!Yr},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Yr){this.triggerRenderFrameError(Yr)}},AnimationItem.prototype.play=function(Yr){Yr&&this.name!==Yr||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Yr){Yr&&this.name!==Yr||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Yr){Yr&&this.name!==Yr||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Yr){Yr&&this.name!==Yr||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Yr){for(var Gr,Wr=0;Wr<this.markers.length;Wr+=1)if(Gr=this.markers[Wr],Gr.payload&&Gr.payload.name===Yr)return Gr;return null},AnimationItem.prototype.goToAndStop=function(Yr,Gr,Wr){if(!(Wr&&this.name!==Wr)){var Zr=Number(Yr);if(isNaN(Zr)){var Kr=this.getMarkerData(Yr);Kr&&this.goToAndStop(Kr.time,!0)}else Gr?this.setCurrentRawFrameValue(Yr):this.setCurrentRawFrameValue(Yr*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Yr,Gr,Wr){if(!(Wr&&this.name!==Wr)){var Zr=Number(Yr);if(isNaN(Zr)){var Kr=this.getMarkerData(Yr);Kr&&(Kr.duration?this.playSegments([Kr.time,Kr.time+Kr.duration],!0):this.goToAndStop(Kr.time,!0))}else this.goToAndStop(Zr,Gr,Wr);this.play()}},AnimationItem.prototype.advanceTime=function(Yr){if(!(this.isPaused===!0||this.isLoaded===!1)){var Gr=this.currentRawFrame+Yr*this.frameModifier,Wr=!1;Gr>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(Gr>this.totalFrames?Gr%this.totalFrames:0)||(Wr=!0,Gr=this.totalFrames-1):Gr>=this.totalFrames?(this.playCount+=1,this.checkSegments(Gr%this.totalFrames)||(this.setCurrentRawFrameValue(Gr%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(Gr):Gr<0?this.checkSegments(Gr%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+Gr%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(Wr=!0,Gr=0)):this.setCurrentRawFrameValue(Gr),Wr&&(this.setCurrentRawFrameValue(Gr),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Yr,Gr){this.playCount=0,Yr[1]<Yr[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Yr[0]-Yr[1],this.timeCompleted=this.totalFrames,this.firstFrame=Yr[1],this.setCurrentRawFrameValue(this.totalFrames-.001-Gr)):Yr[1]>Yr[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Yr[1]-Yr[0],this.timeCompleted=this.totalFrames,this.firstFrame=Yr[0],this.setCurrentRawFrameValue(.001+Gr)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Yr,Gr){var Wr=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Yr?Wr=Yr:this.currentRawFrame+this.firstFrame>Gr&&(Wr=Gr-Yr)),this.firstFrame=Yr,this.totalFrames=Gr-Yr,this.timeCompleted=this.totalFrames,Wr!==-1&&this.goToAndStop(Wr,!0)},AnimationItem.prototype.playSegments=function(Yr,Gr){if(Gr&&(this.segments.length=0),_typeof$4(Yr[0])==="object"){var Wr,Zr=Yr.length;for(Wr=0;Wr<Zr;Wr+=1)this.segments.push(Yr[Wr])}else this.segments.push(Yr);this.segments.length&&Gr&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Yr){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Yr&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Yr){return this.segments.length?(this.adjustSegment(this.segments.shift(),Yr),!0):!1},AnimationItem.prototype.destroy=function(Yr){Yr&&this.name!==Yr||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Yr){this.currentRawFrame=Yr,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Yr){this.playSpeed=Yr,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Yr){this.playDirection=Yr<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Yr){this.loop=Yr},AnimationItem.prototype.setVolume=function(Yr,Gr){Gr&&this.name!==Gr||this.audioController.setVolume(Yr)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Yr){Yr&&this.name!==Yr||this.audioController.mute()},AnimationItem.prototype.unmute=function(Yr){Yr&&this.name!==Yr||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Yr){var Gr="";if(Yr.e)Gr=Yr.p;else if(this.assetsPath){var Wr=Yr.p;Wr.indexOf("images/")!==-1&&(Wr=Wr.split("/")[1]),Gr=this.assetsPath+Wr}else Gr=this.path,Gr+=Yr.u?Yr.u:"",Gr+=Yr.p;return Gr},AnimationItem.prototype.getAssetData=function(Yr){for(var Gr=0,Wr=this.assets.length;Gr<Wr;){if(Yr===this.assets[Gr].id)return this.assets[Gr];Gr+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Yr){return Yr?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Yr,Gr,Wr){try{var Zr=this.renderer.getElementByPath(Yr);Zr.updateDocumentData(Gr,Wr)}catch{}},AnimationItem.prototype.trigger=function(Yr){if(this._cbs&&this._cbs[Yr])switch(Yr){case"enterFrame":this.triggerEvent(Yr,new BMEnterFrameEvent(Yr,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Yr,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Yr,new BMCompleteLoopEvent(Yr,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Yr,new BMCompleteEvent(Yr,this.frameMult));break;case"segmentStart":this.triggerEvent(Yr,new BMSegmentStartEvent(Yr,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Yr,new BMDestroyEvent(Yr,this));break;default:this.triggerEvent(Yr)}Yr==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Yr,this.currentFrame,this.totalFrames,this.frameMult)),Yr==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Yr,this.loop,this.playCount,this.frameMult)),Yr==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Yr,this.frameMult)),Yr==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Yr,this.firstFrame,this.totalFrames)),Yr==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Yr,this))},AnimationItem.prototype.triggerRenderFrameError=function(Yr){var Gr=new BMRenderFrameErrorEvent(Yr,this.currentFrame);this.triggerEvent("error",Gr),this.onError&&this.onError.call(this,Gr)},AnimationItem.prototype.triggerConfigError=function(Yr){var Gr=new BMConfigErrorEvent(Yr,this.currentFrame);this.triggerEvent("error",Gr),this.onError&&this.onError.call(this,Gr)};var animationManager=function(){var Yr={},Gr=[],Wr=0,Zr=0,Kr=0,Jr=!0,Qr=!1;function ti(wi){for(var Pi=0,xi=wi.target;Pi<Zr;)Gr[Pi].animation===xi&&(Gr.splice(Pi,1),Pi-=1,Zr-=1,xi.isPaused||ni()),Pi+=1}function ei(wi,Pi){if(!wi)return null;for(var xi=0;xi<Zr;){if(Gr[xi].elem===wi&&Gr[xi].elem!==null)return Gr[xi].animation;xi+=1}var Ci=new AnimationItem;return ai(Ci,wi),Ci.setData(wi,Pi),Ci}function ri(){var wi,Pi=Gr.length,xi=[];for(wi=0;wi<Pi;wi+=1)xi.push(Gr[wi].animation);return xi}function ii(){Kr+=1,Si()}function ni(){Kr-=1}function ai(wi,Pi){wi.addEventListener("destroy",ti),wi.addEventListener("_active",ii),wi.addEventListener("_idle",ni),Gr.push({elem:Pi,animation:wi}),Zr+=1}function oi(wi){var Pi=new AnimationItem;return ai(Pi,null),Pi.setParams(wi),Pi}function si(wi,Pi){var xi;for(xi=0;xi<Zr;xi+=1)Gr[xi].animation.setSpeed(wi,Pi)}function li(wi,Pi){var xi;for(xi=0;xi<Zr;xi+=1)Gr[xi].animation.setDirection(wi,Pi)}function ui(wi){var Pi;for(Pi=0;Pi<Zr;Pi+=1)Gr[Pi].animation.play(wi)}function fi(wi){var Pi=wi-Wr,xi;for(xi=0;xi<Zr;xi+=1)Gr[xi].animation.advanceTime(Pi);Wr=wi,Kr&&!Qr?window.requestAnimationFrame(fi):Jr=!0}function hi(wi){Wr=wi,window.requestAnimationFrame(fi)}function ci(wi){var Pi;for(Pi=0;Pi<Zr;Pi+=1)Gr[Pi].animation.pause(wi)}function pi(wi,Pi,xi){var Ci;for(Ci=0;Ci<Zr;Ci+=1)Gr[Ci].animation.goToAndStop(wi,Pi,xi)}function di(wi){var Pi;for(Pi=0;Pi<Zr;Pi+=1)Gr[Pi].animation.stop(wi)}function vi(wi){var Pi;for(Pi=0;Pi<Zr;Pi+=1)Gr[Pi].animation.togglePause(wi)}function mi(wi){var Pi;for(Pi=Zr-1;Pi>=0;Pi-=1)Gr[Pi].animation.destroy(wi)}function gi(wi,Pi,xi){var Ci=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Li,Ii=Ci.length;for(Li=0;Li<Ii;Li+=1)xi&&Ci[Li].setAttribute("data-bm-type",xi),ei(Ci[Li],wi);if(Pi&&Ii===0){xi||(xi="svg");var zi=document.getElementsByTagName("body")[0];zi.innerText="";var Bi=createTag("div");Bi.style.width="100%",Bi.style.height="100%",Bi.setAttribute("data-bm-type",xi),zi.appendChild(Bi),ei(Bi,wi)}}function yi(){var wi;for(wi=0;wi<Zr;wi+=1)Gr[wi].animation.resize()}function Si(){!Qr&&Kr&&Jr&&(window.requestAnimationFrame(hi),Jr=!1)}function bi(){Qr=!0}function Ti(){Qr=!1,Si()}function Ai(wi,Pi){var xi;for(xi=0;xi<Zr;xi+=1)Gr[xi].animation.setVolume(wi,Pi)}function Ei(wi){var Pi;for(Pi=0;Pi<Zr;Pi+=1)Gr[Pi].animation.mute(wi)}function Mi(wi){var Pi;for(Pi=0;Pi<Zr;Pi+=1)Gr[Pi].animation.unmute(wi)}return Yr.registerAnimation=ei,Yr.loadAnimation=oi,Yr.setSpeed=si,Yr.setDirection=li,Yr.play=ui,Yr.pause=ci,Yr.stop=di,Yr.togglePause=vi,Yr.searchAnimations=gi,Yr.resize=yi,Yr.goToAndStop=pi,Yr.destroy=mi,Yr.freeze=bi,Yr.unfreeze=Ti,Yr.setVolume=Ai,Yr.mute=Ei,Yr.unmute=Mi,Yr.getRegisteredAnimations=ri,Yr}(),BezierFactory=function(){var Yr={};Yr.getBezierEasing=Wr;var Gr={};function Wr(hi,ci,pi,di,vi){var mi=vi||("bez_"+hi+"_"+ci+"_"+pi+"_"+di).replace(/\./g,"p");if(Gr[mi])return Gr[mi];var gi=new fi([hi,ci,pi,di]);return Gr[mi]=gi,gi}var Zr=4,Kr=.001,Jr=1e-7,Qr=10,ti=11,ei=1/(ti-1),ri=typeof Float32Array=="function";function ii(hi,ci){return 1-3*ci+3*hi}function ni(hi,ci){return 3*ci-6*hi}function ai(hi){return 3*hi}function oi(hi,ci,pi){return((ii(ci,pi)*hi+ni(ci,pi))*hi+ai(ci))*hi}function si(hi,ci,pi){return 3*ii(ci,pi)*hi*hi+2*ni(ci,pi)*hi+ai(ci)}function li(hi,ci,pi,di,vi){var mi,gi,yi=0;do gi=ci+(pi-ci)/2,mi=oi(gi,di,vi)-hi,mi>0?pi=gi:ci=gi;while(Math.abs(mi)>Jr&&++yi<Qr);return gi}function ui(hi,ci,pi,di){for(var vi=0;vi<Zr;++vi){var mi=si(ci,pi,di);if(mi===0)return ci;var gi=oi(ci,pi,di)-hi;ci-=gi/mi}return ci}function fi(hi){this._p=hi,this._mSampleValues=ri?new Float32Array(ti):new Array(ti),this._precomputed=!1,this.get=this.get.bind(this)}return fi.prototype={get:function(ci){var pi=this._p[0],di=this._p[1],vi=this._p[2],mi=this._p[3];return this._precomputed||this._precompute(),pi===di&&vi===mi?ci:ci===0?0:ci===1?1:oi(this._getTForX(ci),di,mi)},_precompute:function(){var ci=this._p[0],pi=this._p[1],di=this._p[2],vi=this._p[3];this._precomputed=!0,(ci!==pi||di!==vi)&&this._calcSampleValues()},_calcSampleValues:function(){for(var ci=this._p[0],pi=this._p[2],di=0;di<ti;++di)this._mSampleValues[di]=oi(di*ei,ci,pi)},_getTForX:function(ci){for(var pi=this._p[0],di=this._p[2],vi=this._mSampleValues,mi=0,gi=1,yi=ti-1;gi!==yi&&vi[gi]<=ci;++gi)mi+=ei;--gi;var Si=(ci-vi[gi])/(vi[gi+1]-vi[gi]),bi=mi+Si*ei,Ti=si(bi,pi,di);return Ti>=Kr?ui(ci,bi,pi,di):Ti===0?bi:li(ci,mi,mi+ei,pi,di)}},Yr}(),pooling=function(){function Yr(Gr){return Gr.concat(createSizedArray(Gr.length))}return{double:Yr}}(),poolFactory=function(){return function(Yr,Gr,Wr){var Zr=0,Kr=Yr,Jr=createSizedArray(Kr),Qr={newElement:ti,release:ei};function ti(){var ri;return Zr?(Zr-=1,ri=Jr[Zr]):ri=Gr(),ri}function ei(ri){Zr===Kr&&(Jr=pooling.double(Jr),Kr*=2),Wr&&Wr(ri),Jr[Zr]=ri,Zr+=1}return Qr}}(),bezierLengthPool=function(){function Yr(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Yr)}(),segmentsLengthPool=function(){function Yr(){return{lengths:[],totalLength:0}}function Gr(Wr){var Zr,Kr=Wr.lengths.length;for(Zr=0;Zr<Kr;Zr+=1)bezierLengthPool.release(Wr.lengths[Zr]);Wr.lengths.length=0}return poolFactory(8,Yr,Gr)}();function bezFunction(){var Yr=Math;function Gr(ai,oi,si,li,ui,fi){var hi=ai*li+oi*ui+si*fi-ui*li-fi*ai-si*oi;return hi>-.001&&hi<.001}function Wr(ai,oi,si,li,ui,fi,hi,ci,pi){if(si===0&&fi===0&&pi===0)return Gr(ai,oi,li,ui,hi,ci);var di=Yr.sqrt(Yr.pow(li-ai,2)+Yr.pow(ui-oi,2)+Yr.pow(fi-si,2)),vi=Yr.sqrt(Yr.pow(hi-ai,2)+Yr.pow(ci-oi,2)+Yr.pow(pi-si,2)),mi=Yr.sqrt(Yr.pow(hi-li,2)+Yr.pow(ci-ui,2)+Yr.pow(pi-fi,2)),gi;return di>vi?di>mi?gi=di-vi-mi:gi=mi-vi-di:mi>vi?gi=mi-vi-di:gi=vi-di-mi,gi>-1e-4&&gi<1e-4}var Zr=function(){return function(ai,oi,si,li){var ui=getDefaultCurveSegments(),fi,hi,ci,pi,di,vi=0,mi,gi=[],yi=[],Si=bezierLengthPool.newElement();for(ci=si.length,fi=0;fi<ui;fi+=1){for(di=fi/(ui-1),mi=0,hi=0;hi<ci;hi+=1)pi=bmPow(1-di,3)*ai[hi]+3*bmPow(1-di,2)*di*si[hi]+3*(1-di)*bmPow(di,2)*li[hi]+bmPow(di,3)*oi[hi],gi[hi]=pi,yi[hi]!==null&&(mi+=bmPow(gi[hi]-yi[hi],2)),yi[hi]=gi[hi];mi&&(mi=bmSqrt(mi),vi+=mi),Si.percents[fi]=di,Si.lengths[fi]=vi}return Si.addedLength=vi,Si}}();function Kr(ai){var oi=segmentsLengthPool.newElement(),si=ai.c,li=ai.v,ui=ai.o,fi=ai.i,hi,ci=ai._length,pi=oi.lengths,di=0;for(hi=0;hi<ci-1;hi+=1)pi[hi]=Zr(li[hi],li[hi+1],ui[hi],fi[hi+1]),di+=pi[hi].addedLength;return si&&ci&&(pi[hi]=Zr(li[hi],li[0],ui[hi],fi[0]),di+=pi[hi].addedLength),oi.totalLength=di,oi}function Jr(ai){this.segmentLength=0,this.points=new Array(ai)}function Qr(ai,oi){this.partialLength=ai,this.point=oi}var ti=function(){var ai={};return function(oi,si,li,ui){var fi=(oi[0]+"_"+oi[1]+"_"+si[0]+"_"+si[1]+"_"+li[0]+"_"+li[1]+"_"+ui[0]+"_"+ui[1]).replace(/\./g,"p");if(!ai[fi]){var hi=getDefaultCurveSegments(),ci,pi,di,vi,mi,gi=0,yi,Si,bi=null;oi.length===2&&(oi[0]!==si[0]||oi[1]!==si[1])&&Gr(oi[0],oi[1],si[0],si[1],oi[0]+li[0],oi[1]+li[1])&&Gr(oi[0],oi[1],si[0],si[1],si[0]+ui[0],si[1]+ui[1])&&(hi=2);var Ti=new Jr(hi);for(di=li.length,ci=0;ci<hi;ci+=1){for(Si=createSizedArray(di),mi=ci/(hi-1),yi=0,pi=0;pi<di;pi+=1)vi=bmPow(1-mi,3)*oi[pi]+3*bmPow(1-mi,2)*mi*(oi[pi]+li[pi])+3*(1-mi)*bmPow(mi,2)*(si[pi]+ui[pi])+bmPow(mi,3)*si[pi],Si[pi]=vi,bi!==null&&(yi+=bmPow(Si[pi]-bi[pi],2));yi=bmSqrt(yi),gi+=yi,Ti.points[ci]=new Qr(yi,Si),bi=Si}Ti.segmentLength=gi,ai[fi]=Ti}return ai[fi]}}();function ei(ai,oi){var si=oi.percents,li=oi.lengths,ui=si.length,fi=bmFloor((ui-1)*ai),hi=ai*oi.addedLength,ci=0;if(fi===ui-1||fi===0||hi===li[fi])return si[fi];for(var pi=li[fi]>hi?-1:1,di=!0;di;)if(li[fi]<=hi&&li[fi+1]>hi?(ci=(hi-li[fi])/(li[fi+1]-li[fi]),di=!1):fi+=pi,fi<0||fi>=ui-1){if(fi===ui-1)return si[fi];di=!1}return si[fi]+(si[fi+1]-si[fi])*ci}function ri(ai,oi,si,li,ui,fi){var hi=ei(ui,fi),ci=1-hi,pi=Yr.round((ci*ci*ci*ai[0]+(hi*ci*ci+ci*hi*ci+ci*ci*hi)*si[0]+(hi*hi*ci+ci*hi*hi+hi*ci*hi)*li[0]+hi*hi*hi*oi[0])*1e3)/1e3,di=Yr.round((ci*ci*ci*ai[1]+(hi*ci*ci+ci*hi*ci+ci*ci*hi)*si[1]+(hi*hi*ci+ci*hi*hi+hi*ci*hi)*li[1]+hi*hi*hi*oi[1])*1e3)/1e3;return[pi,di]}var ii=createTypedArray("float32",8);function ni(ai,oi,si,li,ui,fi,hi){ui<0?ui=0:ui>1&&(ui=1);var ci=ei(ui,hi);fi=fi>1?1:fi;var pi=ei(fi,hi),di,vi=ai.length,mi=1-ci,gi=1-pi,yi=mi*mi*mi,Si=ci*mi*mi*3,bi=ci*ci*mi*3,Ti=ci*ci*ci,Ai=mi*mi*gi,Ei=ci*mi*gi+mi*ci*gi+mi*mi*pi,Mi=ci*ci*gi+mi*ci*pi+ci*mi*pi,wi=ci*ci*pi,Pi=mi*gi*gi,xi=ci*gi*gi+mi*pi*gi+mi*gi*pi,Ci=ci*pi*gi+mi*pi*pi+ci*gi*pi,Li=ci*pi*pi,Ii=gi*gi*gi,zi=pi*gi*gi+gi*pi*gi+gi*gi*pi,Bi=pi*pi*gi+gi*pi*pi+pi*gi*pi,Vi=pi*pi*pi;for(di=0;di<vi;di+=1)ii[di*4]=Yr.round((yi*ai[di]+Si*si[di]+bi*li[di]+Ti*oi[di])*1e3)/1e3,ii[di*4+1]=Yr.round((Ai*ai[di]+Ei*si[di]+Mi*li[di]+wi*oi[di])*1e3)/1e3,ii[di*4+2]=Yr.round((Pi*ai[di]+xi*si[di]+Ci*li[di]+Li*oi[di])*1e3)/1e3,ii[di*4+3]=Yr.round((Ii*ai[di]+zi*si[di]+Bi*li[di]+Vi*oi[di])*1e3)/1e3;return ii}return{getSegmentsLength:Kr,getNewSegment:ni,getPointInSegment:ri,buildBezierData:ti,pointOnLine2D:Gr,pointOnLine3D:Wr}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Yr,Gr){var Wr=this.offsetTime,Zr;this.propType==="multidimensional"&&(Zr=createTypedArray("float32",this.pv.length));for(var Kr=Gr.lastIndex,Jr=Kr,Qr=this.keyframes.length-1,ti=!0,ei,ri,ii;ti;){if(ei=this.keyframes[Jr],ri=this.keyframes[Jr+1],Jr===Qr-1&&Yr>=ri.t-Wr){ei.h&&(ei=ri),Kr=0;break}if(ri.t-Wr>Yr){Kr=Jr;break}Jr<Qr-1?Jr+=1:(Kr=0,ti=!1)}ii=this.keyframesMetadata[Jr]||{};var ni,ai,oi,si,li,ui,fi=ri.t-Wr,hi=ei.t-Wr,ci;if(ei.to){ii.bezierData||(ii.bezierData=bez.buildBezierData(ei.s,ri.s||ei.e,ei.to,ei.ti));var pi=ii.bezierData;if(Yr>=fi||Yr<hi){var di=Yr>=fi?pi.points.length-1:0;for(ai=pi.points[di].point.length,ni=0;ni<ai;ni+=1)Zr[ni]=pi.points[di].point[ni]}else{ii.__fnct?ui=ii.__fnct:(ui=BezierFactory.getBezierEasing(ei.o.x,ei.o.y,ei.i.x,ei.i.y,ei.n).get,ii.__fnct=ui),oi=ui((Yr-hi)/(fi-hi));var vi=pi.segmentLength*oi,mi,gi=Gr.lastFrame<Yr&&Gr._lastKeyframeIndex===Jr?Gr._lastAddedLength:0;for(li=Gr.lastFrame<Yr&&Gr._lastKeyframeIndex===Jr?Gr._lastPoint:0,ti=!0,si=pi.points.length;ti;){if(gi+=pi.points[li].partialLength,vi===0||oi===0||li===pi.points.length-1){for(ai=pi.points[li].point.length,ni=0;ni<ai;ni+=1)Zr[ni]=pi.points[li].point[ni];break}else if(vi>=gi&&vi<gi+pi.points[li+1].partialLength){for(mi=(vi-gi)/pi.points[li+1].partialLength,ai=pi.points[li].point.length,ni=0;ni<ai;ni+=1)Zr[ni]=pi.points[li].point[ni]+(pi.points[li+1].point[ni]-pi.points[li].point[ni])*mi;break}li<si-1?li+=1:ti=!1}Gr._lastPoint=li,Gr._lastAddedLength=gi-pi.points[li].partialLength,Gr._lastKeyframeIndex=Jr}}else{var yi,Si,bi,Ti,Ai;if(Qr=ei.s.length,ci=ri.s||ei.e,this.sh&&ei.h!==1)if(Yr>=fi)Zr[0]=ci[0],Zr[1]=ci[1],Zr[2]=ci[2];else if(Yr<=hi)Zr[0]=ei.s[0],Zr[1]=ei.s[1],Zr[2]=ei.s[2];else{var Ei=createQuaternion(ei.s),Mi=createQuaternion(ci),wi=(Yr-hi)/(fi-hi);quaternionToEuler(Zr,slerp(Ei,Mi,wi))}else for(Jr=0;Jr<Qr;Jr+=1)ei.h!==1&&(Yr>=fi?oi=1:Yr<hi?oi=0:(ei.o.x.constructor===Array?(ii.__fnct||(ii.__fnct=[]),ii.__fnct[Jr]?ui=ii.__fnct[Jr]:(yi=ei.o.x[Jr]===void 0?ei.o.x[0]:ei.o.x[Jr],Si=ei.o.y[Jr]===void 0?ei.o.y[0]:ei.o.y[Jr],bi=ei.i.x[Jr]===void 0?ei.i.x[0]:ei.i.x[Jr],Ti=ei.i.y[Jr]===void 0?ei.i.y[0]:ei.i.y[Jr],ui=BezierFactory.getBezierEasing(yi,Si,bi,Ti).get,ii.__fnct[Jr]=ui)):ii.__fnct?ui=ii.__fnct:(yi=ei.o.x,Si=ei.o.y,bi=ei.i.x,Ti=ei.i.y,ui=BezierFactory.getBezierEasing(yi,Si,bi,Ti).get,ei.keyframeMetadata=ui),oi=ui((Yr-hi)/(fi-hi)))),ci=ri.s||ei.e,Ai=ei.h===1?ei.s[Jr]:ei.s[Jr]+(ci[Jr]-ei.s[Jr])*oi,this.propType==="multidimensional"?Zr[Jr]=Ai:Zr=Ai}return Gr.lastIndex=Kr,Zr}function slerp(Yr,Gr,Wr){var Zr=[],Kr=Yr[0],Jr=Yr[1],Qr=Yr[2],ti=Yr[3],ei=Gr[0],ri=Gr[1],ii=Gr[2],ni=Gr[3],ai,oi,si,li,ui;return oi=Kr*ei+Jr*ri+Qr*ii+ti*ni,oi<0&&(oi=-oi,ei=-ei,ri=-ri,ii=-ii,ni=-ni),1-oi>1e-6?(ai=Math.acos(oi),si=Math.sin(ai),li=Math.sin((1-Wr)*ai)/si,ui=Math.sin(Wr*ai)/si):(li=1-Wr,ui=Wr),Zr[0]=li*Kr+ui*ei,Zr[1]=li*Jr+ui*ri,Zr[2]=li*Qr+ui*ii,Zr[3]=li*ti+ui*ni,Zr}function quaternionToEuler(Yr,Gr){var Wr=Gr[0],Zr=Gr[1],Kr=Gr[2],Jr=Gr[3],Qr=Math.atan2(2*Zr*Jr-2*Wr*Kr,1-2*Zr*Zr-2*Kr*Kr),ti=Math.asin(2*Wr*Zr+2*Kr*Jr),ei=Math.atan2(2*Wr*Jr-2*Zr*Kr,1-2*Wr*Wr-2*Kr*Kr);Yr[0]=Qr/degToRads,Yr[1]=ti/degToRads,Yr[2]=ei/degToRads}function createQuaternion(Yr){var Gr=Yr[0]*degToRads,Wr=Yr[1]*degToRads,Zr=Yr[2]*degToRads,Kr=Math.cos(Gr/2),Jr=Math.cos(Wr/2),Qr=Math.cos(Zr/2),ti=Math.sin(Gr/2),ei=Math.sin(Wr/2),ri=Math.sin(Zr/2),ii=Kr*Jr*Qr-ti*ei*ri,ni=ti*ei*Qr+Kr*Jr*ri,ai=ti*Jr*Qr+Kr*ei*ri,oi=Kr*ei*Qr-ti*Jr*ri;return[ni,ai,oi,ii]}function getValueAtCurrentTime(){var Yr=this.comp.renderedFrame-this.offsetTime,Gr=this.keyframes[0].t-this.offsetTime,Wr=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Yr===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=Wr&&Yr>=Wr||this._caching.lastFrame<Gr&&Yr<Gr))){this._caching.lastFrame>=Yr&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Zr=this.interpolateValue(Yr,this._caching);this.pv=Zr}return this._caching.lastFrame=Yr,this.pv}function setVValue(Yr){var Gr;if(this.propType==="unidimensional")Gr=Yr*this.mult,mathAbs(this.v-Gr)>1e-5&&(this.v=Gr,this._mdf=!0);else for(var Wr=0,Zr=this.v.length;Wr<Zr;)Gr=Yr[Wr]*this.mult,mathAbs(this.v[Wr]-Gr)>1e-5&&(this.v[Wr]=Gr,this._mdf=!0),Wr+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Yr,Gr=this.effectsSequence.length,Wr=this.kf?this.pv:this.data.k;for(Yr=0;Yr<Gr;Yr+=1)Wr=this.effectsSequence[Yr](Wr);this.setVValue(Wr),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Yr){this.effectsSequence.push(Yr),this.container.addDynamicProperty(this)}function ValueProperty(Yr,Gr,Wr,Zr){this.propType="unidimensional",this.mult=Wr||1,this.data=Gr,this.v=Wr?Gr.k*Wr:Gr.k,this.pv=Gr.k,this._mdf=!1,this.elem=Yr,this.container=Zr,this.comp=Yr.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Yr,Gr,Wr,Zr){this.propType="multidimensional",this.mult=Wr||1,this.data=Gr,this._mdf=!1,this.elem=Yr,this.container=Zr,this.comp=Yr.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Kr,Jr=Gr.k.length;for(this.v=createTypedArray("float32",Jr),this.pv=createTypedArray("float32",Jr),this.vel=createTypedArray("float32",Jr),Kr=0;Kr<Jr;Kr+=1)this.v[Kr]=Gr.k[Kr]*this.mult,this.pv[Kr]=Gr.k[Kr];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Yr,Gr,Wr,Zr){this.propType="unidimensional",this.keyframes=Gr.k,this.keyframesMetadata=[],this.offsetTime=Yr.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Gr,this.mult=Wr||1,this.elem=Yr,this.container=Zr,this.comp=Yr.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Yr,Gr,Wr,Zr){this.propType="multidimensional";var Kr,Jr=Gr.k.length,Qr,ti,ei,ri;for(Kr=0;Kr<Jr-1;Kr+=1)Gr.k[Kr].to&&Gr.k[Kr].s&&Gr.k[Kr+1]&&Gr.k[Kr+1].s&&(Qr=Gr.k[Kr].s,ti=Gr.k[Kr+1].s,ei=Gr.k[Kr].to,ri=Gr.k[Kr].ti,(Qr.length===2&&!(Qr[0]===ti[0]&&Qr[1]===ti[1])&&bez.pointOnLine2D(Qr[0],Qr[1],ti[0],ti[1],Qr[0]+ei[0],Qr[1]+ei[1])&&bez.pointOnLine2D(Qr[0],Qr[1],ti[0],ti[1],ti[0]+ri[0],ti[1]+ri[1])||Qr.length===3&&!(Qr[0]===ti[0]&&Qr[1]===ti[1]&&Qr[2]===ti[2])&&bez.pointOnLine3D(Qr[0],Qr[1],Qr[2],ti[0],ti[1],ti[2],Qr[0]+ei[0],Qr[1]+ei[1],Qr[2]+ei[2])&&bez.pointOnLine3D(Qr[0],Qr[1],Qr[2],ti[0],ti[1],ti[2],ti[0]+ri[0],ti[1]+ri[1],ti[2]+ri[2]))&&(Gr.k[Kr].to=null,Gr.k[Kr].ti=null),Qr[0]===ti[0]&&Qr[1]===ti[1]&&ei[0]===0&&ei[1]===0&&ri[0]===0&&ri[1]===0&&(Qr.length===2||Qr[2]===ti[2]&&ei[2]===0&&ri[2]===0)&&(Gr.k[Kr].to=null,Gr.k[Kr].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=Gr,this.keyframes=Gr.k,this.keyframesMetadata=[],this.offsetTime=Yr.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Wr||1,this.elem=Yr,this.container=Zr,this.comp=Yr.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ii=Gr.k[0].s.length;for(this.v=createTypedArray("float32",ii),this.pv=createTypedArray("float32",ii),Kr=0;Kr<ii;Kr+=1)this.v[Kr]=initFrame,this.pv[Kr]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ii)},this.addEffect=addEffect}var PropertyFactory=function(){function Yr(Wr,Zr,Kr,Jr,Qr){Zr.sid&&(Zr=Wr.globalData.slotManager.getProp(Zr));var ti;if(!Zr.k.length)ti=new ValueProperty(Wr,Zr,Jr,Qr);else if(typeof Zr.k[0]=="number")ti=new MultiDimensionalProperty(Wr,Zr,Jr,Qr);else switch(Kr){case 0:ti=new KeyframedValueProperty(Wr,Zr,Jr,Qr);break;case 1:ti=new KeyframedMultidimensionalProperty(Wr,Zr,Jr,Qr);break;default:break}return ti.effectsSequence.length&&Qr.addDynamicProperty(ti),ti}var Gr={getProp:Yr};return Gr}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(Gr){this.dynamicProperties.indexOf(Gr)===-1&&(this.dynamicProperties.push(Gr),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var Gr,Wr=this.dynamicProperties.length;for(Gr=0;Gr<Wr;Gr+=1)this.dynamicProperties[Gr].getValue(),this.dynamicProperties[Gr]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(Gr){this.container=Gr,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function Yr(){return createTypedArray("float32",2)}return poolFactory(8,Yr)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Yr,Gr){this.c=Yr,this.setLength(Gr);for(var Wr=0;Wr<Gr;)this.v[Wr]=pointPool.newElement(),this.o[Wr]=pointPool.newElement(),this.i[Wr]=pointPool.newElement(),Wr+=1},ShapePath.prototype.setLength=function(Yr){for(;this._maxLength<Yr;)this.doubleArrayLength();this._length=Yr},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Yr,Gr,Wr,Zr,Kr){var Jr;switch(this._length=Math.max(this._length,Zr+1),this._length>=this._maxLength&&this.doubleArrayLength(),Wr){case"v":Jr=this.v;break;case"i":Jr=this.i;break;case"o":Jr=this.o;break;default:Jr=[];break}(!Jr[Zr]||Jr[Zr]&&!Kr)&&(Jr[Zr]=pointPool.newElement()),Jr[Zr][0]=Yr,Jr[Zr][1]=Gr},ShapePath.prototype.setTripleAt=function(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){this.setXYAt(Yr,Gr,"v",Qr,ti),this.setXYAt(Wr,Zr,"o",Qr,ti),this.setXYAt(Kr,Jr,"i",Qr,ti)},ShapePath.prototype.reverse=function(){var Yr=new ShapePath;Yr.setPathData(this.c,this._length);var Gr=this.v,Wr=this.o,Zr=this.i,Kr=0;this.c&&(Yr.setTripleAt(Gr[0][0],Gr[0][1],Zr[0][0],Zr[0][1],Wr[0][0],Wr[0][1],0,!1),Kr=1);var Jr=this._length-1,Qr=this._length,ti;for(ti=Kr;ti<Qr;ti+=1)Yr.setTripleAt(Gr[Jr][0],Gr[Jr][1],Zr[Jr][0],Zr[Jr][1],Wr[Jr][0],Wr[Jr][1],ti,!1),Jr-=1;return Yr},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function Yr(){return new ShapePath}function Gr(Kr){var Jr=Kr._length,Qr;for(Qr=0;Qr<Jr;Qr+=1)pointPool.release(Kr.v[Qr]),pointPool.release(Kr.i[Qr]),pointPool.release(Kr.o[Qr]),Kr.v[Qr]=null,Kr.i[Qr]=null,Kr.o[Qr]=null;Kr._length=0,Kr.c=!1}function Wr(Kr){var Jr=Zr.newElement(),Qr,ti=Kr._length===void 0?Kr.v.length:Kr._length;for(Jr.setLength(ti),Jr.c=Kr.c,Qr=0;Qr<ti;Qr+=1)Jr.setTripleAt(Kr.v[Qr][0],Kr.v[Qr][1],Kr.o[Qr][0],Kr.o[Qr][1],Kr.i[Qr][0],Kr.i[Qr][1],Qr);return Jr}var Zr=poolFactory(4,Yr,Gr);return Zr.clone=Wr,Zr}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Yr){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Yr,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Yr;for(Yr=0;Yr<this._length;Yr+=1)shapePool.release(this.shapes[Yr]);this._length=0};var shapeCollectionPool=function(){var Yr={newShapeCollection:Kr,release:Jr},Gr=0,Wr=4,Zr=createSizedArray(Wr);function Kr(){var Qr;return Gr?(Gr-=1,Qr=Zr[Gr]):Qr=new ShapeCollection,Qr}function Jr(Qr){var ti,ei=Qr._length;for(ti=0;ti<ei;ti+=1)shapePool.release(Qr.shapes[ti]);Qr._length=0,Gr===Wr&&(Zr=pooling.double(Zr),Wr*=2),Zr[Gr]=Qr,Gr+=1}return Yr}(),ShapePropertyFactory=function(){var Yr=-999999;function Gr(fi,hi,ci){var pi=ci.lastIndex,di,vi,mi,gi,yi,Si,bi,Ti,Ai,Ei=this.keyframes;if(fi<Ei[0].t-this.offsetTime)di=Ei[0].s[0],mi=!0,pi=0;else if(fi>=Ei[Ei.length-1].t-this.offsetTime)di=Ei[Ei.length-1].s?Ei[Ei.length-1].s[0]:Ei[Ei.length-2].e[0],mi=!0;else{for(var Mi=pi,wi=Ei.length-1,Pi=!0,xi,Ci,Li;Pi&&(xi=Ei[Mi],Ci=Ei[Mi+1],!(Ci.t-this.offsetTime>fi));)Mi<wi-1?Mi+=1:Pi=!1;if(Li=this.keyframesMetadata[Mi]||{},mi=xi.h===1,pi=Mi,!mi){if(fi>=Ci.t-this.offsetTime)Ti=1;else if(fi<xi.t-this.offsetTime)Ti=0;else{var Ii;Li.__fnct?Ii=Li.__fnct:(Ii=BezierFactory.getBezierEasing(xi.o.x,xi.o.y,xi.i.x,xi.i.y).get,Li.__fnct=Ii),Ti=Ii((fi-(xi.t-this.offsetTime))/(Ci.t-this.offsetTime-(xi.t-this.offsetTime)))}vi=Ci.s?Ci.s[0]:xi.e[0]}di=xi.s[0]}for(Si=hi._length,bi=di.i[0].length,ci.lastIndex=pi,gi=0;gi<Si;gi+=1)for(yi=0;yi<bi;yi+=1)Ai=mi?di.i[gi][yi]:di.i[gi][yi]+(vi.i[gi][yi]-di.i[gi][yi])*Ti,hi.i[gi][yi]=Ai,Ai=mi?di.o[gi][yi]:di.o[gi][yi]+(vi.o[gi][yi]-di.o[gi][yi])*Ti,hi.o[gi][yi]=Ai,Ai=mi?di.v[gi][yi]:di.v[gi][yi]+(vi.v[gi][yi]-di.v[gi][yi])*Ti,hi.v[gi][yi]=Ai}function Wr(){var fi=this.comp.renderedFrame-this.offsetTime,hi=this.keyframes[0].t-this.offsetTime,ci=this.keyframes[this.keyframes.length-1].t-this.offsetTime,pi=this._caching.lastFrame;return pi!==Yr&&(pi<hi&&fi<hi||pi>ci&&fi>ci)||(this._caching.lastIndex=pi<fi?this._caching.lastIndex:0,this.interpolateShape(fi,this.pv,this._caching)),this._caching.lastFrame=fi,this.pv}function Zr(){this.paths=this.localShapeCollection}function Kr(fi,hi){if(fi._length!==hi._length||fi.c!==hi.c)return!1;var ci,pi=fi._length;for(ci=0;ci<pi;ci+=1)if(fi.v[ci][0]!==hi.v[ci][0]||fi.v[ci][1]!==hi.v[ci][1]||fi.o[ci][0]!==hi.o[ci][0]||fi.o[ci][1]!==hi.o[ci][1]||fi.i[ci][0]!==hi.i[ci][0]||fi.i[ci][1]!==hi.i[ci][1])return!1;return!0}function Jr(fi){Kr(this.v,fi)||(this.v=shapePool.clone(fi),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Qr(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var fi;this.kf?fi=this.pv:this.data.ks?fi=this.data.ks.k:fi=this.data.pt.k;var hi,ci=this.effectsSequence.length;for(hi=0;hi<ci;hi+=1)fi=this.effectsSequence[hi](fi);this.setVValue(fi),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ti(fi,hi,ci){this.propType="shape",this.comp=fi.comp,this.container=fi,this.elem=fi,this.data=hi,this.k=!1,this.kf=!1,this._mdf=!1;var pi=ci===3?hi.pt.k:hi.ks.k;this.v=shapePool.clone(pi),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Zr,this.effectsSequence=[]}function ei(fi){this.effectsSequence.push(fi),this.container.addDynamicProperty(this)}ti.prototype.interpolateShape=Gr,ti.prototype.getValue=Qr,ti.prototype.setVValue=Jr,ti.prototype.addEffect=ei;function ri(fi,hi,ci){this.propType="shape",this.comp=fi.comp,this.elem=fi,this.container=fi,this.offsetTime=fi.data.st,this.keyframes=ci===3?hi.pt.k:hi.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var pi=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,pi),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Yr,this.reset=Zr,this._caching={lastFrame:Yr,lastIndex:0},this.effectsSequence=[Wr.bind(this)]}ri.prototype.getValue=Qr,ri.prototype.interpolateShape=Gr,ri.prototype.setVValue=Jr,ri.prototype.addEffect=ei;var ii=function(){var fi=roundCorner;function hi(ci,pi){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=pi.d,this.elem=ci,this.comp=ci.comp,this.frameId=-1,this.initDynamicPropertyContainer(ci),this.p=PropertyFactory.getProp(ci,pi.p,1,0,this),this.s=PropertyFactory.getProp(ci,pi.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return hi.prototype={reset:Zr,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var pi=this.p.v[0],di=this.p.v[1],vi=this.s.v[0]/2,mi=this.s.v[1]/2,gi=this.d!==3,yi=this.v;yi.v[0][0]=pi,yi.v[0][1]=di-mi,yi.v[1][0]=gi?pi+vi:pi-vi,yi.v[1][1]=di,yi.v[2][0]=pi,yi.v[2][1]=di+mi,yi.v[3][0]=gi?pi-vi:pi+vi,yi.v[3][1]=di,yi.i[0][0]=gi?pi-vi*fi:pi+vi*fi,yi.i[0][1]=di-mi,yi.i[1][0]=gi?pi+vi:pi-vi,yi.i[1][1]=di-mi*fi,yi.i[2][0]=gi?pi+vi*fi:pi-vi*fi,yi.i[2][1]=di+mi,yi.i[3][0]=gi?pi-vi:pi+vi,yi.i[3][1]=di+mi*fi,yi.o[0][0]=gi?pi+vi*fi:pi-vi*fi,yi.o[0][1]=di-mi,yi.o[1][0]=gi?pi+vi:pi-vi,yi.o[1][1]=di+mi*fi,yi.o[2][0]=gi?pi-vi*fi:pi+vi*fi,yi.o[2][1]=di+mi,yi.o[3][0]=gi?pi-vi:pi+vi,yi.o[3][1]=di-mi*fi}},extendPrototype([DynamicPropertyContainer],hi),hi}(),ni=function(){function fi(hi,ci){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=hi,this.comp=hi.comp,this.data=ci,this.frameId=-1,this.d=ci.d,this.initDynamicPropertyContainer(hi),ci.sy===1?(this.ir=PropertyFactory.getProp(hi,ci.ir,0,0,this),this.is=PropertyFactory.getProp(hi,ci.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(hi,ci.pt,0,0,this),this.p=PropertyFactory.getProp(hi,ci.p,1,0,this),this.r=PropertyFactory.getProp(hi,ci.r,0,degToRads,this),this.or=PropertyFactory.getProp(hi,ci.or,0,0,this),this.os=PropertyFactory.getProp(hi,ci.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return fi.prototype={reset:Zr,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ci=Math.floor(this.pt.v)*2,pi=Math.PI*2/ci,di=!0,vi=this.or.v,mi=this.ir.v,gi=this.os.v,yi=this.is.v,Si=2*Math.PI*vi/(ci*2),bi=2*Math.PI*mi/(ci*2),Ti,Ai,Ei,Mi,wi=-Math.PI/2;wi+=this.r.v;var Pi=this.data.d===3?-1:1;for(this.v._length=0,Ti=0;Ti<ci;Ti+=1){Ai=di?vi:mi,Ei=di?gi:yi,Mi=di?Si:bi;var xi=Ai*Math.cos(wi),Ci=Ai*Math.sin(wi),Li=xi===0&&Ci===0?0:Ci/Math.sqrt(xi*xi+Ci*Ci),Ii=xi===0&&Ci===0?0:-xi/Math.sqrt(xi*xi+Ci*Ci);xi+=+this.p.v[0],Ci+=+this.p.v[1],this.v.setTripleAt(xi,Ci,xi-Li*Mi*Ei*Pi,Ci-Ii*Mi*Ei*Pi,xi+Li*Mi*Ei*Pi,Ci+Ii*Mi*Ei*Pi,Ti,!0),di=!di,wi+=pi*Pi}},convertPolygonToPath:function(){var ci=Math.floor(this.pt.v),pi=Math.PI*2/ci,di=this.or.v,vi=this.os.v,mi=2*Math.PI*di/(ci*4),gi,yi=-Math.PI*.5,Si=this.data.d===3?-1:1;for(yi+=this.r.v,this.v._length=0,gi=0;gi<ci;gi+=1){var bi=di*Math.cos(yi),Ti=di*Math.sin(yi),Ai=bi===0&&Ti===0?0:Ti/Math.sqrt(bi*bi+Ti*Ti),Ei=bi===0&&Ti===0?0:-bi/Math.sqrt(bi*bi+Ti*Ti);bi+=+this.p.v[0],Ti+=+this.p.v[1],this.v.setTripleAt(bi,Ti,bi-Ai*mi*vi*Si,Ti-Ei*mi*vi*Si,bi+Ai*mi*vi*Si,Ti+Ei*mi*vi*Si,gi,!0),yi+=pi*Si}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],fi),fi}(),ai=function(){function fi(hi,ci){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=hi,this.comp=hi.comp,this.frameId=-1,this.d=ci.d,this.initDynamicPropertyContainer(hi),this.p=PropertyFactory.getProp(hi,ci.p,1,0,this),this.s=PropertyFactory.getProp(hi,ci.s,1,0,this),this.r=PropertyFactory.getProp(hi,ci.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return fi.prototype={convertRectToPath:function(){var ci=this.p.v[0],pi=this.p.v[1],di=this.s.v[0]/2,vi=this.s.v[1]/2,mi=bmMin(di,vi,this.r.v),gi=mi*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ci+di,pi-vi+mi,ci+di,pi-vi+mi,ci+di,pi-vi+gi,0,!0),this.v.setTripleAt(ci+di,pi+vi-mi,ci+di,pi+vi-gi,ci+di,pi+vi-mi,1,!0),mi!==0?(this.v.setTripleAt(ci+di-mi,pi+vi,ci+di-mi,pi+vi,ci+di-gi,pi+vi,2,!0),this.v.setTripleAt(ci-di+mi,pi+vi,ci-di+gi,pi+vi,ci-di+mi,pi+vi,3,!0),this.v.setTripleAt(ci-di,pi+vi-mi,ci-di,pi+vi-mi,ci-di,pi+vi-gi,4,!0),this.v.setTripleAt(ci-di,pi-vi+mi,ci-di,pi-vi+gi,ci-di,pi-vi+mi,5,!0),this.v.setTripleAt(ci-di+mi,pi-vi,ci-di+mi,pi-vi,ci-di+gi,pi-vi,6,!0),this.v.setTripleAt(ci+di-mi,pi-vi,ci+di-gi,pi-vi,ci+di-mi,pi-vi,7,!0)):(this.v.setTripleAt(ci-di,pi+vi,ci-di+gi,pi+vi,ci-di,pi+vi,2),this.v.setTripleAt(ci-di,pi-vi,ci-di,pi-vi+gi,ci-di,pi-vi,3))):(this.v.setTripleAt(ci+di,pi-vi+mi,ci+di,pi-vi+gi,ci+di,pi-vi+mi,0,!0),mi!==0?(this.v.setTripleAt(ci+di-mi,pi-vi,ci+di-mi,pi-vi,ci+di-gi,pi-vi,1,!0),this.v.setTripleAt(ci-di+mi,pi-vi,ci-di+gi,pi-vi,ci-di+mi,pi-vi,2,!0),this.v.setTripleAt(ci-di,pi-vi+mi,ci-di,pi-vi+mi,ci-di,pi-vi+gi,3,!0),this.v.setTripleAt(ci-di,pi+vi-mi,ci-di,pi+vi-gi,ci-di,pi+vi-mi,4,!0),this.v.setTripleAt(ci-di+mi,pi+vi,ci-di+mi,pi+vi,ci-di+gi,pi+vi,5,!0),this.v.setTripleAt(ci+di-mi,pi+vi,ci+di-gi,pi+vi,ci+di-mi,pi+vi,6,!0),this.v.setTripleAt(ci+di,pi+vi-mi,ci+di,pi+vi-mi,ci+di,pi+vi-gi,7,!0)):(this.v.setTripleAt(ci-di,pi-vi,ci-di+gi,pi-vi,ci-di,pi-vi,1,!0),this.v.setTripleAt(ci-di,pi+vi,ci-di,pi+vi-gi,ci-di,pi+vi,2,!0),this.v.setTripleAt(ci+di,pi+vi,ci+di-gi,pi+vi,ci+di,pi+vi,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Zr},extendPrototype([DynamicPropertyContainer],fi),fi}();function oi(fi,hi,ci){var pi;if(ci===3||ci===4){var di=ci===3?hi.pt:hi.ks,vi=di.k;vi.length?pi=new ri(fi,hi,ci):pi=new ti(fi,hi,ci)}else ci===5?pi=new ai(fi,hi):ci===6?pi=new ii(fi,hi):ci===7&&(pi=new ni(fi,hi));return pi.k&&fi.addDynamicProperty(pi),pi}function si(){return ti}function li(){return ri}var ui={};return ui.getShapeProp=oi,ui.getConstructorFunction=si,ui.getKeyframedConstructorFunction=li,ui}();var Matrix=function(){var Yr=Math.cos,Gr=Math.sin,Wr=Math.tan,Zr=Math.round;function Kr(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Jr(xi){if(xi===0)return this;var Ci=Yr(xi),Li=Gr(xi);return this._t(Ci,-Li,0,0,Li,Ci,0,0,0,0,1,0,0,0,0,1)}function Qr(xi){if(xi===0)return this;var Ci=Yr(xi),Li=Gr(xi);return this._t(1,0,0,0,0,Ci,-Li,0,0,Li,Ci,0,0,0,0,1)}function ti(xi){if(xi===0)return this;var Ci=Yr(xi),Li=Gr(xi);return this._t(Ci,0,Li,0,0,1,0,0,-Li,0,Ci,0,0,0,0,1)}function ei(xi){if(xi===0)return this;var Ci=Yr(xi),Li=Gr(xi);return this._t(Ci,-Li,0,0,Li,Ci,0,0,0,0,1,0,0,0,0,1)}function ri(xi,Ci){return this._t(1,Ci,xi,1,0,0)}function ii(xi,Ci){return this.shear(Wr(xi),Wr(Ci))}function ni(xi,Ci){var Li=Yr(Ci),Ii=Gr(Ci);return this._t(Li,Ii,0,0,-Ii,Li,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Wr(xi),1,0,0,0,0,1,0,0,0,0,1)._t(Li,-Ii,0,0,Ii,Li,0,0,0,0,1,0,0,0,0,1)}function ai(xi,Ci,Li){return!Li&&Li!==0&&(Li=1),xi===1&&Ci===1&&Li===1?this:this._t(xi,0,0,0,0,Ci,0,0,0,0,Li,0,0,0,0,1)}function oi(xi,Ci,Li,Ii,zi,Bi,Vi,ji,tn,hn,nn,dn,cn,Ji,vn,pn){return this.props[0]=xi,this.props[1]=Ci,this.props[2]=Li,this.props[3]=Ii,this.props[4]=zi,this.props[5]=Bi,this.props[6]=Vi,this.props[7]=ji,this.props[8]=tn,this.props[9]=hn,this.props[10]=nn,this.props[11]=dn,this.props[12]=cn,this.props[13]=Ji,this.props[14]=vn,this.props[15]=pn,this}function si(xi,Ci,Li){return Li=Li||0,xi!==0||Ci!==0||Li!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,xi,Ci,Li,1):this}function li(xi,Ci,Li,Ii,zi,Bi,Vi,ji,tn,hn,nn,dn,cn,Ji,vn,pn){var Xi=this.props;if(xi===1&&Ci===0&&Li===0&&Ii===0&&zi===0&&Bi===1&&Vi===0&&ji===0&&tn===0&&hn===0&&nn===1&&dn===0)return Xi[12]=Xi[12]*xi+Xi[15]*cn,Xi[13]=Xi[13]*Bi+Xi[15]*Ji,Xi[14]=Xi[14]*nn+Xi[15]*vn,Xi[15]*=pn,this._identityCalculated=!1,this;var Nn=Xi[0],Wn=Xi[1],Fn=Xi[2],Qn=Xi[3],$n=Xi[4],$a=Xi[5],xa=Xi[6],Ys=Xi[7],gs=Xi[8],Xs=Xi[9],Nu=Xi[10],qs=Xi[11],Zf=Xi[12],og=Xi[13],sg=Xi[14],lg=Xi[15];return Xi[0]=Nn*xi+Wn*zi+Fn*tn+Qn*cn,Xi[1]=Nn*Ci+Wn*Bi+Fn*hn+Qn*Ji,Xi[2]=Nn*Li+Wn*Vi+Fn*nn+Qn*vn,Xi[3]=Nn*Ii+Wn*ji+Fn*dn+Qn*pn,Xi[4]=$n*xi+$a*zi+xa*tn+Ys*cn,Xi[5]=$n*Ci+$a*Bi+xa*hn+Ys*Ji,Xi[6]=$n*Li+$a*Vi+xa*nn+Ys*vn,Xi[7]=$n*Ii+$a*ji+xa*dn+Ys*pn,Xi[8]=gs*xi+Xs*zi+Nu*tn+qs*cn,Xi[9]=gs*Ci+Xs*Bi+Nu*hn+qs*Ji,Xi[10]=gs*Li+Xs*Vi+Nu*nn+qs*vn,Xi[11]=gs*Ii+Xs*ji+Nu*dn+qs*pn,Xi[12]=Zf*xi+og*zi+sg*tn+lg*cn,Xi[13]=Zf*Ci+og*Bi+sg*hn+lg*Ji,Xi[14]=Zf*Li+og*Vi+sg*nn+lg*vn,Xi[15]=Zf*Ii+og*ji+sg*dn+lg*pn,this._identityCalculated=!1,this}function ui(xi){var Ci=xi.props;return this.transform(Ci[0],Ci[1],Ci[2],Ci[3],Ci[4],Ci[5],Ci[6],Ci[7],Ci[8],Ci[9],Ci[10],Ci[11],Ci[12],Ci[13],Ci[14],Ci[15])}function fi(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function hi(xi){for(var Ci=0;Ci<16;){if(xi.props[Ci]!==this.props[Ci])return!1;Ci+=1}return!0}function ci(xi){var Ci;for(Ci=0;Ci<16;Ci+=1)xi.props[Ci]=this.props[Ci];return xi}function pi(xi){var Ci;for(Ci=0;Ci<16;Ci+=1)this.props[Ci]=xi[Ci]}function di(xi,Ci,Li){return{x:xi*this.props[0]+Ci*this.props[4]+Li*this.props[8]+this.props[12],y:xi*this.props[1]+Ci*this.props[5]+Li*this.props[9]+this.props[13],z:xi*this.props[2]+Ci*this.props[6]+Li*this.props[10]+this.props[14]}}function vi(xi,Ci,Li){return xi*this.props[0]+Ci*this.props[4]+Li*this.props[8]+this.props[12]}function mi(xi,Ci,Li){return xi*this.props[1]+Ci*this.props[5]+Li*this.props[9]+this.props[13]}function gi(xi,Ci,Li){return xi*this.props[2]+Ci*this.props[6]+Li*this.props[10]+this.props[14]}function yi(){var xi=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ci=this.props[5]/xi,Li=-this.props[1]/xi,Ii=-this.props[4]/xi,zi=this.props[0]/xi,Bi=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/xi,Vi=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/xi,ji=new Matrix;return ji.props[0]=Ci,ji.props[1]=Li,ji.props[4]=Ii,ji.props[5]=zi,ji.props[12]=Bi,ji.props[13]=Vi,ji}function Si(xi){var Ci=this.getInverseMatrix();return Ci.applyToPointArray(xi[0],xi[1],xi[2]||0)}function bi(xi){var Ci,Li=xi.length,Ii=[];for(Ci=0;Ci<Li;Ci+=1)Ii[Ci]=Si(xi[Ci]);return Ii}function Ti(xi,Ci,Li){var Ii=createTypedArray("float32",6);if(this.isIdentity())Ii[0]=xi[0],Ii[1]=xi[1],Ii[2]=Ci[0],Ii[3]=Ci[1],Ii[4]=Li[0],Ii[5]=Li[1];else{var zi=this.props[0],Bi=this.props[1],Vi=this.props[4],ji=this.props[5],tn=this.props[12],hn=this.props[13];Ii[0]=xi[0]*zi+xi[1]*Vi+tn,Ii[1]=xi[0]*Bi+xi[1]*ji+hn,Ii[2]=Ci[0]*zi+Ci[1]*Vi+tn,Ii[3]=Ci[0]*Bi+Ci[1]*ji+hn,Ii[4]=Li[0]*zi+Li[1]*Vi+tn,Ii[5]=Li[0]*Bi+Li[1]*ji+hn}return Ii}function Ai(xi,Ci,Li){var Ii;return this.isIdentity()?Ii=[xi,Ci,Li]:Ii=[xi*this.props[0]+Ci*this.props[4]+Li*this.props[8]+this.props[12],xi*this.props[1]+Ci*this.props[5]+Li*this.props[9]+this.props[13],xi*this.props[2]+Ci*this.props[6]+Li*this.props[10]+this.props[14]],Ii}function Ei(xi,Ci){if(this.isIdentity())return xi+","+Ci;var Li=this.props;return Math.round((xi*Li[0]+Ci*Li[4]+Li[12])*100)/100+","+Math.round((xi*Li[1]+Ci*Li[5]+Li[13])*100)/100}function Mi(){for(var xi=0,Ci=this.props,Li="matrix3d(",Ii=1e4;xi<16;)Li+=Zr(Ci[xi]*Ii)/Ii,Li+=xi===15?")":",",xi+=1;return Li}function wi(xi){var Ci=1e4;return xi<1e-6&&xi>0||xi>-1e-6&&xi<0?Zr(xi*Ci)/Ci:xi}function Pi(){var xi=this.props,Ci=wi(xi[0]),Li=wi(xi[1]),Ii=wi(xi[4]),zi=wi(xi[5]),Bi=wi(xi[12]),Vi=wi(xi[13]);return"matrix("+Ci+","+Li+","+Ii+","+zi+","+Bi+","+Vi+")"}return function(){this.reset=Kr,this.rotate=Jr,this.rotateX=Qr,this.rotateY=ti,this.rotateZ=ei,this.skew=ii,this.skewFromAxis=ni,this.shear=ri,this.scale=ai,this.setTransform=oi,this.translate=si,this.transform=li,this.multiply=ui,this.applyToPoint=di,this.applyToX=vi,this.applyToY=mi,this.applyToZ=gi,this.applyToPointArray=Ai,this.applyToTriplePoints=Ti,this.applyToPointStringified=Ei,this.toCSS=Mi,this.to2dCSS=Pi,this.clone=ci,this.cloneFromProps=pi,this.equals=hi,this.inversePoints=bi,this.inversePoint=Si,this.getInverseMatrix=yi,this._t=this.transform,this.isIdentity=fi,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(Wr){return typeof Wr}:_typeof$3=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof$3(Yr)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(Yr){setLocationHref(Yr)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(Yr){setSubframeEnabled(Yr)}function setPrefix(Yr){setIdPrefix(Yr)}function loadAnimation(Yr){return standalone===!0&&(Yr.animationData=JSON.parse(animationData)),animationManager.loadAnimation(Yr)}function setQuality(Yr){if(typeof Yr=="string")switch(Yr){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Yr)&&Yr>1&&setDefaultCurveSegments(Yr);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Yr,Gr){Yr==="expressions"&&setExpressionsPlugin(Gr)}function getFactory(Yr){switch(Yr){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Yr){for(var Gr=queryString.split("&"),Wr=0;Wr<Gr.length;Wr+=1){var Zr=Gr[Wr].split("=");if(decodeURIComponent(Zr[0])==Yr)return decodeURIComponent(Zr[1])}return null}var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{!((typeof exports>"u"?"undefined":_typeof$3(exports))==="object"&&typeof module<"u")&&!(typeof define=="function"&&define.amd)&&(window.bodymovin=lottie)}catch(Yr){}var ShapeModifiers=function(){var Yr={},Gr={};Yr.registerModifier=Wr,Yr.getModifier=Zr;function Wr(Kr,Jr){Gr[Kr]||(Gr[Kr]=Jr)}function Zr(Kr,Jr,Qr){return new Gr[Kr](Jr,Qr)}return Yr}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Yr){if(!this.closed){Yr.sh.container.addDynamicProperty(Yr.sh);var Gr={shape:Yr.sh,data:Yr,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(Gr),this.addShapeToModifier(Gr),this._isAnimated&&Yr.setAsAnimated()}},ShapeModifier.prototype.init=function(Yr,Gr){this.shapes=[],this.elem=Yr,this.initDynamicPropertyContainer(Yr),this.initModifierProperties(Yr,Gr),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Yr,Gr){this.s=PropertyFactory.getProp(Yr,Gr.s,0,.01,this),this.e=PropertyFactory.getProp(Yr,Gr.e,0,.01,this),this.o=PropertyFactory.getProp(Yr,Gr.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=Gr.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Yr){Yr.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Yr,Gr,Wr,Zr,Kr){var Jr=[];Gr<=1?Jr.push({s:Yr,e:Gr}):Yr>=1?Jr.push({s:Yr-1,e:Gr-1}):(Jr.push({s:Yr,e:1}),Jr.push({s:0,e:Gr-1}));var Qr=[],ti,ei=Jr.length,ri;for(ti=0;ti<ei;ti+=1)if(ri=Jr[ti],!(ri.e*Kr<Zr||ri.s*Kr>Zr+Wr)){var ii,ni;ri.s*Kr<=Zr?ii=0:ii=(ri.s*Kr-Zr)/Wr,ri.e*Kr>=Zr+Wr?ni=1:ni=(ri.e*Kr-Zr)/Wr,Qr.push([ii,ni])}return Qr.length||Qr.push([0,0]),Qr},TrimModifier.prototype.releasePathsData=function(Yr){var Gr,Wr=Yr.length;for(Gr=0;Gr<Wr;Gr+=1)segmentsLengthPool.release(Yr[Gr]);return Yr.length=0,Yr},TrimModifier.prototype.processShapes=function(Yr){var Gr,Wr;if(this._mdf||Yr){var Zr=this.o.v%360/360;if(Zr<0&&(Zr+=1),this.s.v>1?Gr=1+Zr:this.s.v<0?Gr=0+Zr:Gr=this.s.v+Zr,this.e.v>1?Wr=1+Zr:this.e.v<0?Wr=0+Zr:Wr=this.e.v+Zr,Gr>Wr){var Kr=Gr;Gr=Wr,Wr=Kr}Gr=Math.round(Gr*1e4)*1e-4,Wr=Math.round(Wr*1e4)*1e-4,this.sValue=Gr,this.eValue=Wr}else Gr=this.sValue,Wr=this.eValue;var Jr,Qr,ti=this.shapes.length,ei,ri,ii,ni,ai,oi=0;if(Wr===Gr)for(Qr=0;Qr<ti;Qr+=1)this.shapes[Qr].localShapeCollection.releaseShapes(),this.shapes[Qr].shape._mdf=!0,this.shapes[Qr].shape.paths=this.shapes[Qr].localShapeCollection,this._mdf&&(this.shapes[Qr].pathsData.length=0);else if(Wr===1&&Gr===0||Wr===0&&Gr===1){if(this._mdf)for(Qr=0;Qr<ti;Qr+=1)this.shapes[Qr].pathsData.length=0,this.shapes[Qr].shape._mdf=!0}else{var si=[],li,ui;for(Qr=0;Qr<ti;Qr+=1)if(li=this.shapes[Qr],!li.shape._mdf&&!this._mdf&&!Yr&&this.m!==2)li.shape.paths=li.localShapeCollection;else{if(Jr=li.shape.paths,ri=Jr._length,ai=0,!li.shape._mdf&&li.pathsData.length)ai=li.totalShapeLength;else{for(ii=this.releasePathsData(li.pathsData),ei=0;ei<ri;ei+=1)ni=bez.getSegmentsLength(Jr.shapes[ei]),ii.push(ni),ai+=ni.totalLength;li.totalShapeLength=ai,li.pathsData=ii}oi+=ai,li.shape._mdf=!0}var fi=Gr,hi=Wr,ci=0,pi;for(Qr=ti-1;Qr>=0;Qr-=1)if(li=this.shapes[Qr],li.shape._mdf){for(ui=li.localShapeCollection,ui.releaseShapes(),this.m===2&&ti>1?(pi=this.calculateShapeEdges(Gr,Wr,li.totalShapeLength,ci,oi),ci+=li.totalShapeLength):pi=[[fi,hi]],ri=pi.length,ei=0;ei<ri;ei+=1){fi=pi[ei][0],hi=pi[ei][1],si.length=0,hi<=1?si.push({s:li.totalShapeLength*fi,e:li.totalShapeLength*hi}):fi>=1?si.push({s:li.totalShapeLength*(fi-1),e:li.totalShapeLength*(hi-1)}):(si.push({s:li.totalShapeLength*fi,e:li.totalShapeLength}),si.push({s:0,e:li.totalShapeLength*(hi-1)}));var di=this.addShapes(li,si[0]);if(si[0].s!==si[0].e){if(si.length>1){var vi=li.shape.paths.shapes[li.shape.paths._length-1];if(vi.c){var mi=di.pop();this.addPaths(di,ui),di=this.addShapes(li,si[1],mi)}else this.addPaths(di,ui),di=this.addShapes(li,si[1])}this.addPaths(di,ui)}}li.shape.paths=ui}}},TrimModifier.prototype.addPaths=function(Yr,Gr){var Wr,Zr=Yr.length;for(Wr=0;Wr<Zr;Wr+=1)Gr.addShape(Yr[Wr])},TrimModifier.prototype.addSegment=function(Yr,Gr,Wr,Zr,Kr,Jr,Qr){Kr.setXYAt(Gr[0],Gr[1],"o",Jr),Kr.setXYAt(Wr[0],Wr[1],"i",Jr+1),Qr&&Kr.setXYAt(Yr[0],Yr[1],"v",Jr),Kr.setXYAt(Zr[0],Zr[1],"v",Jr+1)},TrimModifier.prototype.addSegmentFromArray=function(Yr,Gr,Wr,Zr){Gr.setXYAt(Yr[1],Yr[5],"o",Wr),Gr.setXYAt(Yr[2],Yr[6],"i",Wr+1),Zr&&Gr.setXYAt(Yr[0],Yr[4],"v",Wr),Gr.setXYAt(Yr[3],Yr[7],"v",Wr+1)},TrimModifier.prototype.addShapes=function(Yr,Gr,Wr){var Zr=Yr.pathsData,Kr=Yr.shape.paths.shapes,Jr,Qr=Yr.shape.paths._length,ti,ei,ri=0,ii,ni,ai,oi,si=[],li,ui=!0;for(Wr?(ni=Wr._length,li=Wr._length):(Wr=shapePool.newElement(),ni=0,li=0),si.push(Wr),Jr=0;Jr<Qr;Jr+=1){for(ai=Zr[Jr].lengths,Wr.c=Kr[Jr].c,ei=Kr[Jr].c?ai.length:ai.length+1,ti=1;ti<ei;ti+=1)if(ii=ai[ti-1],ri+ii.addedLength<Gr.s)ri+=ii.addedLength,Wr.c=!1;else if(ri>Gr.e){Wr.c=!1;break}else Gr.s<=ri&&Gr.e>=ri+ii.addedLength?(this.addSegment(Kr[Jr].v[ti-1],Kr[Jr].o[ti-1],Kr[Jr].i[ti],Kr[Jr].v[ti],Wr,ni,ui),ui=!1):(oi=bez.getNewSegment(Kr[Jr].v[ti-1],Kr[Jr].v[ti],Kr[Jr].o[ti-1],Kr[Jr].i[ti],(Gr.s-ri)/ii.addedLength,(Gr.e-ri)/ii.addedLength,ai[ti-1]),this.addSegmentFromArray(oi,Wr,ni,ui),ui=!1,Wr.c=!1),ri+=ii.addedLength,ni+=1;if(Kr[Jr].c&&ai.length){if(ii=ai[ti-1],ri<=Gr.e){var fi=ai[ti-1].addedLength;Gr.s<=ri&&Gr.e>=ri+fi?(this.addSegment(Kr[Jr].v[ti-1],Kr[Jr].o[ti-1],Kr[Jr].i[0],Kr[Jr].v[0],Wr,ni,ui),ui=!1):(oi=bez.getNewSegment(Kr[Jr].v[ti-1],Kr[Jr].v[0],Kr[Jr].o[ti-1],Kr[Jr].i[0],(Gr.s-ri)/fi,(Gr.e-ri)/fi,ai[ti-1]),this.addSegmentFromArray(oi,Wr,ni,ui),ui=!1,Wr.c=!1)}else Wr.c=!1;ri+=ii.addedLength,ni+=1}if(Wr._length&&(Wr.setXYAt(Wr.v[li][0],Wr.v[li][1],"i",li),Wr.setXYAt(Wr.v[Wr._length-1][0],Wr.v[Wr._length-1][1],"o",Wr._length-1)),ri>Gr.e)break;Jr<Qr-1&&(Wr=shapePool.newElement(),ui=!0,si.push(Wr),ni=0)}return si};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Yr,Gr){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Yr,Gr.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Yr,Gr){var Wr=Gr/100,Zr=[0,0],Kr=Yr._length,Jr=0;for(Jr=0;Jr<Kr;Jr+=1)Zr[0]+=Yr.v[Jr][0],Zr[1]+=Yr.v[Jr][1];Zr[0]/=Kr,Zr[1]/=Kr;var Qr=shapePool.newElement();Qr.c=Yr.c;var ti,ei,ri,ii,ni,ai;for(Jr=0;Jr<Kr;Jr+=1)ti=Yr.v[Jr][0]+(Zr[0]-Yr.v[Jr][0])*Wr,ei=Yr.v[Jr][1]+(Zr[1]-Yr.v[Jr][1])*Wr,ri=Yr.o[Jr][0]+(Zr[0]-Yr.o[Jr][0])*-Wr,ii=Yr.o[Jr][1]+(Zr[1]-Yr.o[Jr][1])*-Wr,ni=Yr.i[Jr][0]+(Zr[0]-Yr.i[Jr][0])*-Wr,ai=Yr.i[Jr][1]+(Zr[1]-Yr.i[Jr][1])*-Wr,Qr.setTripleAt(ti,ei,ri,ii,ni,ai,Jr);return Qr},PuckerAndBloatModifier.prototype.processShapes=function(Yr){var Gr,Wr,Zr=this.shapes.length,Kr,Jr,Qr=this.amount.v;if(Qr!==0){var ti,ei;for(Wr=0;Wr<Zr;Wr+=1){if(ti=this.shapes[Wr],ei=ti.localShapeCollection,!(!ti.shape._mdf&&!this._mdf&&!Yr))for(ei.releaseShapes(),ti.shape._mdf=!0,Gr=ti.shape.paths.shapes,Jr=ti.shape.paths._length,Kr=0;Kr<Jr;Kr+=1)ei.addShape(this.processPath(Gr[Kr],Qr));ti.shape.paths=ti.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var Yr=[0,0];function Gr(ei){var ri=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ri,this.a&&ei.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&ei.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&ei.skewFromAxis(-this.sk.v,this.sa.v),this.r?ei.rotate(-this.r.v):ei.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?ei.translate(this.px.v,this.py.v,-this.pz.v):ei.translate(this.px.v,this.py.v,0):ei.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function Wr(ei){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||ei){var ri;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ii,ni;if(ri=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ii=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ri,0),ni=this.p.getValueAtTime(this.p.keyframes[0].t/ri,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ii=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ri,0),ni=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ri,0)):(ii=this.p.pv,ni=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ri,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ii=[],ni=[];var ai=this.px,oi=this.py;ai._caching.lastFrame+ai.offsetTime<=ai.keyframes[0].t?(ii[0]=ai.getValueAtTime((ai.keyframes[0].t+.01)/ri,0),ii[1]=oi.getValueAtTime((oi.keyframes[0].t+.01)/ri,0),ni[0]=ai.getValueAtTime(ai.keyframes[0].t/ri,0),ni[1]=oi.getValueAtTime(oi.keyframes[0].t/ri,0)):ai._caching.lastFrame+ai.offsetTime>=ai.keyframes[ai.keyframes.length-1].t?(ii[0]=ai.getValueAtTime(ai.keyframes[ai.keyframes.length-1].t/ri,0),ii[1]=oi.getValueAtTime(oi.keyframes[oi.keyframes.length-1].t/ri,0),ni[0]=ai.getValueAtTime((ai.keyframes[ai.keyframes.length-1].t-.01)/ri,0),ni[1]=oi.getValueAtTime((oi.keyframes[oi.keyframes.length-1].t-.01)/ri,0)):(ii=[ai.pv,oi.pv],ni[0]=ai.getValueAtTime((ai._caching.lastFrame+ai.offsetTime-.01)/ri,ai.offsetTime),ni[1]=oi.getValueAtTime((oi._caching.lastFrame+oi.offsetTime-.01)/ri,oi.offsetTime))}else ni=Yr,ii=ni;this.v.rotate(-Math.atan2(ii[1]-ni[1],ii[0]-ni[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Zr(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Kr(){}function Jr(ei){this._addDynamicProperty(ei),this.elem.addDynamicProperty(ei),this._isDirty=!0}function Qr(ei,ri,ii){if(this.elem=ei,this.frameId=-1,this.propType="transform",this.data=ri,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ii||ei),ri.p&&ri.p.s?(this.px=PropertyFactory.getProp(ei,ri.p.x,0,0,this),this.py=PropertyFactory.getProp(ei,ri.p.y,0,0,this),ri.p.z&&(this.pz=PropertyFactory.getProp(ei,ri.p.z,0,0,this))):this.p=PropertyFactory.getProp(ei,ri.p||{k:[0,0,0]},1,0,this),ri.rx){if(this.rx=PropertyFactory.getProp(ei,ri.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(ei,ri.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(ei,ri.rz,0,degToRads,this),ri.or.k[0].ti){var ni,ai=ri.or.k.length;for(ni=0;ni<ai;ni+=1)ri.or.k[ni].to=null,ri.or.k[ni].ti=null}this.or=PropertyFactory.getProp(ei,ri.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(ei,ri.r||{k:0},0,degToRads,this);ri.sk&&(this.sk=PropertyFactory.getProp(ei,ri.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(ei,ri.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(ei,ri.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(ei,ri.s||{k:[100,100,100]},1,.01,this),ri.o?this.o=PropertyFactory.getProp(ei,ri.o,0,.01,ei):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Qr.prototype={applyToMatrix:Gr,getValue:Wr,precalculateMatrix:Zr,autoOrient:Kr},extendPrototype([DynamicPropertyContainer],Qr),Qr.prototype.addDynamicProperty=Jr,Qr.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ti(ei,ri,ii){return new Qr(ei,ri,ii)}return{getTransformProperty:ti}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Yr,Gr){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Yr,Gr.c,0,null,this),this.o=PropertyFactory.getProp(Yr,Gr.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Yr,Gr.tr,this),this.so=PropertyFactory.getProp(Yr,Gr.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Yr,Gr.tr.eo,0,.01,this),this.data=Gr,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Jr?-1:1,ti=Zr.s.v[0]+(1-Zr.s.v[0])*(1-Kr),ei=Zr.s.v[1]+(1-Zr.s.v[1])*(1-Kr);Yr.translate(Zr.p.v[0]*Qr*Kr,Zr.p.v[1]*Qr*Kr,Zr.p.v[2]),Gr.translate(-Zr.a.v[0],-Zr.a.v[1],Zr.a.v[2]),Gr.rotate(-Zr.r.v*Qr*Kr),Gr.translate(Zr.a.v[0],Zr.a.v[1],Zr.a.v[2]),Wr.translate(-Zr.a.v[0],-Zr.a.v[1],Zr.a.v[2]),Wr.scale(Jr?1/ti:ti,Jr?1/ei:ei),Wr.translate(Zr.a.v[0],Zr.a.v[1],Zr.a.v[2])},RepeaterModifier.prototype.init=function(Yr,Gr,Wr,Zr){for(this.elem=Yr,this.arr=Gr,this.pos=Wr,this.elemsData=Zr,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Yr),this.initModifierProperties(Yr,Gr[Wr]);Wr>0;)Wr-=1,this._elements.unshift(Gr[Wr]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Yr){var Gr,Wr=Yr.length;for(Gr=0;Gr<Wr;Gr+=1)Yr[Gr]._processed=!1,Yr[Gr].ty==="gr"&&this.resetElements(Yr[Gr].it)},RepeaterModifier.prototype.cloneElements=function(Yr){var Gr=JSON.parse(JSON.stringify(Yr));return this.resetElements(Gr),Gr},RepeaterModifier.prototype.changeGroupRender=function(Yr,Gr){var Wr,Zr=Yr.length;for(Wr=0;Wr<Zr;Wr+=1)Yr[Wr]._render=Gr,Yr[Wr].ty==="gr"&&this.changeGroupRender(Yr[Wr].it,Gr)},RepeaterModifier.prototype.processShapes=function(Yr){var Gr,Wr,Zr,Kr,Jr,Qr=!1;if(this._mdf||Yr){var ti=Math.ceil(this.c.v);if(this._groups.length<ti){for(;this._groups.length<ti;){var ei={it:this.cloneElements(this._elements),ty:"gr"};ei.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,ei),this._groups.splice(0,0,ei),this._currentCopies+=1}this.elem.reloadShapes(),Qr=!0}Jr=0;var ri;for(Zr=0;Zr<=this._groups.length-1;Zr+=1){if(ri=Jr<ti,this._groups[Zr]._render=ri,this.changeGroupRender(this._groups[Zr].it,ri),!ri){var ii=this.elemsData[Zr].it,ni=ii[ii.length-1];ni.transform.op.v!==0?(ni.transform.op._mdf=!0,ni.transform.op.v=0):ni.transform.op._mdf=!1}Jr+=1}this._currentCopies=ti;var ai=this.o.v,oi=ai%1,si=ai>0?Math.floor(ai):Math.ceil(ai),li=this.pMatrix.props,ui=this.rMatrix.props,fi=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var hi=0;if(ai>0){for(;hi<si;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),hi+=1;oi&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,oi,!1),hi+=oi)}else if(ai<0){for(;hi>si;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),hi-=1;oi&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-oi,!0),hi-=oi)}Zr=this.data.m===1?0:this._currentCopies-1,Kr=this.data.m===1?1:-1,Jr=this._currentCopies;for(var ci,pi;Jr;){if(Gr=this.elemsData[Zr].it,Wr=Gr[Gr.length-1].transform.mProps.v.props,pi=Wr.length,Gr[Gr.length-1].transform.mProps._mdf=!0,Gr[Gr.length-1].transform.op._mdf=!0,Gr[Gr.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Zr/(this._currentCopies-1)),hi!==0){for((Zr!==0&&Kr===1||Zr!==this._currentCopies-1&&Kr===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ui[0],ui[1],ui[2],ui[3],ui[4],ui[5],ui[6],ui[7],ui[8],ui[9],ui[10],ui[11],ui[12],ui[13],ui[14],ui[15]),this.matrix.transform(fi[0],fi[1],fi[2],fi[3],fi[4],fi[5],fi[6],fi[7],fi[8],fi[9],fi[10],fi[11],fi[12],fi[13],fi[14],fi[15]),this.matrix.transform(li[0],li[1],li[2],li[3],li[4],li[5],li[6],li[7],li[8],li[9],li[10],li[11],li[12],li[13],li[14],li[15]),ci=0;ci<pi;ci+=1)Wr[ci]=this.matrix.props[ci];this.matrix.reset()}else for(this.matrix.reset(),ci=0;ci<pi;ci+=1)Wr[ci]=this.matrix.props[ci];hi+=1,Jr-=1,Zr+=Kr}}else for(Jr=this._currentCopies,Zr=0,Kr=1;Jr;)Gr=this.elemsData[Zr].it,Wr=Gr[Gr.length-1].transform.mProps.v.props,Gr[Gr.length-1].transform.mProps._mdf=!1,Gr[Gr.length-1].transform.op._mdf=!1,Jr-=1,Zr+=Kr;return Qr},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Yr,Gr){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Yr,Gr.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Yr,Gr){var Wr=shapePool.newElement();Wr.c=Yr.c;var Zr,Kr=Yr._length,Jr,Qr,ti,ei,ri,ii,ni=0,ai,oi,si,li,ui,fi;for(Zr=0;Zr<Kr;Zr+=1)Jr=Yr.v[Zr],ti=Yr.o[Zr],Qr=Yr.i[Zr],Jr[0]===ti[0]&&Jr[1]===ti[1]&&Jr[0]===Qr[0]&&Jr[1]===Qr[1]?(Zr===0||Zr===Kr-1)&&!Yr.c?(Wr.setTripleAt(Jr[0],Jr[1],ti[0],ti[1],Qr[0],Qr[1],ni),ni+=1):(Zr===0?ei=Yr.v[Kr-1]:ei=Yr.v[Zr-1],ri=Math.sqrt(Math.pow(Jr[0]-ei[0],2)+Math.pow(Jr[1]-ei[1],2)),ii=ri?Math.min(ri/2,Gr)/ri:0,ui=Jr[0]+(ei[0]-Jr[0])*ii,ai=ui,fi=Jr[1]-(Jr[1]-ei[1])*ii,oi=fi,si=ai-(ai-Jr[0])*roundCorner,li=oi-(oi-Jr[1])*roundCorner,Wr.setTripleAt(ai,oi,si,li,ui,fi,ni),ni+=1,Zr===Kr-1?ei=Yr.v[0]:ei=Yr.v[Zr+1],ri=Math.sqrt(Math.pow(Jr[0]-ei[0],2)+Math.pow(Jr[1]-ei[1],2)),ii=ri?Math.min(ri/2,Gr)/ri:0,si=Jr[0]+(ei[0]-Jr[0])*ii,ai=si,li=Jr[1]+(ei[1]-Jr[1])*ii,oi=li,ui=ai-(ai-Jr[0])*roundCorner,fi=oi-(oi-Jr[1])*roundCorner,Wr.setTripleAt(ai,oi,si,li,ui,fi,ni),ni+=1):(Wr.setTripleAt(Yr.v[Zr][0],Yr.v[Zr][1],Yr.o[Zr][0],Yr.o[Zr][1],Yr.i[Zr][0],Yr.i[Zr][1],ni),ni+=1);return Wr},RoundCornersModifier.prototype.processShapes=function(Yr){var Gr,Wr,Zr=this.shapes.length,Kr,Jr,Qr=this.rd.v;if(Qr!==0){var ti,ei;for(Wr=0;Wr<Zr;Wr+=1){if(ti=this.shapes[Wr],ei=ti.localShapeCollection,!(!ti.shape._mdf&&!this._mdf&&!Yr))for(ei.releaseShapes(),ti.shape._mdf=!0,Gr=ti.shape.paths.shapes,Jr=ti.shape.paths._length,Kr=0;Kr<Jr;Kr+=1)ei.addShape(this.processPath(Gr[Kr],Qr));ti.shape.paths=ti.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Yr,Gr){return Math.abs(Yr-Gr)*1e5<=Math.min(Math.abs(Yr),Math.abs(Gr))}function floatZero(Yr){return Math.abs(Yr)<=1e-5}function lerp(Yr,Gr,Wr){return Yr*(1-Wr)+Gr*Wr}function lerpPoint(Yr,Gr,Wr){return[lerp(Yr[0],Gr[0],Wr),lerp(Yr[1],Gr[1],Wr)]}function quadRoots(Yr,Gr,Wr){if(Yr===0)return[];var Zr=Gr*Gr-4*Yr*Wr;if(Zr<0)return[];var Kr=-Gr/(2*Yr);if(Zr===0)return[Kr];var Jr=Math.sqrt(Zr)/(2*Yr);return[Kr-Jr,Kr+Jr]}function polynomialCoefficients(Yr,Gr,Wr,Zr){return[-Yr+3*Gr-3*Wr+Zr,3*Yr-6*Gr+3*Wr,-3*Yr+3*Gr,Yr]}function singlePoint(Yr){return new PolynomialBezier(Yr,Yr,Yr,Yr,!1)}function PolynomialBezier(Yr,Gr,Wr,Zr,Kr){Kr&&pointEqual(Yr,Gr)&&(Gr=lerpPoint(Yr,Zr,1/3)),Kr&&pointEqual(Wr,Zr)&&(Wr=lerpPoint(Yr,Zr,2/3));var Jr=polynomialCoefficients(Yr[0],Gr[0],Wr[0],Zr[0]),Qr=polynomialCoefficients(Yr[1],Gr[1],Wr[1],Zr[1]);this.a=[Jr[0],Qr[0]],this.b=[Jr[1],Qr[1]],this.c=[Jr[2],Qr[2]],this.d=[Jr[3],Qr[3]],this.points=[Yr,Gr,Wr,Zr]}PolynomialBezier.prototype.point=function(Yr){return[((this.a[0]*Yr+this.b[0])*Yr+this.c[0])*Yr+this.d[0],((this.a[1]*Yr+this.b[1])*Yr+this.c[1])*Yr+this.d[1]]},PolynomialBezier.prototype.derivative=function(Yr){return[(3*Yr*this.a[0]+2*this.b[0])*Yr+this.c[0],(3*Yr*this.a[1]+2*this.b[1])*Yr+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Yr){var Gr=this.derivative(Yr);return Math.atan2(Gr[1],Gr[0])},PolynomialBezier.prototype.normalAngle=function(Yr){var Gr=this.derivative(Yr);return Math.atan2(Gr[0],Gr[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Yr=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Yr))return[];var Gr=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Yr,Wr=Gr*Gr-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Yr;if(Wr<0)return[];var Zr=Math.sqrt(Wr);return floatZero(Zr)?Zr>0&&Zr<1?[Gr]:[]:[Gr-Zr,Gr+Zr].filter(function(Kr){return Kr>0&&Kr<1})},PolynomialBezier.prototype.split=function(Yr){if(Yr<=0)return[singlePoint(this.points[0]),this];if(Yr>=1)return[this,singlePoint(this.points[this.points.length-1])];var Gr=lerpPoint(this.points[0],this.points[1],Yr),Wr=lerpPoint(this.points[1],this.points[2],Yr),Zr=lerpPoint(this.points[2],this.points[3],Yr),Kr=lerpPoint(Gr,Wr,Yr),Jr=lerpPoint(Wr,Zr,Yr),Qr=lerpPoint(Kr,Jr,Yr);return[new PolynomialBezier(this.points[0],Gr,Kr,Qr,!0),new PolynomialBezier(Qr,Jr,Zr,this.points[3],!0)]};function extrema(Yr,Gr){var Wr=Yr.points[0][Gr],Zr=Yr.points[Yr.points.length-1][Gr];if(Wr>Zr){var Kr=Zr;Zr=Wr,Wr=Kr}for(var Jr=quadRoots(3*Yr.a[Gr],2*Yr.b[Gr],Yr.c[Gr]),Qr=0;Qr<Jr.length;Qr+=1)if(Jr[Qr]>0&&Jr[Qr]<1){var ti=Yr.point(Jr[Qr])[Gr];ti<Wr?Wr=ti:ti>Zr&&(Zr=ti)}return{min:Wr,max:Zr}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Yr=this.bounds();return{left:Yr.x.min,right:Yr.x.max,top:Yr.y.min,bottom:Yr.y.max,width:Yr.x.max-Yr.x.min,height:Yr.y.max-Yr.y.min,cx:(Yr.x.max+Yr.x.min)/2,cy:(Yr.y.max+Yr.y.min)/2}};function intersectData(Yr,Gr,Wr){var Zr=Yr.boundingBox();return{cx:Zr.cx,cy:Zr.cy,width:Zr.width,height:Zr.height,bez:Yr,t:(Gr+Wr)/2,t1:Gr,t2:Wr}}function splitData(Yr){var Gr=Yr.bez.split(.5);return[intersectData(Gr[0],Yr.t1,Yr.t),intersectData(Gr[1],Yr.t,Yr.t2)]}function boxIntersect(Yr,Gr){return Math.abs(Yr.cx-Gr.cx)*2<Yr.width+Gr.width&&Math.abs(Yr.cy-Gr.cy)*2<Yr.height+Gr.height}function intersectsImpl(Yr,Gr,Wr,Zr,Kr,Jr){if(boxIntersect(Yr,Gr)){if(Wr>=Jr||Yr.width<=Zr&&Yr.height<=Zr&&Gr.width<=Zr&&Gr.height<=Zr){Kr.push([Yr.t,Gr.t]);return}var Qr=splitData(Yr),ti=splitData(Gr);intersectsImpl(Qr[0],ti[0],Wr+1,Zr,Kr,Jr),intersectsImpl(Qr[0],ti[1],Wr+1,Zr,Kr,Jr),intersectsImpl(Qr[1],ti[0],Wr+1,Zr,Kr,Jr),intersectsImpl(Qr[1],ti[1],Wr+1,Zr,Kr,Jr)}}PolynomialBezier.prototype.intersections=function(Yr,Gr,Wr){Gr===void 0&&(Gr=2),Wr===void 0&&(Wr=7);var Zr=[];return intersectsImpl(intersectData(this,0,1),intersectData(Yr,0,1),0,Gr,Zr,Wr),Zr},PolynomialBezier.shapeSegment=function(Yr,Gr){var Wr=(Gr+1)%Yr.length();return new PolynomialBezier(Yr.v[Gr],Yr.o[Gr],Yr.i[Wr],Yr.v[Wr],!0)},PolynomialBezier.shapeSegmentInverted=function(Yr,Gr){var Wr=(Gr+1)%Yr.length();return new PolynomialBezier(Yr.v[Wr],Yr.i[Wr],Yr.o[Gr],Yr.v[Gr],!0)};function crossProduct(Yr,Gr){return[Yr[1]*Gr[2]-Yr[2]*Gr[1],Yr[2]*Gr[0]-Yr[0]*Gr[2],Yr[0]*Gr[1]-Yr[1]*Gr[0]]}function lineIntersection(Yr,Gr,Wr,Zr){var Kr=[Yr[0],Yr[1],1],Jr=[Gr[0],Gr[1],1],Qr=[Wr[0],Wr[1],1],ti=[Zr[0],Zr[1],1],ei=crossProduct(crossProduct(Kr,Jr),crossProduct(Qr,ti));return floatZero(ei[2])?null:[ei[0]/ei[2],ei[1]/ei[2]]}function polarOffset(Yr,Gr,Wr){return[Yr[0]+Math.cos(Gr)*Wr,Yr[1]-Math.sin(Gr)*Wr]}function pointDistance(Yr,Gr){return Math.hypot(Yr[0]-Gr[0],Yr[1]-Gr[1])}function pointEqual(Yr,Gr){return floatEqual(Yr[0],Gr[0])&&floatEqual(Yr[1],Gr[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Yr,Gr){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Yr,Gr.s,0,null,this),this.frequency=PropertyFactory.getProp(Yr,Gr.r,0,null,this),this.pointsType=PropertyFactory.getProp(Yr,Gr.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Wr-Math.PI/2,ei=Wr+Math.PI/2,ri=Gr[0]+Math.cos(Wr)*Zr*Kr,ii=Gr[1]-Math.sin(Wr)*Zr*Kr;Yr.setTripleAt(ri,ii,ri+Math.cos(ti)*Jr,ii-Math.sin(ti)*Jr,ri+Math.cos(ei)*Qr,ii-Math.sin(ei)*Qr,Yr.length())}function getPerpendicularVector(Yr,Gr){var Wr=[Gr[0]-Yr[0],Gr[1]-Yr[1]],Zr=-Math.PI*.5,Kr=[Math.cos(Zr)*Wr[0]-Math.sin(Zr)*Wr[1],Math.sin(Zr)*Wr[0]+Math.cos(Zr)*Wr[1]];return Kr}function getProjectingAngle(Yr,Gr){var Wr=Gr===0?Yr.length()-1:Gr-1,Zr=(Gr+1)%Yr.length(),Kr=Yr.v[Wr],Jr=Yr.v[Zr],Qr=getPerpendicularVector(Kr,Jr);return Math.atan2(0,1)-Math.atan2(Qr[1],Qr[0])}function zigZagCorner(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=getProjectingAngle(Gr,Wr),ei=Gr.v[Wr%Gr._length],ri=Gr.v[Wr===0?Gr._length-1:Wr-1],ii=Gr.v[(Wr+1)%Gr._length],ni=Jr===2?Math.sqrt(Math.pow(ei[0]-ri[0],2)+Math.pow(ei[1]-ri[1],2)):0,ai=Jr===2?Math.sqrt(Math.pow(ei[0]-ii[0],2)+Math.pow(ei[1]-ii[1],2)):0;setPoint(Yr,Gr.v[Wr%Gr._length],ti,Qr,Zr,ai/((Kr+1)*2),ni/((Kr+1)*2),Jr)}function zigZagSegment(Yr,Gr,Wr,Zr,Kr,Jr){for(var Qr=0;Qr<Zr;Qr+=1){var ti=(Qr+1)/(Zr+1),ei=Kr===2?Math.sqrt(Math.pow(Gr.points[3][0]-Gr.points[0][0],2)+Math.pow(Gr.points[3][1]-Gr.points[0][1],2)):0,ri=Gr.normalAngle(ti),ii=Gr.point(ti);setPoint(Yr,ii,ri,Jr,Wr,ei/((Zr+1)*2),ei/((Zr+1)*2),Kr),Jr=-Jr}return Jr}ZigZagModifier.prototype.processPath=function(Yr,Gr,Wr,Zr){var Kr=Yr._length,Jr=shapePool.newElement();if(Jr.c=Yr.c,Yr.c||(Kr-=1),Kr===0)return Jr;var Qr=-1,ti=PolynomialBezier.shapeSegment(Yr,0);zigZagCorner(Jr,Yr,0,Gr,Wr,Zr,Qr);for(var ei=0;ei<Kr;ei+=1)Qr=zigZagSegment(Jr,ti,Gr,Wr,Zr,-Qr),ei===Kr-1&&!Yr.c?ti=null:ti=PolynomialBezier.shapeSegment(Yr,(ei+1)%Kr),zigZagCorner(Jr,Yr,ei+1,Gr,Wr,Zr,Qr);return Jr},ZigZagModifier.prototype.processShapes=function(Yr){var Gr,Wr,Zr=this.shapes.length,Kr,Jr,Qr=this.amplitude.v,ti=Math.max(0,Math.round(this.frequency.v)),ei=this.pointsType.v;if(Qr!==0){var ri,ii;for(Wr=0;Wr<Zr;Wr+=1){if(ri=this.shapes[Wr],ii=ri.localShapeCollection,!(!ri.shape._mdf&&!this._mdf&&!Yr))for(ii.releaseShapes(),ri.shape._mdf=!0,Gr=ri.shape.paths.shapes,Jr=ri.shape.paths._length,Kr=0;Kr<Jr;Kr+=1)ii.addShape(this.processPath(Gr[Kr],Qr,ti,ei));ri.shape.paths=ri.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Yr,Gr,Wr){var Zr=Math.atan2(Gr[0]-Yr[0],Gr[1]-Yr[1]);return[polarOffset(Yr,Zr,Wr),polarOffset(Gr,Zr,Wr)]}function offsetSegment(Yr,Gr){var Wr,Zr,Kr,Jr,Qr,ti,ei;ei=linearOffset(Yr.points[0],Yr.points[1],Gr),Wr=ei[0],Zr=ei[1],ei=linearOffset(Yr.points[1],Yr.points[2],Gr),Kr=ei[0],Jr=ei[1],ei=linearOffset(Yr.points[2],Yr.points[3],Gr),Qr=ei[0],ti=ei[1];var ri=lineIntersection(Wr,Zr,Kr,Jr);ri===null&&(ri=Zr);var ii=lineIntersection(Qr,ti,Kr,Jr);return ii===null&&(ii=Qr),new PolynomialBezier(Wr,ri,ii,ti)}function joinLines(Yr,Gr,Wr,Zr,Kr){var Jr=Gr.points[3],Qr=Wr.points[0];if(Zr===3||pointEqual(Jr,Qr))return Jr;if(Zr===2){var ti=-Gr.tangentAngle(1),ei=-Wr.tangentAngle(0)+Math.PI,ri=lineIntersection(Jr,polarOffset(Jr,ti+Math.PI/2,100),Qr,polarOffset(Qr,ti+Math.PI/2,100)),ii=ri?pointDistance(ri,Jr):pointDistance(Jr,Qr)/2,ni=polarOffset(Jr,ti,2*ii*roundCorner);return Yr.setXYAt(ni[0],ni[1],"o",Yr.length()-1),ni=polarOffset(Qr,ei,2*ii*roundCorner),Yr.setTripleAt(Qr[0],Qr[1],Qr[0],Qr[1],ni[0],ni[1],Yr.length()),Qr}var ai=pointEqual(Jr,Gr.points[2])?Gr.points[0]:Gr.points[2],oi=pointEqual(Qr,Wr.points[1])?Wr.points[3]:Wr.points[1],si=lineIntersection(ai,Jr,Qr,oi);return si&&pointDistance(si,Jr)<Kr?(Yr.setTripleAt(si[0],si[1],si[0],si[1],si[0],si[1],Yr.length()),si):Jr}function getIntersection(Yr,Gr){var Wr=Yr.intersections(Gr);return Wr.length&&floatEqual(Wr[0][0],1)&&Wr.shift(),Wr.length?Wr[0]:null}function pruneSegmentIntersection(Yr,Gr){var Wr=Yr.slice(),Zr=Gr.slice(),Kr=getIntersection(Yr[Yr.length-1],Gr[0]);return Kr&&(Wr[Yr.length-1]=Yr[Yr.length-1].split(Kr[0])[0],Zr[0]=Gr[0].split(Kr[1])[1]),Yr.length>1&&Gr.length>1&&(Kr=getIntersection(Yr[0],Gr[Gr.length-1]),Kr)?[[Yr[0].split(Kr[0])[0]],[Gr[Gr.length-1].split(Kr[1])[1]]]:[Wr,Zr]}function pruneIntersections(Yr){for(var Gr,Wr=1;Wr<Yr.length;Wr+=1)Gr=pruneSegmentIntersection(Yr[Wr-1],Yr[Wr]),Yr[Wr-1]=Gr[0],Yr[Wr]=Gr[1];return Yr.length>1&&(Gr=pruneSegmentIntersection(Yr[Yr.length-1],Yr[0]),Yr[Yr.length-1]=Gr[0],Yr[0]=Gr[1]),Yr}function offsetSegmentSplit(Yr,Gr){var Wr=Yr.inflectionPoints(),Zr,Kr,Jr,Qr;if(Wr.length===0)return[offsetSegment(Yr,Gr)];if(Wr.length===1||floatEqual(Wr[1],1))return Jr=Yr.split(Wr[0]),Zr=Jr[0],Kr=Jr[1],[offsetSegment(Zr,Gr),offsetSegment(Kr,Gr)];Jr=Yr.split(Wr[0]),Zr=Jr[0];var ti=(Wr[1]-Wr[0])/(1-Wr[0]);return Jr=Jr[1].split(ti),Qr=Jr[0],Kr=Jr[1],[offsetSegment(Zr,Gr),offsetSegment(Qr,Gr),offsetSegment(Kr,Gr)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Yr,Gr){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Yr,Gr.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Yr,Gr.ml,0,null,this),this.lineJoin=Gr.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Yr,Gr,Wr,Zr){var Kr=shapePool.newElement();Kr.c=Yr.c;var Jr=Yr.length();Yr.c||(Jr-=1);var Qr,ti,ei,ri=[];for(Qr=0;Qr<Jr;Qr+=1)ei=PolynomialBezier.shapeSegment(Yr,Qr),ri.push(offsetSegmentSplit(ei,Gr));if(!Yr.c)for(Qr=Jr-1;Qr>=0;Qr-=1)ei=PolynomialBezier.shapeSegmentInverted(Yr,Qr),ri.push(offsetSegmentSplit(ei,Gr));ri=pruneIntersections(ri);var ii=null,ni=null;for(Qr=0;Qr<ri.length;Qr+=1){var ai=ri[Qr];for(ni&&(ii=joinLines(Kr,ni,ai[0],Wr,Zr)),ni=ai[ai.length-1],ti=0;ti<ai.length;ti+=1)ei=ai[ti],ii&&pointEqual(ei.points[0],ii)?Kr.setXYAt(ei.points[1][0],ei.points[1][1],"o",Kr.length()-1):Kr.setTripleAt(ei.points[0][0],ei.points[0][1],ei.points[1][0],ei.points[1][1],ei.points[0][0],ei.points[0][1],Kr.length()),Kr.setTripleAt(ei.points[3][0],ei.points[3][1],ei.points[3][0],ei.points[3][1],ei.points[2][0],ei.points[2][1],Kr.length()),ii=ei.points[3]}return ri.length&&joinLines(Kr,ni,ri[0][0],Wr,Zr),Kr},OffsetPathModifier.prototype.processShapes=function(Yr){var Gr,Wr,Zr=this.shapes.length,Kr,Jr,Qr=this.amount.v,ti=this.miterLimit.v,ei=this.lineJoin;if(Qr!==0){var ri,ii;for(Wr=0;Wr<Zr;Wr+=1){if(ri=this.shapes[Wr],ii=ri.localShapeCollection,!(!ri.shape._mdf&&!this._mdf&&!Yr))for(ii.releaseShapes(),ri.shape._mdf=!0,Gr=ri.shape.paths.shapes,Jr=ri.shape.paths._length,Kr=0;Kr<Jr;Kr+=1)ii.addShape(this.processPath(Gr[Kr],Qr,ei,ti));ri.shape.paths=ri.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Yr){for(var Gr=Yr.fStyle?Yr.fStyle.split(" "):[],Wr="normal",Zr="normal",Kr=Gr.length,Jr,Qr=0;Qr<Kr;Qr+=1)switch(Jr=Gr[Qr].toLowerCase(),Jr){case"italic":Zr="italic";break;case"bold":Wr="700";break;case"black":Wr="900";break;case"medium":Wr="500";break;case"regular":case"normal":Wr="400";break;case"light":case"thin":Wr="200";break;default:break}return{style:Zr,weight:Yr.fWeight||Wr}}var FontManager=function(){var Yr=5e3,Gr={w:0,size:0,shapes:[],data:{shapes:[]}},Wr=[];Wr=Wr.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Zr=127988,Kr=917631,Jr=917601,Qr=917626,ti=65039,ei=8205,ri=127462,ii=127487,ni=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ai(wi){var Pi=wi.split(","),xi,Ci=Pi.length,Li=[];for(xi=0;xi<Ci;xi+=1)Pi[xi]!=="sans-serif"&&Pi[xi]!=="monospace"&&Li.push(Pi[xi]);return Li.join(",")}function oi(wi,Pi){var xi=createTag("span");xi.setAttribute("aria-hidden",!0),xi.style.fontFamily=Pi;var Ci=createTag("span");Ci.innerText="giItT1WQy@!-/#",xi.style.position="absolute",xi.style.left="-10000px",xi.style.top="-10000px",xi.style.fontSize="300px",xi.style.fontVariant="normal",xi.style.fontStyle="normal",xi.style.fontWeight="normal",xi.style.letterSpacing="0",xi.appendChild(Ci),document.body.appendChild(xi);var Li=Ci.offsetWidth;return Ci.style.fontFamily=ai(wi)+", "+Pi,{node:Ci,w:Li,parent:xi}}function si(){var wi,Pi=this.fonts.length,xi,Ci,Li=Pi;for(wi=0;wi<Pi;wi+=1)this.fonts[wi].loaded?Li-=1:this.fonts[wi].fOrigin==="n"||this.fonts[wi].origin===0?this.fonts[wi].loaded=!0:(xi=this.fonts[wi].monoCase.node,Ci=this.fonts[wi].monoCase.w,xi.offsetWidth!==Ci?(Li-=1,this.fonts[wi].loaded=!0):(xi=this.fonts[wi].sansCase.node,Ci=this.fonts[wi].sansCase.w,xi.offsetWidth!==Ci&&(Li-=1,this.fonts[wi].loaded=!0)),this.fonts[wi].loaded&&(this.fonts[wi].sansCase.parent.parentNode.removeChild(this.fonts[wi].sansCase.parent),this.fonts[wi].monoCase.parent.parentNode.removeChild(this.fonts[wi].monoCase.parent)));Li!==0&&Date.now()-this.initTime<Yr?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function li(wi,Pi){var xi=document.body&&Pi?"svg":"canvas",Ci,Li=getFontProperties(wi);if(xi==="svg"){var Ii=createNS("text");Ii.style.fontSize="100px",Ii.setAttribute("font-family",wi.fFamily),Ii.setAttribute("font-style",Li.style),Ii.setAttribute("font-weight",Li.weight),Ii.textContent="1",wi.fClass?(Ii.style.fontFamily="inherit",Ii.setAttribute("class",wi.fClass)):Ii.style.fontFamily=wi.fFamily,Pi.appendChild(Ii),Ci=Ii}else{var zi=new OffscreenCanvas(500,500).getContext("2d");zi.font=Li.style+" "+Li.weight+" 100px "+wi.fFamily,Ci=zi}function Bi(Vi){return xi==="svg"?(Ci.textContent=Vi,Ci.getComputedTextLength()):Ci.measureText(Vi).width}return{measureText:Bi}}function ui(wi,Pi){if(!wi){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=wi.list;return}if(!document.body){this.isLoaded=!0,wi.list.forEach(function(nn){nn.helper=li(nn),nn.cache={}}),this.fonts=wi.list;return}var xi=wi.list,Ci,Li=xi.length,Ii=Li;for(Ci=0;Ci<Li;Ci+=1){var zi=!0,Bi,Vi;if(xi[Ci].loaded=!1,xi[Ci].monoCase=oi(xi[Ci].fFamily,"monospace"),xi[Ci].sansCase=oi(xi[Ci].fFamily,"sans-serif"),!xi[Ci].fPath)xi[Ci].loaded=!0,Ii-=1;else if(xi[Ci].fOrigin==="p"||xi[Ci].origin===3){if(Bi=document.querySelectorAll('style[f-forigin="p"][f-family="'+xi[Ci].fFamily+'"], style[f-origin="3"][f-family="'+xi[Ci].fFamily+'"]'),Bi.length>0&&(zi=!1),zi){var ji=createTag("style");ji.setAttribute("f-forigin",xi[Ci].fOrigin),ji.setAttribute("f-origin",xi[Ci].origin),ji.setAttribute("f-family",xi[Ci].fFamily),ji.type="text/css",ji.innerText="@font-face {font-family: "+xi[Ci].fFamily+"; font-style: normal; src: url('"+xi[Ci].fPath+"');}",Pi.appendChild(ji)}}else if(xi[Ci].fOrigin==="g"||xi[Ci].origin===1){for(Bi=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Vi=0;Vi<Bi.length;Vi+=1)Bi[Vi].href.indexOf(xi[Ci].fPath)!==-1&&(zi=!1);if(zi){var tn=createTag("link");tn.setAttribute("f-forigin",xi[Ci].fOrigin),tn.setAttribute("f-origin",xi[Ci].origin),tn.type="text/css",tn.rel="stylesheet",tn.href=xi[Ci].fPath,document.body.appendChild(tn)}}else if(xi[Ci].fOrigin==="t"||xi[Ci].origin===2){for(Bi=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Vi=0;Vi<Bi.length;Vi+=1)xi[Ci].fPath===Bi[Vi].src&&(zi=!1);if(zi){var hn=createTag("link");hn.setAttribute("f-forigin",xi[Ci].fOrigin),hn.setAttribute("f-origin",xi[Ci].origin),hn.setAttribute("rel","stylesheet"),hn.setAttribute("href",xi[Ci].fPath),Pi.appendChild(hn)}}xi[Ci].helper=li(xi[Ci],Pi),xi[Ci].cache={},this.fonts.push(xi[Ci])}Ii===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function fi(wi){if(wi){this.chars||(this.chars=[]);var Pi,xi=wi.length,Ci,Li=this.chars.length,Ii;for(Pi=0;Pi<xi;Pi+=1){for(Ci=0,Ii=!1;Ci<Li;)this.chars[Ci].style===wi[Pi].style&&this.chars[Ci].fFamily===wi[Pi].fFamily&&this.chars[Ci].ch===wi[Pi].ch&&(Ii=!0),Ci+=1;Ii||(this.chars.push(wi[Pi]),Li+=1)}}}function hi(wi,Pi,xi){for(var Ci=0,Li=this.chars.length;Ci<Li;){if(this.chars[Ci].ch===wi&&this.chars[Ci].style===Pi&&this.chars[Ci].fFamily===xi)return this.chars[Ci];Ci+=1}return(typeof wi=="string"&&wi.charCodeAt(0)!==13||!wi)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",wi,Pi,xi)),Gr}function ci(wi,Pi,xi){var Ci=this.getFontByName(Pi),Li=wi;if(!Ci.cache[Li]){var Ii=Ci.helper;if(wi===" "){var zi=Ii.measureText("|"+wi+"|"),Bi=Ii.measureText("||");Ci.cache[Li]=(zi-Bi)/100}else Ci.cache[Li]=Ii.measureText(wi)/100}return Ci.cache[Li]*xi}function pi(wi){for(var Pi=0,xi=this.fonts.length;Pi<xi;){if(this.fonts[Pi].fName===wi)return this.fonts[Pi];Pi+=1}return this.fonts[0]}function di(wi){var Pi=0,xi=wi.charCodeAt(0);if(xi>=55296&&xi<=56319){var Ci=wi.charCodeAt(1);Ci>=56320&&Ci<=57343&&(Pi=(xi-55296)*1024+Ci-56320+65536)}return Pi}function vi(wi,Pi){var xi=wi.toString(16)+Pi.toString(16);return ni.indexOf(xi)!==-1}function mi(wi){return wi===ei}function gi(wi){return wi===ti}function yi(wi){var Pi=di(wi);return Pi>=ri&&Pi<=ii}function Si(wi){return yi(wi.substr(0,2))&&yi(wi.substr(2,2))}function bi(wi){return Wr.indexOf(wi)!==-1}function Ti(wi,Pi){var xi=di(wi.substr(Pi,2));if(xi!==Zr)return!1;var Ci=0;for(Pi+=2;Ci<5;){if(xi=di(wi.substr(Pi,2)),xi<Jr||xi>Qr)return!1;Ci+=1,Pi+=2}return di(wi.substr(Pi,2))===Kr}function Ai(){this.isLoaded=!0}var Ei=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ei.isModifier=vi,Ei.isZeroWidthJoiner=mi,Ei.isFlagEmoji=Si,Ei.isRegionalCode=yi,Ei.isCombinedCharacter=bi,Ei.isRegionalFlag=Ti,Ei.isVariationSelector=gi,Ei.BLACK_FLAG_CODE_POINT=Zr;var Mi={addChars:fi,addFonts:ui,getCharData:hi,getFontByName:pi,measureText:ci,checkLoadedFonts:si,setIsLoaded:Ai};return Ei.prototype=Mi,Ei}();function SlotManager(Yr){this.animationData=Yr}SlotManager.prototype.getProp=function(Yr){return this.animationData.slots&&this.animationData.slots[Yr.sid]?Object.assign(Yr,this.animationData.slots[Yr.sid].p):Yr};function slotFactory(Yr){return new SlotManager(Yr)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(Gr){this.renderableComponents.indexOf(Gr)===-1&&this.renderableComponents.push(Gr)},removeRenderableComponent:function(Gr){this.renderableComponents.indexOf(Gr)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(Gr),1)},prepareRenderableFrame:function(Gr){this.checkLayerLimits(Gr)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(Gr){this.data.ip-this.data.st<=Gr&&this.data.op-this.data.st>Gr?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var Gr,Wr=this.renderableComponents.length;for(Gr=0;Gr<Wr;Gr+=1)this.renderableComponents[Gr].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var Yr={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(Gr){return Yr[Gr]||""}}();function SliderEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,0,0,Wr)}function AngleEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,0,0,Wr)}function ColorEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,1,0,Wr)}function PointEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,1,0,Wr)}function LayerIndexEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,0,0,Wr)}function MaskIndexEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,0,0,Wr)}function CheckboxEffect(Yr,Gr,Wr){this.p=PropertyFactory.getProp(Gr,Yr.v,0,0,Wr)}function NoValueEffect(){this.p={}}function EffectsManager(Yr,Gr){var Wr=Yr.ef||[];this.effectElements=[];var Zr,Kr=Wr.length,Jr;for(Zr=0;Zr<Kr;Zr+=1)Jr=new GroupEffect(Wr[Zr],Gr),this.effectElements.push(Jr)}function GroupEffect(Yr,Gr){this.init(Yr,Gr)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Yr,Gr){this.data=Yr,this.effectElements=[],this.initDynamicPropertyContainer(Gr);var Wr,Zr=this.data.ef.length,Kr,Jr=this.data.ef;for(Wr=0;Wr<Zr;Wr+=1){switch(Kr=null,Jr[Wr].ty){case 0:Kr=new SliderEffect(Jr[Wr],Gr,this);break;case 1:Kr=new AngleEffect(Jr[Wr],Gr,this);break;case 2:Kr=new ColorEffect(Jr[Wr],Gr,this);break;case 3:Kr=new PointEffect(Jr[Wr],Gr,this);break;case 4:case 7:Kr=new CheckboxEffect(Jr[Wr],Gr,this);break;case 10:Kr=new LayerIndexEffect(Jr[Wr],Gr,this);break;case 11:Kr=new MaskIndexEffect(Jr[Wr],Gr,this);break;case 5:Kr=new EffectsManager(Jr[Wr],Gr,this);break;default:Kr=new NoValueEffect(Jr[Wr],Gr,this);break}Kr&&this.effectElements.push(Kr)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var Gr=0,Wr=this.data.masksProperties.length;Gr<Wr;){if(this.data.masksProperties[Gr].mode!=="n"&&this.data.masksProperties[Gr].cl!==!1)return!0;Gr+=1}return!1},initExpressions:function(){var Gr=getExpressionInterfaces();if(Gr){var Wr=Gr("layer"),Zr=Gr("effects"),Kr=Gr("shape"),Jr=Gr("text"),Qr=Gr("comp");this.layerInterface=Wr(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ti=Zr.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ti),this.data.ty===0||this.data.xt?this.compInterface=Qr(this):this.data.ty===4?(this.layerInterface.shapeInterface=Kr(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Jr(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var Gr=getBlendMode(this.data.bm),Wr=this.baseElement||this.layerElement;Wr.style["mix-blend-mode"]=Gr},initBaseData:function(Gr,Wr,Zr){this.globalData=Wr,this.comp=Zr,this.data=Gr,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(Gr,Wr){var Zr,Kr=this.dynamicProperties.length;for(Zr=0;Zr<Kr;Zr+=1)(Wr||this._isParent&&this.dynamicProperties[Zr].propType==="transform")&&(this.dynamicProperties[Zr].getValue(),this.dynamicProperties[Zr]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(Gr){this.dynamicProperties.indexOf(Gr)===-1&&this.dynamicProperties.push(Gr)}};function FootageElement(Yr,Gr,Wr){this.initFrame(),this.initRenderable(),this.assetData=Gr.getAssetData(Yr.refId),this.footageData=Gr.imageLoader.getAsset(this.assetData),this.initBaseData(Yr,Gr,Wr)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Yr=getExpressionInterfaces();if(Yr){var Gr=Yr("footage");this.layerInterface=Gr(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Yr,Gr,Wr){this.initFrame(),this.initRenderable(),this.assetData=Gr.getAssetData(Yr.refId),this.initBaseData(Yr,Gr,Wr),this._isPlaying=!1,this._canPlay=!1;var Zr=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Zr),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Yr.tm?PropertyFactory.getProp(this,Yr.tm,0,Gr.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Yr.au&&Yr.au.lv?Yr.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Yr){if(this.prepareRenderableFrame(Yr,!0),this.prepareProperties(Yr,!0),this.tm._placeholder)this._currentTime=Yr/this.data.sr;else{var Gr=this.tm.v;this._currentTime=Gr}this._volume=this.lv.v[0];var Wr=this._volume*this._volumeMultiplier;this._previousVolume!==Wr&&(this._previousVolume=Wr,this.audio.volume(Wr))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Yr){this.audio.rate(Yr)},AudioElement.prototype.volume=function(Yr){this._volumeMultiplier=Yr,this._previousVolume=Yr*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Yr){var Gr,Wr=this.layers.length,Zr;for(this.completeLayers=!0,Gr=Wr-1;Gr>=0;Gr-=1)this.elements[Gr]||(Zr=this.layers[Gr],Zr.ip-Zr.st<=Yr-this.layers[Gr].st&&Zr.op-Zr.st>Yr-this.layers[Gr].st&&this.buildItem(Gr)),this.completeLayers=this.elements[Gr]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Yr){switch(Yr.ty){case 2:return this.createImage(Yr);case 0:return this.createComp(Yr);case 1:return this.createSolid(Yr);case 3:return this.createNull(Yr);case 4:return this.createShape(Yr);case 5:return this.createText(Yr);case 6:return this.createAudio(Yr);case 13:return this.createCamera(Yr);case 15:return this.createFootage(Yr);default:return this.createNull(Yr)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Yr){return new AudioElement(Yr,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Yr){return new FootageElement(Yr,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Yr,Gr=this.layers.length;for(Yr=0;Yr<Gr;Yr+=1)this.buildItem(Yr);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Yr){this.completeLayers=!1;var Gr,Wr=Yr.length,Zr,Kr=this.layers.length;for(Gr=0;Gr<Wr;Gr+=1)for(Zr=0;Zr<Kr;){if(this.layers[Zr].id===Yr[Gr].id){this.layers[Zr]=Yr[Gr];break}Zr+=1}},BaseRenderer.prototype.setProjectInterface=function(Yr){this.globalData.projectInterface=Yr},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Yr,Gr,Wr){for(var Zr=this.elements,Kr=this.layers,Jr=0,Qr=Kr.length;Jr<Qr;)Kr[Jr].ind==Gr&&(!Zr[Jr]||Zr[Jr]===!0?(this.buildItem(Jr),this.addPendingElement(Yr)):(Wr.push(Zr[Jr]),Zr[Jr].setAsParent(),Kr[Jr].parent!==void 0?this.buildElementParenting(Yr,Kr[Jr].parent,Wr):Yr.setHierarchy(Wr))),Jr+=1},BaseRenderer.prototype.addPendingElement=function(Yr){this.pendingElements.push(Yr)},BaseRenderer.prototype.searchExtraCompositions=function(Yr){var Gr,Wr=Yr.length;for(Gr=0;Gr<Wr;Gr+=1)if(Yr[Gr].xt){var Zr=this.createComp(Yr[Gr]);Zr.initExpressions(),this.globalData.projectInterface.registerComposition(Zr)}},BaseRenderer.prototype.getElementById=function(Yr){var Gr,Wr=this.elements.length;for(Gr=0;Gr<Wr;Gr+=1)if(this.elements[Gr].data.ind===Yr)return this.elements[Gr];return null},BaseRenderer.prototype.getElementByPath=function(Yr){var Gr=Yr.shift(),Wr;if(typeof Gr=="number")Wr=this.elements[Gr];else{var Zr,Kr=this.elements.length;for(Zr=0;Zr<Kr;Zr+=1)if(this.elements[Zr].data.nm===Gr){Wr=this.elements[Zr];break}}return Yr.length===0?Wr:Wr.getElementByPath(Yr)},BaseRenderer.prototype.setupGlobalData=function(Yr,Gr){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Yr),this.globalData.fontManager.addChars(Yr.chars),this.globalData.fontManager.addFonts(Yr.fonts,Gr),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Yr.fr,this.globalData.nm=Yr.nm,this.globalData.compSize={w:Yr.w,h:Yr.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var Gr=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:Gr,localMat:Gr,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var Gr,Wr=this.finalTransform.mat,Zr=0,Kr=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Zr<Kr;){if(this.hierarchy[Zr].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Zr+=1}if(this.finalTransform._matMdf)for(Gr=this.finalTransform.mProp.v.props,Wr.cloneFromProps(Gr),Zr=0;Zr<Kr;Zr+=1)Wr.multiply(this.hierarchy[Zr].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var Gr=0,Wr=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;Gr<Wr;)this.localTransforms[Gr]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[Gr]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),Gr+=1;if(this.finalTransform._localMatMdf){var Zr=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Zr),Gr=1;Gr<Wr;Gr+=1){var Kr=this.localTransforms[Gr].matrix;Zr.multiply(Kr)}Zr.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Jr=this.finalTransform.localOpacity;for(Gr=0;Gr<Wr;Gr+=1)Jr*=this.localTransforms[Gr].opacity*.01;this.finalTransform.localOpacity=Jr}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var Gr=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(Gr.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var Wr=0,Zr=Gr.length;for(Wr=0;Wr<Zr;Wr+=1)this.localTransforms.push(Gr[Wr])}}},globalToLocal:function(Gr){var Wr=[];Wr.push(this.finalTransform);for(var Zr=!0,Kr=this.comp;Zr;)Kr.finalTransform?(Kr.data.hasMask&&Wr.splice(0,0,Kr.finalTransform),Kr=Kr.comp):Zr=!1;var Jr,Qr=Wr.length,ti;for(Jr=0;Jr<Qr;Jr+=1)ti=Wr[Jr].mat.applyToPointArray(0,0,0),Gr=[Gr[0]-ti[0],Gr[1]-ti[1],0];return Gr},mHelper:new Matrix};function MaskElement(Yr,Gr,Wr){this.data=Yr,this.element=Gr,this.globalData=Wr,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Zr=this.globalData.defs,Kr,Jr=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Jr),this.solidPath="";var Qr,ti=this.masksProperties,ei=0,ri=[],ii,ni,ai=createElementID(),oi,si,li,ui,fi="clipPath",hi="clip-path";for(Kr=0;Kr<Jr;Kr+=1)if((ti[Kr].mode!=="a"&&ti[Kr].mode!=="n"||ti[Kr].inv||ti[Kr].o.k!==100||ti[Kr].o.x)&&(fi="mask",hi="mask"),(ti[Kr].mode==="s"||ti[Kr].mode==="i")&&ei===0?(oi=createNS("rect"),oi.setAttribute("fill","#ffffff"),oi.setAttribute("width",this.element.comp.data.w||0),oi.setAttribute("height",this.element.comp.data.h||0),ri.push(oi)):oi=null,Qr=createNS("path"),ti[Kr].mode==="n")this.viewData[Kr]={op:PropertyFactory.getProp(this.element,ti[Kr].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ti[Kr],3),elem:Qr,lastPath:""},Zr.appendChild(Qr);else{ei+=1,Qr.setAttribute("fill",ti[Kr].mode==="s"?"#000000":"#ffffff"),Qr.setAttribute("clip-rule","nonzero");var ci;if(ti[Kr].x.k!==0?(fi="mask",hi="mask",ui=PropertyFactory.getProp(this.element,ti[Kr].x,0,null,this.element),ci=createElementID(),si=createNS("filter"),si.setAttribute("id",ci),li=createNS("feMorphology"),li.setAttribute("operator","erode"),li.setAttribute("in","SourceGraphic"),li.setAttribute("radius","0"),si.appendChild(li),Zr.appendChild(si),Qr.setAttribute("stroke",ti[Kr].mode==="s"?"#000000":"#ffffff")):(li=null,ui=null),this.storedData[Kr]={elem:Qr,x:ui,expan:li,lastPath:"",lastOperator:"",filterId:ci,lastRadius:0},ti[Kr].mode==="i"){ni=ri.length;var pi=createNS("g");for(ii=0;ii<ni;ii+=1)pi.appendChild(ri[ii]);var di=createNS("mask");di.setAttribute("mask-type","alpha"),di.setAttribute("id",ai+"_"+ei),di.appendChild(Qr),Zr.appendChild(di),pi.setAttribute("mask","url("+getLocationHref()+"#"+ai+"_"+ei+")"),ri.length=0,ri.push(pi)}else ri.push(Qr);ti[Kr].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Kr]={elem:Qr,lastPath:"",op:PropertyFactory.getProp(this.element,ti[Kr].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ti[Kr],3),invRect:oi},this.viewData[Kr].prop.k||this.drawPath(ti[Kr],this.viewData[Kr].prop.v,this.viewData[Kr])}for(this.maskElement=createNS(fi),Jr=ri.length,Kr=0;Kr<Jr;Kr+=1)this.maskElement.appendChild(ri[Kr]);ei>0&&(this.maskElement.setAttribute("id",ai),this.element.maskedElement.setAttribute(hi,"url("+getLocationHref()+"#"+ai+")"),Zr.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Yr){return this.viewData[Yr].prop},MaskElement.prototype.renderFrame=function(Yr){var Gr=this.element.finalTransform.mat,Wr,Zr=this.masksProperties.length;for(Wr=0;Wr<Zr;Wr+=1)if((this.viewData[Wr].prop._mdf||Yr)&&this.drawPath(this.masksProperties[Wr],this.viewData[Wr].prop.v,this.viewData[Wr]),(this.viewData[Wr].op._mdf||Yr)&&this.viewData[Wr].elem.setAttribute("fill-opacity",this.viewData[Wr].op.v),this.masksProperties[Wr].mode!=="n"&&(this.viewData[Wr].invRect&&(this.element.finalTransform.mProp._mdf||Yr)&&this.viewData[Wr].invRect.setAttribute("transform",Gr.getInverseMatrix().to2dCSS()),this.storedData[Wr].x&&(this.storedData[Wr].x._mdf||Yr))){var Kr=this.storedData[Wr].expan;this.storedData[Wr].x.v<0?(this.storedData[Wr].lastOperator!=="erode"&&(this.storedData[Wr].lastOperator="erode",this.storedData[Wr].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[Wr].filterId+")")),Kr.setAttribute("radius",-this.storedData[Wr].x.v)):(this.storedData[Wr].lastOperator!=="dilate"&&(this.storedData[Wr].lastOperator="dilate",this.storedData[Wr].elem.setAttribute("filter",null)),this.storedData[Wr].elem.setAttribute("stroke-width",this.storedData[Wr].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Yr="M0,0 ";return Yr+=" h"+this.globalData.compSize.w,Yr+=" v"+this.globalData.compSize.h,Yr+=" h-"+this.globalData.compSize.w,Yr+=" v-"+this.globalData.compSize.h+" ",Yr},MaskElement.prototype.drawPath=function(Yr,Gr,Wr){var Zr=" M"+Gr.v[0][0]+","+Gr.v[0][1],Kr,Jr;for(Jr=Gr._length,Kr=1;Kr<Jr;Kr+=1)Zr+=" C"+Gr.o[Kr-1][0]+","+Gr.o[Kr-1][1]+" "+Gr.i[Kr][0]+","+Gr.i[Kr][1]+" "+Gr.v[Kr][0]+","+Gr.v[Kr][1];if(Gr.c&&Jr>1&&(Zr+=" C"+Gr.o[Kr-1][0]+","+Gr.o[Kr-1][1]+" "+Gr.i[0][0]+","+Gr.i[0][1]+" "+Gr.v[0][0]+","+Gr.v[0][1]),Wr.lastPath!==Zr){var Qr="";Wr.elem&&(Gr.c&&(Qr=Yr.inv?this.solidPath+Zr:Zr),Wr.elem.setAttribute("d",Qr)),Wr.lastPath=Zr}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var Yr={};Yr.createFilter=Gr,Yr.createAlphaToLuminanceFilter=Wr;function Gr(Zr,Kr){var Jr=createNS("filter");return Jr.setAttribute("id",Zr),Kr!==!0&&(Jr.setAttribute("filterUnits","objectBoundingBox"),Jr.setAttribute("x","0%"),Jr.setAttribute("y","0%"),Jr.setAttribute("width","100%"),Jr.setAttribute("height","100%")),Jr}function Wr(){var Zr=createNS("feColorMatrix");return Zr.setAttribute("type","matrix"),Zr.setAttribute("color-interpolation-filters","sRGB"),Zr.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Zr}return Yr}(),featureSupport=function(){var Yr={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Yr.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Yr.svgLumaHidden=!1),Yr}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Yr){var Gr,Wr="SourceGraphic",Zr=Yr.data.ef?Yr.data.ef.length:0,Kr=createElementID(),Jr=filtersFactory.createFilter(Kr,!0),Qr=0;this.filters=[];var ti;for(Gr=0;Gr<Zr;Gr+=1){ti=null;var ei=Yr.data.ef[Gr].ty;if(registeredEffects$1[ei]){var ri=registeredEffects$1[ei].effect;ti=new ri(Jr,Yr.effectsManager.effectElements[Gr],Yr,idPrefix+Qr,Wr),Wr=idPrefix+Qr,registeredEffects$1[ei].countsAsEffect&&(Qr+=1)}ti&&this.filters.push(ti)}Qr&&(Yr.globalData.defs.appendChild(Jr),Yr.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Kr+")")),this.filters.length&&Yr.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Yr){var Gr,Wr=this.filters.length;for(Gr=0;Gr<Wr;Gr+=1)this.filters[Gr].renderFrame(Yr)},SVGEffects.prototype.getEffects=function(Yr){var Gr,Wr=this.filters.length,Zr=[];for(Gr=0;Gr<Wr;Gr+=1)this.filters[Gr].type===Yr&&Zr.push(this.filters[Gr]);return Zr};function registerEffect$1(Yr,Gr,Wr){registeredEffects$1[Yr]={effect:Gr,countsAsEffect:Wr}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var Gr=null;if(this.data.td){this.matteMasks={};var Wr=createNS("g");Wr.setAttribute("id",this.layerId),Wr.appendChild(this.layerElement),Gr=Wr,this.globalData.defs.appendChild(Wr)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),Gr=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Zr=createNS("clipPath"),Kr=createNS("path");Kr.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Jr=createElementID();if(Zr.setAttribute("id",Jr),Zr.appendChild(Kr),this.globalData.defs.appendChild(Zr),this.checkMasks()){var Qr=createNS("g");Qr.setAttribute("clip-path","url("+getLocationHref()+"#"+Jr+")"),Qr.appendChild(this.layerElement),this.transformedElement=Qr,Gr?Gr.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Jr+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(Gr){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[Gr]){var Wr=this.layerId+"_"+Gr,Zr,Kr,Jr,Qr;if(Gr===1||Gr===3){var ti=createNS("mask");ti.setAttribute("id",Wr),ti.setAttribute("mask-type",Gr===3?"luminance":"alpha"),Jr=createNS("use"),Jr.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ti.appendChild(Jr),this.globalData.defs.appendChild(ti),!featureSupport.maskType&&Gr===1&&(ti.setAttribute("mask-type","luminance"),Zr=createElementID(),Kr=filtersFactory.createFilter(Zr),this.globalData.defs.appendChild(Kr),Kr.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Qr=createNS("g"),Qr.appendChild(Jr),ti.appendChild(Qr),Qr.setAttribute("filter","url("+getLocationHref()+"#"+Zr+")"))}else if(Gr===2){var ei=createNS("mask");ei.setAttribute("id",Wr),ei.setAttribute("mask-type","alpha");var ri=createNS("g");ei.appendChild(ri),Zr=createElementID(),Kr=filtersFactory.createFilter(Zr);var ii=createNS("feComponentTransfer");ii.setAttribute("in","SourceGraphic"),Kr.appendChild(ii);var ni=createNS("feFuncA");ni.setAttribute("type","table"),ni.setAttribute("tableValues","1.0 0.0"),ii.appendChild(ni),this.globalData.defs.appendChild(Kr);var ai=createNS("rect");ai.setAttribute("width",this.comp.data.w),ai.setAttribute("height",this.comp.data.h),ai.setAttribute("x","0"),ai.setAttribute("y","0"),ai.setAttribute("fill","#ffffff"),ai.setAttribute("opacity","0"),ri.setAttribute("filter","url("+getLocationHref()+"#"+Zr+")"),ri.appendChild(ai),Jr=createNS("use"),Jr.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ri.appendChild(Jr),featureSupport.maskType||(ei.setAttribute("mask-type","luminance"),Kr.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Qr=createNS("g"),ri.appendChild(ai),Qr.appendChild(this.layerElement),ri.appendChild(Qr)),this.globalData.defs.appendChild(ei)}this.matteMasks[Gr]=Wr}return this.matteMasks[Gr]},setMatte:function(Gr){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+Gr+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(Gr){this.hierarchy=Gr},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Yr={initElement:function(Wr,Zr,Kr){this.initFrame(),this.initBaseData(Wr,Zr,Kr),this.initTransform(Wr,Zr,Kr),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Wr=this.baseElement||this.layerElement;Wr.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Wr=this.baseElement||this.layerElement;Wr.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(Wr){this._mdf=!1,this.prepareRenderableFrame(Wr),this.prepareProperties(Wr,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Yr)],RenderableDOMElement)})();function IImageElement(Yr,Gr,Wr){this.assetData=Gr.getAssetData(Yr.refId),this.assetData&&this.assetData.sid&&(this.assetData=Gr.slotManager.getProp(this.assetData)),this.initElement(Yr,Gr,Wr),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Yr=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Yr),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Yr,Gr){this.elem=Yr,this.pos=Gr}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(Gr){var Wr,Zr=this.shapeModifiers.length;for(Wr=0;Wr<Zr;Wr+=1)this.shapeModifiers[Wr].addShape(Gr)},isShapeInAnimatedModifiers:function(Gr){for(var Wr=0,Zr=this.shapeModifiers.length;Wr<Zr;)if(this.shapeModifiers[Wr].isAnimatedWithShape(Gr))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var Gr,Wr=this.shapes.length;for(Gr=0;Gr<Wr;Gr+=1)this.shapes[Gr].sh.reset();Wr=this.shapeModifiers.length;var Zr;for(Gr=Wr-1;Gr>=0&&(Zr=this.shapeModifiers[Gr].processShapes(this._isFirstFrame),!Zr);Gr-=1);}},searchProcessedElement:function(Gr){for(var Wr=this.processedElements,Zr=0,Kr=Wr.length;Zr<Kr;){if(Wr[Zr].elem===Gr)return Wr[Zr].pos;Zr+=1}return 0},addProcessedElement:function(Gr,Wr){for(var Zr=this.processedElements,Kr=Zr.length;Kr;)if(Kr-=1,Zr[Kr].elem===Gr){Zr[Kr].pos=Wr;return}Zr.push(new ProcessedElement(Gr,Wr))},prepareFrame:function(Gr){this.prepareRenderableFrame(Gr),this.prepareProperties(Gr,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Yr,Gr,Wr){this.caches=[],this.styles=[],this.transformers=Yr,this.lStr="",this.sh=Wr,this.lvl=Gr,this._isAnimated=!!Wr.k;for(var Zr=0,Kr=Yr.length;Zr<Kr;){if(Yr[Zr].mProps.dynamicProperties.length){this._isAnimated=!0;break}Zr+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Yr,Gr){this.data=Yr,this.type=Yr.ty,this.d="",this.lvl=Gr,this._mdf=!1,this.closed=Yr.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Yr,Gr,Wr,Zr){this.elem=Yr,this.frameId=-1,this.dataProps=createSizedArray(Gr.length),this.renderer=Wr,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",Gr.length?Gr.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Zr);var Kr,Jr=Gr.length||0,Qr;for(Kr=0;Kr<Jr;Kr+=1)Qr=PropertyFactory.getProp(Yr,Gr[Kr].v,0,0,this),this.k=Qr.k||this.k,this.dataProps[Kr]={n:Gr[Kr].n,p:Qr};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Yr){if(!(this.elem.globalData.frameId===this.frameId&&!Yr)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Yr,this._mdf)){var Gr=0,Wr=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),Gr=0;Gr<Wr;Gr+=1)this.dataProps[Gr].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[Gr].p.v:this.dashArray[Gr]=this.dataProps[Gr].p.v:this.dashoffset[0]=this.dataProps[Gr].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Yr,Gr,Wr){this.initDynamicPropertyContainer(Yr),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Yr,Gr.o,0,.01,this),this.w=PropertyFactory.getProp(Yr,Gr.w,0,null,this),this.d=new DashProperty(Yr,Gr.d||{},"svg",this),this.c=PropertyFactory.getProp(Yr,Gr.c,1,255,this),this.style=Wr,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Yr,Gr,Wr){this.initDynamicPropertyContainer(Yr),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Yr,Gr.o,0,.01,this),this.c=PropertyFactory.getProp(Yr,Gr.c,1,255,this),this.style=Wr}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Yr,Gr,Wr){this.initDynamicPropertyContainer(Yr),this.getValue=this.iterateDynamicProperties,this.style=Wr}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Yr,Gr,Wr){this.data=Gr,this.c=createTypedArray("uint8c",Gr.p*4);var Zr=Gr.k.k[0].s?Gr.k.k[0].s.length-Gr.p*4:Gr.k.k.length-Gr.p*4;this.o=createTypedArray("float32",Zr),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Zr,this.initDynamicPropertyContainer(Wr),this.prop=PropertyFactory.getProp(Yr,Gr.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Yr,Gr){for(var Wr=0,Zr=this.o.length/2,Kr;Wr<Zr;){if(Kr=Math.abs(Yr[Wr*4]-Yr[Gr*4+Wr*2]),Kr>.01)return!1;Wr+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Yr=0,Gr=this.data.k.k.length;Yr<Gr;){if(!this.comparePoints(this.data.k.k[Yr].s,this.data.p))return!1;Yr+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Yr){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Yr){var Gr,Wr=this.data.p*4,Zr,Kr;for(Gr=0;Gr<Wr;Gr+=1)Zr=Gr%4===0?100:255,Kr=Math.round(this.prop.v[Gr]*Zr),this.c[Gr]!==Kr&&(this.c[Gr]=Kr,this._cmdf=!Yr);if(this.o.length)for(Wr=this.prop.v.length,Gr=this.data.p*4;Gr<Wr;Gr+=1)Zr=Gr%2===0?100:1,Kr=Gr%2===0?Math.round(this.prop.v[Gr]*100):this.prop.v[Gr],this.o[Gr-this.data.p*4]!==Kr&&(this.o[Gr-this.data.p*4]=Kr,this._omdf=!Yr);this._mdf=!Yr}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Yr,Gr,Wr){this.initDynamicPropertyContainer(Yr),this.getValue=this.iterateDynamicProperties,this.initGradientData(Yr,Gr,Wr)}SVGGradientFillStyleData.prototype.initGradientData=function(Yr,Gr,Wr){this.o=PropertyFactory.getProp(Yr,Gr.o,0,.01,this),this.s=PropertyFactory.getProp(Yr,Gr.s,1,null,this),this.e=PropertyFactory.getProp(Yr,Gr.e,1,null,this),this.h=PropertyFactory.getProp(Yr,Gr.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Yr,Gr.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Yr,Gr.g,this),this.style=Wr,this.stops=[],this.setGradientData(Wr.pElem,Gr),this.setGradientOpacity(Gr,Wr),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Yr,Gr){var Wr=createElementID(),Zr=createNS(Gr.t===1?"linearGradient":"radialGradient");Zr.setAttribute("id",Wr),Zr.setAttribute("spreadMethod","pad"),Zr.setAttribute("gradientUnits","userSpaceOnUse");var Kr=[],Jr,Qr,ti;for(ti=Gr.g.p*4,Qr=0;Qr<ti;Qr+=4)Jr=createNS("stop"),Zr.appendChild(Jr),Kr.push(Jr);Yr.setAttribute(Gr.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Wr+")"),this.gf=Zr,this.cst=Kr},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Yr,Gr){if(this.g._hasOpacity&&!this.g._collapsable){var Wr,Zr,Kr,Jr=createNS("mask"),Qr=createNS("path");Jr.appendChild(Qr);var ti=createElementID(),ei=createElementID();Jr.setAttribute("id",ei);var ri=createNS(Yr.t===1?"linearGradient":"radialGradient");ri.setAttribute("id",ti),ri.setAttribute("spreadMethod","pad"),ri.setAttribute("gradientUnits","userSpaceOnUse"),Kr=Yr.g.k.k[0].s?Yr.g.k.k[0].s.length:Yr.g.k.k.length;var ii=this.stops;for(Zr=Yr.g.p*4;Zr<Kr;Zr+=2)Wr=createNS("stop"),Wr.setAttribute("stop-color","rgb(255,255,255)"),ri.appendChild(Wr),ii.push(Wr);Qr.setAttribute(Yr.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ti+")"),Yr.ty==="gs"&&(Qr.setAttribute("stroke-linecap",lineCapEnum[Yr.lc||2]),Qr.setAttribute("stroke-linejoin",lineJoinEnum[Yr.lj||2]),Yr.lj===1&&Qr.setAttribute("stroke-miterlimit",Yr.ml)),this.of=ri,this.ms=Jr,this.ost=ii,this.maskId=ei,Gr.msElem=Qr}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Yr,Gr,Wr){this.initDynamicPropertyContainer(Yr),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Yr,Gr.w,0,null,this),this.d=new DashProperty(Yr,Gr.d||{},"svg",this),this.initGradientData(Yr,Gr,Wr),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Yr,Gr,Wr){this.transform={mProps:Yr,op:Gr,container:Wr},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(Gr,Wr,Zr,Kr){if(Wr===0)return"";var Jr=Gr.o,Qr=Gr.i,ti=Gr.v,ei,ri=" M"+Kr.applyToPointStringified(ti[0][0],ti[0][1]);for(ei=1;ei<Wr;ei+=1)ri+=" C"+Kr.applyToPointStringified(Jr[ei-1][0],Jr[ei-1][1])+" "+Kr.applyToPointStringified(Qr[ei][0],Qr[ei][1])+" "+Kr.applyToPointStringified(ti[ei][0],ti[ei][1]);return Zr&&Wr&&(ri+=" C"+Kr.applyToPointStringified(Jr[ei-1][0],Jr[ei-1][1])+" "+Kr.applyToPointStringified(Qr[0][0],Qr[0][1])+" "+Kr.applyToPointStringified(ti[0][0],ti[0][1]),ri+="z"),ri},SVGElementsRenderer=function(){var Yr=new Matrix,Gr=new Matrix,Wr={createRenderFunction:Zr};function Zr(ni){switch(ni.ty){case"fl":return ti;case"gf":return ri;case"gs":return ei;case"st":return ii;case"sh":case"el":case"rc":case"sr":return Qr;case"tr":return Kr;case"no":return Jr;default:return null}}function Kr(ni,ai,oi){(oi||ai.transform.op._mdf)&&ai.transform.container.setAttribute("opacity",ai.transform.op.v),(oi||ai.transform.mProps._mdf)&&ai.transform.container.setAttribute("transform",ai.transform.mProps.v.to2dCSS())}function Jr(){}function Qr(ni,ai,oi){var si,li,ui,fi,hi,ci,pi=ai.styles.length,di=ai.lvl,vi,mi,gi,yi;for(ci=0;ci<pi;ci+=1){if(fi=ai.sh._mdf||oi,ai.styles[ci].lvl<di){for(mi=Gr.reset(),gi=di-ai.styles[ci].lvl,yi=ai.transformers.length-1;!fi&&gi>0;)fi=ai.transformers[yi].mProps._mdf||fi,gi-=1,yi-=1;if(fi)for(gi=di-ai.styles[ci].lvl,yi=ai.transformers.length-1;gi>0;)mi.multiply(ai.transformers[yi].mProps.v),gi-=1,yi-=1}else mi=Yr;if(vi=ai.sh.paths,li=vi._length,fi){for(ui="",si=0;si<li;si+=1)hi=vi.shapes[si],hi&&hi._length&&(ui+=buildShapeString(hi,hi._length,hi.c,mi));ai.caches[ci]=ui}else ui=ai.caches[ci];ai.styles[ci].d+=ni.hd===!0?"":ui,ai.styles[ci]._mdf=fi||ai.styles[ci]._mdf}}function ti(ni,ai,oi){var si=ai.style;(ai.c._mdf||oi)&&si.pElem.setAttribute("fill","rgb("+bmFloor(ai.c.v[0])+","+bmFloor(ai.c.v[1])+","+bmFloor(ai.c.v[2])+")"),(ai.o._mdf||oi)&&si.pElem.setAttribute("fill-opacity",ai.o.v)}function ei(ni,ai,oi){ri(ni,ai,oi),ii(ni,ai,oi)}function ri(ni,ai,oi){var si=ai.gf,li=ai.g._hasOpacity,ui=ai.s.v,fi=ai.e.v;if(ai.o._mdf||oi){var hi=ni.ty==="gf"?"fill-opacity":"stroke-opacity";ai.style.pElem.setAttribute(hi,ai.o.v)}if(ai.s._mdf||oi){var ci=ni.t===1?"x1":"cx",pi=ci==="x1"?"y1":"cy";si.setAttribute(ci,ui[0]),si.setAttribute(pi,ui[1]),li&&!ai.g._collapsable&&(ai.of.setAttribute(ci,ui[0]),ai.of.setAttribute(pi,ui[1]))}var di,vi,mi,gi;if(ai.g._cmdf||oi){di=ai.cst;var yi=ai.g.c;for(mi=di.length,vi=0;vi<mi;vi+=1)gi=di[vi],gi.setAttribute("offset",yi[vi*4]+"%"),gi.setAttribute("stop-color","rgb("+yi[vi*4+1]+","+yi[vi*4+2]+","+yi[vi*4+3]+")")}if(li&&(ai.g._omdf||oi)){var Si=ai.g.o;for(ai.g._collapsable?di=ai.cst:di=ai.ost,mi=di.length,vi=0;vi<mi;vi+=1)gi=di[vi],ai.g._collapsable||gi.setAttribute("offset",Si[vi*2]+"%"),gi.setAttribute("stop-opacity",Si[vi*2+1])}if(ni.t===1)(ai.e._mdf||oi)&&(si.setAttribute("x2",fi[0]),si.setAttribute("y2",fi[1]),li&&!ai.g._collapsable&&(ai.of.setAttribute("x2",fi[0]),ai.of.setAttribute("y2",fi[1])));else{var bi;if((ai.s._mdf||ai.e._mdf||oi)&&(bi=Math.sqrt(Math.pow(ui[0]-fi[0],2)+Math.pow(ui[1]-fi[1],2)),si.setAttribute("r",bi),li&&!ai.g._collapsable&&ai.of.setAttribute("r",bi)),ai.e._mdf||ai.h._mdf||ai.a._mdf||oi){bi||(bi=Math.sqrt(Math.pow(ui[0]-fi[0],2)+Math.pow(ui[1]-fi[1],2)));var Ti=Math.atan2(fi[1]-ui[1],fi[0]-ui[0]),Ai=ai.h.v;Ai>=1?Ai=.99:Ai<=-1&&(Ai=-.99);var Ei=bi*Ai,Mi=Math.cos(Ti+ai.a.v)*Ei+ui[0],wi=Math.sin(Ti+ai.a.v)*Ei+ui[1];si.setAttribute("fx",Mi),si.setAttribute("fy",wi),li&&!ai.g._collapsable&&(ai.of.setAttribute("fx",Mi),ai.of.setAttribute("fy",wi))}}}function ii(ni,ai,oi){var si=ai.style,li=ai.d;li&&(li._mdf||oi)&&li.dashStr&&(si.pElem.setAttribute("stroke-dasharray",li.dashStr),si.pElem.setAttribute("stroke-dashoffset",li.dashoffset[0])),ai.c&&(ai.c._mdf||oi)&&si.pElem.setAttribute("stroke","rgb("+bmFloor(ai.c.v[0])+","+bmFloor(ai.c.v[1])+","+bmFloor(ai.c.v[2])+")"),(ai.o._mdf||oi)&&si.pElem.setAttribute("stroke-opacity",ai.o.v),(ai.w._mdf||oi)&&(si.pElem.setAttribute("stroke-width",ai.w.v),si.msElem&&si.msElem.setAttribute("stroke-width",ai.w.v))}return Wr}();function SVGShapeElement(Yr,Gr,Wr){this.shapes=[],this.shapesData=Yr.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Yr,Gr,Wr),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Yr,Gr=this.shapes.length,Wr,Zr,Kr=this.stylesList.length,Jr,Qr=[],ti=!1;for(Zr=0;Zr<Kr;Zr+=1){for(Jr=this.stylesList[Zr],ti=!1,Qr.length=0,Yr=0;Yr<Gr;Yr+=1)Wr=this.shapes[Yr],Wr.styles.indexOf(Jr)!==-1&&(Qr.push(Wr),ti=Wr._isAnimated||ti);Qr.length>1&&ti&&this.setShapesAsAnimated(Qr)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Yr){var Gr,Wr=Yr.length;for(Gr=0;Gr<Wr;Gr+=1)Yr[Gr].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Yr,Gr){var Wr,Zr=new SVGStyleData(Yr,Gr),Kr=Zr.pElem;if(Yr.ty==="st")Wr=new SVGStrokeStyleData(this,Yr,Zr);else if(Yr.ty==="fl")Wr=new SVGFillStyleData(this,Yr,Zr);else if(Yr.ty==="gf"||Yr.ty==="gs"){var Jr=Yr.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;Wr=new Jr(this,Yr,Zr),this.globalData.defs.appendChild(Wr.gf),Wr.maskId&&(this.globalData.defs.appendChild(Wr.ms),this.globalData.defs.appendChild(Wr.of),Kr.setAttribute("mask","url("+getLocationHref()+"#"+Wr.maskId+")"))}else Yr.ty==="no"&&(Wr=new SVGNoStyleData(this,Yr,Zr));return(Yr.ty==="st"||Yr.ty==="gs")&&(Kr.setAttribute("stroke-linecap",lineCapEnum[Yr.lc||2]),Kr.setAttribute("stroke-linejoin",lineJoinEnum[Yr.lj||2]),Kr.setAttribute("fill-opacity","0"),Yr.lj===1&&Kr.setAttribute("stroke-miterlimit",Yr.ml)),Yr.r===2&&Kr.setAttribute("fill-rule","evenodd"),Yr.ln&&Kr.setAttribute("id",Yr.ln),Yr.cl&&Kr.setAttribute("class",Yr.cl),Yr.bm&&(Kr.style["mix-blend-mode"]=getBlendMode(Yr.bm)),this.stylesList.push(Zr),this.addToAnimatedContents(Yr,Wr),Wr},SVGShapeElement.prototype.createGroupElement=function(Yr){var Gr=new ShapeGroupData;return Yr.ln&&Gr.gr.setAttribute("id",Yr.ln),Yr.cl&&Gr.gr.setAttribute("class",Yr.cl),Yr.bm&&(Gr.gr.style["mix-blend-mode"]=getBlendMode(Yr.bm)),Gr},SVGShapeElement.prototype.createTransformElement=function(Yr,Gr){var Wr=TransformPropertyFactory.getTransformProperty(this,Yr,this),Zr=new SVGTransformData(Wr,Wr.o,Gr);return this.addToAnimatedContents(Yr,Zr),Zr},SVGShapeElement.prototype.createShapeElement=function(Yr,Gr,Wr){var Zr=4;Yr.ty==="rc"?Zr=5:Yr.ty==="el"?Zr=6:Yr.ty==="sr"&&(Zr=7);var Kr=ShapePropertyFactory.getShapeProp(this,Yr,Zr,this),Jr=new SVGShapeData(Gr,Wr,Kr);return this.shapes.push(Jr),this.addShapeToModifiers(Jr),this.addToAnimatedContents(Yr,Jr),Jr},SVGShapeElement.prototype.addToAnimatedContents=function(Yr,Gr){for(var Wr=0,Zr=this.animatedContents.length;Wr<Zr;){if(this.animatedContents[Wr].element===Gr)return;Wr+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Yr),element:Gr,data:Yr})},SVGShapeElement.prototype.setElementStyles=function(Yr){var Gr=Yr.styles,Wr,Zr=this.stylesList.length;for(Wr=0;Wr<Zr;Wr+=1)this.stylesList[Wr].closed||Gr.push(this.stylesList[Wr])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Yr,Gr=this.itemsData.length;for(Yr=0;Yr<Gr;Yr+=1)this.prevViewData[Yr]=this.itemsData[Yr];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),Gr=this.dynamicProperties.length,Yr=0;Yr<Gr;Yr+=1)this.dynamicProperties[Yr].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=[].concat(Jr),ei,ri=Yr.length-1,ii,ni,ai=[],oi=[],si,li,ui;for(ei=ri;ei>=0;ei-=1){if(ui=this.searchProcessedElement(Yr[ei]),ui?Gr[ei]=Wr[ui-1]:Yr[ei]._render=Qr,Yr[ei].ty==="fl"||Yr[ei].ty==="st"||Yr[ei].ty==="gf"||Yr[ei].ty==="gs"||Yr[ei].ty==="no")ui?Gr[ei].style.closed=!1:Gr[ei]=this.createStyleElement(Yr[ei],Kr),Yr[ei]._render&&Gr[ei].style.pElem.parentNode!==Zr&&Zr.appendChild(Gr[ei].style.pElem),ai.push(Gr[ei].style);else if(Yr[ei].ty==="gr"){if(!ui)Gr[ei]=this.createGroupElement(Yr[ei]);else for(ni=Gr[ei].it.length,ii=0;ii<ni;ii+=1)Gr[ei].prevViewData[ii]=Gr[ei].it[ii];this.searchShapes(Yr[ei].it,Gr[ei].it,Gr[ei].prevViewData,Gr[ei].gr,Kr+1,ti,Qr),Yr[ei]._render&&Gr[ei].gr.parentNode!==Zr&&Zr.appendChild(Gr[ei].gr)}else Yr[ei].ty==="tr"?(ui||(Gr[ei]=this.createTransformElement(Yr[ei],Zr)),si=Gr[ei].transform,ti.push(si)):Yr[ei].ty==="sh"||Yr[ei].ty==="rc"||Yr[ei].ty==="el"||Yr[ei].ty==="sr"?(ui||(Gr[ei]=this.createShapeElement(Yr[ei],ti,Kr)),this.setElementStyles(Gr[ei])):Yr[ei].ty==="tm"||Yr[ei].ty==="rd"||Yr[ei].ty==="ms"||Yr[ei].ty==="pb"||Yr[ei].ty==="zz"||Yr[ei].ty==="op"?(ui?(li=Gr[ei],li.closed=!1):(li=ShapeModifiers.getModifier(Yr[ei].ty),li.init(this,Yr[ei]),Gr[ei]=li,this.shapeModifiers.push(li)),oi.push(li)):Yr[ei].ty==="rp"&&(ui?(li=Gr[ei],li.closed=!0):(li=ShapeModifiers.getModifier(Yr[ei].ty),Gr[ei]=li,li.init(this,Yr,ei,Gr),this.shapeModifiers.push(li),Qr=!1),oi.push(li));this.addProcessedElement(Yr[ei],ei+1)}for(ri=ai.length,ei=0;ei<ri;ei+=1)ai[ei].closed=!0;for(ri=oi.length,ei=0;ei<ri;ei+=1)oi[ei].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Yr,Gr=this.stylesList.length;for(Yr=0;Yr<Gr;Yr+=1)this.stylesList[Yr].reset();for(this.renderShape(),Yr=0;Yr<Gr;Yr+=1)(this.stylesList[Yr]._mdf||this._isFirstFrame)&&(this.stylesList[Yr].msElem&&(this.stylesList[Yr].msElem.setAttribute("d",this.stylesList[Yr].d),this.stylesList[Yr].d="M0 0"+this.stylesList[Yr].d),this.stylesList[Yr].pElem.setAttribute("d",this.stylesList[Yr].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Yr,Gr=this.animatedContents.length,Wr;for(Yr=0;Yr<Gr;Yr+=1)Wr=this.animatedContents[Yr],(this._isFirstFrame||Wr.element._isAnimated)&&Wr.data!==!0&&Wr.fn(Wr.data,Wr.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Yr,Gr,Wr,Zr,Kr,Jr){this.o=Yr,this.sw=Gr,this.sc=Wr,this.fc=Zr,this.m=Kr,this.p=Jr,this._mdf={o:!0,sw:!!Gr,sc:!!Wr,fc:!!Zr,m:!0,p:!0}}LetterProps.prototype.update=function(Yr,Gr,Wr,Zr,Kr,Jr){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Qr=!1;return this.o!==Yr&&(this.o=Yr,this._mdf.o=!0,Qr=!0),this.sw!==Gr&&(this.sw=Gr,this._mdf.sw=!0,Qr=!0),this.sc!==Wr&&(this.sc=Wr,this._mdf.sc=!0,Qr=!0),this.fc!==Zr&&(this.fc=Zr,this._mdf.fc=!0,Qr=!0),this.m!==Kr&&(this.m=Kr,this._mdf.m=!0,Qr=!0),Jr.length&&(this.p[0]!==Jr[0]||this.p[1]!==Jr[1]||this.p[4]!==Jr[4]||this.p[5]!==Jr[5]||this.p[12]!==Jr[12]||this.p[13]!==Jr[13])&&(this.p=Jr,this._mdf.p=!0,Qr=!0),Qr};function TextProperty(Yr,Gr){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,Gr.d&&Gr.d.sid&&(Gr.d=Yr.globalData.slotManager.getProp(Gr.d)),this.data=Gr,this.elem=Yr,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Yr,Gr){for(var Wr in Gr)Object.prototype.hasOwnProperty.call(Gr,Wr)&&(Yr[Wr]=Gr[Wr]);return Yr},TextProperty.prototype.setCurrentData=function(Yr){Yr.__complete||this.completeTextData(Yr),this.currentData=Yr,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Yr){this.effectsSequence.push(Yr),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Yr){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Yr)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var Gr=this.currentData,Wr=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Zr,Kr=this.effectsSequence.length,Jr=Yr||this.data.d.k[this.keysIndex].s;for(Zr=0;Zr<Kr;Zr+=1)Wr!==this.keysIndex?Jr=this.effectsSequence[Zr](Jr,Jr.t):Jr=this.effectsSequence[Zr](this.currentData,Jr.t);Gr!==Jr&&this.setCurrentData(Jr),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Yr=this.data.d.k,Gr=this.elem.comp.renderedFrame,Wr=0,Zr=Yr.length;Wr<=Zr-1&&!(Wr===Zr-1||Yr[Wr+1].t>Gr);)Wr+=1;return this.keysIndex!==Wr&&(this.keysIndex=Wr),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Yr){for(var Gr=[],Wr=0,Zr=Yr.length,Kr,Jr,Qr=!1,ti=!1,ei="";Wr<Zr;)Qr=ti,ti=!1,Kr=Yr.charCodeAt(Wr),ei=Yr.charAt(Wr),FontManager.isCombinedCharacter(Kr)?Qr=!0:Kr>=55296&&Kr<=56319?FontManager.isRegionalFlag(Yr,Wr)?ei=Yr.substr(Wr,14):(Jr=Yr.charCodeAt(Wr+1),Jr>=56320&&Jr<=57343&&(FontManager.isModifier(Kr,Jr)?(ei=Yr.substr(Wr,2),Qr=!0):FontManager.isFlagEmoji(Yr.substr(Wr,4))?ei=Yr.substr(Wr,4):ei=Yr.substr(Wr,2))):Kr>56319?(Jr=Yr.charCodeAt(Wr+1),FontManager.isVariationSelector(Kr)&&(Qr=!0)):FontManager.isZeroWidthJoiner(Kr)&&(Qr=!0,ti=!0),Qr?(Gr[Gr.length-1]+=ei,Qr=!1):Gr.push(ei),Wr+=ei.length;return Gr},TextProperty.prototype.completeTextData=function(Yr){Yr.__complete=!0;var Gr=this.elem.globalData.fontManager,Wr=this.data,Zr=[],Kr,Jr,Qr,ti=0,ei,ri=Wr.m.g,ii=0,ni=0,ai=0,oi=[],si=0,li=0,ui,fi,hi=Gr.getFontByName(Yr.f),ci,pi=0,di=getFontProperties(hi);Yr.fWeight=di.weight,Yr.fStyle=di.style,Yr.finalSize=Yr.s,Yr.finalText=this.buildFinalText(Yr.t),Jr=Yr.finalText.length,Yr.finalLineHeight=Yr.lh;var vi=Yr.tr/1e3*Yr.finalSize,mi;if(Yr.sz)for(var gi=!0,yi=Yr.sz[0],Si=Yr.sz[1],bi,Ti;gi;){Ti=this.buildFinalText(Yr.t),bi=0,si=0,Jr=Ti.length,vi=Yr.tr/1e3*Yr.finalSize;var Ai=-1;for(Kr=0;Kr<Jr;Kr+=1)mi=Ti[Kr].charCodeAt(0),Qr=!1,Ti[Kr]===" "?Ai=Kr:(mi===13||mi===3)&&(si=0,Qr=!0,bi+=Yr.finalLineHeight||Yr.finalSize*1.2),Gr.chars?(ci=Gr.getCharData(Ti[Kr],hi.fStyle,hi.fFamily),pi=Qr?0:ci.w*Yr.finalSize/100):pi=Gr.measureText(Ti[Kr],Yr.f,Yr.finalSize),si+pi>yi&&Ti[Kr]!==" "?(Ai===-1?Jr+=1:Kr=Ai,bi+=Yr.finalLineHeight||Yr.finalSize*1.2,Ti.splice(Kr,Ai===Kr?1:0,"\r"),Ai=-1,si=0):(si+=pi,si+=vi);bi+=hi.ascent*Yr.finalSize/100,this.canResize&&Yr.finalSize>this.minimumFontSize&&Si<bi?(Yr.finalSize-=1,Yr.finalLineHeight=Yr.finalSize*Yr.lh/Yr.s):(Yr.finalText=Ti,Jr=Yr.finalText.length,gi=!1)}si=-vi,pi=0;var Ei=0,Mi;for(Kr=0;Kr<Jr;Kr+=1)if(Qr=!1,Mi=Yr.finalText[Kr],mi=Mi.charCodeAt(0),mi===13||mi===3?(Ei=0,oi.push(si),li=si>li?si:li,si=-2*vi,ei="",Qr=!0,ai+=1):ei=Mi,Gr.chars?(ci=Gr.getCharData(Mi,hi.fStyle,Gr.getFontByName(Yr.f).fFamily),pi=Qr?0:ci.w*Yr.finalSize/100):pi=Gr.measureText(ei,Yr.f,Yr.finalSize),Mi===" "?Ei+=pi+vi:(si+=pi+vi+Ei,Ei=0),Zr.push({l:pi,an:pi,add:ii,n:Qr,anIndexes:[],val:ei,line:ai,animatorJustifyOffset:0}),ri==2){if(ii+=pi,ei===""||ei===" "||Kr===Jr-1){for((ei===""||ei===" ")&&(ii-=pi);ni<=Kr;)Zr[ni].an=ii,Zr[ni].ind=ti,Zr[ni].extra=pi,ni+=1;ti+=1,ii=0}}else if(ri==3){if(ii+=pi,ei===""||Kr===Jr-1){for(ei===""&&(ii-=pi);ni<=Kr;)Zr[ni].an=ii,Zr[ni].ind=ti,Zr[ni].extra=pi,ni+=1;ii=0,ti+=1}}else Zr[ti].ind=ti,Zr[ti].extra=0,ti+=1;if(Yr.l=Zr,li=si>li?si:li,oi.push(si),Yr.sz)Yr.boxWidth=Yr.sz[0],Yr.justifyOffset=0;else switch(Yr.boxWidth=li,Yr.j){case 1:Yr.justifyOffset=-Yr.boxWidth;break;case 2:Yr.justifyOffset=-Yr.boxWidth/2;break;default:Yr.justifyOffset=0}Yr.lineWidths=oi;var wi=Wr.a,Pi,xi;fi=wi.length;var Ci,Li,Ii=[];for(ui=0;ui<fi;ui+=1){for(Pi=wi[ui],Pi.a.sc&&(Yr.strokeColorAnim=!0),Pi.a.sw&&(Yr.strokeWidthAnim=!0),(Pi.a.fc||Pi.a.fh||Pi.a.fs||Pi.a.fb)&&(Yr.fillColorAnim=!0),Li=0,Ci=Pi.s.b,Kr=0;Kr<Jr;Kr+=1)xi=Zr[Kr],xi.anIndexes[ui]=Li,(Ci==1&&xi.val!==""||Ci==2&&xi.val!==""&&xi.val!==" "||Ci==3&&(xi.n||xi.val==" "||Kr==Jr-1)||Ci==4&&(xi.n||Kr==Jr-1))&&(Pi.s.rn===1&&Ii.push(Li),Li+=1);Wr.a[ui].s.totalChars=Li;var zi=-1,Bi;if(Pi.s.rn===1)for(Kr=0;Kr<Jr;Kr+=1)xi=Zr[Kr],zi!=xi.anIndexes[ui]&&(zi=xi.anIndexes[ui],Bi=Ii.splice(Math.floor(Math.random()*Ii.length),1)[0]),xi.anIndexes[ui]=Bi}Yr.yOffset=Yr.finalLineHeight||Yr.finalSize*1.2,Yr.ls=Yr.ls||0,Yr.ascent=hi.ascent*Yr.finalSize/100},TextProperty.prototype.updateDocumentData=function(Yr,Gr){Gr=Gr===void 0?this.keysIndex:Gr;var Wr=this.copyData({},this.data.d.k[Gr].s);Wr=this.copyData(Wr,Yr),this.data.d.k[Gr].s=Wr,this.recalculate(Gr),this.setCurrentData(Wr),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Yr){var Gr=this.data.d.k[Yr].s;Gr.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(Gr)},TextProperty.prototype.canResizeFont=function(Yr){this.canResize=Yr,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Yr){this.minimumFontSize=Math.floor(Yr)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var Yr=Math.max,Gr=Math.min,Wr=Math.floor;function Zr(Jr,Qr){this._currentTextLength=-1,this.k=!1,this.data=Qr,this.elem=Jr,this.comp=Jr.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Jr),this.s=PropertyFactory.getProp(Jr,Qr.s||{k:0},0,0,this),"e"in Qr?this.e=PropertyFactory.getProp(Jr,Qr.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Jr,Qr.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Jr,Qr.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Jr,Qr.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Jr,Qr.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Jr,Qr.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Zr.prototype={getMult:function(Qr){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ti=0,ei=0,ri=1,ii=1;this.ne.v>0?ti=this.ne.v/100:ei=-this.ne.v/100,this.xe.v>0?ri=1-this.xe.v/100:ii=1+this.xe.v/100;var ni=BezierFactory.getBezierEasing(ti,ei,ri,ii).get,ai=0,oi=this.finalS,si=this.finalE,li=this.data.sh;if(li===2)si===oi?ai=Qr>=si?1:0:ai=Yr(0,Gr(.5/(si-oi)+(Qr-oi)/(si-oi),1)),ai=ni(ai);else if(li===3)si===oi?ai=Qr>=si?0:1:ai=1-Yr(0,Gr(.5/(si-oi)+(Qr-oi)/(si-oi),1)),ai=ni(ai);else if(li===4)si===oi?ai=0:(ai=Yr(0,Gr(.5/(si-oi)+(Qr-oi)/(si-oi),1)),ai<.5?ai*=2:ai=1-2*(ai-.5)),ai=ni(ai);else if(li===5){if(si===oi)ai=0;else{var ui=si-oi;Qr=Gr(Yr(0,Qr+.5-oi),si-oi);var fi=-ui/2+Qr,hi=ui/2;ai=Math.sqrt(1-fi*fi/(hi*hi))}ai=ni(ai)}else li===6?(si===oi?ai=0:(Qr=Gr(Yr(0,Qr+.5-oi),si-oi),ai=(1+Math.cos(Math.PI+Math.PI*2*Qr/(si-oi)))/2),ai=ni(ai)):(Qr>=Wr(oi)&&(Qr-oi<0?ai=Yr(0,Gr(Gr(si,1)-(oi-Qr),1)):ai=Yr(0,Gr(si-Qr,1))),ai=ni(ai));if(this.sm.v!==100){var ci=this.sm.v*.01;ci===0&&(ci=1e-8);var pi=.5-ci*.5;ai<pi?ai=0:(ai=(ai-pi)/ci,ai>1&&(ai=1))}return ai*this.a.v},getValue:function(Qr){this.iterateDynamicProperties(),this._mdf=Qr||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Qr&&this.data.r===2&&(this.e.v=this._currentTextLength);var ti=this.data.r===2?1:100/this.data.totalChars,ei=this.o.v/ti,ri=this.s.v/ti+ei,ii=this.e.v/ti+ei;if(ri>ii){var ni=ri;ri=ii,ii=ni}this.finalS=ri,this.finalE=ii}},extendPrototype([DynamicPropertyContainer],Zr);function Kr(Jr,Qr,ti){return new Zr(Jr,Qr,ti)}return{getTextSelectorProp:Kr}}();function TextAnimatorDataProperty(Yr,Gr,Wr){var Zr={propType:!1},Kr=PropertyFactory.getProp,Jr=Gr.a;this.a={r:Jr.r?Kr(Yr,Jr.r,0,degToRads,Wr):Zr,rx:Jr.rx?Kr(Yr,Jr.rx,0,degToRads,Wr):Zr,ry:Jr.ry?Kr(Yr,Jr.ry,0,degToRads,Wr):Zr,sk:Jr.sk?Kr(Yr,Jr.sk,0,degToRads,Wr):Zr,sa:Jr.sa?Kr(Yr,Jr.sa,0,degToRads,Wr):Zr,s:Jr.s?Kr(Yr,Jr.s,1,.01,Wr):Zr,a:Jr.a?Kr(Yr,Jr.a,1,0,Wr):Zr,o:Jr.o?Kr(Yr,Jr.o,0,.01,Wr):Zr,p:Jr.p?Kr(Yr,Jr.p,1,0,Wr):Zr,sw:Jr.sw?Kr(Yr,Jr.sw,0,0,Wr):Zr,sc:Jr.sc?Kr(Yr,Jr.sc,1,0,Wr):Zr,fc:Jr.fc?Kr(Yr,Jr.fc,1,0,Wr):Zr,fh:Jr.fh?Kr(Yr,Jr.fh,0,0,Wr):Zr,fs:Jr.fs?Kr(Yr,Jr.fs,0,.01,Wr):Zr,fb:Jr.fb?Kr(Yr,Jr.fb,0,.01,Wr):Zr,t:Jr.t?Kr(Yr,Jr.t,0,0,Wr):Zr},this.s=TextSelectorProp.getTextSelectorProp(Yr,Gr.s,Wr),this.s.t=Gr.s.t}function TextAnimatorProperty(Yr,Gr,Wr){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Yr,this._renderType=Gr,this._elem=Wr,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Wr)}TextAnimatorProperty.prototype.searchProperties=function(){var Yr,Gr=this._textData.a.length,Wr,Zr=PropertyFactory.getProp;for(Yr=0;Yr<Gr;Yr+=1)Wr=this._textData.a[Yr],this._animatorsData[Yr]=new TextAnimatorDataProperty(this._elem,Wr,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Zr(this._elem,this._textData.p.a,0,0,this),f:Zr(this._elem,this._textData.p.f,0,0,this),l:Zr(this._elem,this._textData.p.l,0,0,this),r:Zr(this._elem,this._textData.p.r,0,0,this),p:Zr(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Zr(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Yr,Gr){if(this.lettersChangedFlag=Gr,!(!this._mdf&&!this._isFirstFrame&&!Gr&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var Wr=this._moreOptions.alignment.v,Zr=this._animatorsData,Kr=this._textData,Jr=this.mHelper,Qr=this._renderType,ti=this.renderedLetters.length,ei,ri,ii,ni,ai=Yr.l,oi,si,li,ui,fi,hi,ci,pi,di,vi,mi,gi,yi,Si,bi;if(this._hasMaskedPath){if(bi=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ti=bi.v;this._pathData.r.v&&(Ti=Ti.reverse()),oi={tLength:0,segments:[]},ni=Ti._length-1;var Ai;for(gi=0,ii=0;ii<ni;ii+=1)Ai=bez.buildBezierData(Ti.v[ii],Ti.v[ii+1],[Ti.o[ii][0]-Ti.v[ii][0],Ti.o[ii][1]-Ti.v[ii][1]],[Ti.i[ii+1][0]-Ti.v[ii+1][0],Ti.i[ii+1][1]-Ti.v[ii+1][1]]),oi.tLength+=Ai.segmentLength,oi.segments.push(Ai),gi+=Ai.segmentLength;ii=ni,bi.v.c&&(Ai=bez.buildBezierData(Ti.v[ii],Ti.v[0],[Ti.o[ii][0]-Ti.v[ii][0],Ti.o[ii][1]-Ti.v[ii][1]],[Ti.i[0][0]-Ti.v[0][0],Ti.i[0][1]-Ti.v[0][1]]),oi.tLength+=Ai.segmentLength,oi.segments.push(Ai),gi+=Ai.segmentLength),this._pathData.pi=oi}if(oi=this._pathData.pi,si=this._pathData.f.v,ci=0,hi=1,ui=0,fi=!0,vi=oi.segments,si<0&&bi.v.c)for(oi.tLength<Math.abs(si)&&(si=-Math.abs(si)%oi.tLength),ci=vi.length-1,di=vi[ci].points,hi=di.length-1;si<0;)si+=di[hi].partialLength,hi-=1,hi<0&&(ci-=1,di=vi[ci].points,hi=di.length-1);di=vi[ci].points,pi=di[hi-1],li=di[hi],mi=li.partialLength}ni=ai.length,ei=0,ri=0;var Ei=Yr.finalSize*1.2*.714,Mi=!0,wi,Pi,xi,Ci,Li;Ci=Zr.length;var Ii,zi=-1,Bi,Vi,ji,tn=si,hn=ci,nn=hi,dn=-1,cn,Ji,vn,pn,Xi,Nn,Wn,Fn,Qn="",$n=this.defaultPropsArray,$a;if(Yr.j===2||Yr.j===1){var xa=0,Ys=0,gs=Yr.j===2?-.5:-1,Xs=0,Nu=!0;for(ii=0;ii<ni;ii+=1)if(ai[ii].n){for(xa&&(xa+=Ys);Xs<ii;)ai[Xs].animatorJustifyOffset=xa,Xs+=1;xa=0,Nu=!0}else{for(xi=0;xi<Ci;xi+=1)wi=Zr[xi].a,wi.t.propType&&(Nu&&Yr.j===2&&(Ys+=wi.t.v*gs),Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),Ii.length?xa+=wi.t.v*Ii[0]*gs:xa+=wi.t.v*Ii*gs);Nu=!1}for(xa&&(xa+=Ys);Xs<ii;)ai[Xs].animatorJustifyOffset=xa,Xs+=1}for(ii=0;ii<ni;ii+=1){if(Jr.reset(),cn=1,ai[ii].n)ei=0,ri+=Yr.yOffset,ri+=Mi?1:0,si=tn,Mi=!1,this._hasMaskedPath&&(ci=hn,hi=nn,di=vi[ci].points,pi=di[hi-1],li=di[hi],mi=li.partialLength,ui=0),Qn="",Fn="",Nn="",$a="",$n=this.defaultPropsArray;else{if(this._hasMaskedPath){if(dn!==ai[ii].line){switch(Yr.j){case 1:si+=gi-Yr.lineWidths[ai[ii].line];break;case 2:si+=(gi-Yr.lineWidths[ai[ii].line])/2;break;default:break}dn=ai[ii].line}zi!==ai[ii].ind&&(ai[zi]&&(si+=ai[zi].extra),si+=ai[ii].an/2,zi=ai[ii].ind),si+=Wr[0]*ai[ii].an*.005;var qs=0;for(xi=0;xi<Ci;xi+=1)wi=Zr[xi].a,wi.p.propType&&(Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),Ii.length?qs+=wi.p.v[0]*Ii[0]:qs+=wi.p.v[0]*Ii),wi.a.propType&&(Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),Ii.length?qs+=wi.a.v[0]*Ii[0]:qs+=wi.a.v[0]*Ii);for(fi=!0,this._pathData.a.v&&(si=ai[0].an*.5+(gi-this._pathData.f.v-ai[0].an*.5-ai[ai.length-1].an*.5)*zi/(ni-1),si+=this._pathData.f.v);fi;)ui+mi>=si+qs||!di?(yi=(si+qs-ui)/li.partialLength,Vi=pi.point[0]+(li.point[0]-pi.point[0])*yi,ji=pi.point[1]+(li.point[1]-pi.point[1])*yi,Jr.translate(-Wr[0]*ai[ii].an*.005,-(Wr[1]*Ei)*.01),fi=!1):di&&(ui+=li.partialLength,hi+=1,hi>=di.length&&(hi=0,ci+=1,vi[ci]?di=vi[ci].points:bi.v.c?(hi=0,ci=0,di=vi[ci].points):(ui-=li.partialLength,di=null)),di&&(pi=li,li=di[hi],mi=li.partialLength));Bi=ai[ii].an/2-ai[ii].add,Jr.translate(-Bi,0,0)}else Bi=ai[ii].an/2-ai[ii].add,Jr.translate(-Bi,0,0),Jr.translate(-Wr[0]*ai[ii].an*.005,-Wr[1]*Ei*.01,0);for(xi=0;xi<Ci;xi+=1)wi=Zr[xi].a,wi.t.propType&&(Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),(ei!==0||Yr.j!==0)&&(this._hasMaskedPath?Ii.length?si+=wi.t.v*Ii[0]:si+=wi.t.v*Ii:Ii.length?ei+=wi.t.v*Ii[0]:ei+=wi.t.v*Ii));for(Yr.strokeWidthAnim&&(vn=Yr.sw||0),Yr.strokeColorAnim&&(Yr.sc?Ji=[Yr.sc[0],Yr.sc[1],Yr.sc[2]]:Ji=[0,0,0]),Yr.fillColorAnim&&Yr.fc&&(pn=[Yr.fc[0],Yr.fc[1],Yr.fc[2]]),xi=0;xi<Ci;xi+=1)wi=Zr[xi].a,wi.a.propType&&(Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),Ii.length?Jr.translate(-wi.a.v[0]*Ii[0],-wi.a.v[1]*Ii[1],wi.a.v[2]*Ii[2]):Jr.translate(-wi.a.v[0]*Ii,-wi.a.v[1]*Ii,wi.a.v[2]*Ii));for(xi=0;xi<Ci;xi+=1)wi=Zr[xi].a,wi.s.propType&&(Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),Ii.length?Jr.scale(1+(wi.s.v[0]-1)*Ii[0],1+(wi.s.v[1]-1)*Ii[1],1):Jr.scale(1+(wi.s.v[0]-1)*Ii,1+(wi.s.v[1]-1)*Ii,1));for(xi=0;xi<Ci;xi+=1){if(wi=Zr[xi].a,Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),wi.sk.propType&&(Ii.length?Jr.skewFromAxis(-wi.sk.v*Ii[0],wi.sa.v*Ii[1]):Jr.skewFromAxis(-wi.sk.v*Ii,wi.sa.v*Ii)),wi.r.propType&&(Ii.length?Jr.rotateZ(-wi.r.v*Ii[2]):Jr.rotateZ(-wi.r.v*Ii)),wi.ry.propType&&(Ii.length?Jr.rotateY(wi.ry.v*Ii[1]):Jr.rotateY(wi.ry.v*Ii)),wi.rx.propType&&(Ii.length?Jr.rotateX(wi.rx.v*Ii[0]):Jr.rotateX(wi.rx.v*Ii)),wi.o.propType&&(Ii.length?cn+=(wi.o.v*Ii[0]-cn)*Ii[0]:cn+=(wi.o.v*Ii-cn)*Ii),Yr.strokeWidthAnim&&wi.sw.propType&&(Ii.length?vn+=wi.sw.v*Ii[0]:vn+=wi.sw.v*Ii),Yr.strokeColorAnim&&wi.sc.propType)for(Xi=0;Xi<3;Xi+=1)Ii.length?Ji[Xi]+=(wi.sc.v[Xi]-Ji[Xi])*Ii[0]:Ji[Xi]+=(wi.sc.v[Xi]-Ji[Xi])*Ii;if(Yr.fillColorAnim&&Yr.fc){if(wi.fc.propType)for(Xi=0;Xi<3;Xi+=1)Ii.length?pn[Xi]+=(wi.fc.v[Xi]-pn[Xi])*Ii[0]:pn[Xi]+=(wi.fc.v[Xi]-pn[Xi])*Ii;wi.fh.propType&&(Ii.length?pn=addHueToRGB(pn,wi.fh.v*Ii[0]):pn=addHueToRGB(pn,wi.fh.v*Ii)),wi.fs.propType&&(Ii.length?pn=addSaturationToRGB(pn,wi.fs.v*Ii[0]):pn=addSaturationToRGB(pn,wi.fs.v*Ii)),wi.fb.propType&&(Ii.length?pn=addBrightnessToRGB(pn,wi.fb.v*Ii[0]):pn=addBrightnessToRGB(pn,wi.fb.v*Ii))}}for(xi=0;xi<Ci;xi+=1)wi=Zr[xi].a,wi.p.propType&&(Pi=Zr[xi].s,Ii=Pi.getMult(ai[ii].anIndexes[xi],Kr.a[xi].s.totalChars),this._hasMaskedPath?Ii.length?Jr.translate(0,wi.p.v[1]*Ii[0],-wi.p.v[2]*Ii[1]):Jr.translate(0,wi.p.v[1]*Ii,-wi.p.v[2]*Ii):Ii.length?Jr.translate(wi.p.v[0]*Ii[0],wi.p.v[1]*Ii[1],-wi.p.v[2]*Ii[2]):Jr.translate(wi.p.v[0]*Ii,wi.p.v[1]*Ii,-wi.p.v[2]*Ii));if(Yr.strokeWidthAnim&&(Nn=vn<0?0:vn),Yr.strokeColorAnim&&(Wn="rgb("+Math.round(Ji[0]*255)+","+Math.round(Ji[1]*255)+","+Math.round(Ji[2]*255)+")"),Yr.fillColorAnim&&Yr.fc&&(Fn="rgb("+Math.round(pn[0]*255)+","+Math.round(pn[1]*255)+","+Math.round(pn[2]*255)+")"),this._hasMaskedPath){if(Jr.translate(0,-Yr.ls),Jr.translate(0,Wr[1]*Ei*.01+ri,0),this._pathData.p.v){Si=(li.point[1]-pi.point[1])/(li.point[0]-pi.point[0]);var Zf=Math.atan(Si)*180/Math.PI;li.point[0]<pi.point[0]&&(Zf+=180),Jr.rotate(-Zf*Math.PI/180)}Jr.translate(Vi,ji,0),si-=Wr[0]*ai[ii].an*.005,ai[ii+1]&&zi!==ai[ii+1].ind&&(si+=ai[ii].an/2,si+=Yr.tr*.001*Yr.finalSize)}else{switch(Jr.translate(ei,ri,0),Yr.ps&&Jr.translate(Yr.ps[0],Yr.ps[1]+Yr.ascent,0),Yr.j){case 1:Jr.translate(ai[ii].animatorJustifyOffset+Yr.justifyOffset+(Yr.boxWidth-Yr.lineWidths[ai[ii].line]),0,0);break;case 2:Jr.translate(ai[ii].animatorJustifyOffset+Yr.justifyOffset+(Yr.boxWidth-Yr.lineWidths[ai[ii].line])/2,0,0);break;default:break}Jr.translate(0,-Yr.ls),Jr.translate(Bi,0,0),Jr.translate(Wr[0]*ai[ii].an*.005,Wr[1]*Ei*.01,0),ei+=ai[ii].l+Yr.tr*.001*Yr.finalSize}Qr==="html"?Qn=Jr.toCSS():Qr==="svg"?Qn=Jr.to2dCSS():$n=[Jr.props[0],Jr.props[1],Jr.props[2],Jr.props[3],Jr.props[4],Jr.props[5],Jr.props[6],Jr.props[7],Jr.props[8],Jr.props[9],Jr.props[10],Jr.props[11],Jr.props[12],Jr.props[13],Jr.props[14],Jr.props[15]],$a=cn}ti<=ii?(Li=new LetterProps($a,Nn,Wn,Fn,Qn,$n),this.renderedLetters.push(Li),ti+=1,this.lettersChangedFlag=!0):(Li=this.renderedLetters[ii],this.lettersChangedFlag=Li.update($a,Nn,Wn,Fn,Qn,$n)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Yr,Gr,Wr){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Yr,Gr,Wr),this.textProperty=new TextProperty(this,Yr.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Yr.t,this.renderType,this),this.initTransform(Yr,Gr,Wr),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Yr){this._mdf=!1,this.prepareRenderableFrame(Yr),this.prepareProperties(Yr,this.isInRange)},ITextElement.prototype.createPathShape=function(Yr,Gr){var Wr,Zr=Gr.length,Kr,Jr="";for(Wr=0;Wr<Zr;Wr+=1)Gr[Wr].ty==="sh"&&(Kr=Gr[Wr].ks.k,Jr+=buildShapeString(Kr,Kr.i.length,!0,Yr));return Jr},ITextElement.prototype.updateDocumentData=function(Yr,Gr){this.textProperty.updateDocumentData(Yr,Gr)},ITextElement.prototype.canResizeFont=function(Yr){this.textProperty.canResizeFont(Yr)},ITextElement.prototype.setMinimumFontSize=function(Yr){this.textProperty.setMinimumFontSize(Yr)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Yr,Gr,Wr,Zr,Kr){switch(Yr.ps&&Gr.translate(Yr.ps[0],Yr.ps[1]+Yr.ascent,0),Gr.translate(0,-Yr.ls,0),Yr.j){case 1:Gr.translate(Yr.justifyOffset+(Yr.boxWidth-Yr.lineWidths[Wr]),0,0);break;case 2:Gr.translate(Yr.justifyOffset+(Yr.boxWidth-Yr.lineWidths[Wr])/2,0,0);break;default:break}Gr.translate(Zr,Kr,0)},ITextElement.prototype.buildColor=function(Yr){return"rgb("+Math.round(Yr[0]*255)+","+Math.round(Yr[1]*255)+","+Math.round(Yr[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Yr,Gr,Wr){this.textSpans=[],this.renderType="svg",this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Yr){for(var Gr=0,Wr=Yr.length,Zr=[],Kr="";Gr<Wr;)Yr[Gr]==="\r"||Yr[Gr]===""?(Zr.push(Kr),Kr=""):Kr+=Yr[Gr],Gr+=1;return Zr.push(Kr),Zr},SVGTextLottieElement.prototype.buildShapeData=function(Yr,Gr){if(Yr.shapes&&Yr.shapes.length){var Wr=Yr.shapes[0];if(Wr.it){var Zr=Wr.it[Wr.it.length-1];Zr.s&&(Zr.s.k[0]=Gr,Zr.s.k[1]=Gr)}}return Yr},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Yr,Gr,Wr=this.textProperty.currentData;this.renderedLetters=createSizedArray(Wr?Wr.l.length:0),Wr.fc?this.layerElement.setAttribute("fill",this.buildColor(Wr.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Wr.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Wr.sc)),this.layerElement.setAttribute("stroke-width",Wr.sw)),this.layerElement.setAttribute("font-size",Wr.finalSize);var Zr=this.globalData.fontManager.getFontByName(Wr.f);if(Zr.fClass)this.layerElement.setAttribute("class",Zr.fClass);else{this.layerElement.setAttribute("font-family",Zr.fFamily);var Kr=Wr.fWeight,Jr=Wr.fStyle;this.layerElement.setAttribute("font-style",Jr),this.layerElement.setAttribute("font-weight",Kr)}this.layerElement.setAttribute("aria-label",Wr.t);var Qr=Wr.l||[],ti=!!this.globalData.fontManager.chars;Gr=Qr.length;var ei,ri=this.mHelper,ii="",ni=this.data.singleShape,ai=0,oi=0,si=!0,li=Wr.tr*.001*Wr.finalSize;if(ni&&!ti&&!Wr.sz){var ui=this.textContainer,fi="start";switch(Wr.j){case 1:fi="end";break;case 2:fi="middle";break;default:fi="start";break}ui.setAttribute("text-anchor",fi),ui.setAttribute("letter-spacing",li);var hi=this.buildTextContents(Wr.finalText);for(Gr=hi.length,oi=Wr.ps?Wr.ps[1]+Wr.ascent:0,Yr=0;Yr<Gr;Yr+=1)ei=this.textSpans[Yr].span||createNS("tspan"),ei.textContent=hi[Yr],ei.setAttribute("x",0),ei.setAttribute("y",oi),ei.style.display="inherit",ui.appendChild(ei),this.textSpans[Yr]||(this.textSpans[Yr]={span:null,glyph:null}),this.textSpans[Yr].span=ei,oi+=Wr.finalLineHeight;this.layerElement.appendChild(ui)}else{var ci=this.textSpans.length,pi;for(Yr=0;Yr<Gr;Yr+=1){if(this.textSpans[Yr]||(this.textSpans[Yr]={span:null,childSpan:null,glyph:null}),!ti||!ni||Yr===0){if(ei=ci>Yr?this.textSpans[Yr].span:createNS(ti?"g":"text"),ci<=Yr){if(ei.setAttribute("stroke-linecap","butt"),ei.setAttribute("stroke-linejoin","round"),ei.setAttribute("stroke-miterlimit","4"),this.textSpans[Yr].span=ei,ti){var di=createNS("g");ei.appendChild(di),this.textSpans[Yr].childSpan=di}this.textSpans[Yr].span=ei,this.layerElement.appendChild(ei)}ei.style.display="inherit"}if(ri.reset(),ni&&(Qr[Yr].n&&(ai=-li,oi+=Wr.yOffset,oi+=si?1:0,si=!1),this.applyTextPropertiesToMatrix(Wr,ri,Qr[Yr].line,ai,oi),ai+=Qr[Yr].l||0,ai+=li),ti){pi=this.globalData.fontManager.getCharData(Wr.finalText[Yr],Zr.fStyle,this.globalData.fontManager.getFontByName(Wr.f).fFamily);var vi;if(pi.t===1)vi=new SVGCompElement(pi.data,this.globalData,this);else{var mi=emptyShapeData;pi.data&&pi.data.shapes&&(mi=this.buildShapeData(pi.data,Wr.finalSize)),vi=new SVGShapeElement(mi,this.globalData,this)}if(this.textSpans[Yr].glyph){var gi=this.textSpans[Yr].glyph;this.textSpans[Yr].childSpan.removeChild(gi.layerElement),gi.destroy()}this.textSpans[Yr].glyph=vi,vi._debug=!0,vi.prepareFrame(0),vi.renderFrame(),this.textSpans[Yr].childSpan.appendChild(vi.layerElement),pi.t===1&&this.textSpans[Yr].childSpan.setAttribute("transform","scale("+Wr.finalSize/100+","+Wr.finalSize/100+")")}else ni&&ei.setAttribute("transform","translate("+ri.props[12]+","+ri.props[13]+")"),ei.textContent=Qr[Yr].val,ei.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ni&&ei&&ei.setAttribute("d",ii)}for(;Yr<this.textSpans.length;)this.textSpans[Yr].span.style.display="none",Yr+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Yr=this.layerElement.getBBox();this.bbox={top:Yr.y,left:Yr.x,width:Yr.width,height:Yr.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Yr,Gr=this.textSpans.length,Wr;for(this.renderedFrame=this.comp.renderedFrame,Yr=0;Yr<Gr;Yr+=1)Wr=this.textSpans[Yr].glyph,Wr&&(Wr.prepareFrame(this.comp.renderedFrame-this.data.st),Wr._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Yr,Gr,Wr=this.textAnimator.renderedLetters,Zr=this.textProperty.currentData.l;Gr=Zr.length;var Kr,Jr,Qr;for(Yr=0;Yr<Gr;Yr+=1)Zr[Yr].n||(Kr=Wr[Yr],Jr=this.textSpans[Yr].span,Qr=this.textSpans[Yr].glyph,Qr&&Qr.renderFrame(),Kr._mdf.m&&Jr.setAttribute("transform",Kr.m),Kr._mdf.o&&Jr.setAttribute("opacity",Kr.o),Kr._mdf.sw&&Jr.setAttribute("stroke-width",Kr.sw),Kr._mdf.sc&&Jr.setAttribute("stroke",Kr.sc),Kr._mdf.fc&&Jr.setAttribute("fill",Kr.fc))}};function ISolidElement(Yr,Gr,Wr){this.initElement(Yr,Gr,Wr)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Yr=createNS("rect");Yr.setAttribute("width",this.data.sw),Yr.setAttribute("height",this.data.sh),Yr.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Yr)};function NullElement(Yr,Gr,Wr){this.initFrame(),this.initBaseData(Yr,Gr,Wr),this.initFrame(),this.initTransform(Yr,Gr,Wr),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Yr){this.prepareProperties(Yr,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Yr){return new NullElement(Yr,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Yr){return new SVGShapeElement(Yr,this.globalData,this)},SVGRendererBase.prototype.createText=function(Yr){return new SVGTextLottieElement(Yr,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Yr){return new IImageElement(Yr,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Yr){return new ISolidElement(Yr,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Yr){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Yr.w+" "+Yr.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Yr.w),this.svgElement.setAttribute("height",Yr.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var Gr=this.globalData.defs;this.setupGlobalData(Yr,Gr),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Yr;var Wr=createNS("clipPath"),Zr=createNS("rect");Zr.setAttribute("width",Yr.w),Zr.setAttribute("height",Yr.h),Zr.setAttribute("x",0),Zr.setAttribute("y",0);var Kr=createElementID();Wr.setAttribute("id",Kr),Wr.appendChild(Zr),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Kr+")"),Gr.appendChild(Wr),this.layers=Yr.layers,this.elements=createSizedArray(Yr.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Yr,Gr=this.layers?this.layers.length:0;for(Yr=0;Yr<Gr;Yr+=1)this.elements[Yr]&&this.elements[Yr].destroy&&this.elements[Yr].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Yr){var Gr=0,Wr=this.layers.length;for(Gr=0;Gr<Wr;Gr+=1)if(this.layers[Gr].ind===Yr)return Gr;return-1},SVGRendererBase.prototype.buildItem=function(Yr){var Gr=this.elements;if(!(Gr[Yr]||this.layers[Yr].ty===99)){Gr[Yr]=!0;var Wr=this.createItem(this.layers[Yr]);if(Gr[Yr]=Wr,getExpressionsPlugin()&&(this.layers[Yr].ty===0&&this.globalData.projectInterface.registerComposition(Wr),Wr.initExpressions()),this.appendElementInPos(Wr,Yr),this.layers[Yr].tt){var Zr="tp"in this.layers[Yr]?this.findIndexByInd(this.layers[Yr].tp):Yr-1;if(Zr===-1)return;if(!this.elements[Zr]||this.elements[Zr]===!0)this.buildItem(Zr),this.addPendingElement(Wr);else{var Kr=Gr[Zr],Jr=Kr.getMatte(this.layers[Yr].tt);Wr.setMatte(Jr)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Yr=this.pendingElements.pop();if(Yr.checkParenting(),Yr.data.tt)for(var Gr=0,Wr=this.elements.length;Gr<Wr;){if(this.elements[Gr]===Yr){var Zr="tp"in Yr.data?this.findIndexByInd(Yr.data.tp):Gr-1,Kr=this.elements[Zr],Jr=Kr.getMatte(this.layers[Gr].tt);Yr.setMatte(Jr);break}Gr+=1}}},SVGRendererBase.prototype.renderFrame=function(Yr){if(!(this.renderedFrame===Yr||this.destroyed)){Yr===null?Yr=this.renderedFrame:this.renderedFrame=Yr,this.globalData.frameNum=Yr,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Yr,this.globalData._mdf=!1;var Gr,Wr=this.layers.length;for(this.completeLayers||this.checkLayers(Yr),Gr=Wr-1;Gr>=0;Gr-=1)(this.completeLayers||this.elements[Gr])&&this.elements[Gr].prepareFrame(Yr-this.layers[Gr].st);if(this.globalData._mdf)for(Gr=0;Gr<Wr;Gr+=1)(this.completeLayers||this.elements[Gr])&&this.elements[Gr].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Yr,Gr){var Wr=Yr.getBaseElement();if(Wr){for(var Zr=0,Kr;Zr<Gr;)this.elements[Zr]&&this.elements[Zr]!==!0&&this.elements[Zr].getBaseElement()&&(Kr=this.elements[Zr].getBaseElement()),Zr+=1;Kr?this.layerElement.insertBefore(Wr,Kr):this.layerElement.appendChild(Wr)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Yr,Gr,Wr){this.initFrame(),this.initBaseData(Yr,Gr,Wr),this.initTransform(Yr,Gr,Wr),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!Gr.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Yr){if(this._mdf=!1,this.prepareRenderableFrame(Yr),this.prepareProperties(Yr,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Yr/this.data.sr;else{var Gr=this.tm.v;Gr===this.data.op&&(Gr=this.data.op-1),this.renderedFrame=Gr}var Wr,Zr=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Wr=Zr-1;Wr>=0;Wr-=1)(this.completeLayers||this.elements[Wr])&&(this.elements[Wr].prepareFrame(this.renderedFrame-this.layers[Wr].st),this.elements[Wr]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Yr,Gr=this.layers.length;for(Yr=0;Yr<Gr;Yr+=1)(this.completeLayers||this.elements[Yr])&&this.elements[Yr].renderFrame()},ICompElement.prototype.setElements=function(Yr){this.elements=Yr},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Yr,Gr=this.layers.length;for(Yr=0;Yr<Gr;Yr+=1)this.elements[Yr]&&this.elements[Yr].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Yr,Gr,Wr){this.layers=Yr.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Yr,Gr,Wr),this.tm=Yr.tm?PropertyFactory.getProp(this,Yr.tm,0,Gr.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Yr){return new SVGCompElement(Yr,this.globalData,this)};function SVGRenderer(Yr,Gr){this.animationItem=Yr,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var Wr="";if(Gr&&Gr.title){var Zr=createNS("title"),Kr=createElementID();Zr.setAttribute("id",Kr),Zr.textContent=Gr.title,this.svgElement.appendChild(Zr),Wr+=Kr}if(Gr&&Gr.description){var Jr=createNS("desc"),Qr=createElementID();Jr.setAttribute("id",Qr),Jr.textContent=Gr.description,this.svgElement.appendChild(Jr),Wr+=" "+Qr}Wr&&this.svgElement.setAttribute("aria-labelledby",Wr);var ti=createNS("defs");this.svgElement.appendChild(ti);var ei=createNS("g");this.svgElement.appendChild(ei),this.layerElement=ei,this.renderConfig={preserveAspectRatio:Gr&&Gr.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Gr&&Gr.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Gr&&Gr.contentVisibility||"visible",progressiveLoad:Gr&&Gr.progressiveLoad||!1,hideOnTransparent:!(Gr&&Gr.hideOnTransparent===!1),viewBoxOnly:Gr&&Gr.viewBoxOnly||!1,viewBoxSize:Gr&&Gr.viewBoxSize||!1,className:Gr&&Gr.className||"",id:Gr&&Gr.id||"",focusable:Gr&&Gr.focusable,filterSize:{width:Gr&&Gr.filterSize&&Gr.filterSize.width||"100%",height:Gr&&Gr.filterSize&&Gr.filterSize.height||"100%",x:Gr&&Gr.filterSize&&Gr.filterSize.x||"0%",y:Gr&&Gr.filterSize&&Gr.filterSize.y||"0%"},width:Gr&&Gr.width,height:Gr&&Gr.height,runExpressions:!Gr||Gr.runExpressions===void 0||Gr.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ti,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Yr){return new SVGCompElement(Yr,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(Gr){var Wr,Zr=Gr.length,Kr="_";for(Wr=0;Wr<Zr;Wr+=1)Kr+=Gr[Wr].transform.key+"_";var Jr=this.sequences[Kr];return Jr||(Jr={transforms:[].concat(Gr),finalTransform:new Matrix,_mdf:!1},this.sequences[Kr]=Jr,this.sequenceList.push(Jr)),Jr},processSequence:function(Gr,Wr){for(var Zr=0,Kr=Gr.transforms.length,Jr=Wr;Zr<Kr&&!Wr;){if(Gr.transforms[Zr].transform.mProps._mdf){Jr=!0;break}Zr+=1}if(Jr)for(Gr.finalTransform.reset(),Zr=Kr-1;Zr>=0;Zr-=1)Gr.finalTransform.multiply(Gr.transforms[Zr].transform.mProps.v);Gr._mdf=Jr},processSequences:function(Gr){var Wr,Zr=this.sequenceList.length;for(Wr=0;Wr<Zr;Wr+=1)this.processSequence(this.sequenceList[Wr],Gr)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var Gr="__lottie_element_luma_buffer",Wr=null,Zr=null,Kr=null;function Jr(){var ei=createNS("svg"),ri=createNS("filter"),ii=createNS("feColorMatrix");return ri.setAttribute("id",Gr),ii.setAttribute("type","matrix"),ii.setAttribute("color-interpolation-filters","sRGB"),ii.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ri.appendChild(ii),ei.appendChild(ri),ei.setAttribute("id",Gr+"_svg"),featureSupport.svgLumaHidden&&(ei.style.display="none"),ei}function Qr(){Wr||(Kr=Jr(),document.body.appendChild(Kr),Wr=createTag("canvas"),Zr=Wr.getContext("2d"),Zr.filter="url(#"+Gr+")",Zr.fillStyle="rgba(0,0,0,0)",Zr.fillRect(0,0,1,1))}function ti(ei){return Wr||Qr(),Wr.width=ei.width,Wr.height=ei.height,Zr.filter="url(#"+Gr+")",Wr}return{load:Qr,get:ti}};function createCanvas(Yr,Gr){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Yr,Gr);var Wr=createTag("canvas");return Wr.width=Yr,Wr.height=Gr,Wr}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(Yr){var Gr,Wr=Yr.data.ef?Yr.data.ef.length:0;this.filters=[];var Zr;for(Gr=0;Gr<Wr;Gr+=1){Zr=null;var Kr=Yr.data.ef[Gr].ty;if(registeredEffects[Kr]){var Jr=registeredEffects[Kr].effect;Zr=new Jr(Yr.effectsManager.effectElements[Gr],Yr)}Zr&&this.filters.push(Zr)}this.filters.length&&Yr.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Yr){var Gr,Wr=this.filters.length;for(Gr=0;Gr<Wr;Gr+=1)this.filters[Gr].renderFrame(Yr)},CVEffects.prototype.getEffects=function(Yr){var Gr,Wr=this.filters.length,Zr=[];for(Gr=0;Gr<Wr;Gr+=1)this.filters[Gr].type===Yr&&Zr.push(this.filters[Gr]);return Zr};function registerEffect(Yr,Gr){registeredEffects[Yr]={effect:Gr}}function CVMaskElement(Yr,Gr){this.data=Yr,this.element=Gr,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var Wr,Zr=this.masksProperties.length,Kr=!1;for(Wr=0;Wr<Zr;Wr+=1)this.masksProperties[Wr].mode!=="n"&&(Kr=!0),this.viewData[Wr]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[Wr],3);this.hasMasks=Kr,Kr&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Yr=this.element.finalTransform.mat,Gr=this.element.canvasContext,Wr,Zr=this.masksProperties.length,Kr,Jr,Qr;for(Gr.beginPath(),Wr=0;Wr<Zr;Wr+=1)if(this.masksProperties[Wr].mode!=="n"){this.masksProperties[Wr].inv&&(Gr.moveTo(0,0),Gr.lineTo(this.element.globalData.compSize.w,0),Gr.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),Gr.lineTo(0,this.element.globalData.compSize.h),Gr.lineTo(0,0)),Qr=this.viewData[Wr].v,Kr=Yr.applyToPointArray(Qr.v[0][0],Qr.v[0][1],0),Gr.moveTo(Kr[0],Kr[1]);var ti,ei=Qr._length;for(ti=1;ti<ei;ti+=1)Jr=Yr.applyToTriplePoints(Qr.o[ti-1],Qr.i[ti],Qr.v[ti]),Gr.bezierCurveTo(Jr[0],Jr[1],Jr[2],Jr[3],Jr[4],Jr[5]);Jr=Yr.applyToTriplePoints(Qr.o[ti-1],Qr.i[0],Qr.v[0]),Gr.bezierCurveTo(Jr[0],Jr[1],Jr[2],Jr[3],Jr[4],Jr[5])}this.element.globalData.renderer.save(!0),Gr.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var Gr=this.globalData.canvasContext,Wr=assetLoader.createCanvas(Gr.canvas.width,Gr.canvas.height);this.buffers.push(Wr);var Zr=assetLoader.createCanvas(Gr.canvas.width,Gr.canvas.height);this.buffers.push(Zr),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var Gr=this.globalData;if(Gr.blendMode!==this.data.bm){Gr.blendMode=this.data.bm;var Wr=getBlendMode(this.data.bm);Gr.canvasContext.globalCompositeOperation=Wr}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(Gr){Gr.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var Gr=this.buffers[0],Wr=Gr.getContext("2d");this.clearCanvas(Wr),Wr.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var Gr=this.buffers[1],Wr=Gr.getContext("2d");this.clearCanvas(Wr),Wr.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Zr=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Zr.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Kr=assetLoader.getLumaCanvas(this.canvasContext.canvas),Jr=Kr.getContext("2d");Jr.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Kr,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(Gr,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(Gr){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!Gr)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var Wr=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(Wr),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(Wr),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Yr,Gr,Wr,Zr){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Kr=4;Gr.ty==="rc"?Kr=5:Gr.ty==="el"?Kr=6:Gr.ty==="sr"&&(Kr=7),this.sh=ShapePropertyFactory.getShapeProp(Yr,Gr,Kr,Yr);var Jr,Qr=Wr.length,ti;for(Jr=0;Jr<Qr;Jr+=1)Wr[Jr].closed||(ti={transforms:Zr.addTransformSequence(Wr[Jr].transforms),trNodes:[]},this.styledShapes.push(ti),Wr[Jr].elements.push(ti))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Yr,Gr,Wr){this.shapes=[],this.shapesData=Yr.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Yr,Gr){var Wr={data:Yr,type:Yr.ty,preTransforms:this.transformsManager.addTransformSequence(Gr),transforms:[],elements:[],closed:Yr.hd===!0},Zr={};if(Yr.ty==="fl"||Yr.ty==="st"?(Zr.c=PropertyFactory.getProp(this,Yr.c,1,255,this),Zr.c.k||(Wr.co="rgb("+bmFloor(Zr.c.v[0])+","+bmFloor(Zr.c.v[1])+","+bmFloor(Zr.c.v[2])+")")):(Yr.ty==="gf"||Yr.ty==="gs")&&(Zr.s=PropertyFactory.getProp(this,Yr.s,1,null,this),Zr.e=PropertyFactory.getProp(this,Yr.e,1,null,this),Zr.h=PropertyFactory.getProp(this,Yr.h||{k:0},0,.01,this),Zr.a=PropertyFactory.getProp(this,Yr.a||{k:0},0,degToRads,this),Zr.g=new GradientProperty(this,Yr.g,this)),Zr.o=PropertyFactory.getProp(this,Yr.o,0,.01,this),Yr.ty==="st"||Yr.ty==="gs"){if(Wr.lc=lineCapEnum[Yr.lc||2],Wr.lj=lineJoinEnum[Yr.lj||2],Yr.lj==1&&(Wr.ml=Yr.ml),Zr.w=PropertyFactory.getProp(this,Yr.w,0,null,this),Zr.w.k||(Wr.wi=Zr.w.v),Yr.d){var Kr=new DashProperty(this,Yr.d,"canvas",this);Zr.d=Kr,Zr.d.k||(Wr.da=Zr.d.dashArray,Wr.do=Zr.d.dashoffset[0])}}else Wr.r=Yr.r===2?"evenodd":"nonzero";return this.stylesList.push(Wr),Zr.style=Wr,Zr},CVShapeElement.prototype.createGroupElement=function(){var Yr={it:[],prevViewData:[]};return Yr},CVShapeElement.prototype.createTransformElement=function(Yr){var Gr={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Yr.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Yr,this)}};return Gr},CVShapeElement.prototype.createShapeElement=function(Yr){var Gr=new CVShapeData(this,Yr,this.stylesList,this.transformsManager);return this.shapes.push(Gr),this.addShapeToModifiers(Gr),Gr},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Yr,Gr=this.itemsData.length;for(Yr=0;Yr<Gr;Yr+=1)this.prevViewData[Yr]=this.itemsData[Yr];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),Gr=this.dynamicProperties.length,Yr=0;Yr<Gr;Yr+=1)this.dynamicProperties[Yr].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Yr){var Gr,Wr=this.stylesList.length;for(Gr=0;Gr<Wr;Gr+=1)this.stylesList[Gr].closed||this.stylesList[Gr].transforms.push(Yr)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Yr,Gr=this.stylesList.length;for(Yr=0;Yr<Gr;Yr+=1)this.stylesList[Yr].closed||this.stylesList[Yr].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Yr){var Gr,Wr=Yr.length;for(Gr=0;Gr<Wr;Gr+=1)Yr[Gr].closed=!0},CVShapeElement.prototype.searchShapes=function(Yr,Gr,Wr,Zr,Kr){var Jr,Qr=Yr.length-1,ti,ei,ri=[],ii=[],ni,ai,oi,si=[].concat(Kr);for(Jr=Qr;Jr>=0;Jr-=1){if(ni=this.searchProcessedElement(Yr[Jr]),ni?Gr[Jr]=Wr[ni-1]:Yr[Jr]._shouldRender=Zr,Yr[Jr].ty==="fl"||Yr[Jr].ty==="st"||Yr[Jr].ty==="gf"||Yr[Jr].ty==="gs")ni?Gr[Jr].style.closed=!1:Gr[Jr]=this.createStyleElement(Yr[Jr],si),ri.push(Gr[Jr].style);else if(Yr[Jr].ty==="gr"){if(!ni)Gr[Jr]=this.createGroupElement(Yr[Jr]);else for(ei=Gr[Jr].it.length,ti=0;ti<ei;ti+=1)Gr[Jr].prevViewData[ti]=Gr[Jr].it[ti];this.searchShapes(Yr[Jr].it,Gr[Jr].it,Gr[Jr].prevViewData,Zr,si)}else Yr[Jr].ty==="tr"?(ni||(oi=this.createTransformElement(Yr[Jr]),Gr[Jr]=oi),si.push(Gr[Jr]),this.addTransformToStyleList(Gr[Jr])):Yr[Jr].ty==="sh"||Yr[Jr].ty==="rc"||Yr[Jr].ty==="el"||Yr[Jr].ty==="sr"?ni||(Gr[Jr]=this.createShapeElement(Yr[Jr])):Yr[Jr].ty==="tm"||Yr[Jr].ty==="rd"||Yr[Jr].ty==="pb"||Yr[Jr].ty==="zz"||Yr[Jr].ty==="op"?(ni?(ai=Gr[Jr],ai.closed=!1):(ai=ShapeModifiers.getModifier(Yr[Jr].ty),ai.init(this,Yr[Jr]),Gr[Jr]=ai,this.shapeModifiers.push(ai)),ii.push(ai)):Yr[Jr].ty==="rp"&&(ni?(ai=Gr[Jr],ai.closed=!0):(ai=ShapeModifiers.getModifier(Yr[Jr].ty),Gr[Jr]=ai,ai.init(this,Yr,Jr,Gr),this.shapeModifiers.push(ai),Zr=!1),ii.push(ai));this.addProcessedElement(Yr[Jr],Jr+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ri),Qr=ii.length,Jr=0;Jr<Qr;Jr+=1)ii[Jr].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Yr,Gr){(Yr._opMdf||Gr.op._mdf||this._isFirstFrame)&&(Gr.opacity=Yr.opacity,Gr.opacity*=Gr.op.v,Gr._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Yr,Gr=this.stylesList.length,Wr,Zr,Kr,Jr,Qr,ti,ei=this.globalData.renderer,ri=this.globalData.canvasContext,ii,ni;for(Yr=0;Yr<Gr;Yr+=1)if(ni=this.stylesList[Yr],ii=ni.type,!((ii==="st"||ii==="gs")&&ni.wi===0||!ni.data._shouldRender||ni.coOp===0||this.globalData.currentGlobalAlpha===0)){for(ei.save(),Qr=ni.elements,ii==="st"||ii==="gs"?(ei.ctxStrokeStyle(ii==="st"?ni.co:ni.grd),ei.ctxLineWidth(ni.wi),ei.ctxLineCap(ni.lc),ei.ctxLineJoin(ni.lj),ei.ctxMiterLimit(ni.ml||0)):ei.ctxFillStyle(ii==="fl"?ni.co:ni.grd),ei.ctxOpacity(ni.coOp),ii!=="st"&&ii!=="gs"&&ri.beginPath(),ei.ctxTransform(ni.preTransforms.finalTransform.props),Zr=Qr.length,Wr=0;Wr<Zr;Wr+=1){for((ii==="st"||ii==="gs")&&(ri.beginPath(),ni.da&&(ri.setLineDash(ni.da),ri.lineDashOffset=ni.do)),ti=Qr[Wr].trNodes,Jr=ti.length,Kr=0;Kr<Jr;Kr+=1)ti[Kr].t==="m"?ri.moveTo(ti[Kr].p[0],ti[Kr].p[1]):ti[Kr].t==="c"?ri.bezierCurveTo(ti[Kr].pts[0],ti[Kr].pts[1],ti[Kr].pts[2],ti[Kr].pts[3],ti[Kr].pts[4],ti[Kr].pts[5]):ri.closePath();(ii==="st"||ii==="gs")&&(ei.ctxStroke(),ni.da&&ri.setLineDash(this.dashResetter))}ii!=="st"&&ii!=="gs"&&this.globalData.renderer.ctxFill(ni.r),ei.restore()}},CVShapeElement.prototype.renderShape=function(Yr,Gr,Wr,Zr){var Kr,Jr=Gr.length-1,Qr;for(Qr=Yr,Kr=Jr;Kr>=0;Kr-=1)Gr[Kr].ty==="tr"?(Qr=Wr[Kr].transform,this.renderShapeTransform(Yr,Qr)):Gr[Kr].ty==="sh"||Gr[Kr].ty==="el"||Gr[Kr].ty==="rc"||Gr[Kr].ty==="sr"?this.renderPath(Gr[Kr],Wr[Kr]):Gr[Kr].ty==="fl"?this.renderFill(Gr[Kr],Wr[Kr],Qr):Gr[Kr].ty==="st"?this.renderStroke(Gr[Kr],Wr[Kr],Qr):Gr[Kr].ty==="gf"||Gr[Kr].ty==="gs"?this.renderGradientFill(Gr[Kr],Wr[Kr],Qr):Gr[Kr].ty==="gr"?this.renderShape(Qr,Gr[Kr].it,Wr[Kr].it):Gr[Kr].ty;Zr&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Yr,Gr){if(this._isFirstFrame||Gr._mdf||Yr.transforms._mdf){var Wr=Yr.trNodes,Zr=Gr.paths,Kr,Jr,Qr,ti=Zr._length;Wr.length=0;var ei=Yr.transforms.finalTransform;for(Qr=0;Qr<ti;Qr+=1){var ri=Zr.shapes[Qr];if(ri&&ri.v){for(Jr=ri._length,Kr=1;Kr<Jr;Kr+=1)Kr===1&&Wr.push({t:"m",p:ei.applyToPointArray(ri.v[0][0],ri.v[0][1],0)}),Wr.push({t:"c",pts:ei.applyToTriplePoints(ri.o[Kr-1],ri.i[Kr],ri.v[Kr])});Jr===1&&Wr.push({t:"m",p:ei.applyToPointArray(ri.v[0][0],ri.v[0][1],0)}),ri.c&&Jr&&(Wr.push({t:"c",pts:ei.applyToTriplePoints(ri.o[Kr-1],ri.i[0],ri.v[0])}),Wr.push({t:"z"}))}}Yr.trNodes=Wr}},CVShapeElement.prototype.renderPath=function(Yr,Gr){if(Yr.hd!==!0&&Yr._shouldRender){var Wr,Zr=Gr.styledShapes.length;for(Wr=0;Wr<Zr;Wr+=1)this.renderStyledShape(Gr.styledShapes[Wr],Gr.sh)}},CVShapeElement.prototype.renderFill=function(Yr,Gr,Wr){var Zr=Gr.style;(Gr.c._mdf||this._isFirstFrame)&&(Zr.co="rgb("+bmFloor(Gr.c.v[0])+","+bmFloor(Gr.c.v[1])+","+bmFloor(Gr.c.v[2])+")"),(Gr.o._mdf||Wr._opMdf||this._isFirstFrame)&&(Zr.coOp=Gr.o.v*Wr.opacity)},CVShapeElement.prototype.renderGradientFill=function(Yr,Gr,Wr){var Zr=Gr.style,Kr;if(!Zr.grd||Gr.g._mdf||Gr.s._mdf||Gr.e._mdf||Yr.t!==1&&(Gr.h._mdf||Gr.a._mdf)){var Jr=this.globalData.canvasContext,Qr=Gr.s.v,ti=Gr.e.v;if(Yr.t===1)Kr=Jr.createLinearGradient(Qr[0],Qr[1],ti[0],ti[1]);else{var ei=Math.sqrt(Math.pow(Qr[0]-ti[0],2)+Math.pow(Qr[1]-ti[1],2)),ri=Math.atan2(ti[1]-Qr[1],ti[0]-Qr[0]),ii=Gr.h.v;ii>=1?ii=.99:ii<=-1&&(ii=-.99);var ni=ei*ii,ai=Math.cos(ri+Gr.a.v)*ni+Qr[0],oi=Math.sin(ri+Gr.a.v)*ni+Qr[1];Kr=Jr.createRadialGradient(ai,oi,0,Qr[0],Qr[1],ei)}var si,li=Yr.g.p,ui=Gr.g.c,fi=1;for(si=0;si<li;si+=1)Gr.g._hasOpacity&&Gr.g._collapsable&&(fi=Gr.g.o[si*2+1]),Kr.addColorStop(ui[si*4]/100,"rgba("+ui[si*4+1]+","+ui[si*4+2]+","+ui[si*4+3]+","+fi+")");Zr.grd=Kr}Zr.coOp=Gr.o.v*Wr.opacity},CVShapeElement.prototype.renderStroke=function(Yr,Gr,Wr){var Zr=Gr.style,Kr=Gr.d;Kr&&(Kr._mdf||this._isFirstFrame)&&(Zr.da=Kr.dashArray,Zr.do=Kr.dashoffset[0]),(Gr.c._mdf||this._isFirstFrame)&&(Zr.co="rgb("+bmFloor(Gr.c.v[0])+","+bmFloor(Gr.c.v[1])+","+bmFloor(Gr.c.v[2])+")"),(Gr.o._mdf||Wr._opMdf||this._isFirstFrame)&&(Zr.coOp=Gr.o.v*Wr.opacity),(Gr.w._mdf||this._isFirstFrame)&&(Zr.wi=Gr.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Yr,Gr,Wr){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Yr=this.textProperty.currentData;this.renderedLetters=createSizedArray(Yr.l?Yr.l.length:0);var Gr=!1;Yr.fc?(Gr=!0,this.values.fill=this.buildColor(Yr.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=Gr;var Wr=!1;Yr.sc&&(Wr=!0,this.values.stroke=this.buildColor(Yr.sc),this.values.sWidth=Yr.sw);var Zr=this.globalData.fontManager.getFontByName(Yr.f),Kr,Jr,Qr=Yr.l,ti=this.mHelper;this.stroke=Wr,this.values.fValue=Yr.finalSize+"px "+this.globalData.fontManager.getFontByName(Yr.f).fFamily,Jr=Yr.finalText.length;var ei,ri,ii,ni,ai,oi,si,li,ui,fi,hi=this.data.singleShape,ci=Yr.tr*.001*Yr.finalSize,pi=0,di=0,vi=!0,mi=0;for(Kr=0;Kr<Jr;Kr+=1){ei=this.globalData.fontManager.getCharData(Yr.finalText[Kr],Zr.fStyle,this.globalData.fontManager.getFontByName(Yr.f).fFamily),ri=ei&&ei.data||{},ti.reset(),hi&&Qr[Kr].n&&(pi=-ci,di+=Yr.yOffset,di+=vi?1:0,vi=!1),ai=ri.shapes?ri.shapes[0].it:[],si=ai.length,ti.scale(Yr.finalSize/100,Yr.finalSize/100),hi&&this.applyTextPropertiesToMatrix(Yr,ti,Qr[Kr].line,pi,di),ui=createSizedArray(si-1);var gi=0;for(oi=0;oi<si;oi+=1)if(ai[oi].ty==="sh"){for(ni=ai[oi].ks.k.i.length,li=ai[oi].ks.k,fi=[],ii=1;ii<ni;ii+=1)ii===1&&fi.push(ti.applyToX(li.v[0][0],li.v[0][1],0),ti.applyToY(li.v[0][0],li.v[0][1],0)),fi.push(ti.applyToX(li.o[ii-1][0],li.o[ii-1][1],0),ti.applyToY(li.o[ii-1][0],li.o[ii-1][1],0),ti.applyToX(li.i[ii][0],li.i[ii][1],0),ti.applyToY(li.i[ii][0],li.i[ii][1],0),ti.applyToX(li.v[ii][0],li.v[ii][1],0),ti.applyToY(li.v[ii][0],li.v[ii][1],0));fi.push(ti.applyToX(li.o[ii-1][0],li.o[ii-1][1],0),ti.applyToY(li.o[ii-1][0],li.o[ii-1][1],0),ti.applyToX(li.i[0][0],li.i[0][1],0),ti.applyToY(li.i[0][0],li.i[0][1],0),ti.applyToX(li.v[0][0],li.v[0][1],0),ti.applyToY(li.v[0][0],li.v[0][1],0)),ui[gi]=fi,gi+=1}hi&&(pi+=Qr[Kr].l,pi+=ci),this.textSpans[mi]?this.textSpans[mi].elem=ui:this.textSpans[mi]={elem:ui},mi+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Yr=this.canvasContext;Yr.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var Gr,Wr,Zr,Kr,Jr,Qr,ti=this.textAnimator.renderedLetters,ei=this.textProperty.currentData.l;Wr=ei.length;var ri,ii=null,ni=null,ai=null,oi,si,li=this.globalData.renderer;for(Gr=0;Gr<Wr;Gr+=1)if(!ei[Gr].n){if(ri=ti[Gr],ri&&(li.save(),li.ctxTransform(ri.p),li.ctxOpacity(ri.o)),this.fill){for(ri&&ri.fc?ii!==ri.fc&&(li.ctxFillStyle(ri.fc),ii=ri.fc):ii!==this.values.fill&&(ii=this.values.fill,li.ctxFillStyle(this.values.fill)),oi=this.textSpans[Gr].elem,Kr=oi.length,this.globalData.canvasContext.beginPath(),Zr=0;Zr<Kr;Zr+=1)for(si=oi[Zr],Qr=si.length,this.globalData.canvasContext.moveTo(si[0],si[1]),Jr=2;Jr<Qr;Jr+=6)this.globalData.canvasContext.bezierCurveTo(si[Jr],si[Jr+1],si[Jr+2],si[Jr+3],si[Jr+4],si[Jr+5]);this.globalData.canvasContext.closePath(),li.ctxFill()}if(this.stroke){for(ri&&ri.sw?ai!==ri.sw&&(ai=ri.sw,li.ctxLineWidth(ri.sw)):ai!==this.values.sWidth&&(ai=this.values.sWidth,li.ctxLineWidth(this.values.sWidth)),ri&&ri.sc?ni!==ri.sc&&(ni=ri.sc,li.ctxStrokeStyle(ri.sc)):ni!==this.values.stroke&&(ni=this.values.stroke,li.ctxStrokeStyle(this.values.stroke)),oi=this.textSpans[Gr].elem,Kr=oi.length,this.globalData.canvasContext.beginPath(),Zr=0;Zr<Kr;Zr+=1)for(si=oi[Zr],Qr=si.length,this.globalData.canvasContext.moveTo(si[0],si[1]),Jr=2;Jr<Qr;Jr+=6)this.globalData.canvasContext.bezierCurveTo(si[Jr],si[Jr+1],si[Jr+2],si[Jr+3],si[Jr+4],si[Jr+5]);this.globalData.canvasContext.closePath(),li.ctxStroke()}ri&&this.globalData.renderer.restore()}};function CVImageElement(Yr,Gr,Wr){this.assetData=Gr.getAssetData(Yr.refId),this.img=Gr.imageLoader.getAsset(this.assetData),this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Yr=createTag("canvas");Yr.width=this.assetData.w,Yr.height=this.assetData.h;var Gr=Yr.getContext("2d"),Wr=this.img.width,Zr=this.img.height,Kr=Wr/Zr,Jr=this.assetData.w/this.assetData.h,Qr,ti,ei=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Kr>Jr&&ei==="xMidYMid slice"||Kr<Jr&&ei!=="xMidYMid slice"?(ti=Zr,Qr=ti*Jr):(Qr=Wr,ti=Qr/Jr),Gr.drawImage(this.img,(Wr-Qr)/2,(Zr-ti)/2,Qr,ti,0,0,this.assetData.w,this.assetData.h),this.img=Yr}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Yr,Gr,Wr){this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Yr){return new CVShapeElement(Yr,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Yr){return new CVTextElement(Yr,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Yr){return new CVImageElement(Yr,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Yr){return new CVSolidElement(Yr,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Yr){Yr[0]===1&&Yr[1]===0&&Yr[4]===0&&Yr[5]===1&&Yr[12]===0&&Yr[13]===0||this.canvasContext.transform(Yr[0],Yr[1],Yr[4],Yr[5],Yr[12],Yr[13])},CanvasRendererBase.prototype.ctxOpacity=function(Yr){this.canvasContext.globalAlpha*=Yr<0?0:Yr},CanvasRendererBase.prototype.ctxFillStyle=function(Yr){this.canvasContext.fillStyle=Yr},CanvasRendererBase.prototype.ctxStrokeStyle=function(Yr){this.canvasContext.strokeStyle=Yr},CanvasRendererBase.prototype.ctxLineWidth=function(Yr){this.canvasContext.lineWidth=Yr},CanvasRendererBase.prototype.ctxLineCap=function(Yr){this.canvasContext.lineCap=Yr},CanvasRendererBase.prototype.ctxLineJoin=function(Yr){this.canvasContext.lineJoin=Yr},CanvasRendererBase.prototype.ctxMiterLimit=function(Yr){this.canvasContext.miterLimit=Yr},CanvasRendererBase.prototype.ctxFill=function(Yr){this.canvasContext.fill(Yr)},CanvasRendererBase.prototype.ctxFillRect=function(Yr,Gr,Wr,Zr){this.canvasContext.fillRect(Yr,Gr,Wr,Zr)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Yr){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Yr&&(this.globalData.blendMode="source-over"),this.contextData.restore(Yr)},CanvasRendererBase.prototype.configAnimation=function(Yr){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var Gr=this.animationItem.container.style;Gr.width="100%",Gr.height="100%";var Wr="0px 0px 0px";Gr.transformOrigin=Wr,Gr.mozTransformOrigin=Wr,Gr.webkitTransformOrigin=Wr,Gr["-webkit-transform"]=Wr,Gr.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Yr,this.layers=Yr.layers,this.transformCanvas={w:Yr.w,h:Yr.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Yr,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Yr.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Yr,Gr){this.reset();var Wr,Zr;Yr?(Wr=Yr,Zr=Gr,this.canvasContext.canvas.width=Wr,this.canvasContext.canvas.height=Zr):(this.animationItem.wrapper&&this.animationItem.container?(Wr=this.animationItem.wrapper.offsetWidth,Zr=this.animationItem.wrapper.offsetHeight):(Wr=this.canvasContext.canvas.width,Zr=this.canvasContext.canvas.height),this.canvasContext.canvas.width=Wr*this.renderConfig.dpr,this.canvasContext.canvas.height=Zr*this.renderConfig.dpr);var Kr,Jr;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Qr=this.renderConfig.preserveAspectRatio.split(" "),ti=Qr[1]||"meet",ei=Qr[0]||"xMidYMid",ri=ei.substr(0,4),ii=ei.substr(4);Kr=Wr/Zr,Jr=this.transformCanvas.w/this.transformCanvas.h,Jr>Kr&&ti==="meet"||Jr<Kr&&ti==="slice"?(this.transformCanvas.sx=Wr/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Wr/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Zr/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Zr/(this.transformCanvas.h/this.renderConfig.dpr)),ri==="xMid"&&(Jr<Kr&&ti==="meet"||Jr>Kr&&ti==="slice")?this.transformCanvas.tx=(Wr-this.transformCanvas.w*(Zr/this.transformCanvas.h))/2*this.renderConfig.dpr:ri==="xMax"&&(Jr<Kr&&ti==="meet"||Jr>Kr&&ti==="slice")?this.transformCanvas.tx=(Wr-this.transformCanvas.w*(Zr/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ii==="YMid"&&(Jr>Kr&&ti==="meet"||Jr<Kr&&ti==="slice")?this.transformCanvas.ty=(Zr-this.transformCanvas.h*(Wr/this.transformCanvas.w))/2*this.renderConfig.dpr:ii==="YMax"&&(Jr>Kr&&ti==="meet"||Jr<Kr&&ti==="slice")?this.transformCanvas.ty=(Zr-this.transformCanvas.h*(Wr/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=Wr/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Zr/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Yr,Gr=this.layers?this.layers.length:0;for(Yr=Gr-1;Yr>=0;Yr-=1)this.elements[Yr]&&this.elements[Yr].destroy&&this.elements[Yr].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Yr,Gr){if(!(this.renderedFrame===Yr&&this.renderConfig.clearCanvas===!0&&!Gr||this.destroyed||Yr===-1)){this.renderedFrame=Yr,this.globalData.frameNum=Yr-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||Gr,this.globalData.projectInterface.currentFrame=Yr;var Wr,Zr=this.layers.length;for(this.completeLayers||this.checkLayers(Yr),Wr=Zr-1;Wr>=0;Wr-=1)(this.completeLayers||this.elements[Wr])&&this.elements[Wr].prepareFrame(Yr-this.layers[Wr].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),Wr=Zr-1;Wr>=0;Wr-=1)(this.completeLayers||this.elements[Wr])&&this.elements[Wr].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Yr){var Gr=this.elements;if(!(Gr[Yr]||this.layers[Yr].ty===99)){var Wr=this.createItem(this.layers[Yr],this,this.globalData);Gr[Yr]=Wr,Wr.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Yr=this.pendingElements.pop();Yr.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Yr,Gr=15;for(Yr=0;Yr<Gr;Yr+=1){var Wr=new CanvasContext;this.stack[Yr]=Wr}this._length=Gr,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Yr=this._length*2,Gr=0;for(Gr=this._length;Gr<Yr;Gr+=1)this.stack[Gr]=new CanvasContext;this._length=Yr},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Yr){this.cArrPos-=1;var Gr=this.stack[this.cArrPos],Wr=Gr.transform,Zr,Kr=this.cTr.props;for(Zr=0;Zr<16;Zr+=1)Kr[Zr]=Wr[Zr];if(Yr){this.nativeContext.restore();var Jr=this.stack[this.cArrPos+1];this.appliedFillStyle=Jr.fillStyle,this.appliedStrokeStyle=Jr.strokeStyle,this.appliedLineWidth=Jr.lineWidth,this.appliedLineCap=Jr.lineCap,this.appliedLineJoin=Jr.lineJoin,this.appliedMiterLimit=Jr.miterLimit}this.nativeContext.setTransform(Wr[0],Wr[1],Wr[4],Wr[5],Wr[12],Wr[13]),(Yr||Gr.opacity!==-1&&this.currentOpacity!==Gr.opacity)&&(this.nativeContext.globalAlpha=Gr.opacity,this.currentOpacity=Gr.opacity),this.currentFillStyle=Gr.fillStyle,this.currentStrokeStyle=Gr.strokeStyle,this.currentLineWidth=Gr.lineWidth,this.currentLineCap=Gr.lineCap,this.currentLineJoin=Gr.lineJoin,this.currentMiterLimit=Gr.miterLimit},CVContextData.prototype.save=function(Yr){Yr&&this.nativeContext.save();var Gr=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var Wr=this.stack[this.cArrPos],Zr;for(Zr=0;Zr<16;Zr+=1)Wr.transform[Zr]=Gr[Zr];this.cArrPos+=1;var Kr=this.stack[this.cArrPos];Kr.opacity=Wr.opacity,Kr.fillStyle=Wr.fillStyle,Kr.strokeStyle=Wr.strokeStyle,Kr.lineWidth=Wr.lineWidth,Kr.lineCap=Wr.lineCap,Kr.lineJoin=Wr.lineJoin,Kr.miterLimit=Wr.miterLimit},CVContextData.prototype.setOpacity=function(Yr){this.stack[this.cArrPos].opacity=Yr},CVContextData.prototype.setContext=function(Yr){this.nativeContext=Yr},CVContextData.prototype.fillStyle=function(Yr){this.stack[this.cArrPos].fillStyle!==Yr&&(this.currentFillStyle=Yr,this.stack[this.cArrPos].fillStyle=Yr)},CVContextData.prototype.strokeStyle=function(Yr){this.stack[this.cArrPos].strokeStyle!==Yr&&(this.currentStrokeStyle=Yr,this.stack[this.cArrPos].strokeStyle=Yr)},CVContextData.prototype.lineWidth=function(Yr){this.stack[this.cArrPos].lineWidth!==Yr&&(this.currentLineWidth=Yr,this.stack[this.cArrPos].lineWidth=Yr)},CVContextData.prototype.lineCap=function(Yr){this.stack[this.cArrPos].lineCap!==Yr&&(this.currentLineCap=Yr,this.stack[this.cArrPos].lineCap=Yr)},CVContextData.prototype.lineJoin=function(Yr){this.stack[this.cArrPos].lineJoin!==Yr&&(this.currentLineJoin=Yr,this.stack[this.cArrPos].lineJoin=Yr)},CVContextData.prototype.miterLimit=function(Yr){this.stack[this.cArrPos].miterLimit!==Yr&&(this.currentMiterLimit=Yr,this.stack[this.cArrPos].miterLimit=Yr)},CVContextData.prototype.transform=function(Yr){this.transformMat.cloneFromProps(Yr);var Gr=this.cTr;this.transformMat.multiply(Gr),Gr.cloneFromProps(this.transformMat.props);var Wr=Gr.props;this.nativeContext.setTransform(Wr[0],Wr[1],Wr[4],Wr[5],Wr[12],Wr[13])},CVContextData.prototype.opacity=function(Yr){var Gr=this.stack[this.cArrPos].opacity;Gr*=Yr<0?0:Yr,this.stack[this.cArrPos].opacity!==Gr&&(this.currentOpacity!==Yr&&(this.nativeContext.globalAlpha=Yr,this.currentOpacity=Yr),this.stack[this.cArrPos].opacity=Gr)},CVContextData.prototype.fill=function(Yr){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Yr)},CVContextData.prototype.fillRect=function(Yr,Gr,Wr,Zr){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Yr,Gr,Wr,Zr)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Yr,Gr,Wr){this.completeLayers=!1,this.layers=Yr.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Yr,Gr,Wr),this.tm=Yr.tm?PropertyFactory.getProp(this,Yr.tm,0,Gr.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Yr=this.canvasContext;Yr.beginPath(),Yr.moveTo(0,0),Yr.lineTo(this.data.w,0),Yr.lineTo(this.data.w,this.data.h),Yr.lineTo(0,this.data.h),Yr.lineTo(0,0),Yr.clip();var Gr,Wr=this.layers.length;for(Gr=Wr-1;Gr>=0;Gr-=1)(this.completeLayers||this.elements[Gr])&&this.elements[Gr].renderFrame()},CVCompElement.prototype.destroy=function(){var Yr,Gr=this.layers.length;for(Yr=Gr-1;Yr>=0;Yr-=1)this.elements[Yr]&&this.elements[Yr].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Yr){return new CVCompElement(Yr,this.globalData,this)};function CanvasRenderer(Yr,Gr){this.animationItem=Yr,this.renderConfig={clearCanvas:Gr&&Gr.clearCanvas!==void 0?Gr.clearCanvas:!0,context:Gr&&Gr.context||null,progressiveLoad:Gr&&Gr.progressiveLoad||!1,preserveAspectRatio:Gr&&Gr.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Gr&&Gr.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Gr&&Gr.contentVisibility||"visible",className:Gr&&Gr.className||"",id:Gr&&Gr.id||"",runExpressions:!Gr||Gr.runExpressions===void 0||Gr.runExpressions},this.renderConfig.dpr=Gr&&Gr.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=Gr&&Gr.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Yr){return new CVCompElement(Yr,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var Gr=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var Wr=this.finalTransform.mat.toCSS();Gr.transform=Wr,Gr.webkitTransform=Wr}this.finalTransform._opMdf&&(Gr.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Yr,Gr,Wr){this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Yr;this.data.hasMask?(Yr=createNS("rect"),Yr.setAttribute("width",this.data.sw),Yr.setAttribute("height",this.data.sh),Yr.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Yr=createTag("div"),Yr.style.width=this.data.sw+"px",Yr.style.height=this.data.sh+"px",Yr.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Yr)};function HShapeElement(Yr,Gr,Wr){this.shapes=[],this.shapesData=Yr.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Yr,Gr,Wr),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Yr;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Yr=this.svgElement;else{Yr=createNS("svg");var Gr=this.comp.data?this.comp.data:this.globalData.compSize;Yr.setAttribute("width",Gr.w),Yr.setAttribute("height",Gr.h),Yr.appendChild(this.shapesContainer),this.layerElement.appendChild(Yr)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Yr},HShapeElement.prototype.getTransformedPoint=function(Yr,Gr){var Wr,Zr=Yr.length;for(Wr=0;Wr<Zr;Wr+=1)Gr=Yr[Wr].mProps.v.applyToPointArray(Gr[0],Gr[1],0);return Gr},HShapeElement.prototype.calculateShapeBoundingBox=function(Yr,Gr){var Wr=Yr.sh.v,Zr=Yr.transformers,Kr,Jr=Wr._length,Qr,ti,ei,ri;if(!(Jr<=1)){for(Kr=0;Kr<Jr-1;Kr+=1)Qr=this.getTransformedPoint(Zr,Wr.v[Kr]),ti=this.getTransformedPoint(Zr,Wr.o[Kr]),ei=this.getTransformedPoint(Zr,Wr.i[Kr+1]),ri=this.getTransformedPoint(Zr,Wr.v[Kr+1]),this.checkBounds(Qr,ti,ei,ri,Gr);Wr.c&&(Qr=this.getTransformedPoint(Zr,Wr.v[Kr]),ti=this.getTransformedPoint(Zr,Wr.o[Kr]),ei=this.getTransformedPoint(Zr,Wr.i[0]),ri=this.getTransformedPoint(Zr,Wr.v[0]),this.checkBounds(Qr,ti,ei,ri,Gr))}},HShapeElement.prototype.checkBounds=function(Yr,Gr,Wr,Zr,Kr){this.getBoundsOfCurve(Yr,Gr,Wr,Zr);var Jr=this.shapeBoundingBox;Kr.x=bmMin(Jr.left,Kr.x),Kr.xMax=bmMax(Jr.right,Kr.xMax),Kr.y=bmMin(Jr.top,Kr.y),Kr.yMax=bmMax(Jr.bottom,Kr.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Yr,Gr,Wr,Zr){for(var Kr=[[Yr[0],Zr[0]],[Yr[1],Zr[1]]],Jr,Qr,ti,ei,ri,ii,ni,ai=0;ai<2;++ai)Qr=6*Yr[ai]-12*Gr[ai]+6*Wr[ai],Jr=-3*Yr[ai]+9*Gr[ai]-9*Wr[ai]+3*Zr[ai],ti=3*Gr[ai]-3*Yr[ai],Qr|=0,Jr|=0,ti|=0,Jr===0&&Qr===0||(Jr===0?(ei=-ti/Qr,ei>0&&ei<1&&Kr[ai].push(this.calculateF(ei,Yr,Gr,Wr,Zr,ai))):(ri=Qr*Qr-4*ti*Jr,ri>=0&&(ii=(-Qr+bmSqrt(ri))/(2*Jr),ii>0&&ii<1&&Kr[ai].push(this.calculateF(ii,Yr,Gr,Wr,Zr,ai)),ni=(-Qr-bmSqrt(ri))/(2*Jr),ni>0&&ni<1&&Kr[ai].push(this.calculateF(ni,Yr,Gr,Wr,Zr,ai)))));this.shapeBoundingBox.left=bmMin.apply(null,Kr[0]),this.shapeBoundingBox.top=bmMin.apply(null,Kr[1]),this.shapeBoundingBox.right=bmMax.apply(null,Kr[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Kr[1])},HShapeElement.prototype.calculateF=function(Yr,Gr,Wr,Zr,Kr,Jr){return bmPow(1-Yr,3)*Gr[Jr]+3*bmPow(1-Yr,2)*Yr*Wr[Jr]+3*(1-Yr)*bmPow(Yr,2)*Zr[Jr]+bmPow(Yr,3)*Kr[Jr]},HShapeElement.prototype.calculateBoundingBox=function(Yr,Gr){var Wr,Zr=Yr.length;for(Wr=0;Wr<Zr;Wr+=1)Yr[Wr]&&Yr[Wr].sh?this.calculateShapeBoundingBox(Yr[Wr],Gr):Yr[Wr]&&Yr[Wr].it?this.calculateBoundingBox(Yr[Wr].it,Gr):Yr[Wr]&&Yr[Wr].style&&Yr[Wr].w&&this.expandStrokeBoundingBox(Yr[Wr].w,Gr)},HShapeElement.prototype.expandStrokeBoundingBox=function(Yr,Gr){var Wr=0;if(Yr.keyframes){for(var Zr=0;Zr<Yr.keyframes.length;Zr+=1){var Kr=Yr.keyframes[Zr].s;Kr>Wr&&(Wr=Kr)}Wr*=Yr.mult}else Wr=Yr.v*Yr.mult;Gr.x-=Wr,Gr.xMax+=Wr,Gr.y-=Wr,Gr.yMax+=Wr},HShapeElement.prototype.currentBoxContains=function(Yr){return this.currentBBox.x<=Yr.x&&this.currentBBox.y<=Yr.y&&this.currentBBox.width+this.currentBBox.x>=Yr.x+Yr.width&&this.currentBBox.height+this.currentBBox.y>=Yr.y+Yr.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Yr=this.tempBoundingBox,Gr=999999;if(Yr.x=Gr,Yr.xMax=-Gr,Yr.y=Gr,Yr.yMax=-Gr,this.calculateBoundingBox(this.itemsData,Yr),Yr.width=Yr.xMax<Yr.x?0:Yr.xMax-Yr.x,Yr.height=Yr.yMax<Yr.y?0:Yr.yMax-Yr.y,this.currentBoxContains(Yr))return;var Wr=!1;if(this.currentBBox.w!==Yr.width&&(this.currentBBox.w=Yr.width,this.shapeCont.setAttribute("width",Yr.width),Wr=!0),this.currentBBox.h!==Yr.height&&(this.currentBBox.h=Yr.height,this.shapeCont.setAttribute("height",Yr.height),Wr=!0),Wr||this.currentBBox.x!==Yr.x||this.currentBBox.y!==Yr.y){this.currentBBox.w=Yr.width,this.currentBBox.h=Yr.height,this.currentBBox.x=Yr.x,this.currentBBox.y=Yr.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Zr=this.shapeCont.style,Kr="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Zr.transform=Kr,Zr.webkitTransform=Kr}}};function HTextElement(Yr,Gr,Wr){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Yr=createNS("g");this.maskedElement.appendChild(Yr),this.innerElem=Yr}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Yr=this.textProperty.currentData;this.renderedLetters=createSizedArray(Yr.l?Yr.l.length:0);var Gr=this.innerElem.style,Wr=Yr.fc?this.buildColor(Yr.fc):"rgba(0,0,0,0)";Gr.fill=Wr,Gr.color=Wr,Yr.sc&&(Gr.stroke=this.buildColor(Yr.sc),Gr.strokeWidth=Yr.sw+"px");var Zr=this.globalData.fontManager.getFontByName(Yr.f);if(!this.globalData.fontManager.chars)if(Gr.fontSize=Yr.finalSize+"px",Gr.lineHeight=Yr.finalSize+"px",Zr.fClass)this.innerElem.className=Zr.fClass;else{Gr.fontFamily=Zr.fFamily;var Kr=Yr.fWeight,Jr=Yr.fStyle;Gr.fontStyle=Jr,Gr.fontWeight=Kr}var Qr,ti,ei=Yr.l;ti=ei.length;var ri,ii,ni,ai=this.mHelper,oi,si="",li=0;for(Qr=0;Qr<ti;Qr+=1){if(this.globalData.fontManager.chars?(this.textPaths[li]?ri=this.textPaths[li]:(ri=createNS("path"),ri.setAttribute("stroke-linecap",lineCapEnum[1]),ri.setAttribute("stroke-linejoin",lineJoinEnum[2]),ri.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[li]?(ii=this.textSpans[li],ni=ii.children[0]):(ii=createTag("div"),ii.style.lineHeight=0,ni=createNS("svg"),ni.appendChild(ri),styleDiv(ii)))):this.isMasked?ri=this.textPaths[li]?this.textPaths[li]:createNS("text"):this.textSpans[li]?(ii=this.textSpans[li],ri=this.textPaths[li]):(ii=createTag("span"),styleDiv(ii),ri=createTag("span"),styleDiv(ri),ii.appendChild(ri)),this.globalData.fontManager.chars){var ui=this.globalData.fontManager.getCharData(Yr.finalText[Qr],Zr.fStyle,this.globalData.fontManager.getFontByName(Yr.f).fFamily),fi;if(ui?fi=ui.data:fi=null,ai.reset(),fi&&fi.shapes&&fi.shapes.length&&(oi=fi.shapes[0].it,ai.scale(Yr.finalSize/100,Yr.finalSize/100),si=this.createPathShape(ai,oi),ri.setAttribute("d",si)),this.isMasked)this.innerElem.appendChild(ri);else{if(this.innerElem.appendChild(ii),fi&&fi.shapes){document.body.appendChild(ni);var hi=ni.getBBox();ni.setAttribute("width",hi.width+2),ni.setAttribute("height",hi.height+2),ni.setAttribute("viewBox",hi.x-1+" "+(hi.y-1)+" "+(hi.width+2)+" "+(hi.height+2));var ci=ni.style,pi="translate("+(hi.x-1)+"px,"+(hi.y-1)+"px)";ci.transform=pi,ci.webkitTransform=pi,ei[Qr].yOffset=hi.y-1}else ni.setAttribute("width",1),ni.setAttribute("height",1);ii.appendChild(ni)}}else if(ri.textContent=ei[Qr].val,ri.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ri);else{this.innerElem.appendChild(ii);var di=ri.style,vi="translate3d(0,"+-Yr.finalSize/1.2+"px,0)";di.transform=vi,di.webkitTransform=vi}this.isMasked?this.textSpans[li]=ri:this.textSpans[li]=ii,this.textSpans[li].style.display="block",this.textPaths[li]=ri,li+=1}for(;li<this.textSpans.length;)this.textSpans[li].style.display="none",li+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Yr;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Yr=this.svgElement.style;var Gr="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Yr.transform=Gr,Yr.webkitTransform=Gr}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var Wr,Zr,Kr=0,Jr=this.textAnimator.renderedLetters,Qr=this.textProperty.currentData.l;Zr=Qr.length;var ti,ei,ri;for(Wr=0;Wr<Zr;Wr+=1)Qr[Wr].n?Kr+=1:(ei=this.textSpans[Wr],ri=this.textPaths[Wr],ti=Jr[Kr],Kr+=1,ti._mdf.m&&(this.isMasked?ei.setAttribute("transform",ti.m):(ei.style.webkitTransform=ti.m,ei.style.transform=ti.m)),ei.style.opacity=ti.o,ti.sw&&ti._mdf.sw&&ri.setAttribute("stroke-width",ti.sw),ti.sc&&ti._mdf.sc&&ri.setAttribute("stroke",ti.sc),ti.fc&&ti._mdf.fc&&(ri.setAttribute("fill",ti.fc),ri.style.color=ti.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ii=this.innerElem.getBBox();this.currentBBox.w!==ii.width&&(this.currentBBox.w=ii.width,this.svgElement.setAttribute("width",ii.width)),this.currentBBox.h!==ii.height&&(this.currentBBox.h=ii.height,this.svgElement.setAttribute("height",ii.height));var ni=1;if(this.currentBBox.w!==ii.width+ni*2||this.currentBBox.h!==ii.height+ni*2||this.currentBBox.x!==ii.x-ni||this.currentBBox.y!==ii.y-ni){this.currentBBox.w=ii.width+ni*2,this.currentBBox.h=ii.height+ni*2,this.currentBBox.x=ii.x-ni,this.currentBBox.y=ii.y-ni,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Yr=this.svgElement.style;var ai="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Yr.transform=ai,Yr.webkitTransform=ai}}}};function HCameraElement(Yr,Gr,Wr){this.initFrame(),this.initBaseData(Yr,Gr,Wr),this.initHierarchy();var Zr=PropertyFactory.getProp;if(this.pe=Zr(this,Yr.pe,0,0,this),Yr.ks.p.s?(this.px=Zr(this,Yr.ks.p.x,1,0,this),this.py=Zr(this,Yr.ks.p.y,1,0,this),this.pz=Zr(this,Yr.ks.p.z,1,0,this)):this.p=Zr(this,Yr.ks.p,1,0,this),Yr.ks.a&&(this.a=Zr(this,Yr.ks.a,1,0,this)),Yr.ks.or.k.length&&Yr.ks.or.k[0].to){var Kr,Jr=Yr.ks.or.k.length;for(Kr=0;Kr<Jr;Kr+=1)Yr.ks.or.k[Kr].to=null,Yr.ks.or.k[Kr].ti=null}this.or=Zr(this,Yr.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Zr(this,Yr.ks.rx,0,degToRads,this),this.ry=Zr(this,Yr.ks.ry,0,degToRads,this),this.rz=Zr(this,Yr.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Yr,Gr=this.comp.threeDElements.length,Wr,Zr,Kr;for(Yr=0;Yr<Gr;Yr+=1)if(Wr=this.comp.threeDElements[Yr],Wr.type==="3d"){Zr=Wr.perspectiveElem.style,Kr=Wr.container.style;var Jr=this.pe.v+"px",Qr="0px 0px 0px",ti="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Zr.perspective=Jr,Zr.webkitPerspective=Jr,Kr.transformOrigin=Qr,Kr.mozTransformOrigin=Qr,Kr.webkitTransformOrigin=Qr,Zr.transform=ti,Zr.webkitTransform=ti}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Yr=this._isFirstFrame,Gr,Wr;if(this.hierarchy)for(Wr=this.hierarchy.length,Gr=0;Gr<Wr;Gr+=1)Yr=this.hierarchy[Gr].finalTransform.mProp._mdf||Yr;if(Yr||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(Wr=this.hierarchy.length-1,Gr=Wr;Gr>=0;Gr-=1){var Zr=this.hierarchy[Gr].finalTransform.mProp;this.mat.translate(-Zr.p.v[0],-Zr.p.v[1],Zr.p.v[2]),this.mat.rotateX(-Zr.or.v[0]).rotateY(-Zr.or.v[1]).rotateZ(Zr.or.v[2]),this.mat.rotateX(-Zr.rx.v).rotateY(-Zr.ry.v).rotateZ(Zr.rz.v),this.mat.scale(1/Zr.s.v[0],1/Zr.s.v[1],1/Zr.s.v[2]),this.mat.translate(Zr.a.v[0],Zr.a.v[1],Zr.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Kr;this.p?Kr=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Kr=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Jr=Math.sqrt(Math.pow(Kr[0],2)+Math.pow(Kr[1],2)+Math.pow(Kr[2],2)),Qr=[Kr[0]/Jr,Kr[1]/Jr,Kr[2]/Jr],ti=Math.sqrt(Qr[2]*Qr[2]+Qr[0]*Qr[0]),ei=Math.atan2(Qr[1],ti),ri=Math.atan2(Qr[0],-Qr[2]);this.mat.rotateY(ri).rotateX(-ei)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ii=!this._prevMat.equals(this.mat);if((ii||this.pe._mdf)&&this.comp.threeDElements){Wr=this.comp.threeDElements.length;var ni,ai,oi;for(Gr=0;Gr<Wr;Gr+=1)if(ni=this.comp.threeDElements[Gr],ni.type==="3d"){if(ii){var si=this.mat.toCSS();oi=ni.container.style,oi.transform=si,oi.webkitTransform=si}this.pe._mdf&&(ai=ni.perspectiveElem.style,ai.perspective=this.pe.v+"px",ai.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Yr){this.prepareProperties(Yr,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Yr,Gr,Wr){this.assetData=Gr.getAssetData(Yr.refId),this.initElement(Yr,Gr,Wr)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Yr=this.globalData.getAssetsPath(this.assetData),Gr=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Yr),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(Gr),Gr.crossOrigin="anonymous",Gr.src=Yr,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Yr,Gr){this.animationItem=Yr,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Gr&&Gr.className||"",imagePreserveAspectRatio:Gr&&Gr.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Gr&&Gr.hideOnTransparent===!1),filterSize:{width:Gr&&Gr.filterSize&&Gr.filterSize.width||"400%",height:Gr&&Gr.filterSize&&Gr.filterSize.height||"400%",x:Gr&&Gr.filterSize&&Gr.filterSize.x||"-100%",y:Gr&&Gr.filterSize&&Gr.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Yr=this.pendingElements.pop();Yr.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Yr,Gr){var Wr=Yr.getBaseElement();if(Wr){var Zr=this.layers[Gr];if(!Zr.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(Wr,Gr);else{for(var Kr=0,Jr,Qr,ti;Kr<Gr;)this.elements[Kr]&&this.elements[Kr]!==!0&&this.elements[Kr].getBaseElement&&(Qr=this.elements[Kr],ti=this.layers[Kr].ddd?this.getThreeDContainerByPos(Kr):Qr.getBaseElement(),Jr=ti||Jr),Kr+=1;Jr?(!Zr.ddd||!this.supports3d)&&this.layerElement.insertBefore(Wr,Jr):(!Zr.ddd||!this.supports3d)&&this.layerElement.appendChild(Wr)}else this.addTo3dContainer(Wr,Gr)}},HybridRendererBase.prototype.createShape=function(Yr){return this.supports3d?new HShapeElement(Yr,this.globalData,this):new SVGShapeElement(Yr,this.globalData,this)},HybridRendererBase.prototype.createText=function(Yr){return this.supports3d?new HTextElement(Yr,this.globalData,this):new SVGTextLottieElement(Yr,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Yr){return this.camera=new HCameraElement(Yr,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Yr){return this.supports3d?new HImageElement(Yr,this.globalData,this):new IImageElement(Yr,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Yr){return this.supports3d?new HSolidElement(Yr,this.globalData,this):new ISolidElement(Yr,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Yr){for(var Gr=0,Wr=this.threeDElements.length;Gr<Wr;){if(this.threeDElements[Gr].startPos<=Yr&&this.threeDElements[Gr].endPos>=Yr)return this.threeDElements[Gr].perspectiveElem;Gr+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Yr,Gr){var Wr=createTag("div"),Zr,Kr;styleDiv(Wr);var Jr=createTag("div");if(styleDiv(Jr),Gr==="3d"){Zr=Wr.style,Zr.width=this.globalData.compSize.w+"px",Zr.height=this.globalData.compSize.h+"px";var Qr="50% 50%";Zr.webkitTransformOrigin=Qr,Zr.mozTransformOrigin=Qr,Zr.transformOrigin=Qr,Kr=Jr.style;var ti="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Kr.transform=ti,Kr.webkitTransform=ti}Wr.appendChild(Jr);var ei={container:Jr,perspectiveElem:Wr,startPos:Yr,endPos:Yr,type:Gr};return this.threeDElements.push(ei),ei},HybridRendererBase.prototype.build3dContainers=function(){var Yr,Gr=this.layers.length,Wr,Zr="";for(Yr=0;Yr<Gr;Yr+=1)this.layers[Yr].ddd&&this.layers[Yr].ty!==3?(Zr!=="3d"&&(Zr="3d",Wr=this.createThreeDContainer(Yr,"3d")),Wr.endPos=Math.max(Wr.endPos,Yr)):(Zr!=="2d"&&(Zr="2d",Wr=this.createThreeDContainer(Yr,"2d")),Wr.endPos=Math.max(Wr.endPos,Yr));for(Gr=this.threeDElements.length,Yr=Gr-1;Yr>=0;Yr-=1)this.resizerElem.appendChild(this.threeDElements[Yr].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Yr,Gr){for(var Wr=0,Zr=this.threeDElements.length;Wr<Zr;){if(Gr<=this.threeDElements[Wr].endPos){for(var Kr=this.threeDElements[Wr].startPos,Jr;Kr<Gr;)this.elements[Kr]&&this.elements[Kr].getBaseElement&&(Jr=this.elements[Kr].getBaseElement()),Kr+=1;Jr?this.threeDElements[Wr].container.insertBefore(Yr,Jr):this.threeDElements[Wr].container.appendChild(Yr);break}Wr+=1}},HybridRendererBase.prototype.configAnimation=function(Yr){var Gr=createTag("div"),Wr=this.animationItem.wrapper,Zr=Gr.style;Zr.width=Yr.w+"px",Zr.height=Yr.h+"px",this.resizerElem=Gr,styleDiv(Gr),Zr.transformStyle="flat",Zr.mozTransformStyle="flat",Zr.webkitTransformStyle="flat",this.renderConfig.className&&Gr.setAttribute("class",this.renderConfig.className),Wr.appendChild(Gr),Zr.overflow="hidden";var Kr=createNS("svg");Kr.setAttribute("width","1"),Kr.setAttribute("height","1"),styleDiv(Kr),this.resizerElem.appendChild(Kr);var Jr=createNS("defs");Kr.appendChild(Jr),this.data=Yr,this.setupGlobalData(Yr,Kr),this.globalData.defs=Jr,this.layers=Yr.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Yr,Gr=this.layers?this.layers.length:0;for(Yr=0;Yr<Gr;Yr+=1)this.elements[Yr]&&this.elements[Yr].destroy&&this.elements[Yr].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Yr=this.animationItem.wrapper.offsetWidth,Gr=this.animationItem.wrapper.offsetHeight,Wr=Yr/Gr,Zr=this.globalData.compSize.w/this.globalData.compSize.h,Kr,Jr,Qr,ti;Zr>Wr?(Kr=Yr/this.globalData.compSize.w,Jr=Yr/this.globalData.compSize.w,Qr=0,ti=(Gr-this.globalData.compSize.h*(Yr/this.globalData.compSize.w))/2):(Kr=Gr/this.globalData.compSize.h,Jr=Gr/this.globalData.compSize.h,Qr=(Yr-this.globalData.compSize.w*(Gr/this.globalData.compSize.h))/2,ti=0);var ei=this.resizerElem.style;ei.webkitTransform="matrix3d("+Kr+",0,0,0,0,"+Jr+",0,0,0,0,1,0,"+Qr+","+ti+",0,1)",ei.transform=ei.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Yr=this.globalData.compSize.w,Gr=this.globalData.compSize.h,Wr,Zr=this.threeDElements.length;for(Wr=0;Wr<Zr;Wr+=1){var Kr=this.threeDElements[Wr].perspectiveElem.style;Kr.webkitPerspective=Math.sqrt(Math.pow(Yr,2)+Math.pow(Gr,2))+"px",Kr.perspective=Kr.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Yr){var Gr,Wr=Yr.length,Zr=createTag("div");for(Gr=0;Gr<Wr;Gr+=1)if(Yr[Gr].xt){var Kr=this.createComp(Yr[Gr],Zr,this.globalData.comp,null);Kr.initExpressions(),this.globalData.projectInterface.registerComposition(Kr)}};function HCompElement(Yr,Gr,Wr){this.layers=Yr.layers,this.supports3d=!Yr.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Yr,Gr,Wr),this.tm=Yr.tm?PropertyFactory.getProp(this,Yr.tm,0,Gr.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Yr,Gr){for(var Wr=0,Zr;Wr<Gr;)this.elements[Wr]&&this.elements[Wr].getBaseElement&&(Zr=this.elements[Wr].getBaseElement()),Wr+=1;Zr?this.layerElement.insertBefore(Yr,Zr):this.layerElement.appendChild(Yr)},HCompElement.prototype.createComp=function(Yr){return this.supports3d?new HCompElement(Yr,this.globalData,this):new SVGCompElement(Yr,this.globalData,this)};function HybridRenderer(Yr,Gr){this.animationItem=Yr,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Gr&&Gr.className||"",imagePreserveAspectRatio:Gr&&Gr.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Gr&&Gr.hideOnTransparent===!1),filterSize:{width:Gr&&Gr.filterSize&&Gr.filterSize.width||"400%",height:Gr&&Gr.filterSize&&Gr.filterSize.height||"400%",x:Gr&&Gr.filterSize&&Gr.filterSize.x||"-100%",y:Gr&&Gr.filterSize&&Gr.filterSize.y||"-100%"},runExpressions:!Gr||Gr.runExpressions===void 0||Gr.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Yr){return this.supports3d?new HCompElement(Yr,this.globalData,this):new SVGCompElement(Yr,this.globalData,this)};var CompExpressionInterface=function(){return function(Yr){function Gr(Wr){for(var Zr=0,Kr=Yr.layers.length;Zr<Kr;){if(Yr.layers[Zr].nm===Wr||Yr.layers[Zr].ind===Wr)return Yr.elements[Zr].layerInterface;Zr+=1}return null}return Object.defineProperty(Gr,"_name",{value:Yr.data.nm}),Gr.layer=Gr,Gr.pixelAspect=1,Gr.height=Yr.data.h||Yr.globalData.compSize.h,Gr.width=Yr.data.w||Yr.globalData.compSize.w,Gr.pixelAspect=1,Gr.frameDuration=1/Yr.globalData.frameRate,Gr.displayStartTime=0,Gr.numLayers=Yr.layers.length,Gr}}();function _typeof$2(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(Wr){return typeof Wr}:_typeof$2=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof$2(Yr)}function seedRandom(Yr,Gr){var Wr=this,Zr=256,Kr=6,Jr=52,Qr="random",ti=Gr.pow(Zr,Kr),ei=Gr.pow(2,Jr),ri=ei*2,ii=Zr-1,ni;function ai(ci,pi,di){var vi=[];pi=pi===!0?{entropy:!0}:pi||{};var mi=ui(li(pi.entropy?[ci,hi(Yr)]:ci===null?fi():ci,3),vi),gi=new oi(vi),yi=function(){for(var bi=gi.g(Kr),Ti=ti,Ai=0;bi<ei;)bi=(bi+Ai)*Zr,Ti*=Zr,Ai=gi.g(1);for(;bi>=ri;)bi/=2,Ti/=2,Ai>>>=1;return(bi+Ai)/Ti};return yi.int32=function(){return gi.g(4)|0},yi.quick=function(){return gi.g(4)/4294967296},yi.double=yi,ui(hi(gi.S),Yr),(pi.pass||di||function(Si,bi,Ti,Ai){return Ai&&(Ai.S&&si(Ai,gi),Si.state=function(){return si(gi,{})}),Ti?(Gr[Qr]=Si,bi):Si})(yi,mi,"global"in pi?pi.global:this==Gr,pi.state)}Gr["seed"+Qr]=ai;function oi(ci){var pi,di=ci.length,vi=this,mi=0,gi=vi.i=vi.j=0,yi=vi.S=[];for(di||(ci=[di++]);mi<Zr;)yi[mi]=mi++;for(mi=0;mi<Zr;mi++)yi[mi]=yi[gi=ii&gi+ci[mi%di]+(pi=yi[mi])],yi[gi]=pi;vi.g=function(Si){for(var bi,Ti=0,Ai=vi.i,Ei=vi.j,Mi=vi.S;Si--;)bi=Mi[Ai=ii&Ai+1],Ti=Ti*Zr+Mi[ii&(Mi[Ai]=Mi[Ei=ii&Ei+bi])+(Mi[Ei]=bi)];return vi.i=Ai,vi.j=Ei,Ti}}function si(ci,pi){return pi.i=ci.i,pi.j=ci.j,pi.S=ci.S.slice(),pi}function li(ci,pi){var di=[],vi=_typeof$2(ci),mi;if(pi&&vi=="object")for(mi in ci)try{di.push(li(ci[mi],pi-1))}catch{}return di.length?di:vi=="string"?ci:ci+"\0"}function ui(ci,pi){for(var di=ci+"",vi,mi=0;mi<di.length;)pi[ii&mi]=ii&(vi^=pi[ii&mi]*19)+di.charCodeAt(mi++);return hi(pi)}function fi(){try{if(ni)return hi(ni.randomBytes(Zr));var ci=new Uint8Array(Zr);return(Wr.crypto||Wr.msCrypto).getRandomValues(ci),hi(ci)}catch{var pi=Wr.navigator,di=pi&&pi.plugins;return[+new Date,Wr,di,Wr.screen,hi(Yr)]}}function hi(ci){return String.fromCharCode.apply(0,ci)}ui(Gr.random(),Yr)}function initialize$2(Yr){seedRandom([],Yr)}var propTypes={SHAPE:"shape"};function _typeof$1(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(Wr){return typeof Wr}:_typeof$1=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof$1(Yr)}var ExpressionManager=function(){"use strict";var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Yr){return Yr.constructor===Array||Yr.constructor===Float32Array}function isNumerable(Yr,Gr){return Yr==="number"||Gr instanceof Number||Yr==="boolean"||Yr==="string"}function $bm_neg(Yr){var Gr=_typeof$1(Yr);if(Gr==="number"||Yr instanceof Number||Gr==="boolean")return-Yr;if($bm_isInstanceOfArray(Yr)){var Wr,Zr=Yr.length,Kr=[];for(Wr=0;Wr<Zr;Wr+=1)Kr[Wr]=-Yr[Wr];return Kr}return Yr.propType?Yr.v:-Yr}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Yr,Gr){var Wr=_typeof$1(Yr),Zr=_typeof$1(Gr);if(isNumerable(Wr,Yr)&&isNumerable(Zr,Gr)||Wr==="string"||Zr==="string")return Yr+Gr;if($bm_isInstanceOfArray(Yr)&&isNumerable(Zr,Gr))return Yr=Yr.slice(0),Yr[0]+=Gr,Yr;if(isNumerable(Wr,Yr)&&$bm_isInstanceOfArray(Gr))return Gr=Gr.slice(0),Gr[0]=Yr+Gr[0],Gr;if($bm_isInstanceOfArray(Yr)&&$bm_isInstanceOfArray(Gr)){for(var Kr=0,Jr=Yr.length,Qr=Gr.length,ti=[];Kr<Jr||Kr<Qr;)(typeof Yr[Kr]=="number"||Yr[Kr]instanceof Number)&&(typeof Gr[Kr]=="number"||Gr[Kr]instanceof Number)?ti[Kr]=Yr[Kr]+Gr[Kr]:ti[Kr]=Gr[Kr]===void 0?Yr[Kr]:Yr[Kr]||Gr[Kr],Kr+=1;return ti}return 0}var add=sum;function sub(Yr,Gr){var Wr=_typeof$1(Yr),Zr=_typeof$1(Gr);if(isNumerable(Wr,Yr)&&isNumerable(Zr,Gr))return Wr==="string"&&(Yr=parseInt(Yr,10)),Zr==="string"&&(Gr=parseInt(Gr,10)),Yr-Gr;if($bm_isInstanceOfArray(Yr)&&isNumerable(Zr,Gr))return Yr=Yr.slice(0),Yr[0]-=Gr,Yr;if(isNumerable(Wr,Yr)&&$bm_isInstanceOfArray(Gr))return Gr=Gr.slice(0),Gr[0]=Yr-Gr[0],Gr;if($bm_isInstanceOfArray(Yr)&&$bm_isInstanceOfArray(Gr)){for(var Kr=0,Jr=Yr.length,Qr=Gr.length,ti=[];Kr<Jr||Kr<Qr;)(typeof Yr[Kr]=="number"||Yr[Kr]instanceof Number)&&(typeof Gr[Kr]=="number"||Gr[Kr]instanceof Number)?ti[Kr]=Yr[Kr]-Gr[Kr]:ti[Kr]=Gr[Kr]===void 0?Yr[Kr]:Yr[Kr]||Gr[Kr],Kr+=1;return ti}return 0}function mul(Yr,Gr){var Wr=_typeof$1(Yr),Zr=_typeof$1(Gr),Kr;if(isNumerable(Wr,Yr)&&isNumerable(Zr,Gr))return Yr*Gr;var Jr,Qr;if($bm_isInstanceOfArray(Yr)&&isNumerable(Zr,Gr)){for(Qr=Yr.length,Kr=createTypedArray("float32",Qr),Jr=0;Jr<Qr;Jr+=1)Kr[Jr]=Yr[Jr]*Gr;return Kr}if(isNumerable(Wr,Yr)&&$bm_isInstanceOfArray(Gr)){for(Qr=Gr.length,Kr=createTypedArray("float32",Qr),Jr=0;Jr<Qr;Jr+=1)Kr[Jr]=Yr*Gr[Jr];return Kr}return 0}function div(Yr,Gr){var Wr=_typeof$1(Yr),Zr=_typeof$1(Gr),Kr;if(isNumerable(Wr,Yr)&&isNumerable(Zr,Gr))return Yr/Gr;var Jr,Qr;if($bm_isInstanceOfArray(Yr)&&isNumerable(Zr,Gr)){for(Qr=Yr.length,Kr=createTypedArray("float32",Qr),Jr=0;Jr<Qr;Jr+=1)Kr[Jr]=Yr[Jr]/Gr;return Kr}if(isNumerable(Wr,Yr)&&$bm_isInstanceOfArray(Gr)){for(Qr=Gr.length,Kr=createTypedArray("float32",Qr),Jr=0;Jr<Qr;Jr+=1)Kr[Jr]=Yr/Gr[Jr];return Kr}return 0}function mod(Yr,Gr){return typeof Yr=="string"&&(Yr=parseInt(Yr,10)),typeof Gr=="string"&&(Gr=parseInt(Gr,10)),Yr%Gr}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Yr,Gr,Wr){if(Gr>Wr){var Zr=Wr;Wr=Gr,Gr=Zr}return Math.min(Math.max(Yr,Gr),Wr)}function radiansToDegrees(Yr){return Yr/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Yr){return Yr*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Yr,Gr){if(typeof Yr=="number"||Yr instanceof Number)return Gr=Gr||0,Math.abs(Yr-Gr);Gr||(Gr=helperLengthArray);var Wr,Zr=Math.min(Yr.length,Gr.length),Kr=0;for(Wr=0;Wr<Zr;Wr+=1)Kr+=Math.pow(Gr[Wr]-Yr[Wr],2);return Math.sqrt(Kr)}function normalize(Yr){return div(Yr,length(Yr))}function rgbToHsl(Yr){var Gr=Yr[0],Wr=Yr[1],Zr=Yr[2],Kr=Math.max(Gr,Wr,Zr),Jr=Math.min(Gr,Wr,Zr),Qr,ti,ei=(Kr+Jr)/2;if(Kr===Jr)Qr=0,ti=0;else{var ri=Kr-Jr;switch(ti=ei>.5?ri/(2-Kr-Jr):ri/(Kr+Jr),Kr){case Gr:Qr=(Wr-Zr)/ri+(Wr<Zr?6:0);break;case Wr:Qr=(Zr-Gr)/ri+2;break;case Zr:Qr=(Gr-Wr)/ri+4;break;default:break}Qr/=6}return[Qr,ti,ei,Yr[3]]}function hue2rgb(Yr,Gr,Wr){return Wr<0&&(Wr+=1),Wr>1&&(Wr-=1),Wr<1/6?Yr+(Gr-Yr)*6*Wr:Wr<1/2?Gr:Wr<2/3?Yr+(Gr-Yr)*(2/3-Wr)*6:Yr}function hslToRgb(Yr){var Gr=Yr[0],Wr=Yr[1],Zr=Yr[2],Kr,Jr,Qr;if(Wr===0)Kr=Zr,Qr=Zr,Jr=Zr;else{var ti=Zr<.5?Zr*(1+Wr):Zr+Wr-Zr*Wr,ei=2*Zr-ti;Kr=hue2rgb(ei,ti,Gr+1/3),Jr=hue2rgb(ei,ti,Gr),Qr=hue2rgb(ei,ti,Gr-1/3)}return[Kr,Jr,Qr,Yr[3]]}function linear(Yr,Gr,Wr,Zr,Kr){if((Zr===void 0||Kr===void 0)&&(Zr=Gr,Kr=Wr,Gr=0,Wr=1),Wr<Gr){var Jr=Wr;Wr=Gr,Gr=Jr}if(Yr<=Gr)return Zr;if(Yr>=Wr)return Kr;var Qr=Wr===Gr?0:(Yr-Gr)/(Wr-Gr);if(!Zr.length)return Zr+(Kr-Zr)*Qr;var ti,ei=Zr.length,ri=createTypedArray("float32",ei);for(ti=0;ti<ei;ti+=1)ri[ti]=Zr[ti]+(Kr[ti]-Zr[ti])*Qr;return ri}function random(Yr,Gr){if(Gr===void 0&&(Yr===void 0?(Yr=0,Gr=1):(Gr=Yr,Yr=void 0)),Gr.length){var Wr,Zr=Gr.length;Yr||(Yr=createTypedArray("float32",Zr));var Kr=createTypedArray("float32",Zr),Jr=BMMath.random();for(Wr=0;Wr<Zr;Wr+=1)Kr[Wr]=Yr[Wr]+Jr*(Gr[Wr]-Yr[Wr]);return Kr}Yr===void 0&&(Yr=0);var Qr=BMMath.random();return Yr+Qr*(Gr-Yr)}function createPath(Yr,Gr,Wr,Zr){var Kr,Jr=Yr.length,Qr=shapePool.newElement();Qr.setPathData(!!Zr,Jr);var ti=[0,0],ei,ri;for(Kr=0;Kr<Jr;Kr+=1)ei=Gr&&Gr[Kr]?Gr[Kr]:ti,ri=Wr&&Wr[Kr]?Wr[Kr]:ti,Qr.setTripleAt(Yr[Kr][0],Yr[Kr][1],ri[0]+Yr[Kr][0],ri[1]+Yr[Kr][1],ei[0]+Yr[Kr][0],ei[1]+Yr[Kr][1],Kr,!0);return Qr}function initiateExpression(elem,data,property){function noOp(Yr){return Yr}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function Yr(Gr,Wr){var Zr,Kr,Jr=this.pv.length?this.pv.length:1,Qr=createTypedArray("float32",Jr);Gr=5;var ti=Math.floor(time*Gr);for(Zr=0,Kr=0;Zr<ti;){for(Kr=0;Kr<Jr;Kr+=1)Qr[Kr]+=-Wr+Wr*2*BMMath.random();Zr+=1}var ei=time*Gr,ri=ei-Math.floor(ei),ii=createTypedArray("float32",Jr);if(Jr>1){for(Kr=0;Kr<Jr;Kr+=1)ii[Kr]=this.pv[Kr]+Qr[Kr]+(-Wr+Wr*2*BMMath.random())*ri;return ii}return this.pv+Qr[0]+(-Wr+Wr*2*BMMath.random())*ri}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Yr,Gr){return loopIn(Yr,Gr,!0)}function loopOutDuration(Yr,Gr){return loopOut(Yr,Gr,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Yr,Gr){var Wr=[Gr[0]-Yr[0],Gr[1]-Yr[1],Gr[2]-Yr[2]],Zr=Math.atan2(Wr[0],Math.sqrt(Wr[1]*Wr[1]+Wr[2]*Wr[2]))/degToRads,Kr=-Math.atan2(Wr[1],Wr[2])/degToRads;return[Kr,Zr,0]}function easeOut(Yr,Gr,Wr,Zr,Kr){return applyEase(easeOutBez,Yr,Gr,Wr,Zr,Kr)}function easeIn(Yr,Gr,Wr,Zr,Kr){return applyEase(easeInBez,Yr,Gr,Wr,Zr,Kr)}function ease(Yr,Gr,Wr,Zr,Kr){return applyEase(easeInOutBez,Yr,Gr,Wr,Zr,Kr)}function applyEase(Yr,Gr,Wr,Zr,Kr,Jr){Kr===void 0?(Kr=Wr,Jr=Zr):Gr=(Gr-Wr)/(Zr-Wr),Gr>1?Gr=1:Gr<0&&(Gr=0);var Qr=Yr(Gr);if($bm_isInstanceOfArray(Kr)){var ti,ei=Kr.length,ri=createTypedArray("float32",ei);for(ti=0;ti<ei;ti+=1)ri[ti]=(Jr[ti]-Kr[ti])*Qr+Kr[ti];return ri}return(Jr-Kr)*Qr+Kr}function nearestKey(Yr){var Gr,Wr=data.k.length,Zr,Kr;if(!data.k.length||typeof data.k[0]=="number")Zr=0,Kr=0;else if(Zr=-1,Yr*=elem.comp.globalData.frameRate,Yr<data.k[0].t)Zr=1,Kr=data.k[0].t;else{for(Gr=0;Gr<Wr-1;Gr+=1)if(Yr===data.k[Gr].t){Zr=Gr+1,Kr=data.k[Gr].t;break}else if(Yr>data.k[Gr].t&&Yr<data.k[Gr+1].t){Yr-data.k[Gr].t>data.k[Gr+1].t-Yr?(Zr=Gr+2,Kr=data.k[Gr+1].t):(Zr=Gr+1,Kr=data.k[Gr].t);break}Zr===-1&&(Zr=Gr+1,Kr=data.k[Gr].t)}var Jr={};return Jr.index=Zr,Jr.time=Kr/elem.comp.globalData.frameRate,Jr}function key(Yr){var Gr,Wr,Zr;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Yr);Yr-=1,Gr={time:data.k[Yr].t/elem.comp.globalData.frameRate,value:[]};var Kr=Object.prototype.hasOwnProperty.call(data.k[Yr],"s")?data.k[Yr].s:data.k[Yr-1].e;for(Zr=Kr.length,Wr=0;Wr<Zr;Wr+=1)Gr[Wr]=Kr[Wr],Gr.value[Wr]=Kr[Wr];return Gr}function framesToTime(Yr,Gr){return Gr||(Gr=elem.comp.globalData.frameRate),Yr/Gr}function timeToFrames(Yr,Gr){return!Yr&&Yr!==0&&(Yr=time),Gr||(Gr=elem.comp.globalData.frameRate),Yr*Gr}function seedRandom(Yr){BMMath.seedrandom(randSeed+Yr)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Yr,Gr){return typeof value=="string"?Gr===void 0?value.substring(Yr):value.substring(Yr,Gr):""}function substr(Yr,Gr){return typeof value=="string"?Gr===void 0?value.substr(Yr):value.substr(Yr,Gr):""}function posterizeTime(Yr){time=Yr===0?0:Math.floor(time*Yr)/Yr,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Yr){return value=Yr,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var Yr={};Yr.initExpressions=Gr,Yr.resetFrame=ExpressionManager.resetFrame;function Gr(Wr){var Zr=0,Kr=[];function Jr(){Zr+=1}function Qr(){Zr-=1,Zr===0&&ei()}function ti(ri){Kr.indexOf(ri)===-1&&Kr.push(ri)}function ei(){var ri,ii=Kr.length;for(ri=0;ri<ii;ri+=1)Kr[ri].release();Kr.length=0}Wr.renderer.compInterface=CompExpressionInterface(Wr.renderer),Wr.renderer.globalData.projectInterface.registerComposition(Wr.renderer),Wr.renderer.globalData.pushExpression=Jr,Wr.renderer.globalData.popExpression=Qr,Wr.renderer.globalData.registerExpressionProperty=ti}return Yr}(),MaskManagerInterface=function(){function Yr(Wr,Zr){this._mask=Wr,this._data=Zr}Object.defineProperty(Yr.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Yr.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var Gr=function(Zr){var Kr=createSizedArray(Zr.viewData.length),Jr,Qr=Zr.viewData.length;for(Jr=0;Jr<Qr;Jr+=1)Kr[Jr]=new Yr(Zr.viewData[Jr],Zr.masksProperties[Jr]);var ti=function(ri){for(Jr=0;Jr<Qr;){if(Zr.masksProperties[Jr].nm===ri)return Kr[Jr];Jr+=1}return null};return ti};return Gr}(),ExpressionPropertyInterface=function(){var Yr={pv:0,v:0,mult:1},Gr={pv:[0,0,0],v:[0,0,0],mult:1};function Wr(Qr,ti,ei){Object.defineProperty(Qr,"velocity",{get:function(){return ti.getVelocityAtTime(ti.comp.currentFrame)}}),Qr.numKeys=ti.keyframes?ti.keyframes.length:0,Qr.key=function(ri){if(!Qr.numKeys)return 0;var ii="";"s"in ti.keyframes[ri-1]?ii=ti.keyframes[ri-1].s:"e"in ti.keyframes[ri-2]?ii=ti.keyframes[ri-2].e:ii=ti.keyframes[ri-2].s;var ni=ei==="unidimensional"?new Number(ii):Object.assign({},ii);return ni.time=ti.keyframes[ri-1].t/ti.elem.comp.globalData.frameRate,ni.value=ei==="unidimensional"?ii[0]:ii,ni},Qr.valueAtTime=ti.getValueAtTime,Qr.speedAtTime=ti.getSpeedAtTime,Qr.velocityAtTime=ti.getVelocityAtTime,Qr.propertyGroup=ti.propertyGroup}function Zr(Qr){(!Qr||!("pv"in Qr))&&(Qr=Yr);var ti=1/Qr.mult,ei=Qr.pv*ti,ri=new Number(ei);return ri.value=ei,Wr(ri,Qr,"unidimensional"),function(){return Qr.k&&Qr.getValue(),ei=Qr.v*ti,ri.value!==ei&&(ri=new Number(ei),ri.value=ei,Wr(ri,Qr,"unidimensional")),ri}}function Kr(Qr){(!Qr||!("pv"in Qr))&&(Qr=Gr);var ti=1/Qr.mult,ei=Qr.data&&Qr.data.l||Qr.pv.length,ri=createTypedArray("float32",ei),ii=createTypedArray("float32",ei);return ri.value=ii,Wr(ri,Qr,"multidimensional"),function(){Qr.k&&Qr.getValue();for(var ni=0;ni<ei;ni+=1)ii[ni]=Qr.v[ni]*ti,ri[ni]=ii[ni];return ri}}function Jr(){return Yr}return function(Qr){return Qr?Qr.propType==="unidimensional"?Zr(Qr):Kr(Qr):Jr}}(),TransformExpressionInterface=function(){return function(Yr){function Gr(Qr){switch(Qr){case"scale":case"Scale":case"ADBE Scale":case 6:return Gr.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return Gr.rotation;case"ADBE Rotate X":return Gr.xRotation;case"ADBE Rotate Y":return Gr.yRotation;case"position":case"Position":case"ADBE Position":case 2:return Gr.position;case"ADBE Position_0":return Gr.xPosition;case"ADBE Position_1":return Gr.yPosition;case"ADBE Position_2":return Gr.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return Gr.anchorPoint;case"opacity":case"Opacity":case 11:return Gr.opacity;default:return null}}Object.defineProperty(Gr,"rotation",{get:ExpressionPropertyInterface(Yr.r||Yr.rz)}),Object.defineProperty(Gr,"zRotation",{get:ExpressionPropertyInterface(Yr.rz||Yr.r)}),Object.defineProperty(Gr,"xRotation",{get:ExpressionPropertyInterface(Yr.rx)}),Object.defineProperty(Gr,"yRotation",{get:ExpressionPropertyInterface(Yr.ry)}),Object.defineProperty(Gr,"scale",{get:ExpressionPropertyInterface(Yr.s)});var Wr,Zr,Kr,Jr;return Yr.p?Jr=ExpressionPropertyInterface(Yr.p):(Wr=ExpressionPropertyInterface(Yr.px),Zr=ExpressionPropertyInterface(Yr.py),Yr.pz&&(Kr=ExpressionPropertyInterface(Yr.pz))),Object.defineProperty(Gr,"position",{get:function(){return Yr.p?Jr():[Wr(),Zr(),Kr?Kr():0]}}),Object.defineProperty(Gr,"xPosition",{get:ExpressionPropertyInterface(Yr.px)}),Object.defineProperty(Gr,"yPosition",{get:ExpressionPropertyInterface(Yr.py)}),Object.defineProperty(Gr,"zPosition",{get:ExpressionPropertyInterface(Yr.pz)}),Object.defineProperty(Gr,"anchorPoint",{get:ExpressionPropertyInterface(Yr.a)}),Object.defineProperty(Gr,"opacity",{get:ExpressionPropertyInterface(Yr.o)}),Object.defineProperty(Gr,"skew",{get:ExpressionPropertyInterface(Yr.sk)}),Object.defineProperty(Gr,"skewAxis",{get:ExpressionPropertyInterface(Yr.sa)}),Object.defineProperty(Gr,"orientation",{get:ExpressionPropertyInterface(Yr.or)}),Gr}}(),LayerExpressionInterface=function(){function Yr(ri){var ii=new Matrix;if(ri!==void 0){var ni=this._elem.finalTransform.mProp.getValueAtTime(ri);ni.clone(ii)}else{var ai=this._elem.finalTransform.mProp;ai.applyToMatrix(ii)}return ii}function Gr(ri,ii){var ni=this.getMatrix(ii);return ni.props[12]=0,ni.props[13]=0,ni.props[14]=0,this.applyPoint(ni,ri)}function Wr(ri,ii){var ni=this.getMatrix(ii);return this.applyPoint(ni,ri)}function Zr(ri,ii){var ni=this.getMatrix(ii);return ni.props[12]=0,ni.props[13]=0,ni.props[14]=0,this.invertPoint(ni,ri)}function Kr(ri,ii){var ni=this.getMatrix(ii);return this.invertPoint(ni,ri)}function Jr(ri,ii){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ni,ai=this._elem.hierarchy.length;for(ni=0;ni<ai;ni+=1)this._elem.hierarchy[ni].finalTransform.mProp.applyToMatrix(ri)}return ri.applyToPointArray(ii[0],ii[1],ii[2]||0)}function Qr(ri,ii){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ni,ai=this._elem.hierarchy.length;for(ni=0;ni<ai;ni+=1)this._elem.hierarchy[ni].finalTransform.mProp.applyToMatrix(ri)}return ri.inversePoint(ii)}function ti(ri){var ii=new Matrix;if(ii.reset(),this._elem.finalTransform.mProp.applyToMatrix(ii),this._elem.hierarchy&&this._elem.hierarchy.length){var ni,ai=this._elem.hierarchy.length;for(ni=0;ni<ai;ni+=1)this._elem.hierarchy[ni].finalTransform.mProp.applyToMatrix(ii);return ii.inversePoint(ri)}return ii.inversePoint(ri)}function ei(){return[1,1,1,1]}return function(ri){var ii;function ni(li){oi.mask=new MaskManagerInterface(li,ri)}function ai(li){oi.effect=li}function oi(li){switch(li){case"ADBE Root Vectors Group":case"Contents":case 2:return oi.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ii;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return oi.effect;case"ADBE Text Properties":return oi.textInterface;default:return null}}oi.getMatrix=Yr,oi.invertPoint=Qr,oi.applyPoint=Jr,oi.toWorld=Wr,oi.toWorldVec=Gr,oi.fromWorld=Kr,oi.fromWorldVec=Zr,oi.toComp=Wr,oi.fromComp=ti,oi.sampleImage=ei,oi.sourceRectAtTime=ri.sourceRectAtTime.bind(ri),oi._elem=ri,ii=TransformExpressionInterface(ri.finalTransform.mProp);var si=getDescriptor(ii,"anchorPoint");return Object.defineProperties(oi,{hasParent:{get:function(){return ri.hierarchy.length}},parent:{get:function(){return ri.hierarchy[0].layerInterface}},rotation:getDescriptor(ii,"rotation"),scale:getDescriptor(ii,"scale"),position:getDescriptor(ii,"position"),opacity:getDescriptor(ii,"opacity"),anchorPoint:si,anchor_point:si,transform:{get:function(){return ii}},active:{get:function(){return ri.isInRange}}}),oi.startTime=ri.data.st,oi.index=ri.data.ind,oi.source=ri.data.refId,oi.height=ri.data.ty===0?ri.data.h:100,oi.width=ri.data.ty===0?ri.data.w:100,oi.inPoint=ri.data.ip/ri.comp.globalData.frameRate,oi.outPoint=ri.data.op/ri.comp.globalData.frameRate,oi._name=ri.data.nm,oi.registerMaskInterface=ni,oi.registerEffectsInterface=ai,oi}}(),propertyGroupFactory=function(){return function(Yr,Gr){return function(Wr){return Wr=Wr===void 0?1:Wr,Wr<=0?Yr:Gr(Wr-1)}}}(),PropertyInterface=function(){return function(Yr,Gr){var Wr={_name:Yr};function Zr(Kr){return Kr=Kr===void 0?1:Kr,Kr<=0?Wr:Gr(Kr-1)}return Zr}}(),EffectsExpressionInterface=function(){var Yr={createEffectsInterface:Gr};function Gr(Kr,Jr){if(Kr.effectsManager){var Qr=[],ti=Kr.data.ef,ei,ri=Kr.effectsManager.effectElements.length;for(ei=0;ei<ri;ei+=1)Qr.push(Wr(ti[ei],Kr.effectsManager.effectElements[ei],Jr,Kr));var ii=Kr.data.ef||[],ni=function(oi){for(ei=0,ri=ii.length;ei<ri;){if(oi===ii[ei].nm||oi===ii[ei].mn||oi===ii[ei].ix)return Qr[ei];ei+=1}return null};return Object.defineProperty(ni,"numProperties",{get:function(){return ii.length}}),ni}return null}function Wr(Kr,Jr,Qr,ti){function ei(oi){for(var si=Kr.ef,li=0,ui=si.length;li<ui;){if(oi===si[li].nm||oi===si[li].mn||oi===si[li].ix)return si[li].ty===5?ii[li]:ii[li]();li+=1}throw new Error}var ri=propertyGroupFactory(ei,Qr),ii=[],ni,ai=Kr.ef.length;for(ni=0;ni<ai;ni+=1)Kr.ef[ni].ty===5?ii.push(Wr(Kr.ef[ni],Jr.effectElements[ni],Jr.effectElements[ni].propertyGroup,ti)):ii.push(Zr(Jr.effectElements[ni],Kr.ef[ni].ty,ti,ri));return Kr.mn==="ADBE Color Control"&&Object.defineProperty(ei,"color",{get:function(){return ii[0]()}}),Object.defineProperties(ei,{numProperties:{get:function(){return Kr.np}},_name:{value:Kr.nm},propertyGroup:{value:ri}}),ei.enabled=Kr.en!==0,ei.active=ei.enabled,ei}function Zr(Kr,Jr,Qr,ti){var ei=ExpressionPropertyInterface(Kr.p);function ri(){return Jr===10?Qr.comp.compInterface(Kr.p.v):ei()}return Kr.p.setGroupProperty&&Kr.p.setGroupProperty(PropertyInterface("",ti)),ri}return Yr}(),ShapePathInterface=function(){return function(Gr,Wr,Zr){var Kr=Wr.sh;function Jr(ti){return ti==="Shape"||ti==="shape"||ti==="Path"||ti==="path"||ti==="ADBE Vector Shape"||ti===2?Jr.path:null}var Qr=propertyGroupFactory(Jr,Zr);return Kr.setGroupProperty(PropertyInterface("Path",Qr)),Object.defineProperties(Jr,{path:{get:function(){return Kr.k&&Kr.getValue(),Kr}},shape:{get:function(){return Kr.k&&Kr.getValue(),Kr}},_name:{value:Gr.nm},ix:{value:Gr.ix},propertyIndex:{value:Gr.ix},mn:{value:Gr.mn},propertyGroup:{value:Zr}}),Jr}}(),ShapeExpressionInterface=function(){function Yr(si,li,ui){var fi=[],hi,ci=si?si.length:0;for(hi=0;hi<ci;hi+=1)si[hi].ty==="gr"?fi.push(Wr(si[hi],li[hi],ui)):si[hi].ty==="fl"?fi.push(Zr(si[hi],li[hi],ui)):si[hi].ty==="st"?fi.push(Qr(si[hi],li[hi],ui)):si[hi].ty==="tm"?fi.push(ti(si[hi],li[hi],ui)):si[hi].ty==="tr"||(si[hi].ty==="el"?fi.push(ri(si[hi],li[hi],ui)):si[hi].ty==="sr"?fi.push(ii(si[hi],li[hi],ui)):si[hi].ty==="sh"?fi.push(ShapePathInterface(si[hi],li[hi],ui)):si[hi].ty==="rc"?fi.push(ni(si[hi],li[hi],ui)):si[hi].ty==="rd"?fi.push(ai(si[hi],li[hi],ui)):si[hi].ty==="rp"?fi.push(oi(si[hi],li[hi],ui)):si[hi].ty==="gf"?fi.push(Kr(si[hi],li[hi],ui)):fi.push(Jr(si[hi],li[hi],ui)));return fi}function Gr(si,li,ui){var fi,hi=function(di){for(var vi=0,mi=fi.length;vi<mi;){if(fi[vi]._name===di||fi[vi].mn===di||fi[vi].propertyIndex===di||fi[vi].ix===di||fi[vi].ind===di)return fi[vi];vi+=1}return typeof di=="number"?fi[di-1]:null};hi.propertyGroup=propertyGroupFactory(hi,ui),fi=Yr(si.it,li.it,hi.propertyGroup),hi.numProperties=fi.length;var ci=ei(si.it[si.it.length-1],li.it[li.it.length-1],hi.propertyGroup);return hi.transform=ci,hi.propertyIndex=si.cix,hi._name=si.nm,hi}function Wr(si,li,ui){var fi=function(di){switch(di){case"ADBE Vectors Group":case"Contents":case 2:return fi.content;default:return fi.transform}};fi.propertyGroup=propertyGroupFactory(fi,ui);var hi=Gr(si,li,fi.propertyGroup),ci=ei(si.it[si.it.length-1],li.it[li.it.length-1],fi.propertyGroup);return fi.content=hi,fi.transform=ci,Object.defineProperty(fi,"_name",{get:function(){return si.nm}}),fi.numProperties=si.np,fi.propertyIndex=si.ix,fi.nm=si.nm,fi.mn=si.mn,fi}function Zr(si,li,ui){function fi(hi){return hi==="Color"||hi==="color"?fi.color:hi==="Opacity"||hi==="opacity"?fi.opacity:null}return Object.defineProperties(fi,{color:{get:ExpressionPropertyInterface(li.c)},opacity:{get:ExpressionPropertyInterface(li.o)},_name:{value:si.nm},mn:{value:si.mn}}),li.c.setGroupProperty(PropertyInterface("Color",ui)),li.o.setGroupProperty(PropertyInterface("Opacity",ui)),fi}function Kr(si,li,ui){function fi(hi){return hi==="Start Point"||hi==="start point"?fi.startPoint:hi==="End Point"||hi==="end point"?fi.endPoint:hi==="Opacity"||hi==="opacity"?fi.opacity:null}return Object.defineProperties(fi,{startPoint:{get:ExpressionPropertyInterface(li.s)},endPoint:{get:ExpressionPropertyInterface(li.e)},opacity:{get:ExpressionPropertyInterface(li.o)},type:{get:function(){return"a"}},_name:{value:si.nm},mn:{value:si.mn}}),li.s.setGroupProperty(PropertyInterface("Start Point",ui)),li.e.setGroupProperty(PropertyInterface("End Point",ui)),li.o.setGroupProperty(PropertyInterface("Opacity",ui)),fi}function Jr(){function si(){return null}return si}function Qr(si,li,ui){var fi=propertyGroupFactory(mi,ui),hi=propertyGroupFactory(vi,fi);function ci(gi){Object.defineProperty(vi,si.d[gi].nm,{get:ExpressionPropertyInterface(li.d.dataProps[gi].p)})}var pi,di=si.d?si.d.length:0,vi={};for(pi=0;pi<di;pi+=1)ci(pi),li.d.dataProps[pi].p.setGroupProperty(hi);function mi(gi){return gi==="Color"||gi==="color"?mi.color:gi==="Opacity"||gi==="opacity"?mi.opacity:gi==="Stroke Width"||gi==="stroke width"?mi.strokeWidth:null}return Object.defineProperties(mi,{color:{get:ExpressionPropertyInterface(li.c)},opacity:{get:ExpressionPropertyInterface(li.o)},strokeWidth:{get:ExpressionPropertyInterface(li.w)},dash:{get:function(){return vi}},_name:{value:si.nm},mn:{value:si.mn}}),li.c.setGroupProperty(PropertyInterface("Color",fi)),li.o.setGroupProperty(PropertyInterface("Opacity",fi)),li.w.setGroupProperty(PropertyInterface("Stroke Width",fi)),mi}function ti(si,li,ui){function fi(ci){return ci===si.e.ix||ci==="End"||ci==="end"?fi.end:ci===si.s.ix?fi.start:ci===si.o.ix?fi.offset:null}var hi=propertyGroupFactory(fi,ui);return fi.propertyIndex=si.ix,li.s.setGroupProperty(PropertyInterface("Start",hi)),li.e.setGroupProperty(PropertyInterface("End",hi)),li.o.setGroupProperty(PropertyInterface("Offset",hi)),fi.propertyIndex=si.ix,fi.propertyGroup=ui,Object.defineProperties(fi,{start:{get:ExpressionPropertyInterface(li.s)},end:{get:ExpressionPropertyInterface(li.e)},offset:{get:ExpressionPropertyInterface(li.o)},_name:{value:si.nm}}),fi.mn=si.mn,fi}function ei(si,li,ui){function fi(ci){return si.a.ix===ci||ci==="Anchor Point"?fi.anchorPoint:si.o.ix===ci||ci==="Opacity"?fi.opacity:si.p.ix===ci||ci==="Position"?fi.position:si.r.ix===ci||ci==="Rotation"||ci==="ADBE Vector Rotation"?fi.rotation:si.s.ix===ci||ci==="Scale"?fi.scale:si.sk&&si.sk.ix===ci||ci==="Skew"?fi.skew:si.sa&&si.sa.ix===ci||ci==="Skew Axis"?fi.skewAxis:null}var hi=propertyGroupFactory(fi,ui);return li.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",hi)),li.transform.mProps.p.setGroupProperty(PropertyInterface("Position",hi)),li.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",hi)),li.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",hi)),li.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",hi)),li.transform.mProps.sk&&(li.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",hi)),li.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",hi))),li.transform.op.setGroupProperty(PropertyInterface("Opacity",hi)),Object.defineProperties(fi,{opacity:{get:ExpressionPropertyInterface(li.transform.mProps.o)},position:{get:ExpressionPropertyInterface(li.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(li.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(li.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(li.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(li.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(li.transform.mProps.sa)},_name:{value:si.nm}}),fi.ty="tr",fi.mn=si.mn,fi.propertyGroup=ui,fi}function ri(si,li,ui){function fi(pi){return si.p.ix===pi?fi.position:si.s.ix===pi?fi.size:null}var hi=propertyGroupFactory(fi,ui);fi.propertyIndex=si.ix;var ci=li.sh.ty==="tm"?li.sh.prop:li.sh;return ci.s.setGroupProperty(PropertyInterface("Size",hi)),ci.p.setGroupProperty(PropertyInterface("Position",hi)),Object.defineProperties(fi,{size:{get:ExpressionPropertyInterface(ci.s)},position:{get:ExpressionPropertyInterface(ci.p)},_name:{value:si.nm}}),fi.mn=si.mn,fi}function ii(si,li,ui){function fi(pi){return si.p.ix===pi?fi.position:si.r.ix===pi?fi.rotation:si.pt.ix===pi?fi.points:si.or.ix===pi||pi==="ADBE Vector Star Outer Radius"?fi.outerRadius:si.os.ix===pi?fi.outerRoundness:si.ir&&(si.ir.ix===pi||pi==="ADBE Vector Star Inner Radius")?fi.innerRadius:si.is&&si.is.ix===pi?fi.innerRoundness:null}var hi=propertyGroupFactory(fi,ui),ci=li.sh.ty==="tm"?li.sh.prop:li.sh;return fi.propertyIndex=si.ix,ci.or.setGroupProperty(PropertyInterface("Outer Radius",hi)),ci.os.setGroupProperty(PropertyInterface("Outer Roundness",hi)),ci.pt.setGroupProperty(PropertyInterface("Points",hi)),ci.p.setGroupProperty(PropertyInterface("Position",hi)),ci.r.setGroupProperty(PropertyInterface("Rotation",hi)),si.ir&&(ci.ir.setGroupProperty(PropertyInterface("Inner Radius",hi)),ci.is.setGroupProperty(PropertyInterface("Inner Roundness",hi))),Object.defineProperties(fi,{position:{get:ExpressionPropertyInterface(ci.p)},rotation:{get:ExpressionPropertyInterface(ci.r)},points:{get:ExpressionPropertyInterface(ci.pt)},outerRadius:{get:ExpressionPropertyInterface(ci.or)},outerRoundness:{get:ExpressionPropertyInterface(ci.os)},innerRadius:{get:ExpressionPropertyInterface(ci.ir)},innerRoundness:{get:ExpressionPropertyInterface(ci.is)},_name:{value:si.nm}}),fi.mn=si.mn,fi}function ni(si,li,ui){function fi(pi){return si.p.ix===pi?fi.position:si.r.ix===pi?fi.roundness:si.s.ix===pi||pi==="Size"||pi==="ADBE Vector Rect Size"?fi.size:null}var hi=propertyGroupFactory(fi,ui),ci=li.sh.ty==="tm"?li.sh.prop:li.sh;return fi.propertyIndex=si.ix,ci.p.setGroupProperty(PropertyInterface("Position",hi)),ci.s.setGroupProperty(PropertyInterface("Size",hi)),ci.r.setGroupProperty(PropertyInterface("Rotation",hi)),Object.defineProperties(fi,{position:{get:ExpressionPropertyInterface(ci.p)},roundness:{get:ExpressionPropertyInterface(ci.r)},size:{get:ExpressionPropertyInterface(ci.s)},_name:{value:si.nm}}),fi.mn=si.mn,fi}function ai(si,li,ui){function fi(pi){return si.r.ix===pi||pi==="Round Corners 1"?fi.radius:null}var hi=propertyGroupFactory(fi,ui),ci=li;return fi.propertyIndex=si.ix,ci.rd.setGroupProperty(PropertyInterface("Radius",hi)),Object.defineProperties(fi,{radius:{get:ExpressionPropertyInterface(ci.rd)},_name:{value:si.nm}}),fi.mn=si.mn,fi}function oi(si,li,ui){function fi(pi){return si.c.ix===pi||pi==="Copies"?fi.copies:si.o.ix===pi||pi==="Offset"?fi.offset:null}var hi=propertyGroupFactory(fi,ui),ci=li;return fi.propertyIndex=si.ix,ci.c.setGroupProperty(PropertyInterface("Copies",hi)),ci.o.setGroupProperty(PropertyInterface("Offset",hi)),Object.defineProperties(fi,{copies:{get:ExpressionPropertyInterface(ci.c)},offset:{get:ExpressionPropertyInterface(ci.o)},_name:{value:si.nm}}),fi.mn=si.mn,fi}return function(si,li,ui){var fi;function hi(pi){if(typeof pi=="number")return pi=pi===void 0?1:pi,pi===0?ui:fi[pi-1];for(var di=0,vi=fi.length;di<vi;){if(fi[di]._name===pi)return fi[di];di+=1}return null}function ci(){return ui}return hi.propertyGroup=propertyGroupFactory(hi,ci),fi=Yr(si,li,hi.propertyGroup),hi.numProperties=fi.length,hi._name="Contents",hi}}(),TextExpressionInterface=function(){return function(Yr){var Gr;function Wr(Zr){switch(Zr){case"ADBE Text Document":return Wr.sourceText;default:return null}}return Object.defineProperty(Wr,"sourceText",{get:function(){Yr.textProperty.getValue();var Kr=Yr.textProperty.currentData.t;return(!Gr||Kr!==Gr.value)&&(Gr=new String(Kr),Gr.value=Kr||new String(Kr),Object.defineProperty(Gr,"style",{get:function(){return{fillColor:Yr.textProperty.currentData.fc}}})),Gr}}),Wr}}();function _typeof(Yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(Wr){return typeof Wr}:_typeof=function(Wr){return Wr&&typeof Symbol=="function"&&Wr.constructor===Symbol&&Wr!==Symbol.prototype?"symbol":typeof Wr},_typeof(Yr)}var FootageInterface=function(){var Yr=function(Zr){var Kr="",Jr=Zr.getFootageData();function Qr(){return Kr="",Jr=Zr.getFootageData(),ti}function ti(ei){if(Jr[ei])return Kr=ei,Jr=Jr[ei],_typeof(Jr)==="object"?ti:Jr;var ri=ei.indexOf(Kr);if(ri!==-1){var ii=parseInt(ei.substr(ri+Kr.length),10);return Jr=Jr[ii],_typeof(Jr)==="object"?ti:Jr}return""}return Qr},Gr=function(Zr){function Kr(Jr){return Jr==="Outline"?Kr.outlineInterface():null}return Kr._name="Outline",Kr.outlineInterface=Yr(Zr),Kr};return function(Wr){function Zr(Kr){return Kr==="Data"?Zr.dataInterface:null}return Zr._name="Data",Zr.dataInterface=Gr(Wr),Zr}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Yr){return interfaces[Yr]||null}var expressionHelpers=function(){function Yr(Qr,ti,ei){ti.x&&(ei.k=!0,ei.x=!0,ei.initiateExpression=ExpressionManager.initiateExpression,ei.effectsSequence.push(ei.initiateExpression(Qr,ti,ei).bind(ei)))}function Gr(Qr){return Qr*=this.elem.globalData.frameRate,Qr-=this.offsetTime,Qr!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Qr?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Qr,this._cachingAtTime),this._cachingAtTime.lastFrame=Qr),this._cachingAtTime.value}function Wr(Qr){var ti=-.01,ei=this.getValueAtTime(Qr),ri=this.getValueAtTime(Qr+ti),ii=0;if(ei.length){var ni;for(ni=0;ni<ei.length;ni+=1)ii+=Math.pow(ri[ni]-ei[ni],2);ii=Math.sqrt(ii)*100}else ii=0;return ii}function Zr(Qr){if(this.vel!==void 0)return this.vel;var ti=-.001,ei=this.getValueAtTime(Qr),ri=this.getValueAtTime(Qr+ti),ii;if(ei.length){ii=createTypedArray("float32",ei.length);var ni;for(ni=0;ni<ei.length;ni+=1)ii[ni]=(ri[ni]-ei[ni])/ti}else ii=(ri-ei)/ti;return ii}function Kr(){return this.pv}function Jr(Qr){this.propertyGroup=Qr}return{searchExpressions:Yr,getSpeedAtTime:Wr,getVelocityAtTime:Zr,getValueAtTime:Gr,getStaticValueAtTime:Kr,setGroupProperty:Jr}}();function addPropertyDecorator(){function Yr(ai,oi,si){if(!this.k||!this.keyframes)return this.pv;ai=ai?ai.toLowerCase():"";var li=this.comp.renderedFrame,ui=this.keyframes,fi=ui[ui.length-1].t;if(li<=fi)return this.pv;var hi,ci;si?(oi?hi=Math.abs(fi-this.elem.comp.globalData.frameRate*oi):hi=Math.max(0,fi-this.elem.data.ip),ci=fi-hi):((!oi||oi>ui.length-1)&&(oi=ui.length-1),ci=ui[ui.length-1-oi].t,hi=fi-ci);var pi,di,vi;if(ai==="pingpong"){var mi=Math.floor((li-ci)/hi);if(mi%2!==0)return this.getValueAtTime((hi-(li-ci)%hi+ci)/this.comp.globalData.frameRate,0)}else if(ai==="offset"){var gi=this.getValueAtTime(ci/this.comp.globalData.frameRate,0),yi=this.getValueAtTime(fi/this.comp.globalData.frameRate,0),Si=this.getValueAtTime(((li-ci)%hi+ci)/this.comp.globalData.frameRate,0),bi=Math.floor((li-ci)/hi);if(this.pv.length){for(vi=new Array(gi.length),di=vi.length,pi=0;pi<di;pi+=1)vi[pi]=(yi[pi]-gi[pi])*bi+Si[pi];return vi}return(yi-gi)*bi+Si}else if(ai==="continue"){var Ti=this.getValueAtTime(fi/this.comp.globalData.frameRate,0),Ai=this.getValueAtTime((fi-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(vi=new Array(Ti.length),di=vi.length,pi=0;pi<di;pi+=1)vi[pi]=Ti[pi]+(Ti[pi]-Ai[pi])*((li-fi)/this.comp.globalData.frameRate)/5e-4;return vi}return Ti+(Ti-Ai)*((li-fi)/.001)}return this.getValueAtTime(((li-ci)%hi+ci)/this.comp.globalData.frameRate,0)}function Gr(ai,oi,si){if(!this.k)return this.pv;ai=ai?ai.toLowerCase():"";var li=this.comp.renderedFrame,ui=this.keyframes,fi=ui[0].t;if(li>=fi)return this.pv;var hi,ci;si?(oi?hi=Math.abs(this.elem.comp.globalData.frameRate*oi):hi=Math.max(0,this.elem.data.op-fi),ci=fi+hi):((!oi||oi>ui.length-1)&&(oi=ui.length-1),ci=ui[oi].t,hi=ci-fi);var pi,di,vi;if(ai==="pingpong"){var mi=Math.floor((fi-li)/hi);if(mi%2===0)return this.getValueAtTime(((fi-li)%hi+fi)/this.comp.globalData.frameRate,0)}else if(ai==="offset"){var gi=this.getValueAtTime(fi/this.comp.globalData.frameRate,0),yi=this.getValueAtTime(ci/this.comp.globalData.frameRate,0),Si=this.getValueAtTime((hi-(fi-li)%hi+fi)/this.comp.globalData.frameRate,0),bi=Math.floor((fi-li)/hi)+1;if(this.pv.length){for(vi=new Array(gi.length),di=vi.length,pi=0;pi<di;pi+=1)vi[pi]=Si[pi]-(yi[pi]-gi[pi])*bi;return vi}return Si-(yi-gi)*bi}else if(ai==="continue"){var Ti=this.getValueAtTime(fi/this.comp.globalData.frameRate,0),Ai=this.getValueAtTime((fi+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(vi=new Array(Ti.length),di=vi.length,pi=0;pi<di;pi+=1)vi[pi]=Ti[pi]+(Ti[pi]-Ai[pi])*(fi-li)/.001;return vi}return Ti+(Ti-Ai)*(fi-li)/.001}return this.getValueAtTime((hi-((fi-li)%hi+fi))/this.comp.globalData.frameRate,0)}function Wr(ai,oi){if(!this.k)return this.pv;if(ai=(ai||.4)*.5,oi=Math.floor(oi||5),oi<=1)return this.pv;var si=this.comp.renderedFrame/this.comp.globalData.frameRate,li=si-ai,ui=si+ai,fi=oi>1?(ui-li)/(oi-1):1,hi=0,ci=0,pi;this.pv.length?pi=createTypedArray("float32",this.pv.length):pi=0;for(var di;hi<oi;){if(di=this.getValueAtTime(li+hi*fi),this.pv.length)for(ci=0;ci<this.pv.length;ci+=1)pi[ci]+=di[ci];else pi+=di;hi+=1}if(this.pv.length)for(ci=0;ci<this.pv.length;ci+=1)pi[ci]/=oi;else pi/=oi;return pi}function Zr(ai){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var oi=this._transformCachingAtTime.v;if(oi.cloneFromProps(this.pre.props),this.appliedTransformations<1){var si=this.a.getValueAtTime(ai);oi.translate(-si[0]*this.a.mult,-si[1]*this.a.mult,si[2]*this.a.mult)}if(this.appliedTransformations<2){var li=this.s.getValueAtTime(ai);oi.scale(li[0]*this.s.mult,li[1]*this.s.mult,li[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ui=this.sk.getValueAtTime(ai),fi=this.sa.getValueAtTime(ai);oi.skewFromAxis(-ui*this.sk.mult,fi*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var hi=this.r.getValueAtTime(ai);oi.rotate(-hi*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ci=this.rz.getValueAtTime(ai),pi=this.ry.getValueAtTime(ai),di=this.rx.getValueAtTime(ai),vi=this.or.getValueAtTime(ai);oi.rotateZ(-ci*this.rz.mult).rotateY(pi*this.ry.mult).rotateX(di*this.rx.mult).rotateZ(-vi[2]*this.or.mult).rotateY(vi[1]*this.or.mult).rotateX(vi[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var mi=this.px.getValueAtTime(ai),gi=this.py.getValueAtTime(ai);if(this.data.p.z){var yi=this.pz.getValueAtTime(ai);oi.translate(mi*this.px.mult,gi*this.py.mult,-yi*this.pz.mult)}else oi.translate(mi*this.px.mult,gi*this.py.mult,0)}else{var Si=this.p.getValueAtTime(ai);oi.translate(Si[0]*this.p.mult,Si[1]*this.p.mult,-Si[2]*this.p.mult)}return oi}function Kr(){return this.v.clone(new Matrix)}var Jr=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ai,oi,si){var li=Jr(ai,oi,si);return li.dynamicProperties.length?li.getValueAtTime=Zr.bind(li):li.getValueAtTime=Kr.bind(li),li.setGroupProperty=expressionHelpers.setGroupProperty,li};var Qr=PropertyFactory.getProp;PropertyFactory.getProp=function(ai,oi,si,li,ui){var fi=Qr(ai,oi,si,li,ui);fi.kf?fi.getValueAtTime=expressionHelpers.getValueAtTime.bind(fi):fi.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(fi),fi.setGroupProperty=expressionHelpers.setGroupProperty,fi.loopOut=Yr,fi.loopIn=Gr,fi.smooth=Wr,fi.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(fi),fi.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(fi),fi.numKeys=oi.a===1?oi.k.length:0,fi.propertyIndex=oi.ix;var hi=0;return si!==0&&(hi=createTypedArray("float32",oi.a===1?oi.k[0].s.length:oi.k.length)),fi._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:hi},expressionHelpers.searchExpressions(ai,oi,fi),fi.k&&ui.addDynamicProperty(fi),fi};function ti(ai){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ai*=this.elem.globalData.frameRate,ai-=this.offsetTime,ai!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ai?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ai,this.interpolateShape(ai,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var ei=ShapePropertyFactory.getConstructorFunction(),ri=ShapePropertyFactory.getKeyframedConstructorFunction();function ii(){}ii.prototype={vertices:function(oi,si){this.k&&this.getValue();var li=this.v;si!==void 0&&(li=this.getValueAtTime(si,0));var ui,fi=li._length,hi=li[oi],ci=li.v,pi=createSizedArray(fi);for(ui=0;ui<fi;ui+=1)oi==="i"||oi==="o"?pi[ui]=[hi[ui][0]-ci[ui][0],hi[ui][1]-ci[ui][1]]:pi[ui]=[hi[ui][0],hi[ui][1]];return pi},points:function(oi){return this.vertices("v",oi)},inTangents:function(oi){return this.vertices("i",oi)},outTangents:function(oi){return this.vertices("o",oi)},isClosed:function(){return this.v.c},pointOnPath:function(oi,si){var li=this.v;si!==void 0&&(li=this.getValueAtTime(si,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(li));for(var ui=this._segmentsLength,fi=ui.lengths,hi=ui.totalLength*oi,ci=0,pi=fi.length,di=0,vi;ci<pi;){if(di+fi[ci].addedLength>hi){var mi=ci,gi=li.c&&ci===pi-1?0:ci+1,yi=(hi-di)/fi[ci].addedLength;vi=bez.getPointInSegment(li.v[mi],li.v[gi],li.o[mi],li.i[gi],yi,fi[ci]);break}else di+=fi[ci].addedLength;ci+=1}return vi||(vi=li.c?[li.v[0][0],li.v[0][1]]:[li.v[li._length-1][0],li.v[li._length-1][1]]),vi},vectorOnPath:function(oi,si,li){oi==1?oi=this.v.c:oi==0&&(oi=.999);var ui=this.pointOnPath(oi,si),fi=this.pointOnPath(oi+.001,si),hi=fi[0]-ui[0],ci=fi[1]-ui[1],pi=Math.sqrt(Math.pow(hi,2)+Math.pow(ci,2));if(pi===0)return[0,0];var di=li==="tangent"?[hi/pi,ci/pi]:[-ci/pi,hi/pi];return di},tangentOnPath:function(oi,si){return this.vectorOnPath(oi,si,"tangent")},normalOnPath:function(oi,si){return this.vectorOnPath(oi,si,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ii],ei),extendPrototype([ii],ri),ri.prototype.getValueAtTime=ti,ri.prototype.initiateExpression=ExpressionManager.initiateExpression;var ni=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ai,oi,si,li,ui){var fi=ni(ai,oi,si,li,ui);return fi.propertyIndex=oi.ix,fi.lock=!1,si===3?expressionHelpers.searchExpressions(ai,oi.pt,fi):si===4&&expressionHelpers.searchExpressions(ai,oi.ks,fi),fi.k&&ai.addDynamicProperty(fi),fi}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Yr(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(Gr,Wr){var Zr=this.calculateExpression(Wr);if(Gr.t!==Zr){var Kr={};return this.copyData(Kr,Gr),Kr.t=Zr.toString(),Kr.__complete=!1,Kr}return Gr},TextProperty.prototype.searchProperty=function(){var Gr=this.searchKeyframes(),Wr=this.searchExpressions();return this.kf=Gr||Wr,this.kf},TextProperty.prototype.searchExpressions=Yr}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Yr(Gr,Wr){var Zr=createNS("feMerge");Zr.setAttribute("result",Gr);var Kr,Jr;for(Jr=0;Jr<Wr.length;Jr+=1)Kr=createNS("feMergeNode"),Kr.setAttribute("in",Wr[Jr]),Zr.appendChild(Kr),Zr.appendChild(Kr);return Zr}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Yr,Gr,Wr,Zr,Kr){this.filterManager=Gr;var Jr=createNS("feColorMatrix");Jr.setAttribute("type","matrix"),Jr.setAttribute("color-interpolation-filters","linearRGB"),Jr.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Jr,Jr.setAttribute("result",Zr+"_tint_1"),Yr.appendChild(Jr),Jr=createNS("feColorMatrix"),Jr.setAttribute("type","matrix"),Jr.setAttribute("color-interpolation-filters","sRGB"),Jr.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Jr.setAttribute("result",Zr+"_tint_2"),Yr.appendChild(Jr),this.matrixFilter=Jr;var Qr=this.createMergeNode(Zr,[Kr,Zr+"_tint_1",Zr+"_tint_2"]);Yr.appendChild(Qr)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Yr){if(Yr||this.filterManager._mdf){var Gr=this.filterManager.effectElements[0].p.v,Wr=this.filterManager.effectElements[1].p.v,Zr=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Zr+" 0"),this.matrixFilter.setAttribute("values",Wr[0]-Gr[0]+" 0 0 0 "+Gr[0]+" "+(Wr[1]-Gr[1])+" 0 0 0 "+Gr[1]+" "+(Wr[2]-Gr[2])+" 0 0 0 "+Gr[2]+" 0 0 0 1 0")}};function SVGFillFilter(Yr,Gr,Wr,Zr){this.filterManager=Gr;var Kr=createNS("feColorMatrix");Kr.setAttribute("type","matrix"),Kr.setAttribute("color-interpolation-filters","sRGB"),Kr.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Kr.setAttribute("result",Zr),Yr.appendChild(Kr),this.matrixFilter=Kr}SVGFillFilter.prototype.renderFrame=function(Yr){if(Yr||this.filterManager._mdf){var Gr=this.filterManager.effectElements[2].p.v,Wr=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+Gr[0]+" 0 0 0 0 "+Gr[1]+" 0 0 0 0 "+Gr[2]+" 0 0 0 "+Wr+" 0")}};function SVGStrokeEffect(Yr,Gr,Wr){this.initialized=!1,this.filterManager=Gr,this.elem=Wr,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Yr=this.elem.layerElement.children||this.elem.layerElement.childNodes,Gr,Wr,Zr,Kr;for(this.filterManager.effectElements[1].p.v===1?(Kr=this.elem.maskManager.masksProperties.length,Zr=0):(Zr=this.filterManager.effectElements[0].p.v-1,Kr=Zr+1),Wr=createNS("g"),Wr.setAttribute("fill","none"),Wr.setAttribute("stroke-linecap","round"),Wr.setAttribute("stroke-dashoffset",1),Zr;Zr<Kr;Zr+=1)Gr=createNS("path"),Wr.appendChild(Gr),this.paths.push({p:Gr,m:Zr});if(this.filterManager.effectElements[10].p.v===3){var Jr=createNS("mask"),Qr=createElementID();Jr.setAttribute("id",Qr),Jr.setAttribute("mask-type","alpha"),Jr.appendChild(Wr),this.elem.globalData.defs.appendChild(Jr);var ti=createNS("g");for(ti.setAttribute("mask","url("+getLocationHref()+"#"+Qr+")");Yr[0];)ti.appendChild(Yr[0]);this.elem.layerElement.appendChild(ti),this.masker=Jr,Wr.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Yr=this.elem.layerElement.children||this.elem.layerElement.childNodes;Yr.length;)this.elem.layerElement.removeChild(Yr[0]);this.elem.layerElement.appendChild(Wr),this.elem.layerElement.removeAttribute("mask"),Wr.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=Wr},SVGStrokeEffect.prototype.renderFrame=function(Yr){this.initialized||this.initialize();var Gr,Wr=this.paths.length,Zr,Kr;for(Gr=0;Gr<Wr;Gr+=1)if(this.paths[Gr].m!==-1&&(Zr=this.elem.maskManager.viewData[this.paths[Gr].m],Kr=this.paths[Gr].p,(Yr||this.filterManager._mdf||Zr.prop._mdf)&&Kr.setAttribute("d",Zr.lastPath),Yr||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Zr.prop._mdf)){var Jr;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Qr=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ti=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ei=Kr.getTotalLength();Jr="0 0 0 "+ei*Qr+" ";var ri=ei*(ti-Qr),ii=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ni=Math.floor(ri/ii),ai;for(ai=0;ai<ni;ai+=1)Jr+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Jr+="0 "+ei*10+" 0 0"}else Jr="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Kr.setAttribute("stroke-dasharray",Jr)}if((Yr||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Yr||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Yr||this.filterManager.effectElements[3].p._mdf)){var oi=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(oi[0]*255)+","+bmFloor(oi[1]*255)+","+bmFloor(oi[2]*255)+")")}};function SVGTritoneFilter(Yr,Gr,Wr,Zr){this.filterManager=Gr;var Kr=createNS("feColorMatrix");Kr.setAttribute("type","matrix"),Kr.setAttribute("color-interpolation-filters","linearRGB"),Kr.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Yr.appendChild(Kr);var Jr=createNS("feComponentTransfer");Jr.setAttribute("color-interpolation-filters","sRGB"),Jr.setAttribute("result",Zr),this.matrixFilter=Jr;var Qr=createNS("feFuncR");Qr.setAttribute("type","table"),Jr.appendChild(Qr),this.feFuncR=Qr;var ti=createNS("feFuncG");ti.setAttribute("type","table"),Jr.appendChild(ti),this.feFuncG=ti;var ei=createNS("feFuncB");ei.setAttribute("type","table"),Jr.appendChild(ei),this.feFuncB=ei,Yr.appendChild(Jr)}SVGTritoneFilter.prototype.renderFrame=function(Yr){if(Yr||this.filterManager._mdf){var Gr=this.filterManager.effectElements[0].p.v,Wr=this.filterManager.effectElements[1].p.v,Zr=this.filterManager.effectElements[2].p.v,Kr=Zr[0]+" "+Wr[0]+" "+Gr[0],Jr=Zr[1]+" "+Wr[1]+" "+Gr[1],Qr=Zr[2]+" "+Wr[2]+" "+Gr[2];this.feFuncR.setAttribute("tableValues",Kr),this.feFuncG.setAttribute("tableValues",Jr),this.feFuncB.setAttribute("tableValues",Qr)}};function SVGProLevelsFilter(Yr,Gr,Wr,Zr){this.filterManager=Gr;var Kr=this.filterManager.effectElements,Jr=createNS("feComponentTransfer");(Kr[10].p.k||Kr[10].p.v!==0||Kr[11].p.k||Kr[11].p.v!==1||Kr[12].p.k||Kr[12].p.v!==1||Kr[13].p.k||Kr[13].p.v!==0||Kr[14].p.k||Kr[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Jr)),(Kr[17].p.k||Kr[17].p.v!==0||Kr[18].p.k||Kr[18].p.v!==1||Kr[19].p.k||Kr[19].p.v!==1||Kr[20].p.k||Kr[20].p.v!==0||Kr[21].p.k||Kr[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Jr)),(Kr[24].p.k||Kr[24].p.v!==0||Kr[25].p.k||Kr[25].p.v!==1||Kr[26].p.k||Kr[26].p.v!==1||Kr[27].p.k||Kr[27].p.v!==0||Kr[28].p.k||Kr[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Jr)),(Kr[31].p.k||Kr[31].p.v!==0||Kr[32].p.k||Kr[32].p.v!==1||Kr[33].p.k||Kr[33].p.v!==1||Kr[34].p.k||Kr[34].p.v!==0||Kr[35].p.k||Kr[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Jr)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Jr.setAttribute("color-interpolation-filters","sRGB"),Yr.appendChild(Jr)),(Kr[3].p.k||Kr[3].p.v!==0||Kr[4].p.k||Kr[4].p.v!==1||Kr[5].p.k||Kr[5].p.v!==1||Kr[6].p.k||Kr[6].p.v!==0||Kr[7].p.k||Kr[7].p.v!==1)&&(Jr=createNS("feComponentTransfer"),Jr.setAttribute("color-interpolation-filters","sRGB"),Jr.setAttribute("result",Zr),Yr.appendChild(Jr),this.feFuncRComposed=this.createFeFunc("feFuncR",Jr),this.feFuncGComposed=this.createFeFunc("feFuncG",Jr),this.feFuncBComposed=this.createFeFunc("feFuncB",Jr))}SVGProLevelsFilter.prototype.createFeFunc=function(Yr,Gr){var Wr=createNS(Yr);return Wr.setAttribute("type","table"),Gr.appendChild(Wr),Wr},SVGProLevelsFilter.prototype.getTableValue=function(Yr,Gr,Wr,Zr,Kr){for(var Jr=0,Qr=256,ti,ei=Math.min(Yr,Gr),ri=Math.max(Yr,Gr),ii=Array.call(null,{length:Qr}),ni,ai=0,oi=Kr-Zr,si=Gr-Yr;Jr<=256;)ti=Jr/256,ti<=ei?ni=si<0?Kr:Zr:ti>=ri?ni=si<0?Zr:Kr:ni=Zr+oi*Math.pow((ti-Yr)/si,1/Wr),ii[ai]=ni,ai+=1,Jr+=256/(Qr-1);return ii.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Yr){if(Yr||this.filterManager._mdf){var Gr,Wr=this.filterManager.effectElements;this.feFuncRComposed&&(Yr||Wr[3].p._mdf||Wr[4].p._mdf||Wr[5].p._mdf||Wr[6].p._mdf||Wr[7].p._mdf)&&(Gr=this.getTableValue(Wr[3].p.v,Wr[4].p.v,Wr[5].p.v,Wr[6].p.v,Wr[7].p.v),this.feFuncRComposed.setAttribute("tableValues",Gr),this.feFuncGComposed.setAttribute("tableValues",Gr),this.feFuncBComposed.setAttribute("tableValues",Gr)),this.feFuncR&&(Yr||Wr[10].p._mdf||Wr[11].p._mdf||Wr[12].p._mdf||Wr[13].p._mdf||Wr[14].p._mdf)&&(Gr=this.getTableValue(Wr[10].p.v,Wr[11].p.v,Wr[12].p.v,Wr[13].p.v,Wr[14].p.v),this.feFuncR.setAttribute("tableValues",Gr)),this.feFuncG&&(Yr||Wr[17].p._mdf||Wr[18].p._mdf||Wr[19].p._mdf||Wr[20].p._mdf||Wr[21].p._mdf)&&(Gr=this.getTableValue(Wr[17].p.v,Wr[18].p.v,Wr[19].p.v,Wr[20].p.v,Wr[21].p.v),this.feFuncG.setAttribute("tableValues",Gr)),this.feFuncB&&(Yr||Wr[24].p._mdf||Wr[25].p._mdf||Wr[26].p._mdf||Wr[27].p._mdf||Wr[28].p._mdf)&&(Gr=this.getTableValue(Wr[24].p.v,Wr[25].p.v,Wr[26].p.v,Wr[27].p.v,Wr[28].p.v),this.feFuncB.setAttribute("tableValues",Gr)),this.feFuncA&&(Yr||Wr[31].p._mdf||Wr[32].p._mdf||Wr[33].p._mdf||Wr[34].p._mdf||Wr[35].p._mdf)&&(Gr=this.getTableValue(Wr[31].p.v,Wr[32].p.v,Wr[33].p.v,Wr[34].p.v,Wr[35].p.v),this.feFuncA.setAttribute("tableValues",Gr))}};function SVGDropShadowEffect(Yr,Gr,Wr,Zr,Kr){var Jr=Gr.container.globalData.renderConfig.filterSize,Qr=Gr.data.fs||Jr;Yr.setAttribute("x",Qr.x||Jr.x),Yr.setAttribute("y",Qr.y||Jr.y),Yr.setAttribute("width",Qr.width||Jr.width),Yr.setAttribute("height",Qr.height||Jr.height),this.filterManager=Gr;var ti=createNS("feGaussianBlur");ti.setAttribute("in","SourceAlpha"),ti.setAttribute("result",Zr+"_drop_shadow_1"),ti.setAttribute("stdDeviation","0"),this.feGaussianBlur=ti,Yr.appendChild(ti);var ei=createNS("feOffset");ei.setAttribute("dx","25"),ei.setAttribute("dy","0"),ei.setAttribute("in",Zr+"_drop_shadow_1"),ei.setAttribute("result",Zr+"_drop_shadow_2"),this.feOffset=ei,Yr.appendChild(ei);var ri=createNS("feFlood");ri.setAttribute("flood-color","#00ff00"),ri.setAttribute("flood-opacity","1"),ri.setAttribute("result",Zr+"_drop_shadow_3"),this.feFlood=ri,Yr.appendChild(ri);var ii=createNS("feComposite");ii.setAttribute("in",Zr+"_drop_shadow_3"),ii.setAttribute("in2",Zr+"_drop_shadow_2"),ii.setAttribute("operator","in"),ii.setAttribute("result",Zr+"_drop_shadow_4"),Yr.appendChild(ii);var ni=this.createMergeNode(Zr,[Zr+"_drop_shadow_4",Kr]);Yr.appendChild(ni)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Yr){if(Yr||this.filterManager._mdf){if((Yr||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Yr||this.filterManager.effectElements[0].p._mdf){var Gr=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(Gr[0]*255),Math.round(Gr[1]*255),Math.round(Gr[2]*255)))}if((Yr||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Yr||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var Wr=this.filterManager.effectElements[3].p.v,Zr=(this.filterManager.effectElements[2].p.v-90)*degToRads,Kr=Wr*Math.cos(Zr),Jr=Wr*Math.sin(Zr);this.feOffset.setAttribute("dx",Kr),this.feOffset.setAttribute("dy",Jr)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Yr,Gr,Wr){this.initialized=!1,this.filterManager=Gr,this.filterElem=Yr,this.elem=Wr,Wr.matteElement=createNS("g"),Wr.matteElement.appendChild(Wr.layerElement),Wr.matteElement.appendChild(Wr.transformedElement),Wr.baseElement=Wr.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Yr){for(var Gr=0,Wr=_svgMatteSymbols.length;Gr<Wr;){if(_svgMatteSymbols[Gr]===Yr)return _svgMatteSymbols[Gr];Gr+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Yr,Gr){var Wr=Yr.layerElement.parentNode;if(Wr){for(var Zr=Wr.children,Kr=0,Jr=Zr.length;Kr<Jr&&Zr[Kr]!==Yr.layerElement;)Kr+=1;var Qr;Kr<=Jr-2&&(Qr=Zr[Kr+1]);var ti=createNS("use");ti.setAttribute("href","#"+Gr),Qr?Wr.insertBefore(ti,Qr):Wr.appendChild(ti)}},SVGMatte3Effect.prototype.setElementAsMask=function(Yr,Gr){if(!this.findSymbol(Gr)){var Wr=createElementID(),Zr=createNS("mask");Zr.setAttribute("id",Gr.layerId),Zr.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(Gr);var Kr=Yr.globalData.defs;Kr.appendChild(Zr);var Jr=createNS("symbol");Jr.setAttribute("id",Wr),this.replaceInParent(Gr,Wr),Jr.appendChild(Gr.layerElement),Kr.appendChild(Jr);var Qr=createNS("use");Qr.setAttribute("href","#"+Wr),Zr.appendChild(Qr),Gr.data.hd=!1,Gr.show()}Yr.setMatte(Gr.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Yr=this.filterManager.effectElements[0].p.v,Gr=this.elem.comp.elements,Wr=0,Zr=Gr.length;Wr<Zr;)Gr[Wr]&&Gr[Wr].data.ind===Yr&&this.setElementAsMask(this.elem,Gr[Wr]),Wr+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Yr,Gr,Wr,Zr){Yr.setAttribute("x","-100%"),Yr.setAttribute("y","-100%"),Yr.setAttribute("width","300%"),Yr.setAttribute("height","300%"),this.filterManager=Gr;var Kr=createNS("feGaussianBlur");Kr.setAttribute("result",Zr),Yr.appendChild(Kr),this.feGaussianBlur=Kr}SVGGaussianBlurEffect.prototype.renderFrame=function(Yr){if(Yr||this.filterManager._mdf){var Gr=.3,Wr=this.filterManager.effectElements[0].p.v*Gr,Zr=this.filterManager.effectElements[1].p.v,Kr=Zr==3?0:Wr,Jr=Zr==2?0:Wr;this.feGaussianBlur.setAttribute("stdDeviation",Kr+" "+Jr);var Qr=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Qr)}};function TransformEffect(){}TransformEffect.prototype.init=function(Yr){this.effectsManager=Yr,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Yr){if(this._opMdf=!1,this._mdf=!1,Yr||this.effectsManager._mdf){var Gr=this.effectsManager.effectElements,Wr=Gr[0].p.v,Zr=Gr[1].p.v,Kr=Gr[2].p.v===1,Jr=Gr[3].p.v,Qr=Kr?Jr:Gr[4].p.v,ti=Gr[5].p.v,ei=Gr[6].p.v,ri=Gr[7].p.v;this.matrix.reset(),this.matrix.translate(-Wr[0],-Wr[1],Wr[2]),this.matrix.scale(Qr*.01,Jr*.01,1),this.matrix.rotate(-ri*degToRads),this.matrix.skewFromAxis(-ti*degToRads,(ei+90)*degToRads),this.matrix.translate(Zr[0],Zr[1],0),this._mdf=!0,this.opacity!==Gr[8].p.v&&(this.opacity=Gr[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Yr,Gr){this.init(Gr)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Yr){this.init(Yr)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})});var hD=lD((exports,module)=>{(function(Yr,Gr){typeof define=="function"&&define.amd?define([],Gr):typeof module=="object"&&module.exports?module.exports=Gr():Yr.htmx=Yr.htmx||Gr()})(typeof self<"u"?self:exports,function(){return function(){"use strict";var Q={onLoad:F,process:zt,on:de,off:ge,trigger:ce,ajax:Nr,find:C,findAll:f,closest:v,values:function(Yr,Gr){var Wr=dr(Yr,Gr||"post");return Wr.values},remove:_,addClass:z,removeClass:n,toggleClass:$,takeClass:W,defineExtension:Ur,removeExtension:Br,logAll:V,logNone:j,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null},parseInterval:d,_:t,createEventSource:function(Yr){return new EventSource(Yr,{withCredentials:!0})},createWebSocket:function(Yr){var Gr=new WebSocket(Yr,[]);return Gr.binaryType=Q.config.wsBinaryType,Gr},version:"1.9.12"},r={addTriggerHandler:Lt,bodyContains:se,canAccessLocalStorage:U,findThisElement:xe,filterValues:yr,hasAttribute:o,getAttributeValue:te,getClosestAttributeValue:ne,getClosestMatch:c,getExpressionVars:Hr,getHeaders:xr,getInputValues:dr,getInternalData:ae,getSwapSpecification:wr,getTriggerSpecs:it,getTarget:ye,makeFragment:l,mergeObjects:le,makeSettleInfo:T,oobSwap:Ee,querySelectorExt:ue,selectAndSwap:je,settleImmediately:nr,shouldCancel:ut,triggerEvent:ce,triggerErrorEvent:fe,withExtensions:R},w=["get","post","put","delete","patch"],i=w.map(function(Yr){return"[hx-"+Yr+"], [data-hx-"+Yr+"]"}).join(", "),S=e("head"),q=e("title"),H=e("svg",!0);function e(Yr,Gr){return new RegExp("<"+Yr+"(\\s[^>]*>|>)([\\s\\S]*?)<\\/"+Yr+">",Gr?"gim":"im")}function d(Yr){if(Yr==null)return;let Gr=NaN;return Yr.slice(-2)=="ms"?Gr=parseFloat(Yr.slice(0,-2)):Yr.slice(-1)=="s"?Gr=parseFloat(Yr.slice(0,-1))*1e3:Yr.slice(-1)=="m"?Gr=parseFloat(Yr.slice(0,-1))*1e3*60:Gr=parseFloat(Yr),isNaN(Gr)?void 0:Gr}function ee(Yr,Gr){return Yr.getAttribute&&Yr.getAttribute(Gr)}function o(Yr,Gr){return Yr.hasAttribute&&(Yr.hasAttribute(Gr)||Yr.hasAttribute("data-"+Gr))}function te(Yr,Gr){return ee(Yr,Gr)||ee(Yr,"data-"+Gr)}function u(Yr){return Yr.parentElement}function re(){return document}function c(Yr,Gr){for(;Yr&&!Gr(Yr);)Yr=u(Yr);return Yr||null}function L(Yr,Gr,Wr){var Zr=te(Gr,Wr),Kr=te(Gr,"hx-disinherit");return Yr!==Gr&&Kr&&(Kr==="*"||Kr.split(" ").indexOf(Wr)>=0)?"unset":Zr}function ne(Yr,Gr){var Wr=null;if(c(Yr,function(Zr){return Wr=L(Yr,Zr,Gr)}),Wr!=="unset")return Wr}function h(Yr,Gr){var Wr=Yr.matches||Yr.matchesSelector||Yr.msMatchesSelector||Yr.mozMatchesSelector||Yr.webkitMatchesSelector||Yr.oMatchesSelector;return Wr&&Wr.call(Yr,Gr)}function A(Yr){var Gr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Wr=Gr.exec(Yr);return Wr?Wr[1].toLowerCase():""}function s(Yr,Gr){for(var Wr=new DOMParser,Zr=Wr.parseFromString(Yr,"text/html"),Kr=Zr.body;Gr>0;)Gr--,Kr=Kr.firstChild;return Kr==null&&(Kr=re().createDocumentFragment()),Kr}function N(Yr){return/<body/.test(Yr)}function l(Yr){var Gr=!N(Yr),Wr=A(Yr),Zr=Yr;if(Wr==="head"&&(Zr=Zr.replace(S,"")),Q.config.useTemplateFragments&&Gr){var Kr=s("<body><template>"+Zr+"</template></body>",0),Jr=Kr.querySelector("template").content;return Q.config.allowScriptTags?oe(Jr.querySelectorAll("script"),function(Qr){Q.config.inlineScriptNonce&&(Qr.nonce=Q.config.inlineScriptNonce),Qr.htmxExecuted=navigator.userAgent.indexOf("Firefox")===-1}):oe(Jr.querySelectorAll("script"),function(Qr){_(Qr)}),Jr}switch(Wr){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return s("<table>"+Zr+"</table>",1);case"col":return s("<table><colgroup>"+Zr+"</colgroup></table>",2);case"tr":return s("<table><tbody>"+Zr+"</tbody></table>",2);case"td":case"th":return s("<table><tbody><tr>"+Zr+"</tr></tbody></table>",3);case"script":case"style":return s("<div>"+Zr+"</div>",1);default:return s(Zr,0)}}function ie(Yr){Yr&&Yr()}function I(Yr,Gr){return Object.prototype.toString.call(Yr)==="[object "+Gr+"]"}function k(Yr){return I(Yr,"Function")}function P(Yr){return I(Yr,"Object")}function ae(Yr){var Gr="htmx-internal-data",Wr=Yr[Gr];return Wr||(Wr=Yr[Gr]={}),Wr}function M(Yr){var Gr=[];if(Yr)for(var Wr=0;Wr<Yr.length;Wr++)Gr.push(Yr[Wr]);return Gr}function oe(Yr,Gr){if(Yr)for(var Wr=0;Wr<Yr.length;Wr++)Gr(Yr[Wr])}function X(Yr){var Gr=Yr.getBoundingClientRect(),Wr=Gr.top,Zr=Gr.bottom;return Wr<window.innerHeight&&Zr>=0}function se(Yr){return Yr.getRootNode&&Yr.getRootNode()instanceof window.ShadowRoot?re().body.contains(Yr.getRootNode().host):re().body.contains(Yr)}function D(Yr){return Yr.trim().split(/\s+/)}function le(Yr,Gr){for(var Wr in Gr)Gr.hasOwnProperty(Wr)&&(Yr[Wr]=Gr[Wr]);return Yr}function E(Yr){try{return JSON.parse(Yr)}catch(Gr){return b(Gr),null}}function U(){var Yr="htmx:localStorageTest";try{return localStorage.setItem(Yr,Yr),localStorage.removeItem(Yr),!0}catch{return!1}}function B(Yr){try{var Gr=new URL(Yr);return Gr&&(Yr=Gr.pathname+Gr.search),/^\/$/.test(Yr)||(Yr=Yr.replace(/\/+$/,"")),Yr}catch{return Yr}}function t(e){return Tr(re().body,function(){return eval(e)})}function F(Yr){var Gr=Q.on("htmx:load",function(Wr){Yr(Wr.detail.elt)});return Gr}function V(){Q.logger=function(Yr,Gr,Wr){console&&console.log(Gr,Yr,Wr)}}function j(){Q.logger=null}function C(Yr,Gr){return Gr?Yr.querySelector(Gr):C(re(),Yr)}function f(Yr,Gr){return Gr?Yr.querySelectorAll(Gr):f(re(),Yr)}function _(Yr,Gr){Yr=p(Yr),Gr?setTimeout(function(){_(Yr),Yr=null},Gr):Yr.parentElement.removeChild(Yr)}function z(Yr,Gr,Wr){Yr=p(Yr),Wr?setTimeout(function(){z(Yr,Gr),Yr=null},Wr):Yr.classList&&Yr.classList.add(Gr)}function n(Yr,Gr,Wr){Yr=p(Yr),Wr?setTimeout(function(){n(Yr,Gr),Yr=null},Wr):Yr.classList&&(Yr.classList.remove(Gr),Yr.classList.length===0&&Yr.removeAttribute("class"))}function $(Yr,Gr){Yr=p(Yr),Yr.classList.toggle(Gr)}function W(Yr,Gr){Yr=p(Yr),oe(Yr.parentElement.children,function(Wr){n(Wr,Gr)}),z(Yr,Gr)}function v(Yr,Gr){if(Yr=p(Yr),Yr.closest)return Yr.closest(Gr);do if(Yr==null||h(Yr,Gr))return Yr;while(Yr=Yr&&u(Yr));return null}function g(Yr,Gr){return Yr.substring(0,Gr.length)===Gr}function G(Yr,Gr){return Yr.substring(Yr.length-Gr.length)===Gr}function J(Yr){var Gr=Yr.trim();return g(Gr,"<")&&G(Gr,"/>")?Gr.substring(1,Gr.length-2):Gr}function Z(Yr,Gr){return Gr.indexOf("closest ")===0?[v(Yr,J(Gr.substr(8)))]:Gr.indexOf("find ")===0?[C(Yr,J(Gr.substr(5)))]:Gr==="next"?[Yr.nextElementSibling]:Gr.indexOf("next ")===0?[K(Yr,J(Gr.substr(5)))]:Gr==="previous"?[Yr.previousElementSibling]:Gr.indexOf("previous ")===0?[Y(Yr,J(Gr.substr(9)))]:Gr==="document"?[document]:Gr==="window"?[window]:Gr==="body"?[document.body]:re().querySelectorAll(J(Gr))}var K=function(Yr,Gr){for(var Wr=re().querySelectorAll(Gr),Zr=0;Zr<Wr.length;Zr++){var Kr=Wr[Zr];if(Kr.compareDocumentPosition(Yr)===Node.DOCUMENT_POSITION_PRECEDING)return Kr}},Y=function(Yr,Gr){for(var Wr=re().querySelectorAll(Gr),Zr=Wr.length-1;Zr>=0;Zr--){var Kr=Wr[Zr];if(Kr.compareDocumentPosition(Yr)===Node.DOCUMENT_POSITION_FOLLOWING)return Kr}};function ue(Yr,Gr){return Gr?Z(Yr,Gr)[0]:Z(re().body,Yr)[0]}function p(Yr){return I(Yr,"String")?C(Yr):Yr}function ve(Yr,Gr,Wr){return k(Gr)?{target:re().body,event:Yr,listener:Gr}:{target:p(Yr),event:Gr,listener:Wr}}function de(Yr,Gr,Wr){jr(function(){var Kr=ve(Yr,Gr,Wr);Kr.target.addEventListener(Kr.event,Kr.listener)});var Zr=k(Gr);return Zr?Gr:Wr}function ge(Yr,Gr,Wr){return jr(function(){var Zr=ve(Yr,Gr,Wr);Zr.target.removeEventListener(Zr.event,Zr.listener)}),k(Gr)?Gr:Wr}var pe=re().createElement("output");function me(Yr,Gr){var Wr=ne(Yr,Gr);if(Wr){if(Wr==="this")return[xe(Yr,Gr)];var Zr=Z(Yr,Wr);return Zr.length===0?(b('The selector "'+Wr+'" on '+Gr+" returned no matches!"),[pe]):Zr}}function xe(Yr,Gr){return c(Yr,function(Wr){return te(Wr,Gr)!=null})}function ye(Yr){var Gr=ne(Yr,"hx-target");if(Gr)return Gr==="this"?xe(Yr,"hx-target"):ue(Yr,Gr);var Wr=ae(Yr);return Wr.boosted?re().body:Yr}function be(Yr){for(var Gr=Q.config.attributesToSettle,Wr=0;Wr<Gr.length;Wr++)if(Yr===Gr[Wr])return!0;return!1}function we(Yr,Gr){oe(Yr.attributes,function(Wr){!Gr.hasAttribute(Wr.name)&&be(Wr.name)&&Yr.removeAttribute(Wr.name)}),oe(Gr.attributes,function(Wr){be(Wr.name)&&Yr.setAttribute(Wr.name,Wr.value)})}function Se(Yr,Gr){for(var Wr=Fr(Gr),Zr=0;Zr<Wr.length;Zr++){var Kr=Wr[Zr];try{if(Kr.isInlineSwap(Yr))return!0}catch(Jr){b(Jr)}}return Yr==="outerHTML"}function Ee(Yr,Gr,Wr){var Zr="#"+ee(Gr,"id"),Kr="outerHTML";Yr==="true"||(Yr.indexOf(":")>0?(Kr=Yr.substr(0,Yr.indexOf(":")),Zr=Yr.substr(Yr.indexOf(":")+1,Yr.length)):Kr=Yr);var Jr=re().querySelectorAll(Zr);return Jr?(oe(Jr,function(Qr){var ti,ei=Gr.cloneNode(!0);ti=re().createDocumentFragment(),ti.appendChild(ei),Se(Kr,Qr)||(ti=ei);var ri={shouldSwap:!0,target:Qr,fragment:ti};ce(Qr,"htmx:oobBeforeSwap",ri)&&(Qr=ri.target,ri.shouldSwap&&Fe(Kr,Qr,Qr,ti,Wr),oe(Wr.elts,function(ii){ce(ii,"htmx:oobAfterSwap",ri)}))}),Gr.parentNode.removeChild(Gr)):(Gr.parentNode.removeChild(Gr),fe(re().body,"htmx:oobErrorNoTarget",{content:Gr})),Yr}function Ce(Yr,Gr,Wr){var Zr=ne(Yr,"hx-select-oob");if(Zr)for(var Kr=Zr.split(","),Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr].split(":",2),ti=Qr[0].trim();ti.indexOf("#")===0&&(ti=ti.substring(1));var ei=Qr[1]||"true",ri=Gr.querySelector("#"+ti);ri&&Ee(ei,ri,Wr)}oe(f(Gr,"[hx-swap-oob], [data-hx-swap-oob]"),function(ii){var ni=te(ii,"hx-swap-oob");ni!=null&&Ee(ni,ii,Wr)})}function Re(Yr){oe(f(Yr,"[hx-preserve], [data-hx-preserve]"),function(Gr){var Wr=te(Gr,"id"),Zr=re().getElementById(Wr);Zr!=null&&Gr.parentNode.replaceChild(Zr,Gr)})}function Te(Yr,Gr,Wr){oe(Gr.querySelectorAll("[id]"),function(Zr){var Kr=ee(Zr,"id");if(Kr&&Kr.length>0){var Jr=Kr.replace("'","\\'"),Qr=Zr.tagName.replace(":","\\:"),ti=Yr.querySelector(Qr+"[id='"+Jr+"']");if(ti&&ti!==Yr){var ei=Zr.cloneNode();we(Zr,ti),Wr.tasks.push(function(){we(Zr,ei)})}}})}function Oe(Yr){return function(){n(Yr,Q.config.addedClass),zt(Yr),Nt(Yr),qe(Yr),ce(Yr,"htmx:load")}}function qe(Yr){var Gr="[autofocus]",Wr=h(Yr,Gr)?Yr:Yr.querySelector(Gr);Wr?.focus()}function a(Yr,Gr,Wr,Zr){for(Te(Yr,Wr,Zr);Wr.childNodes.length>0;){var Kr=Wr.firstChild;z(Kr,Q.config.addedClass),Yr.insertBefore(Kr,Gr),Kr.nodeType!==Node.TEXT_NODE&&Kr.nodeType!==Node.COMMENT_NODE&&Zr.tasks.push(Oe(Kr))}}function He(Yr,Gr){for(var Wr=0;Wr<Yr.length;)Gr=(Gr<<5)-Gr+Yr.charCodeAt(Wr++)|0;return Gr}function Le(Yr){var Gr=0;if(Yr.attributes)for(var Wr=0;Wr<Yr.attributes.length;Wr++){var Zr=Yr.attributes[Wr];Zr.value&&(Gr=He(Zr.name,Gr),Gr=He(Zr.value,Gr))}return Gr}function Ae(Yr){var Gr=ae(Yr);if(Gr.onHandlers){for(var Wr=0;Wr<Gr.onHandlers.length;Wr++){let Zr=Gr.onHandlers[Wr];Yr.removeEventListener(Zr.event,Zr.listener)}delete Gr.onHandlers}}function Ne(Yr){var Gr=ae(Yr);Gr.timeout&&clearTimeout(Gr.timeout),Gr.webSocket&&Gr.webSocket.close(),Gr.sseEventSource&&Gr.sseEventSource.close(),Gr.listenerInfos&&oe(Gr.listenerInfos,function(Wr){Wr.on&&Wr.on.removeEventListener(Wr.trigger,Wr.listener)}),Ae(Yr),oe(Object.keys(Gr),function(Wr){delete Gr[Wr]})}function m(Yr){ce(Yr,"htmx:beforeCleanupElement"),Ne(Yr),Yr.children&&oe(Yr.children,function(Gr){m(Gr)})}function Ie(Yr,Gr,Wr){if(Yr.tagName==="BODY")return Ue(Yr,Gr,Wr);var Zr,Kr=Yr.previousSibling;for(a(u(Yr),Yr,Gr,Wr),Kr==null?Zr=u(Yr).firstChild:Zr=Kr.nextSibling,Wr.elts=Wr.elts.filter(function(Jr){return Jr!=Yr});Zr&&Zr!==Yr;)Zr.nodeType===Node.ELEMENT_NODE&&Wr.elts.push(Zr),Zr=Zr.nextElementSibling;m(Yr),u(Yr).removeChild(Yr)}function ke(Yr,Gr,Wr){return a(Yr,Yr.firstChild,Gr,Wr)}function Pe(Yr,Gr,Wr){return a(u(Yr),Yr,Gr,Wr)}function Me(Yr,Gr,Wr){return a(Yr,null,Gr,Wr)}function Xe(Yr,Gr,Wr){return a(u(Yr),Yr.nextSibling,Gr,Wr)}function De(Yr,Gr,Wr){return m(Yr),u(Yr).removeChild(Yr)}function Ue(Yr,Gr,Wr){var Zr=Yr.firstChild;if(a(Yr,Zr,Gr,Wr),Zr){for(;Zr.nextSibling;)m(Zr.nextSibling),Yr.removeChild(Zr.nextSibling);m(Zr),Yr.removeChild(Zr)}}function Be(Yr,Gr,Wr){var Zr=Wr||ne(Yr,"hx-select");if(Zr){var Kr=re().createDocumentFragment();oe(Gr.querySelectorAll(Zr),function(Jr){Kr.appendChild(Jr)}),Gr=Kr}return Gr}function Fe(Yr,Gr,Wr,Zr,Kr){switch(Yr){case"none":return;case"outerHTML":Ie(Wr,Zr,Kr);return;case"afterbegin":ke(Wr,Zr,Kr);return;case"beforebegin":Pe(Wr,Zr,Kr);return;case"beforeend":Me(Wr,Zr,Kr);return;case"afterend":Xe(Wr,Zr,Kr);return;case"delete":De(Wr,Zr,Kr);return;default:for(var Jr=Fr(Gr),Qr=0;Qr<Jr.length;Qr++){var ti=Jr[Qr];try{var ei=ti.handleSwap(Yr,Wr,Zr,Kr);if(ei){if(typeof ei.length<"u")for(var ri=0;ri<ei.length;ri++){var ii=ei[ri];ii.nodeType!==Node.TEXT_NODE&&ii.nodeType!==Node.COMMENT_NODE&&Kr.tasks.push(Oe(ii))}return}}catch(ni){b(ni)}}Yr==="innerHTML"?Ue(Wr,Zr,Kr):Fe(Q.config.defaultSwapStyle,Gr,Wr,Zr,Kr)}}function Ve(Yr){if(Yr.indexOf("<title")>-1){var Gr=Yr.replace(H,""),Wr=Gr.match(q);if(Wr)return Wr[2]}}function je(Yr,Gr,Wr,Zr,Kr,Jr){Kr.title=Ve(Zr);var Qr=l(Zr);if(Qr)return Ce(Wr,Qr,Kr),Qr=Be(Wr,Qr,Jr),Re(Qr),Fe(Yr,Wr,Gr,Qr,Kr)}function _e(Yr,Gr,Wr){var Zr=Yr.getResponseHeader(Gr);if(Zr.indexOf("{")===0){var Kr=E(Zr);for(var Jr in Kr)if(Kr.hasOwnProperty(Jr)){var Qr=Kr[Jr];P(Qr)||(Qr={value:Qr}),ce(Wr,Jr,Qr)}}else for(var ti=Zr.split(","),ei=0;ei<ti.length;ei++)ce(Wr,ti[ei].trim(),[])}var ze=/\s/,x=/[\s,]/,$e=/[_$a-zA-Z]/,We=/[_$a-zA-Z0-9]/,Ge=['"',"'","/"],Je=/[^\s]/,Ze=/[{(]/,Ke=/[})]/;function Ye(Yr){for(var Gr=[],Wr=0;Wr<Yr.length;){if($e.exec(Yr.charAt(Wr))){for(var Zr=Wr;We.exec(Yr.charAt(Wr+1));)Wr++;Gr.push(Yr.substr(Zr,Wr-Zr+1))}else if(Ge.indexOf(Yr.charAt(Wr))!==-1){var Kr=Yr.charAt(Wr),Zr=Wr;for(Wr++;Wr<Yr.length&&Yr.charAt(Wr)!==Kr;)Yr.charAt(Wr)==="\\"&&Wr++,Wr++;Gr.push(Yr.substr(Zr,Wr-Zr+1))}else{var Jr=Yr.charAt(Wr);Gr.push(Jr)}Wr++}return Gr}function Qe(Yr,Gr,Wr){return $e.exec(Yr.charAt(0))&&Yr!=="true"&&Yr!=="false"&&Yr!=="this"&&Yr!==Wr&&Gr!=="."}function et(Yr,Gr,Wr){if(Gr[0]==="["){Gr.shift();for(var Zr=1,Kr=" return (function("+Wr+"){ return (",Jr=null;Gr.length>0;){var Qr=Gr[0];if(Qr==="]"){if(Zr--,Zr===0){Jr===null&&(Kr=Kr+"true"),Gr.shift(),Kr+=")})";try{var ti=Tr(Yr,function(){return Function(Kr)()},function(){return!0});return ti.source=Kr,ti}catch(ei){return fe(re().body,"htmx:syntax:error",{error:ei,source:Kr}),null}}}else Qr==="["&&Zr++;Qe(Qr,Jr,Wr)?Kr+="(("+Wr+"."+Qr+") ? ("+Wr+"."+Qr+") : (window."+Qr+"))":Kr=Kr+Qr,Jr=Gr.shift()}}}function y(Yr,Gr){for(var Wr="";Yr.length>0&&!Gr.test(Yr[0]);)Wr+=Yr.shift();return Wr}function tt(Yr){var Gr;return Yr.length>0&&Ze.test(Yr[0])?(Yr.shift(),Gr=y(Yr,Ke).trim(),Yr.shift()):Gr=y(Yr,x),Gr}var rt="input, textarea, select";function nt(Yr,Gr,Wr){var Zr=[],Kr=Ye(Gr);do{y(Kr,Je);var Jr=Kr.length,Qr=y(Kr,/[,\[\s]/);if(Qr!=="")if(Qr==="every"){var ti={trigger:"every"};y(Kr,Je),ti.pollInterval=d(y(Kr,/[,\[\s]/)),y(Kr,Je);var ei=et(Yr,Kr,"event");ei&&(ti.eventFilter=ei),Zr.push(ti)}else if(Qr.indexOf("sse:")===0)Zr.push({trigger:"sse",sseEvent:Qr.substr(4)});else{var ri={trigger:Qr},ei=et(Yr,Kr,"event");for(ei&&(ri.eventFilter=ei);Kr.length>0&&Kr[0]!==",";){y(Kr,Je);var ii=Kr.shift();if(ii==="changed")ri.changed=!0;else if(ii==="once")ri.once=!0;else if(ii==="consume")ri.consume=!0;else if(ii==="delay"&&Kr[0]===":")Kr.shift(),ri.delay=d(y(Kr,x));else if(ii==="from"&&Kr[0]===":"){if(Kr.shift(),Ze.test(Kr[0]))var ni=tt(Kr);else{var ni=y(Kr,x);if(ni==="closest"||ni==="find"||ni==="next"||ni==="previous"){Kr.shift();var ai=tt(Kr);ai.length>0&&(ni+=" "+ai)}}ri.from=ni}else ii==="target"&&Kr[0]===":"?(Kr.shift(),ri.target=tt(Kr)):ii==="throttle"&&Kr[0]===":"?(Kr.shift(),ri.throttle=d(y(Kr,x))):ii==="queue"&&Kr[0]===":"?(Kr.shift(),ri.queue=y(Kr,x)):ii==="root"&&Kr[0]===":"?(Kr.shift(),ri[ii]=tt(Kr)):ii==="threshold"&&Kr[0]===":"?(Kr.shift(),ri[ii]=y(Kr,x)):fe(Yr,"htmx:syntax:error",{token:Kr.shift()})}Zr.push(ri)}Kr.length===Jr&&fe(Yr,"htmx:syntax:error",{token:Kr.shift()}),y(Kr,Je)}while(Kr[0]===","&&Kr.shift());return Wr&&(Wr[Gr]=Zr),Zr}function it(Yr){var Gr=te(Yr,"hx-trigger"),Wr=[];if(Gr){var Zr=Q.config.triggerSpecsCache;Wr=Zr&&Zr[Gr]||nt(Yr,Gr,Zr)}return Wr.length>0?Wr:h(Yr,"form")?[{trigger:"submit"}]:h(Yr,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(Yr,rt)?[{trigger:"change"}]:[{trigger:"click"}]}function at(Yr){ae(Yr).cancelled=!0}function ot(Yr,Gr,Wr){var Zr=ae(Yr);Zr.timeout=setTimeout(function(){se(Yr)&&Zr.cancelled!==!0&&(ct(Wr,Yr,Wt("hx:poll:trigger",{triggerSpec:Wr,target:Yr}))||Gr(Yr),ot(Yr,Gr,Wr))},Wr.pollInterval)}function st(Yr){return location.hostname===Yr.hostname&&ee(Yr,"href")&&ee(Yr,"href").indexOf("#")!==0}function lt(Yr,Gr,Wr){if(Yr.tagName==="A"&&st(Yr)&&(Yr.target===""||Yr.target==="_self")||Yr.tagName==="FORM"){Gr.boosted=!0;var Zr,Kr;if(Yr.tagName==="A")Zr="get",Kr=ee(Yr,"href");else{var Jr=ee(Yr,"method");Zr=Jr?Jr.toLowerCase():"get",Kr=ee(Yr,"action")}Wr.forEach(function(Qr){ht(Yr,function(ti,ei){if(v(ti,Q.config.disableSelector)){m(ti);return}he(Zr,Kr,ti,ei)},Gr,Qr,!0)})}}function ut(Yr,Gr){return!!((Yr.type==="submit"||Yr.type==="click")&&(Gr.tagName==="FORM"||h(Gr,'input[type="submit"], button')&&v(Gr,"form")!==null||Gr.tagName==="A"&&Gr.href&&(Gr.getAttribute("href")==="#"||Gr.getAttribute("href").indexOf("#")!==0)))}function ft(Yr,Gr){return ae(Yr).boosted&&Yr.tagName==="A"&&Gr.type==="click"&&(Gr.ctrlKey||Gr.metaKey)}function ct(Yr,Gr,Wr){var Zr=Yr.eventFilter;if(Zr)try{return Zr.call(Gr,Wr)!==!0}catch(Kr){return fe(re().body,"htmx:eventFilter:error",{error:Kr,source:Zr.source}),!0}return!1}function ht(Yr,Gr,Wr,Zr,Kr){var Jr=ae(Yr),Qr;Zr.from?Qr=Z(Yr,Zr.from):Qr=[Yr],Zr.changed&&Qr.forEach(function(ti){var ei=ae(ti);ei.lastValue=ti.value}),oe(Qr,function(ti){var ei=function(ri){if(!se(Yr)){ti.removeEventListener(Zr.trigger,ei);return}if(!ft(Yr,ri)&&((Kr||ut(ri,Yr))&&ri.preventDefault(),!ct(Zr,Yr,ri))){var ii=ae(ri);if(ii.triggerSpec=Zr,ii.handledFor==null&&(ii.handledFor=[]),ii.handledFor.indexOf(Yr)<0){if(ii.handledFor.push(Yr),Zr.consume&&ri.stopPropagation(),Zr.target&&ri.target&&!h(ri.target,Zr.target))return;if(Zr.once){if(Jr.triggeredOnce)return;Jr.triggeredOnce=!0}if(Zr.changed){var ni=ae(ti);if(ni.lastValue===ti.value)return;ni.lastValue=ti.value}if(Jr.delayed&&clearTimeout(Jr.delayed),Jr.throttle)return;Zr.throttle>0?Jr.throttle||(Gr(Yr,ri),Jr.throttle=setTimeout(function(){Jr.throttle=null},Zr.throttle)):Zr.delay>0?Jr.delayed=setTimeout(function(){Gr(Yr,ri)},Zr.delay):(ce(Yr,"htmx:trigger"),Gr(Yr,ri))}}};Wr.listenerInfos==null&&(Wr.listenerInfos=[]),Wr.listenerInfos.push({trigger:Zr.trigger,listener:ei,on:ti}),ti.addEventListener(Zr.trigger,ei)})}var vt=!1,dt=null;function gt(){dt||(dt=function(){vt=!0},window.addEventListener("scroll",dt),setInterval(function(){vt&&(vt=!1,oe(re().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(Yr){pt(Yr)}))},200))}function pt(Yr){if(!o(Yr,"data-hx-revealed")&&X(Yr)){Yr.setAttribute("data-hx-revealed","true");var Gr=ae(Yr);Gr.initHash?ce(Yr,"revealed"):Yr.addEventListener("htmx:afterProcessNode",function(Wr){ce(Yr,"revealed")},{once:!0})}}function mt(Yr,Gr,Wr){for(var Zr=D(Wr),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr].split(/:(.+)/);Jr[0]==="connect"&&xt(Yr,Jr[1],0),Jr[0]==="send"&&bt(Yr)}}function xt(Yr,Gr,Wr){if(se(Yr)){if(Gr.indexOf("/")==0){var Zr=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?Gr="wss://"+Zr+Gr:location.protocol=="http:"&&(Gr="ws://"+Zr+Gr)}var Kr=Q.createWebSocket(Gr);Kr.onerror=function(Jr){fe(Yr,"htmx:wsError",{error:Jr,socket:Kr}),yt(Yr)},Kr.onclose=function(Jr){if([1006,1012,1013].indexOf(Jr.code)>=0){var Qr=wt(Wr);setTimeout(function(){xt(Yr,Gr,Wr+1)},Qr)}},Kr.onopen=function(Jr){Wr=0},ae(Yr).webSocket=Kr,Kr.addEventListener("message",function(Jr){if(!yt(Yr)){var Qr=Jr.data;R(Yr,function(ai){Qr=ai.transformResponse(Qr,null,Yr)});for(var ti=T(Yr),ei=l(Qr),ri=M(ei.children),ii=0;ii<ri.length;ii++){var ni=ri[ii];Ee(te(ni,"hx-swap-oob")||"true",ni,ti)}nr(ti.tasks)}})}}function yt(Yr){if(!se(Yr))return ae(Yr).webSocket.close(),!0}function bt(Yr){var Gr=c(Yr,function(Wr){return ae(Wr).webSocket!=null});Gr?Yr.addEventListener(it(Yr)[0].trigger,function(Wr){var Zr=ae(Gr).webSocket,Kr=xr(Yr,Gr),Jr=dr(Yr,"post"),Qr=Jr.errors,ti=Jr.values,ei=Hr(Yr),ri=le(ti,ei),ii=yr(ri,Yr);if(ii.HEADERS=Kr,Qr&&Qr.length>0){ce(Yr,"htmx:validation:halted",Qr);return}Zr.send(JSON.stringify(ii)),ut(Wr,Yr)&&Wr.preventDefault()}):fe(Yr,"htmx:noWebSocketSourceError")}function wt(Yr){var Gr=Q.config.wsReconnectDelay;if(typeof Gr=="function")return Gr(Yr);if(Gr==="full-jitter"){var Wr=Math.min(Yr,6),Zr=1e3*Math.pow(2,Wr);return Zr*Math.random()}b('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function St(Yr,Gr,Wr){for(var Zr=D(Wr),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr].split(/:(.+)/);Jr[0]==="connect"&&Et(Yr,Jr[1]),Jr[0]==="swap"&&Ct(Yr,Jr[1])}}function Et(Yr,Gr){var Wr=Q.createEventSource(Gr);Wr.onerror=function(Zr){fe(Yr,"htmx:sseError",{error:Zr,source:Wr}),Tt(Yr)},ae(Yr).sseEventSource=Wr}function Ct(Yr,Gr){var Wr=c(Yr,Ot);if(Wr){var Zr=ae(Wr).sseEventSource,Kr=function(Jr){if(!Tt(Wr)){if(!se(Yr)){Zr.removeEventListener(Gr,Kr);return}var Qr=Jr.data;R(Yr,function(ii){Qr=ii.transformResponse(Qr,null,Yr)});var ti=wr(Yr),ei=ye(Yr),ri=T(Yr);je(ti.swapStyle,ei,Yr,Qr,ri),nr(ri.tasks),ce(Yr,"htmx:sseMessage",Jr)}};ae(Yr).sseListener=Kr,Zr.addEventListener(Gr,Kr)}else fe(Yr,"htmx:noSSESourceError")}function Rt(Yr,Gr,Wr){var Zr=c(Yr,Ot);if(Zr){var Kr=ae(Zr).sseEventSource,Jr=function(){Tt(Zr)||(se(Yr)?Gr(Yr):Kr.removeEventListener(Wr,Jr))};ae(Yr).sseListener=Jr,Kr.addEventListener(Wr,Jr)}else fe(Yr,"htmx:noSSESourceError")}function Tt(Yr){if(!se(Yr))return ae(Yr).sseEventSource.close(),!0}function Ot(Yr){return ae(Yr).sseEventSource!=null}function qt(Yr,Gr,Wr,Zr){var Kr=function(){Wr.loaded||(Wr.loaded=!0,Gr(Yr))};Zr>0?setTimeout(Kr,Zr):Kr()}function Ht(Yr,Gr,Wr){var Zr=!1;return oe(w,function(Kr){if(o(Yr,"hx-"+Kr)){var Jr=te(Yr,"hx-"+Kr);Zr=!0,Gr.path=Jr,Gr.verb=Kr,Wr.forEach(function(Qr){Lt(Yr,Qr,Gr,function(ti,ei){if(v(ti,Q.config.disableSelector)){m(ti);return}he(Kr,Jr,ti,ei)})})}}),Zr}function Lt(Yr,Gr,Wr,Zr){if(Gr.sseEvent)Rt(Yr,Zr,Gr.sseEvent);else if(Gr.trigger==="revealed")gt(),ht(Yr,Zr,Wr,Gr),pt(Yr);else if(Gr.trigger==="intersect"){var Kr={};Gr.root&&(Kr.root=ue(Yr,Gr.root)),Gr.threshold&&(Kr.threshold=parseFloat(Gr.threshold));var Jr=new IntersectionObserver(function(Qr){for(var ti=0;ti<Qr.length;ti++){var ei=Qr[ti];if(ei.isIntersecting){ce(Yr,"intersect");break}}},Kr);Jr.observe(Yr),ht(Yr,Zr,Wr,Gr)}else Gr.trigger==="load"?ct(Gr,Yr,Wt("load",{elt:Yr}))||qt(Yr,Zr,Wr,Gr.delay):Gr.pollInterval>0?(Wr.polling=!0,ot(Yr,Zr,Gr)):ht(Yr,Zr,Wr,Gr)}function At(Yr){if(!Yr.htmxExecuted&&Q.config.allowScriptTags&&(Yr.type==="text/javascript"||Yr.type==="module"||Yr.type==="")){var Gr=re().createElement("script");oe(Yr.attributes,function(Zr){Gr.setAttribute(Zr.name,Zr.value)}),Gr.textContent=Yr.textContent,Gr.async=!1,Q.config.inlineScriptNonce&&(Gr.nonce=Q.config.inlineScriptNonce);var Wr=Yr.parentElement;try{Wr.insertBefore(Gr,Yr)}catch(Zr){b(Zr)}finally{Yr.parentElement&&Yr.parentElement.removeChild(Yr)}}}function Nt(Yr){h(Yr,"script")&&At(Yr),oe(f(Yr,"script"),function(Gr){At(Gr)})}function It(Yr){var Gr=Yr.attributes;if(!Gr)return!1;for(var Wr=0;Wr<Gr.length;Wr++){var Zr=Gr[Wr].name;if(g(Zr,"hx-on:")||g(Zr,"data-hx-on:")||g(Zr,"hx-on-")||g(Zr,"data-hx-on-"))return!0}return!1}function kt(Yr){var Gr=null,Wr=[];if(It(Yr)&&Wr.push(Yr),document.evaluate)for(var Zr=document.evaluate('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]',Yr);Gr=Zr.iterateNext();)Wr.push(Gr);else if(typeof Yr.getElementsByTagName=="function")for(var Kr=Yr.getElementsByTagName("*"),Jr=0;Jr<Kr.length;Jr++)It(Kr[Jr])&&Wr.push(Kr[Jr]);return Wr}function Pt(Yr){if(Yr.querySelectorAll){var Gr=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",Wr=Yr.querySelectorAll(i+Gr+", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]");return Wr}else return[]}function Mt(Yr){var Gr=v(Yr.target,"button, input[type='submit']"),Wr=Dt(Yr);Wr&&(Wr.lastButtonClicked=Gr)}function Xt(Yr){var Gr=Dt(Yr);Gr&&(Gr.lastButtonClicked=null)}function Dt(Yr){var Gr=v(Yr.target,"button, input[type='submit']");if(Gr){var Wr=p("#"+ee(Gr,"form"))||v(Gr,"form");if(Wr)return ae(Wr)}}function Ut(Yr){Yr.addEventListener("click",Mt),Yr.addEventListener("focusin",Mt),Yr.addEventListener("focusout",Xt)}function Bt(Yr){for(var Gr=Ye(Yr),Wr=0,Zr=0;Zr<Gr.length;Zr++){let Kr=Gr[Zr];Kr==="{"?Wr++:Kr==="}"&&Wr--}return Wr}function Ft(Yr,Gr,Wr){var Zr=ae(Yr);Array.isArray(Zr.onHandlers)||(Zr.onHandlers=[]);var Kr,Jr=function(Qr){return Tr(Yr,function(){Kr||(Kr=new Function("event",Wr)),Kr.call(Yr,Qr)})};Yr.addEventListener(Gr,Jr),Zr.onHandlers.push({event:Gr,listener:Jr})}function Vt(Yr){var Gr=te(Yr,"hx-on");if(Gr){for(var Wr={},Zr=Gr.split(`
`),Kr=null,Jr=0;Zr.length>0;){var Qr=Zr.shift(),ti=Qr.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);Jr===0&&ti?(Qr.split(":"),Kr=ti[1].slice(0,-1),Wr[Kr]=ti[2]):Wr[Kr]+=Qr,Jr+=Bt(Qr)}for(var ei in Wr)Ft(Yr,ei,Wr[ei])}}function jt(Yr){Ae(Yr);for(var Gr=0;Gr<Yr.attributes.length;Gr++){var Wr=Yr.attributes[Gr].name,Zr=Yr.attributes[Gr].value;if(g(Wr,"hx-on")||g(Wr,"data-hx-on")){var Kr=Wr.indexOf("-on")+3,Jr=Wr.slice(Kr,Kr+1);if(Jr==="-"||Jr===":"){var Qr=Wr.slice(Kr+1);g(Qr,":")?Qr="htmx"+Qr:g(Qr,"-")?Qr="htmx:"+Qr.slice(1):g(Qr,"htmx-")&&(Qr="htmx:"+Qr.slice(5)),Ft(Yr,Qr,Zr)}}}}function _t(Yr){if(v(Yr,Q.config.disableSelector)){m(Yr);return}var Gr=ae(Yr);if(Gr.initHash!==Le(Yr)){Ne(Yr),Gr.initHash=Le(Yr),Vt(Yr),ce(Yr,"htmx:beforeProcessNode"),Yr.value&&(Gr.lastValue=Yr.value);var Wr=it(Yr),Zr=Ht(Yr,Gr,Wr);Zr||(ne(Yr,"hx-boost")==="true"?lt(Yr,Gr,Wr):o(Yr,"hx-trigger")&&Wr.forEach(function(Qr){Lt(Yr,Qr,Gr,function(){})})),(Yr.tagName==="FORM"||ee(Yr,"type")==="submit"&&o(Yr,"form"))&&Ut(Yr);var Kr=te(Yr,"hx-sse");Kr&&St(Yr,Gr,Kr);var Jr=te(Yr,"hx-ws");Jr&&mt(Yr,Gr,Jr),ce(Yr,"htmx:afterProcessNode")}}function zt(Yr){if(Yr=p(Yr),v(Yr,Q.config.disableSelector)){m(Yr);return}_t(Yr),oe(Pt(Yr),function(Gr){_t(Gr)}),oe(kt(Yr),jt)}function $t(Yr){return Yr.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Wt(Yr,Gr){var Wr;return window.CustomEvent&&typeof window.CustomEvent=="function"?Wr=new CustomEvent(Yr,{bubbles:!0,cancelable:!0,detail:Gr}):(Wr=re().createEvent("CustomEvent"),Wr.initCustomEvent(Yr,!0,!0,Gr)),Wr}function fe(Yr,Gr,Wr){ce(Yr,Gr,le({error:Gr},Wr))}function Gt(Yr){return Yr==="htmx:afterProcessNode"}function R(Yr,Gr){oe(Fr(Yr),function(Wr){try{Gr(Wr)}catch(Zr){b(Zr)}})}function b(Yr){console.error?console.error(Yr):console.log&&console.log("ERROR: ",Yr)}function ce(Yr,Gr,Wr){Yr=p(Yr),Wr==null&&(Wr={}),Wr.elt=Yr;var Zr=Wt(Gr,Wr);Q.logger&&!Gt(Gr)&&Q.logger(Yr,Gr,Wr),Wr.error&&(b(Wr.error),ce(Yr,"htmx:error",{errorInfo:Wr}));var Kr=Yr.dispatchEvent(Zr),Jr=$t(Gr);if(Kr&&Jr!==Gr){var Qr=Wt(Jr,Zr.detail);Kr=Kr&&Yr.dispatchEvent(Qr)}return R(Yr,function(ti){Kr=Kr&&ti.onEvent(Gr,Zr)!==!1&&!Zr.defaultPrevented}),Kr}var Jt=location.pathname+location.search;function Zt(){var Yr=re().querySelector("[hx-history-elt],[data-hx-history-elt]");return Yr||re().body}function Kt(Yr,Gr,Wr,Zr){if(U()){if(Q.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}Yr=B(Yr);for(var Kr=E(localStorage.getItem("htmx-history-cache"))||[],Jr=0;Jr<Kr.length;Jr++)if(Kr[Jr].url===Yr){Kr.splice(Jr,1);break}var Qr={url:Yr,content:Gr,title:Wr,scroll:Zr};for(ce(re().body,"htmx:historyItemCreated",{item:Qr,cache:Kr}),Kr.push(Qr);Kr.length>Q.config.historyCacheSize;)Kr.shift();for(;Kr.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(Kr));break}catch(ti){fe(re().body,"htmx:historyCacheError",{cause:ti,cache:Kr}),Kr.shift()}}}function Yt(Yr){if(!U())return null;Yr=B(Yr);for(var Gr=E(localStorage.getItem("htmx-history-cache"))||[],Wr=0;Wr<Gr.length;Wr++)if(Gr[Wr].url===Yr)return Gr[Wr];return null}function Qt(Yr){var Gr=Q.config.requestClass,Wr=Yr.cloneNode(!0);return oe(f(Wr,"."+Gr),function(Zr){n(Zr,Gr)}),Wr.innerHTML}function er(){var Yr=Zt(),Gr=Jt||location.pathname+location.search,Wr;try{Wr=re().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{Wr=re().querySelector('[hx-history="false"],[data-hx-history="false"]')}Wr||(ce(re().body,"htmx:beforeHistorySave",{path:Gr,historyElt:Yr}),Kt(Gr,Qt(Yr),re().title,window.scrollY)),Q.config.historyEnabled&&history.replaceState({htmx:!0},re().title,window.location.href)}function tr(Yr){Q.config.getCacheBusterParam&&(Yr=Yr.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(G(Yr,"&")||G(Yr,"?"))&&(Yr=Yr.slice(0,-1))),Q.config.historyEnabled&&history.pushState({htmx:!0},"",Yr),Jt=Yr}function rr(Yr){Q.config.historyEnabled&&history.replaceState({htmx:!0},"",Yr),Jt=Yr}function nr(Yr){oe(Yr,function(Gr){Gr.call()})}function ir(Yr){var Gr=new XMLHttpRequest,Wr={path:Yr,xhr:Gr};ce(re().body,"htmx:historyCacheMiss",Wr),Gr.open("GET",Yr,!0),Gr.setRequestHeader("HX-Request","true"),Gr.setRequestHeader("HX-History-Restore-Request","true"),Gr.setRequestHeader("HX-Current-URL",re().location.href),Gr.onload=function(){if(this.status>=200&&this.status<400){ce(re().body,"htmx:historyCacheMissLoad",Wr);var Zr=l(this.response);Zr=Zr.querySelector("[hx-history-elt],[data-hx-history-elt]")||Zr;var Kr=Zt(),Jr=T(Kr),Qr=Ve(this.response);if(Qr){var ti=C("title");ti?ti.innerHTML=Qr:window.document.title=Qr}Ue(Kr,Zr,Jr),nr(Jr.tasks),Jt=Yr,ce(re().body,"htmx:historyRestore",{path:Yr,cacheMiss:!0,serverResponse:this.response})}else fe(re().body,"htmx:historyCacheMissLoadError",Wr)},Gr.send()}function ar(Yr){er(),Yr=Yr||location.pathname+location.search;var Gr=Yt(Yr);if(Gr){var Wr=l(Gr.content),Zr=Zt(),Kr=T(Zr);Ue(Zr,Wr,Kr),nr(Kr.tasks),document.title=Gr.title,setTimeout(function(){window.scrollTo(0,Gr.scroll)},0),Jt=Yr,ce(re().body,"htmx:historyRestore",{path:Yr,item:Gr})}else Q.config.refreshOnHistoryMiss?window.location.reload(!0):ir(Yr)}function or(Yr){var Gr=me(Yr,"hx-indicator");return Gr==null&&(Gr=[Yr]),oe(Gr,function(Wr){var Zr=ae(Wr);Zr.requestCount=(Zr.requestCount||0)+1,Wr.classList.add.call(Wr.classList,Q.config.requestClass)}),Gr}function sr(Yr){var Gr=me(Yr,"hx-disabled-elt");return Gr==null&&(Gr=[]),oe(Gr,function(Wr){var Zr=ae(Wr);Zr.requestCount=(Zr.requestCount||0)+1,Wr.setAttribute("disabled","")}),Gr}function lr(Yr,Gr){oe(Yr,function(Wr){var Zr=ae(Wr);Zr.requestCount=(Zr.requestCount||0)-1,Zr.requestCount===0&&Wr.classList.remove.call(Wr.classList,Q.config.requestClass)}),oe(Gr,function(Wr){var Zr=ae(Wr);Zr.requestCount=(Zr.requestCount||0)-1,Zr.requestCount===0&&Wr.removeAttribute("disabled")})}function ur(Yr,Gr){for(var Wr=0;Wr<Yr.length;Wr++){var Zr=Yr[Wr];if(Zr.isSameNode(Gr))return!0}return!1}function fr(Yr){return Yr.name===""||Yr.name==null||Yr.disabled||v(Yr,"fieldset[disabled]")||Yr.type==="button"||Yr.type==="submit"||Yr.tagName==="image"||Yr.tagName==="reset"||Yr.tagName==="file"?!1:Yr.type==="checkbox"||Yr.type==="radio"?Yr.checked:!0}function cr(Yr,Gr,Wr){if(Yr!=null&&Gr!=null){var Zr=Wr[Yr];Zr===void 0?Wr[Yr]=Gr:Array.isArray(Zr)?Array.isArray(Gr)?Wr[Yr]=Zr.concat(Gr):Zr.push(Gr):Array.isArray(Gr)?Wr[Yr]=[Zr].concat(Gr):Wr[Yr]=[Zr,Gr]}}function hr(Yr,Gr,Wr,Zr,Kr){if(!(Zr==null||ur(Yr,Zr))){if(Yr.push(Zr),fr(Zr)){var Jr=ee(Zr,"name"),Qr=Zr.value;Zr.multiple&&Zr.tagName==="SELECT"&&(Qr=M(Zr.querySelectorAll("option:checked")).map(function(ei){return ei.value})),Zr.files&&(Qr=M(Zr.files)),cr(Jr,Qr,Gr),Kr&&vr(Zr,Wr)}if(h(Zr,"form")){var ti=Zr.elements;oe(ti,function(ei){hr(Yr,Gr,Wr,ei,Kr)})}}}function vr(Yr,Gr){Yr.willValidate&&(ce(Yr,"htmx:validation:validate"),Yr.checkValidity()||(Gr.push({elt:Yr,message:Yr.validationMessage,validity:Yr.validity}),ce(Yr,"htmx:validation:failed",{message:Yr.validationMessage,validity:Yr.validity})))}function dr(Yr,Gr){var Wr=[],Zr={},Kr={},Jr=[],Qr=ae(Yr);Qr.lastButtonClicked&&!se(Qr.lastButtonClicked)&&(Qr.lastButtonClicked=null);var ti=h(Yr,"form")&&Yr.noValidate!==!0||te(Yr,"hx-validate")==="true";if(Qr.lastButtonClicked&&(ti=ti&&Qr.lastButtonClicked.formNoValidate!==!0),Gr!=="get"&&hr(Wr,Kr,Jr,v(Yr,"form"),ti),hr(Wr,Zr,Jr,Yr,ti),Qr.lastButtonClicked||Yr.tagName==="BUTTON"||Yr.tagName==="INPUT"&&ee(Yr,"type")==="submit"){var ei=Qr.lastButtonClicked||Yr,ri=ee(ei,"name");cr(ri,ei.value,Kr)}var ii=me(Yr,"hx-include");return oe(ii,function(ni){hr(Wr,Zr,Jr,ni,ti),h(ni,"form")||oe(ni.querySelectorAll(rt),function(ai){hr(Wr,Zr,Jr,ai,ti)})}),Zr=le(Zr,Kr),{errors:Jr,values:Zr}}function gr(Yr,Gr,Wr){Yr!==""&&(Yr+="&"),String(Wr)==="[object Object]"&&(Wr=JSON.stringify(Wr));var Zr=encodeURIComponent(Wr);return Yr+=encodeURIComponent(Gr)+"="+Zr,Yr}function pr(Yr){var Gr="";for(var Wr in Yr)if(Yr.hasOwnProperty(Wr)){var Zr=Yr[Wr];Array.isArray(Zr)?oe(Zr,function(Kr){Gr=gr(Gr,Wr,Kr)}):Gr=gr(Gr,Wr,Zr)}return Gr}function mr(Yr){var Gr=new FormData;for(var Wr in Yr)if(Yr.hasOwnProperty(Wr)){var Zr=Yr[Wr];Array.isArray(Zr)?oe(Zr,function(Kr){Gr.append(Wr,Kr)}):Gr.append(Wr,Zr)}return Gr}function xr(Yr,Gr,Wr){var Zr={"HX-Request":"true","HX-Trigger":ee(Yr,"id"),"HX-Trigger-Name":ee(Yr,"name"),"HX-Target":te(Gr,"id"),"HX-Current-URL":re().location.href};return Rr(Yr,"hx-headers",!1,Zr),Wr!==void 0&&(Zr["HX-Prompt"]=Wr),ae(Yr).boosted&&(Zr["HX-Boosted"]="true"),Zr}function yr(Yr,Gr){var Wr=ne(Gr,"hx-params");if(Wr){if(Wr==="none")return{};if(Wr==="*")return Yr;if(Wr.indexOf("not ")===0)return oe(Wr.substr(4).split(","),function(Kr){Kr=Kr.trim(),delete Yr[Kr]}),Yr;var Zr={};return oe(Wr.split(","),function(Kr){Kr=Kr.trim(),Zr[Kr]=Yr[Kr]}),Zr}else return Yr}function br(Yr){return ee(Yr,"href")&&ee(Yr,"href").indexOf("#")>=0}function wr(Yr,Gr){var Wr=Gr||ne(Yr,"hx-swap"),Zr={swapStyle:ae(Yr).boosted?"innerHTML":Q.config.defaultSwapStyle,swapDelay:Q.config.defaultSwapDelay,settleDelay:Q.config.defaultSettleDelay};if(Q.config.scrollIntoViewOnBoost&&ae(Yr).boosted&&!br(Yr)&&(Zr.show="top"),Wr){var Kr=D(Wr);if(Kr.length>0)for(var Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr];if(Qr.indexOf("swap:")===0)Zr.swapDelay=d(Qr.substr(5));else if(Qr.indexOf("settle:")===0)Zr.settleDelay=d(Qr.substr(7));else if(Qr.indexOf("transition:")===0)Zr.transition=Qr.substr(11)==="true";else if(Qr.indexOf("ignoreTitle:")===0)Zr.ignoreTitle=Qr.substr(12)==="true";else if(Qr.indexOf("scroll:")===0){var ti=Qr.substr(7),ei=ti.split(":"),ri=ei.pop(),ii=ei.length>0?ei.join(":"):null;Zr.scroll=ri,Zr.scrollTarget=ii}else if(Qr.indexOf("show:")===0){var ni=Qr.substr(5),ei=ni.split(":"),ai=ei.pop(),ii=ei.length>0?ei.join(":"):null;Zr.show=ai,Zr.showTarget=ii}else if(Qr.indexOf("focus-scroll:")===0){var oi=Qr.substr(13);Zr.focusScroll=oi=="true"}else Jr==0?Zr.swapStyle=Qr:b("Unknown modifier in hx-swap: "+Qr)}}return Zr}function Sr(Yr){return ne(Yr,"hx-encoding")==="multipart/form-data"||h(Yr,"form")&&ee(Yr,"enctype")==="multipart/form-data"}function Er(Yr,Gr,Wr){var Zr=null;return R(Gr,function(Kr){Zr==null&&(Zr=Kr.encodeParameters(Yr,Wr,Gr))}),Zr??(Sr(Gr)?mr(Wr):pr(Wr))}function T(Yr){return{tasks:[],elts:[Yr]}}function Cr(Yr,Gr){var Wr=Yr[0],Zr=Yr[Yr.length-1];if(Gr.scroll){var Kr=null;Gr.scrollTarget&&(Kr=ue(Wr,Gr.scrollTarget)),Gr.scroll==="top"&&(Wr||Kr)&&(Kr=Kr||Wr,Kr.scrollTop=0),Gr.scroll==="bottom"&&(Zr||Kr)&&(Kr=Kr||Zr,Kr.scrollTop=Kr.scrollHeight)}if(Gr.show){var Kr=null;if(Gr.showTarget){var Jr=Gr.showTarget;Gr.showTarget==="window"&&(Jr="body"),Kr=ue(Wr,Jr)}Gr.show==="top"&&(Wr||Kr)&&(Kr=Kr||Wr,Kr.scrollIntoView({block:"start",behavior:Q.config.scrollBehavior})),Gr.show==="bottom"&&(Zr||Kr)&&(Kr=Kr||Zr,Kr.scrollIntoView({block:"end",behavior:Q.config.scrollBehavior}))}}function Rr(Yr,Gr,Wr,Zr){if(Zr==null&&(Zr={}),Yr==null)return Zr;var Kr=te(Yr,Gr);if(Kr){var Jr=Kr.trim(),Qr=Wr;if(Jr==="unset")return null;Jr.indexOf("javascript:")===0?(Jr=Jr.substr(11),Qr=!0):Jr.indexOf("js:")===0&&(Jr=Jr.substr(3),Qr=!0),Jr.indexOf("{")!==0&&(Jr="{"+Jr+"}");var ti;Qr?ti=Tr(Yr,function(){return Function("return ("+Jr+")")()},{}):ti=E(Jr);for(var ei in ti)ti.hasOwnProperty(ei)&&Zr[ei]==null&&(Zr[ei]=ti[ei])}return Rr(u(Yr),Gr,Wr,Zr)}function Tr(Yr,Gr,Wr){return Q.config.allowEval?Gr():(fe(Yr,"htmx:evalDisallowedError"),Wr)}function Or(Yr,Gr){return Rr(Yr,"hx-vars",!0,Gr)}function qr(Yr,Gr){return Rr(Yr,"hx-vals",!1,Gr)}function Hr(Yr){return le(Or(Yr),qr(Yr))}function Lr(Yr,Gr,Wr){if(Wr!==null)try{Yr.setRequestHeader(Gr,Wr)}catch{Yr.setRequestHeader(Gr,encodeURIComponent(Wr)),Yr.setRequestHeader(Gr+"-URI-AutoEncoded","true")}}function Ar(Yr){if(Yr.responseURL&&typeof URL<"u")try{var Gr=new URL(Yr.responseURL);return Gr.pathname+Gr.search}catch{fe(re().body,"htmx:badResponseUrl",{url:Yr.responseURL})}}function O(Yr,Gr){return Gr.test(Yr.getAllResponseHeaders())}function Nr(Yr,Gr,Wr){return Yr=Yr.toLowerCase(),Wr?Wr instanceof Element||I(Wr,"String")?he(Yr,Gr,null,null,{targetOverride:p(Wr),returnPromise:!0}):he(Yr,Gr,p(Wr.source),Wr.event,{handler:Wr.handler,headers:Wr.headers,values:Wr.values,targetOverride:p(Wr.target),swapOverride:Wr.swap,select:Wr.select,returnPromise:!0}):he(Yr,Gr,null,null,{returnPromise:!0})}function Ir(Yr){for(var Gr=[];Yr;)Gr.push(Yr),Yr=Yr.parentElement;return Gr}function kr(Yr,Gr,Wr){var Zr,Kr;if(typeof URL=="function"){Kr=new URL(Gr,document.location.href);var Jr=document.location.origin;Zr=Jr===Kr.origin}else Kr=Gr,Zr=g(Gr,document.location.origin);return Q.config.selfRequestsOnly&&!Zr?!1:ce(Yr,"htmx:validateUrl",le({url:Kr,sameHost:Zr},Wr))}function he(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=null,ti=null;if(Kr=Kr??{},Kr.returnPromise&&typeof Promise<"u")var ei=new Promise(function(Fn,Qn){Qr=Fn,ti=Qn});Wr==null&&(Wr=re().body);var ri=Kr.handler||Mr,ii=Kr.select||null;if(!se(Wr))return ie(Qr),ei;var ni=Kr.targetOverride||ye(Wr);if(ni==null||ni==pe)return fe(Wr,"htmx:targetError",{target:te(Wr,"hx-target")}),ie(ti),ei;var ai=ae(Wr),oi=ai.lastButtonClicked;if(oi){var si=ee(oi,"formaction");si!=null&&(Gr=si);var li=ee(oi,"formmethod");li!=null&&li.toLowerCase()!=="dialog"&&(Yr=li)}var ui=ne(Wr,"hx-confirm");if(Jr===void 0){var fi=function(Fn){return he(Yr,Gr,Wr,Zr,Kr,!!Fn)},hi={target:ni,elt:Wr,path:Gr,verb:Yr,triggeringEvent:Zr,etc:Kr,issueRequest:fi,question:ui};if(ce(Wr,"htmx:confirm",hi)===!1)return ie(Qr),ei}var ci=Wr,pi=ne(Wr,"hx-sync"),di=null,vi=!1;if(pi){var mi=pi.split(":"),gi=mi[0].trim();if(gi==="this"?ci=xe(Wr,"hx-sync"):ci=ue(Wr,gi),pi=(mi[1]||"drop").trim(),ai=ae(ci),pi==="drop"&&ai.xhr&&ai.abortable!==!0)return ie(Qr),ei;if(pi==="abort"){if(ai.xhr)return ie(Qr),ei;vi=!0}else if(pi==="replace")ce(ci,"htmx:abort");else if(pi.indexOf("queue")===0){var yi=pi.split(" ");di=(yi[1]||"last").trim()}}if(ai.xhr)if(ai.abortable)ce(ci,"htmx:abort");else{if(di==null){if(Zr){var Si=ae(Zr);Si&&Si.triggerSpec&&Si.triggerSpec.queue&&(di=Si.triggerSpec.queue)}di==null&&(di="last")}return ai.queuedRequests==null&&(ai.queuedRequests=[]),di==="first"&&ai.queuedRequests.length===0?ai.queuedRequests.push(function(){he(Yr,Gr,Wr,Zr,Kr)}):di==="all"?ai.queuedRequests.push(function(){he(Yr,Gr,Wr,Zr,Kr)}):di==="last"&&(ai.queuedRequests=[],ai.queuedRequests.push(function(){he(Yr,Gr,Wr,Zr,Kr)})),ie(Qr),ei}var bi=new XMLHttpRequest;ai.xhr=bi,ai.abortable=vi;var Ti=function(){if(ai.xhr=null,ai.abortable=!1,ai.queuedRequests!=null&&ai.queuedRequests.length>0){var Fn=ai.queuedRequests.shift();Fn()}},Ai=ne(Wr,"hx-prompt");if(Ai){var Ei=prompt(Ai);if(Ei===null||!ce(Wr,"htmx:prompt",{prompt:Ei,target:ni}))return ie(Qr),Ti(),ei}if(ui&&!Jr&&!confirm(ui))return ie(Qr),Ti(),ei;var Mi=xr(Wr,ni,Ei);Yr!=="get"&&!Sr(Wr)&&(Mi["Content-Type"]="application/x-www-form-urlencoded"),Kr.headers&&(Mi=le(Mi,Kr.headers));var wi=dr(Wr,Yr),Pi=wi.errors,xi=wi.values;Kr.values&&(xi=le(xi,Kr.values));var Ci=Hr(Wr),Li=le(xi,Ci),Ii=yr(Li,Wr);Q.config.getCacheBusterParam&&Yr==="get"&&(Ii["org.htmx.cache-buster"]=ee(ni,"id")||"true"),(Gr==null||Gr==="")&&(Gr=re().location.href);var zi=Rr(Wr,"hx-request"),Bi=ae(Wr).boosted,Vi=Q.config.methodsThatUseUrlParams.indexOf(Yr)>=0,ji={boosted:Bi,useUrlParams:Vi,parameters:Ii,unfilteredParameters:Li,headers:Mi,target:ni,verb:Yr,errors:Pi,withCredentials:Kr.credentials||zi.credentials||Q.config.withCredentials,timeout:Kr.timeout||zi.timeout||Q.config.timeout,path:Gr,triggeringEvent:Zr};if(!ce(Wr,"htmx:configRequest",ji))return ie(Qr),Ti(),ei;if(Gr=ji.path,Yr=ji.verb,Mi=ji.headers,Ii=ji.parameters,Pi=ji.errors,Vi=ji.useUrlParams,Pi&&Pi.length>0)return ce(Wr,"htmx:validation:halted",ji),ie(Qr),Ti(),ei;var tn=Gr.split("#"),hn=tn[0],nn=tn[1],dn=Gr;if(Vi){dn=hn;var cn=Object.keys(Ii).length!==0;cn&&(dn.indexOf("?")<0?dn+="?":dn+="&",dn+=pr(Ii),nn&&(dn+="#"+nn))}if(!kr(Wr,dn,ji))return fe(Wr,"htmx:invalidPath",ji),ie(ti),ei;if(bi.open(Yr.toUpperCase(),dn,!0),bi.overrideMimeType("text/html"),bi.withCredentials=ji.withCredentials,bi.timeout=ji.timeout,!zi.noHeaders){for(var Ji in Mi)if(Mi.hasOwnProperty(Ji)){var vn=Mi[Ji];Lr(bi,Ji,vn)}}var pn={xhr:bi,target:ni,requestConfig:ji,etc:Kr,boosted:Bi,select:ii,pathInfo:{requestPath:Gr,finalRequestPath:dn,anchor:nn}};if(bi.onload=function(){try{var Fn=Ir(Wr);if(pn.pathInfo.responsePath=Ar(bi),ri(Wr,pn),lr(Xi,Nn),ce(Wr,"htmx:afterRequest",pn),ce(Wr,"htmx:afterOnLoad",pn),!se(Wr)){for(var Qn=null;Fn.length>0&&Qn==null;){var $n=Fn.shift();se($n)&&(Qn=$n)}Qn&&(ce(Qn,"htmx:afterRequest",pn),ce(Qn,"htmx:afterOnLoad",pn))}ie(Qr),Ti()}catch($a){throw fe(Wr,"htmx:onLoadError",le({error:$a},pn)),$a}},bi.onerror=function(){lr(Xi,Nn),fe(Wr,"htmx:afterRequest",pn),fe(Wr,"htmx:sendError",pn),ie(ti),Ti()},bi.onabort=function(){lr(Xi,Nn),fe(Wr,"htmx:afterRequest",pn),fe(Wr,"htmx:sendAbort",pn),ie(ti),Ti()},bi.ontimeout=function(){lr(Xi,Nn),fe(Wr,"htmx:afterRequest",pn),fe(Wr,"htmx:timeout",pn),ie(ti),Ti()},!ce(Wr,"htmx:beforeRequest",pn))return ie(Qr),Ti(),ei;var Xi=or(Wr),Nn=sr(Wr);oe(["loadstart","loadend","progress","abort"],function(Fn){oe([bi,bi.upload],function(Qn){Qn.addEventListener(Fn,function($n){ce(Wr,"htmx:xhr:"+Fn,{lengthComputable:$n.lengthComputable,loaded:$n.loaded,total:$n.total})})})}),ce(Wr,"htmx:beforeSend",pn);var Wn=Vi?null:Er(bi,Wr,Ii);return bi.send(Wn),ei}function Pr(Yr,Gr){var Wr=Gr.xhr,Zr=null,Kr=null;if(O(Wr,/HX-Push:/i)?(Zr=Wr.getResponseHeader("HX-Push"),Kr="push"):O(Wr,/HX-Push-Url:/i)?(Zr=Wr.getResponseHeader("HX-Push-Url"),Kr="push"):O(Wr,/HX-Replace-Url:/i)&&(Zr=Wr.getResponseHeader("HX-Replace-Url"),Kr="replace"),Zr)return Zr==="false"?{}:{type:Kr,path:Zr};var Jr=Gr.pathInfo.finalRequestPath,Qr=Gr.pathInfo.responsePath,ti=ne(Yr,"hx-push-url"),ei=ne(Yr,"hx-replace-url"),ri=ae(Yr).boosted,ii=null,ni=null;return ti?(ii="push",ni=ti):ei?(ii="replace",ni=ei):ri&&(ii="push",ni=Qr||Jr),ni?ni==="false"?{}:(ni==="true"&&(ni=Qr||Jr),Gr.pathInfo.anchor&&ni.indexOf("#")===-1&&(ni=ni+"#"+Gr.pathInfo.anchor),{type:ii,path:ni}):{}}function Mr(Yr,Gr){var Wr=Gr.xhr,Zr=Gr.target,Kr=Gr.etc,Jr=Gr.requestConfig,Qr=Gr.select;if(ce(Yr,"htmx:beforeOnLoad",Gr)){if(O(Wr,/HX-Trigger:/i)&&_e(Wr,"HX-Trigger",Yr),O(Wr,/HX-Location:/i)){er();var ti=Wr.getResponseHeader("HX-Location"),ei;ti.indexOf("{")===0&&(ei=E(ti),ti=ei.path,delete ei.path),Nr("GET",ti,ei).then(function(){tr(ti)});return}var ri=O(Wr,/HX-Refresh:/i)&&Wr.getResponseHeader("HX-Refresh")==="true";if(O(Wr,/HX-Redirect:/i)){location.href=Wr.getResponseHeader("HX-Redirect"),ri&&location.reload();return}if(ri){location.reload();return}O(Wr,/HX-Retarget:/i)&&(Wr.getResponseHeader("HX-Retarget")==="this"?Gr.target=Yr:Gr.target=ue(Yr,Wr.getResponseHeader("HX-Retarget")));var ii=Pr(Yr,Gr),ni=Wr.status>=200&&Wr.status<400&&Wr.status!==204,ai=Wr.response,oi=Wr.status>=400,si=Q.config.ignoreTitle,li=le({shouldSwap:ni,serverResponse:ai,isError:oi,ignoreTitle:si},Gr);if(ce(Zr,"htmx:beforeSwap",li)){if(Zr=li.target,ai=li.serverResponse,oi=li.isError,si=li.ignoreTitle,Gr.target=Zr,Gr.failed=oi,Gr.successful=!oi,li.shouldSwap){Wr.status===286&&at(Yr),R(Yr,function(gi){ai=gi.transformResponse(ai,Wr,Yr)}),ii.type&&er();var ui=Kr.swapOverride;O(Wr,/HX-Reswap:/i)&&(ui=Wr.getResponseHeader("HX-Reswap"));var ei=wr(Yr,ui);ei.hasOwnProperty("ignoreTitle")&&(si=ei.ignoreTitle),Zr.classList.add(Q.config.swappingClass);var fi=null,hi=null,ci=function(){try{var gi=document.activeElement,yi={};try{yi={elt:gi,start:gi?gi.selectionStart:null,end:gi?gi.selectionEnd:null}}catch{}var Si;Qr&&(Si=Qr),O(Wr,/HX-Reselect:/i)&&(Si=Wr.getResponseHeader("HX-Reselect")),ii.type&&(ce(re().body,"htmx:beforeHistoryUpdate",le({history:ii},Gr)),ii.type==="push"?(tr(ii.path),ce(re().body,"htmx:pushedIntoHistory",{path:ii.path})):(rr(ii.path),ce(re().body,"htmx:replacedInHistory",{path:ii.path})));var bi=T(Zr);if(je(ei.swapStyle,Zr,Yr,ai,bi,Si),yi.elt&&!se(yi.elt)&&ee(yi.elt,"id")){var Ti=document.getElementById(ee(yi.elt,"id")),Ai={preventScroll:ei.focusScroll!==void 0?!ei.focusScroll:!Q.config.defaultFocusScroll};if(Ti){if(yi.start&&Ti.setSelectionRange)try{Ti.setSelectionRange(yi.start,yi.end)}catch{}Ti.focus(Ai)}}if(Zr.classList.remove(Q.config.swappingClass),oe(bi.elts,function(wi){wi.classList&&wi.classList.add(Q.config.settlingClass),ce(wi,"htmx:afterSwap",Gr)}),O(Wr,/HX-Trigger-After-Swap:/i)){var Ei=Yr;se(Yr)||(Ei=re().body),_e(Wr,"HX-Trigger-After-Swap",Ei)}var Mi=function(){if(oe(bi.tasks,function(Ci){Ci.call()}),oe(bi.elts,function(Ci){Ci.classList&&Ci.classList.remove(Q.config.settlingClass),ce(Ci,"htmx:afterSettle",Gr)}),Gr.pathInfo.anchor){var wi=re().getElementById(Gr.pathInfo.anchor);wi&&wi.scrollIntoView({block:"start",behavior:"auto"})}if(bi.title&&!si){var Pi=C("title");Pi?Pi.innerHTML=bi.title:window.document.title=bi.title}if(Cr(bi.elts,ei),O(Wr,/HX-Trigger-After-Settle:/i)){var xi=Yr;se(Yr)||(xi=re().body),_e(Wr,"HX-Trigger-After-Settle",xi)}ie(fi)};ei.settleDelay>0?setTimeout(Mi,ei.settleDelay):Mi()}catch(wi){throw fe(Yr,"htmx:swapError",Gr),ie(hi),wi}},pi=Q.config.globalViewTransitions;if(ei.hasOwnProperty("transition")&&(pi=ei.transition),pi&&ce(Yr,"htmx:beforeTransition",Gr)&&typeof Promise<"u"&&document.startViewTransition){var di=new Promise(function(gi,yi){fi=gi,hi=yi}),vi=ci;ci=function(){document.startViewTransition(function(){return vi(),di})}}ei.swapDelay>0?setTimeout(ci,ei.swapDelay):ci()}oi&&fe(Yr,"htmx:responseError",le({error:"Response Status Error Code "+Wr.status+" from "+Gr.pathInfo.requestPath},Gr))}}}var Xr={};function Dr(){return{init:function(Yr){return null},onEvent:function(Yr,Gr){return!0},transformResponse:function(Yr,Gr,Wr){return Yr},isInlineSwap:function(Yr){return!1},handleSwap:function(Yr,Gr,Wr,Zr){return!1},encodeParameters:function(Yr,Gr,Wr){return null}}}function Ur(Yr,Gr){Gr.init&&Gr.init(r),Xr[Yr]=le(Dr(),Gr)}function Br(Yr){delete Xr[Yr]}function Fr(Yr,Gr,Wr){if(Yr==null)return Gr;Gr==null&&(Gr=[]),Wr==null&&(Wr=[]);var Zr=te(Yr,"hx-ext");return Zr&&oe(Zr.split(","),function(Kr){if(Kr=Kr.replace(/ /g,""),Kr.slice(0,7)=="ignore:"){Wr.push(Kr.slice(7));return}if(Wr.indexOf(Kr)<0){var Jr=Xr[Kr];Jr&&Gr.indexOf(Jr)<0&&Gr.push(Jr)}}),Fr(u(Yr),Gr,Wr)}var Vr=!1;re().addEventListener("DOMContentLoaded",function(){Vr=!0});function jr(Yr){Vr||re().readyState==="complete"?Yr():re().addEventListener("DOMContentLoaded",Yr)}function _r(){Q.config.includeIndicatorStyles!==!1&&re().head.insertAdjacentHTML("beforeend","<style>                      ."+Q.config.indicatorClass+"{opacity:0}                      ."+Q.config.requestClass+" ."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                      ."+Q.config.requestClass+"."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                    </style>")}function zr(){var Yr=re().querySelector('meta[name="htmx-config"]');return Yr?E(Yr.content):null}function $r(){var Yr=zr();Yr&&(Q.config=le(Q.config,Yr))}return jr(function(){$r(),_r();var Yr=re().body;zt(Yr);var Gr=re().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");Yr.addEventListener("htmx:abort",function(Zr){var Kr=Zr.target,Jr=ae(Kr);Jr&&Jr.xhr&&Jr.xhr.abort()});let Wr=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(Zr){Zr.state&&Zr.state.htmx?(ar(),oe(Gr,function(Kr){ce(Kr,"htmx:restored",{document:re(),triggerEvent:ce})})):Wr&&Wr(Zr)},setTimeout(function(){ce(Yr,"htmx:load",{}),Yr=null},0)}),Q}()})});var iY=uD(fD()),mXt=uD(hD());var kb=function(Yr,Gr){return kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Wr,Zr){Wr.__proto__=Zr}||function(Wr,Zr){for(var Kr in Zr)Object.prototype.hasOwnProperty.call(Zr,Kr)&&(Wr[Kr]=Zr[Kr])},kb(Yr,Gr)};function Di(Yr,Gr){if(typeof Gr!="function"&&Gr!==null)throw new TypeError("Class extends value "+String(Gr)+" is not a constructor or null");kb(Yr,Gr);function Wr(){this.constructor=Yr}Yr.prototype=Gr===null?Object.create(Gr):(Wr.prototype=Gr.prototype,new Wr)}var hY=function(){function Yr(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return Yr}(),cY=function(){function Yr(){this.browser=new hY,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return Yr}(),jf=new cY;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(jf.wxa=!0,jf.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?jf.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(jf.node=!0,jf.svgSupported=!0):pY(navigator.userAgent,jf);function pY(Yr,Gr){var Wr=Gr.browser,Zr=Yr.match(/Firefox\/([\d.]+)/),Kr=Yr.match(/MSIE\s([\d.]+)/)||Yr.match(/Trident\/.+?rv:(([\d.]+))/),Jr=Yr.match(/Edge?\/([\d.]+)/),Qr=/micromessenger/i.test(Yr);Zr&&(Wr.firefox=!0,Wr.version=Zr[1]),Kr&&(Wr.ie=!0,Wr.version=Kr[1]),Jr&&(Wr.edge=!0,Wr.version=Jr[1],Wr.newEdge=+Jr[1].split(".")[0]>18),Qr&&(Wr.weChat=!0),Gr.svgSupported=typeof SVGRect<"u",Gr.touchEventsSupported="ontouchstart"in window&&!Wr.ie&&!Wr.edge,Gr.pointerEventsSupported="onpointerdown"in window&&(Wr.edge||Wr.ie&&+Wr.version>=11),Gr.domSupported=typeof document<"u";var ti=document.documentElement.style;Gr.transform3dSupported=(Wr.ie&&"transition"in ti||Wr.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in ti)&&!("OTransition"in ti),Gr.transformSupported=Gr.transform3dSupported||Wr.ie&&+Wr.version>=9}var Cn=jf;var ug=12,Rb="sans-serif",is=ug+"px "+Rb,dY=20,vY=100,mY="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function gY(Yr){var Gr={};if(typeof JSON>"u")return Gr;for(var Wr=0;Wr<Yr.length;Wr++){var Zr=String.fromCharCode(Wr+32),Kr=(Yr.charCodeAt(Wr)-dY)/vY;Gr[Zr]=Kr}return Gr}var yY=gY(mY),fo={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var Yr,Gr;return function(Wr,Zr){if(!Yr){var Kr=fo.createCanvas();Yr=Kr&&Kr.getContext("2d")}if(Yr)return Gr!==Zr&&(Gr=Yr.font=Zr||is),Yr.measureText(Wr);Wr=Wr||"",Zr=Zr||is;var Jr=/(\d+)px/.exec(Zr),Qr=Jr&&+Jr[1]||ug,ti=0;if(Zr.indexOf("mono")>=0)ti=Qr*Wr.length;else for(var ei=0;ei<Wr.length;ei++){var ri=yY[Wr[ei]];ti+=ri==null?Qr:ri*Qr}return{width:ti}}}(),loadImage:function(Yr,Gr,Wr){var Zr=new Image;return Zr.onload=Gr,Zr.onerror=Wr,Zr.src=Yr,Zr}};var dD=Ja(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(Yr,Gr){return Yr["[object "+Gr+"]"]=!0,Yr},{}),vD=Ja(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(Yr,Gr){return Yr["[object "+Gr+"Array]"]=!0,Yr},{}),_c=Object.prototype.toString,hg=Array.prototype,xY=hg.forEach,_Y=hg.filter,Ob=hg.slice,bY=hg.map,cD=function(){}.constructor,fg=cD?cD.prototype:null,zb="__proto__",SY=2311;function cg(){return SY++}function Kf(){for(var Yr=[],Gr=0;Gr<arguments.length;Gr++)Yr[Gr]=arguments[Gr];typeof console<"u"&&console.error.apply(console,Yr)}function Ki(Yr){if(Yr==null||typeof Yr!="object")return Yr;var Gr=Yr,Wr=_c.call(Yr);if(Wr==="[object Array]"){if(!xd(Yr)){Gr=[];for(var Zr=0,Kr=Yr.length;Zr<Kr;Zr++)Gr[Zr]=Ki(Yr[Zr])}}else if(vD[Wr]){if(!xd(Yr)){var Jr=Yr.constructor;if(Jr.from)Gr=Jr.from(Yr);else{Gr=new Jr(Yr.length);for(var Zr=0,Kr=Yr.length;Zr<Kr;Zr++)Gr[Zr]=Yr[Zr]}}}else if(!dD[Wr]&&!xd(Yr)&&!Fu(Yr)){Gr={};for(var Qr in Yr)Yr.hasOwnProperty(Qr)&&Qr!==zb&&(Gr[Qr]=Ki(Yr[Qr]))}return Gr}function un(Yr,Gr,Wr){if(!qi(Gr)||!qi(Yr))return Wr?Ki(Gr):Yr;for(var Zr in Gr)if(Gr.hasOwnProperty(Zr)&&Zr!==zb){var Kr=Yr[Zr],Jr=Gr[Zr];qi(Jr)&&qi(Kr)&&!Ri(Jr)&&!Ri(Kr)&&!Fu(Jr)&&!Fu(Kr)&&!pD(Jr)&&!pD(Kr)&&!xd(Jr)&&!xd(Kr)?un(Kr,Jr,Wr):(Wr||!(Zr in Yr))&&(Yr[Zr]=Ki(Gr[Zr]))}return Yr}function bc(Yr,Gr){for(var Wr=Yr[0],Zr=1,Kr=Yr.length;Zr<Kr;Zr++)Wr=un(Wr,Yr[Zr],Gr);return Wr}function ki(Yr,Gr){if(Object.assign)Object.assign(Yr,Gr);else for(var Wr in Gr)Gr.hasOwnProperty(Wr)&&Wr!==zb&&(Yr[Wr]=Gr[Wr]);return Yr}function Yi(Yr,Gr,Wr){for(var Zr=fn(Gr),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];(Wr?Gr[Jr]!=null:Yr[Jr]==null)&&(Yr[Jr]=Gr[Jr])}return Yr}var Yut=fo.createCanvas;function sn(Yr,Gr){if(Yr){if(Yr.indexOf)return Yr.indexOf(Gr);for(var Wr=0,Zr=Yr.length;Wr<Zr;Wr++)if(Yr[Wr]===Gr)return Wr}return-1}function mD(Yr,Gr){var Wr=Yr.prototype;function Zr(){}Zr.prototype=Gr.prototype,Yr.prototype=new Zr;for(var Kr in Wr)Wr.hasOwnProperty(Kr)&&(Yr.prototype[Kr]=Wr[Kr]);Yr.prototype.constructor=Yr,Yr.superClass=Gr}function Gn(Yr,Gr,Wr){if(Yr="prototype"in Yr?Yr.prototype:Yr,Gr="prototype"in Gr?Gr.prototype:Gr,Object.getOwnPropertyNames)for(var Zr=Object.getOwnPropertyNames(Gr),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Jr!=="constructor"&&(Wr?Gr[Jr]!=null:Yr[Jr]==null)&&(Yr[Jr]=Gr[Jr])}else Yi(Yr,Gr,Wr)}function va(Yr){return!Yr||typeof Yr=="string"?!1:typeof Yr.length=="number"}function _i(Yr,Gr,Wr){if(Yr&&Gr)if(Yr.forEach&&Yr.forEach===xY)Yr.forEach(Gr,Wr);else if(Yr.length===+Yr.length)for(var Zr=0,Kr=Yr.length;Zr<Kr;Zr++)Gr.call(Wr,Yr[Zr],Zr,Yr);else for(var Jr in Yr)Yr.hasOwnProperty(Jr)&&Gr.call(Wr,Yr[Jr],Jr,Yr)}function Oi(Yr,Gr,Wr){if(!Yr)return[];if(!Gr)return pg(Yr);if(Yr.map&&Yr.map===bY)return Yr.map(Gr,Wr);for(var Zr=[],Kr=0,Jr=Yr.length;Kr<Jr;Kr++)Zr.push(Gr.call(Wr,Yr[Kr],Kr,Yr));return Zr}function Ja(Yr,Gr,Wr,Zr){if(Yr&&Gr){for(var Kr=0,Jr=Yr.length;Kr<Jr;Kr++)Wr=Gr.call(Zr,Wr,Yr[Kr],Kr,Yr);return Wr}}function Tn(Yr,Gr,Wr){if(!Yr)return[];if(!Gr)return pg(Yr);if(Yr.filter&&Yr.filter===_Y)return Yr.filter(Gr,Wr);for(var Zr=[],Kr=0,Jr=Yr.length;Kr<Jr;Kr++)Gr.call(Wr,Yr[Kr],Kr,Yr)&&Zr.push(Yr[Kr]);return Zr}function gD(Yr,Gr,Wr){if(Yr&&Gr){for(var Zr=0,Kr=Yr.length;Zr<Kr;Zr++)if(Gr.call(Wr,Yr[Zr],Zr,Yr))return Yr[Zr]}}function fn(Yr){if(!Yr)return[];if(Object.keys)return Object.keys(Yr);var Gr=[];for(var Wr in Yr)Yr.hasOwnProperty(Wr)&&Gr.push(Wr);return Gr}function wY(Yr,Gr){for(var Wr=[],Zr=2;Zr<arguments.length;Zr++)Wr[Zr-2]=arguments[Zr];return function(){return Yr.apply(Gr,Wr.concat(Ob.call(arguments)))}}var Gi=fg&&Wi(fg.bind)?fg.call.bind(fg.bind):wY;function en(Yr){for(var Gr=[],Wr=1;Wr<arguments.length;Wr++)Gr[Wr-1]=arguments[Wr];return function(){return Yr.apply(this,Gr.concat(Ob.call(arguments)))}}function Ri(Yr){return Array.isArray?Array.isArray(Yr):_c.call(Yr)==="[object Array]"}function Wi(Yr){return typeof Yr=="function"}function Ni(Yr){return typeof Yr=="string"}function _d(Yr){return _c.call(Yr)==="[object String]"}function gn(Yr){return typeof Yr=="number"}function qi(Yr){var Gr=typeof Yr;return Gr==="function"||!!Yr&&Gr==="object"}function pD(Yr){return!!dD[_c.call(Yr)]}function Ta(Yr){return!!vD[_c.call(Yr)]}function Fu(Yr){return typeof Yr=="object"&&typeof Yr.nodeType=="number"&&typeof Yr.ownerDocument=="object"}function Vu(Yr){return Yr.colorStops!=null}function yD(Yr){return Yr.image!=null}function xD(Yr){return _c.call(Yr)==="[object RegExp]"}function Bu(Yr){return Yr!==Yr}function ta(){for(var Yr=[],Gr=0;Gr<arguments.length;Gr++)Yr[Gr]=arguments[Gr];for(var Wr=0,Zr=Yr.length;Wr<Zr;Wr++)if(Yr[Wr]!=null)return Yr[Wr]}function on(Yr,Gr){return Yr??Gr}function Fa(Yr,Gr,Wr){return Yr??Gr??Wr}function pg(Yr){for(var Gr=[],Wr=1;Wr<arguments.length;Wr++)Gr[Wr-1]=arguments[Wr];return Ob.apply(Yr,Gr)}function Sc(Yr){if(typeof Yr=="number")return[Yr,Yr,Yr,Yr];var Gr=Yr.length;return Gr===2?[Yr[0],Yr[1],Yr[0],Yr[1]]:Gr===3?[Yr[0],Yr[1],Yr[2],Yr[1]]:Yr}function ea(Yr,Gr){if(!Yr)throw new Error(Gr)}function Va(Yr){return Yr==null?null:typeof Yr.trim=="function"?Yr.trim():Yr.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var _D="__ec_primitive__";function $f(Yr){Yr[_D]=!0}function xd(Yr){return Yr[_D]}var CY=function(){function Yr(){this.data={}}return Yr.prototype.delete=function(Gr){var Wr=this.has(Gr);return Wr&&delete this.data[Gr],Wr},Yr.prototype.has=function(Gr){return this.data.hasOwnProperty(Gr)},Yr.prototype.get=function(Gr){return this.data[Gr]},Yr.prototype.set=function(Gr,Wr){return this.data[Gr]=Wr,this},Yr.prototype.keys=function(){return fn(this.data)},Yr.prototype.forEach=function(Gr){var Wr=this.data;for(var Zr in Wr)Wr.hasOwnProperty(Zr)&&Gr(Wr[Zr],Zr)},Yr}(),bD=typeof Map=="function";function TY(){return bD?new Map:new CY}var AY=function(){function Yr(Gr){var Wr=Ri(Gr);this.data=TY();var Zr=this;Gr instanceof Yr?Gr.each(Kr):Gr&&_i(Gr,Kr);function Kr(Jr,Qr){Wr?Zr.set(Jr,Qr):Zr.set(Qr,Jr)}}return Yr.prototype.hasKey=function(Gr){return this.data.has(Gr)},Yr.prototype.get=function(Gr){return this.data.get(Gr)},Yr.prototype.set=function(Gr,Wr){return this.data.set(Gr,Wr),Wr},Yr.prototype.each=function(Gr,Wr){this.data.forEach(function(Zr,Kr){Gr.call(Wr,Zr,Kr)})},Yr.prototype.keys=function(){var Gr=this.data.keys();return bD?Array.from(Gr):Gr},Yr.prototype.removeKey=function(Gr){this.data.delete(Gr)},Yr}();function Hi(Yr){return new AY(Yr)}function Jf(Yr,Gr){for(var Wr=new Yr.constructor(Yr.length+Gr.length),Zr=0;Zr<Yr.length;Zr++)Wr[Zr]=Yr[Zr];for(var Kr=Yr.length,Zr=0;Zr<Gr.length;Zr++)Wr[Zr+Kr]=Gr[Zr];return Wr}function Uu(Yr,Gr){var Wr;if(Object.create)Wr=Object.create(Yr);else{var Zr=function(){};Zr.prototype=Yr,Wr=new Zr}return Gr&&ki(Wr,Gr),Wr}function dg(Yr){var Gr=Yr.style;Gr.webkitUserSelect="none",Gr.userSelect="none",Gr.webkitTapHighlightColor="rgba(0,0,0,0)",Gr["-webkit-touch-callout"]="none"}function $i(Yr,Gr){return Yr.hasOwnProperty(Gr)}function qn(){}var wc=180/Math.PI;function Sl(Yr,Gr){return Yr==null&&(Yr=0),Gr==null&&(Gr=0),[Yr,Gr]}function Ba(Yr,Gr){return Yr[0]=Gr[0],Yr[1]=Gr[1],Yr}function Lo(Yr){return[Yr[0],Yr[1]]}function SD(Yr,Gr,Wr){return Yr[0]=Gr,Yr[1]=Wr,Yr}function Nb(Yr,Gr,Wr){return Yr[0]=Gr[0]+Wr[0],Yr[1]=Gr[1]+Wr[1],Yr}function bd(Yr,Gr,Wr,Zr){return Yr[0]=Gr[0]+Wr[0]*Zr,Yr[1]=Gr[1]+Wr[1]*Zr,Yr}function Zs(Yr,Gr,Wr){return Yr[0]=Gr[0]-Wr[0],Yr[1]=Gr[1]-Wr[1],Yr}function vg(Yr){return Math.sqrt(MY(Yr))}function MY(Yr){return Yr[0]*Yr[0]+Yr[1]*Yr[1]}function Cc(Yr,Gr,Wr){return Yr[0]=Gr[0]*Wr,Yr[1]=Gr[1]*Wr,Yr}function ys(Yr,Gr){var Wr=vg(Gr);return Wr===0?(Yr[0]=0,Yr[1]=0):(Yr[0]=Gr[0]/Wr,Yr[1]=Gr[1]/Wr),Yr}function mg(Yr,Gr){return Math.sqrt((Yr[0]-Gr[0])*(Yr[0]-Gr[0])+(Yr[1]-Gr[1])*(Yr[1]-Gr[1]))}var xs=mg;function PY(Yr,Gr){return(Yr[0]-Gr[0])*(Yr[0]-Gr[0])+(Yr[1]-Gr[1])*(Yr[1]-Gr[1])}var iu=PY;function Tc(Yr,Gr,Wr,Zr){return Yr[0]=Gr[0]+Zr*(Wr[0]-Gr[0]),Yr[1]=Gr[1]+Zr*(Wr[1]-Gr[1]),Yr}function ma(Yr,Gr,Wr){var Zr=Gr[0],Kr=Gr[1];return Yr[0]=Wr[0]*Zr+Wr[2]*Kr+Wr[4],Yr[1]=Wr[1]*Zr+Wr[3]*Kr+Wr[5],Yr}function ns(Yr,Gr,Wr){return Yr[0]=Math.min(Gr[0],Wr[0]),Yr[1]=Math.min(Gr[1],Wr[1]),Yr}function as(Yr,Gr,Wr){return Yr[0]=Math.max(Gr[0],Wr[0]),Yr[1]=Math.max(Gr[1],Wr[1]),Yr}var Ac=function(){function Yr(Gr,Wr){this.target=Gr,this.topTarget=Wr&&Wr.topTarget}return Yr}(),EY=function(){function Yr(Gr){this.handler=Gr,Gr.on("mousedown",this._dragStart,this),Gr.on("mousemove",this._drag,this),Gr.on("mouseup",this._dragEnd,this)}return Yr.prototype._dragStart=function(Gr){for(var Wr=Gr.target;Wr&&!Wr.draggable;)Wr=Wr.parent||Wr.__hostTarget;Wr&&(this._draggingTarget=Wr,Wr.dragging=!0,this._x=Gr.offsetX,this._y=Gr.offsetY,this.handler.dispatchToElement(new Ac(Wr,Gr),"dragstart",Gr.event))},Yr.prototype._drag=function(Gr){var Wr=this._draggingTarget;if(Wr){var Zr=Gr.offsetX,Kr=Gr.offsetY,Jr=Zr-this._x,Qr=Kr-this._y;this._x=Zr,this._y=Kr,Wr.drift(Jr,Qr,Gr),this.handler.dispatchToElement(new Ac(Wr,Gr),"drag",Gr.event);var ti=this.handler.findHover(Zr,Kr,Wr).target,ei=this._dropTarget;this._dropTarget=ti,Wr!==ti&&(ei&&ti!==ei&&this.handler.dispatchToElement(new Ac(ei,Gr),"dragleave",Gr.event),ti&&ti!==ei&&this.handler.dispatchToElement(new Ac(ti,Gr),"dragenter",Gr.event))}},Yr.prototype._dragEnd=function(Gr){var Wr=this._draggingTarget;Wr&&(Wr.dragging=!1),this.handler.dispatchToElement(new Ac(Wr,Gr),"dragend",Gr.event),this._dropTarget&&this.handler.dispatchToElement(new Ac(this._dropTarget,Gr),"drop",Gr.event),this._draggingTarget=null,this._dropTarget=null},Yr}(),wD=EY;var DY=function(){function Yr(Gr){Gr&&(this._$eventProcessor=Gr)}return Yr.prototype.on=function(Gr,Wr,Zr,Kr){this._$handlers||(this._$handlers={});var Jr=this._$handlers;if(typeof Wr=="function"&&(Kr=Zr,Zr=Wr,Wr=null),!Zr||!Gr)return this;var Qr=this._$eventProcessor;Wr!=null&&Qr&&Qr.normalizeQuery&&(Wr=Qr.normalizeQuery(Wr)),Jr[Gr]||(Jr[Gr]=[]);for(var ti=0;ti<Jr[Gr].length;ti++)if(Jr[Gr][ti].h===Zr)return this;var ei={h:Zr,query:Wr,ctx:Kr||this,callAtLast:Zr.zrEventfulCallAtLast},ri=Jr[Gr].length-1,ii=Jr[Gr][ri];return ii&&ii.callAtLast?Jr[Gr].splice(ri,0,ei):Jr[Gr].push(ei),this},Yr.prototype.isSilent=function(Gr){var Wr=this._$handlers;return!Wr||!Wr[Gr]||!Wr[Gr].length},Yr.prototype.off=function(Gr,Wr){var Zr=this._$handlers;if(!Zr)return this;if(!Gr)return this._$handlers={},this;if(Wr){if(Zr[Gr]){for(var Kr=[],Jr=0,Qr=Zr[Gr].length;Jr<Qr;Jr++)Zr[Gr][Jr].h!==Wr&&Kr.push(Zr[Gr][Jr]);Zr[Gr]=Kr}Zr[Gr]&&Zr[Gr].length===0&&delete Zr[Gr]}else delete Zr[Gr];return this},Yr.prototype.trigger=function(Gr){for(var Wr=[],Zr=1;Zr<arguments.length;Zr++)Wr[Zr-1]=arguments[Zr];if(!this._$handlers)return this;var Kr=this._$handlers[Gr],Jr=this._$eventProcessor;if(Kr)for(var Qr=Wr.length,ti=Kr.length,ei=0;ei<ti;ei++){var ri=Kr[ei];if(!(Jr&&Jr.filter&&ri.query!=null&&!Jr.filter(Gr,ri.query)))switch(Qr){case 0:ri.h.call(ri.ctx);break;case 1:ri.h.call(ri.ctx,Wr[0]);break;case 2:ri.h.call(ri.ctx,Wr[0],Wr[1]);break;default:ri.h.apply(ri.ctx,Wr);break}}return Jr&&Jr.afterTrigger&&Jr.afterTrigger(Gr),this},Yr.prototype.triggerWithContext=function(Gr){for(var Wr=[],Zr=1;Zr<arguments.length;Zr++)Wr[Zr-1]=arguments[Zr];if(!this._$handlers)return this;var Kr=this._$handlers[Gr],Jr=this._$eventProcessor;if(Kr)for(var Qr=Wr.length,ti=Wr[Qr-1],ei=Kr.length,ri=0;ri<ei;ri++){var ii=Kr[ri];if(!(Jr&&Jr.filter&&ii.query!=null&&!Jr.filter(Gr,ii.query)))switch(Qr){case 0:ii.h.call(ti);break;case 1:ii.h.call(ti,Wr[0]);break;case 2:ii.h.call(ti,Wr[0],Wr[1]);break;default:ii.h.apply(ti,Wr.slice(1,Qr-1));break}}return Jr&&Jr.afterTrigger&&Jr.afterTrigger(Gr),this},Yr}(),Ia=DY;var IY=Math.log(2);function Fb(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Zr+"-"+Kr,ti=Yr.length;if(Jr.hasOwnProperty(Qr))return Jr[Qr];if(Gr===1){var ei=Math.round(Math.log((1<<ti)-1&~Kr)/IY);return Yr[Wr][ei]}for(var ri=Zr|1<<Wr,ii=Wr+1;Zr&1<<ii;)ii++;for(var ni=0,ai=0,oi=0;ai<ti;ai++){var si=1<<ai;si&Kr||(ni+=(oi%2?-1:1)*Yr[Wr][ai]*Fb(Yr,Gr-1,ii,ri,Kr|si,Jr),oi++)}return Jr[Qr]=ni,ni}function Vb(Yr,Gr){var Wr=[[Yr[0],Yr[1],1,0,0,0,-Gr[0]*Yr[0],-Gr[0]*Yr[1]],[0,0,0,Yr[0],Yr[1],1,-Gr[1]*Yr[0],-Gr[1]*Yr[1]],[Yr[2],Yr[3],1,0,0,0,-Gr[2]*Yr[2],-Gr[2]*Yr[3]],[0,0,0,Yr[2],Yr[3],1,-Gr[3]*Yr[2],-Gr[3]*Yr[3]],[Yr[4],Yr[5],1,0,0,0,-Gr[4]*Yr[4],-Gr[4]*Yr[5]],[0,0,0,Yr[4],Yr[5],1,-Gr[5]*Yr[4],-Gr[5]*Yr[5]],[Yr[6],Yr[7],1,0,0,0,-Gr[6]*Yr[6],-Gr[6]*Yr[7]],[0,0,0,Yr[6],Yr[7],1,-Gr[7]*Yr[6],-Gr[7]*Yr[7]]],Zr={},Kr=Fb(Wr,8,0,0,0,Zr);if(Kr!==0){for(var Jr=[],Qr=0;Qr<8;Qr++)for(var ti=0;ti<8;ti++)Jr[ti]==null&&(Jr[ti]=0),Jr[ti]+=((Qr+ti)%2?-1:1)*Fb(Wr,7,Qr===0?1:0,1<<Qr,1<<ti,Zr)/Kr*Gr[Qr];return function(ei,ri,ii){var ni=ri*Jr[6]+ii*Jr[7]+1;ei[0]=(ri*Jr[0]+ii*Jr[1]+Jr[2])/ni,ei[1]=(ri*Jr[3]+ii*Jr[4]+Jr[5])/ni}}}var CD="___zrEVENTSAVED",Bb=[];function TD(Yr,Gr,Wr,Zr,Kr){return gg(Bb,Gr,Zr,Kr,!0)&&gg(Yr,Wr,Bb[0],Bb[1])}function gg(Yr,Gr,Wr,Zr,Kr){if(Gr.getBoundingClientRect&&Cn.domSupported&&!Ub(Gr)){var Jr=Gr[CD]||(Gr[CD]={}),Qr=LY(Gr,Jr),ti=kY(Qr,Jr,Kr);if(ti)return ti(Yr,Wr,Zr),!0}return!1}function LY(Yr,Gr){var Wr=Gr.markers;if(Wr)return Wr;Wr=Gr.markers=[];for(var Zr=["left","right"],Kr=["top","bottom"],Jr=0;Jr<4;Jr++){var Qr=document.createElement("div"),ti=Qr.style,ei=Jr%2,ri=(Jr>>1)%2;ti.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",Zr[ei]+":0",Kr[ri]+":0",Zr[1-ei]+":auto",Kr[1-ri]+":auto",""].join("!important;"),Yr.appendChild(Qr),Wr.push(Qr)}return Wr}function kY(Yr,Gr,Wr){for(var Zr=Wr?"invTrans":"trans",Kr=Gr[Zr],Jr=Gr.srcCoords,Qr=[],ti=[],ei=!0,ri=0;ri<4;ri++){var ii=Yr[ri].getBoundingClientRect(),ni=2*ri,ai=ii.left,oi=ii.top;Qr.push(ai,oi),ei=ei&&Jr&&ai===Jr[ni]&&oi===Jr[ni+1],ti.push(Yr[ri].offsetLeft,Yr[ri].offsetTop)}return ei&&Kr?Kr:(Gr.srcCoords=Qr,Gr[Zr]=Wr?Vb(ti,Qr):Vb(Qr,ti))}function Ub(Yr){return Yr.nodeName.toUpperCase()==="CANVAS"}var RY=/([&<>"'])/g,OY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Qa(Yr){return Yr==null?"":(Yr+"").replace(RY,function(Gr,Wr){return OY[Wr]})}var zY=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gb=[],NY=Cn.browser.firefox&&+Cn.browser.version.split(".")[0]<39;function yg(Yr,Gr,Wr,Zr){return Wr=Wr||{},Zr?AD(Yr,Gr,Wr):NY&&Gr.layerX!=null&&Gr.layerX!==Gr.offsetX?(Wr.zrX=Gr.layerX,Wr.zrY=Gr.layerY):Gr.offsetX!=null?(Wr.zrX=Gr.offsetX,Wr.zrY=Gr.offsetY):AD(Yr,Gr,Wr),Wr}function AD(Yr,Gr,Wr){if(Cn.domSupported&&Yr.getBoundingClientRect){var Zr=Gr.clientX,Kr=Gr.clientY;if(Ub(Yr)){var Jr=Yr.getBoundingClientRect();Wr.zrX=Zr-Jr.left,Wr.zrY=Kr-Jr.top;return}else if(gg(Gb,Yr,Zr,Kr)){Wr.zrX=Gb[0],Wr.zrY=Gb[1];return}}Wr.zrX=Wr.zrY=0}function xg(Yr){return Yr||window.event}function ko(Yr,Gr,Wr){if(Gr=xg(Gr),Gr.zrX!=null)return Gr;var Zr=Gr.type,Kr=Zr&&Zr.indexOf("touch")>=0;if(Kr){var Qr=Zr!=="touchend"?Gr.targetTouches[0]:Gr.changedTouches[0];Qr&&yg(Yr,Qr,Gr,Wr)}else{yg(Yr,Gr,Gr,Wr);var Jr=FY(Gr);Gr.zrDelta=Jr?Jr/120:-(Gr.detail||0)/3}var ti=Gr.button;return Gr.which==null&&ti!==void 0&&zY.test(Gr.type)&&(Gr.which=ti&1?1:ti&2?3:ti&4?2:0),Gr}function FY(Yr){var Gr=Yr.wheelDelta;if(Gr)return Gr;var Wr=Yr.deltaX,Zr=Yr.deltaY;if(Wr==null||Zr==null)return Gr;var Kr=Math.abs(Zr!==0?Zr:Wr),Jr=Zr>0?-1:Zr<0?1:Wr>0?-1:1;return 3*Kr*Jr}function Sd(Yr,Gr,Wr,Zr){Yr.addEventListener(Gr,Wr,Zr)}function MD(Yr,Gr,Wr,Zr){Yr.removeEventListener(Gr,Wr,Zr)}var Ro=function(Yr){Yr.preventDefault(),Yr.stopPropagation(),Yr.cancelBubble=!0};function Hb(Yr){return Yr.which===2||Yr.which===3}var ED=function(){function Yr(){this._track=[]}return Yr.prototype.recognize=function(Gr,Wr,Zr){return this._doTrack(Gr,Wr,Zr),this._recognize(Gr)},Yr.prototype.clear=function(){return this._track.length=0,this},Yr.prototype._doTrack=function(Gr,Wr,Zr){var Kr=Gr.touches;if(Kr){for(var Jr={points:[],touches:[],target:Wr,event:Gr},Qr=0,ti=Kr.length;Qr<ti;Qr++){var ei=Kr[Qr],ri=yg(Zr,ei,{});Jr.points.push([ri.zrX,ri.zrY]),Jr.touches.push(ei)}this._track.push(Jr)}},Yr.prototype._recognize=function(Gr){for(var Wr in Wb)if(Wb.hasOwnProperty(Wr)){var Zr=Wb[Wr](this._track,Gr);if(Zr)return Zr}},Yr}();function PD(Yr){var Gr=Yr[1][0]-Yr[0][0],Wr=Yr[1][1]-Yr[0][1];return Math.sqrt(Gr*Gr+Wr*Wr)}function VY(Yr){return[(Yr[0][0]+Yr[1][0])/2,(Yr[0][1]+Yr[1][1])/2]}var Wb={pinch:function(Yr,Gr){var Wr=Yr.length;if(Wr){var Zr=(Yr[Wr-1]||{}).points,Kr=(Yr[Wr-2]||{}).points||Zr;if(Kr&&Kr.length>1&&Zr&&Zr.length>1){var Jr=PD(Zr)/PD(Kr);!isFinite(Jr)&&(Jr=1),Gr.pinchScale=Jr;var Qr=VY(Zr);return Gr.pinchX=Qr[0],Gr.pinchY=Qr[1],{type:"pinch",target:Yr[0].target,event:Gr}}}}};function Aa(){return[1,0,0,1,0,0]}function Gu(Yr){return Yr[0]=1,Yr[1]=0,Yr[2]=0,Yr[3]=1,Yr[4]=0,Yr[5]=0,Yr}function wd(Yr,Gr){return Yr[0]=Gr[0],Yr[1]=Gr[1],Yr[2]=Gr[2],Yr[3]=Gr[3],Yr[4]=Gr[4],Yr[5]=Gr[5],Yr}function Oo(Yr,Gr,Wr){var Zr=Gr[0]*Wr[0]+Gr[2]*Wr[1],Kr=Gr[1]*Wr[0]+Gr[3]*Wr[1],Jr=Gr[0]*Wr[2]+Gr[2]*Wr[3],Qr=Gr[1]*Wr[2]+Gr[3]*Wr[3],ti=Gr[0]*Wr[4]+Gr[2]*Wr[5]+Gr[4],ei=Gr[1]*Wr[4]+Gr[3]*Wr[5]+Gr[5];return Yr[0]=Zr,Yr[1]=Kr,Yr[2]=Jr,Yr[3]=Qr,Yr[4]=ti,Yr[5]=ei,Yr}function to(Yr,Gr,Wr){return Yr[0]=Gr[0],Yr[1]=Gr[1],Yr[2]=Gr[2],Yr[3]=Gr[3],Yr[4]=Gr[4]+Wr[0],Yr[5]=Gr[5]+Wr[1],Yr}function zo(Yr,Gr,Wr,Zr){Zr===void 0&&(Zr=[0,0]);var Kr=Gr[0],Jr=Gr[2],Qr=Gr[4],ti=Gr[1],ei=Gr[3],ri=Gr[5],ii=Math.sin(Wr),ni=Math.cos(Wr);return Yr[0]=Kr*ni+ti*ii,Yr[1]=-Kr*ii+ti*ni,Yr[2]=Jr*ni+ei*ii,Yr[3]=-Jr*ii+ni*ei,Yr[4]=ni*(Qr-Zr[0])+ii*(ri-Zr[1])+Zr[0],Yr[5]=ni*(ri-Zr[1])-ii*(Qr-Zr[0])+Zr[1],Yr}function Pc(Yr,Gr,Wr){var Zr=Wr[0],Kr=Wr[1];return Yr[0]=Gr[0]*Zr,Yr[1]=Gr[1]*Kr,Yr[2]=Gr[2]*Zr,Yr[3]=Gr[3]*Kr,Yr[4]=Gr[4]*Zr,Yr[5]=Gr[5]*Kr,Yr}function _s(Yr,Gr){var Wr=Gr[0],Zr=Gr[2],Kr=Gr[4],Jr=Gr[1],Qr=Gr[3],ti=Gr[5],ei=Wr*Qr-Jr*Zr;return ei?(ei=1/ei,Yr[0]=Qr*ei,Yr[1]=-Jr*ei,Yr[2]=-Zr*ei,Yr[3]=Wr*ei,Yr[4]=(Zr*ti-Qr*Kr)*ei,Yr[5]=(Jr*Kr-Wr*ti)*ei,Yr):null}function DD(Yr){var Gr=Aa();return wd(Gr,Yr),Gr}var BY=function(){function Yr(Gr,Wr){this.x=Gr||0,this.y=Wr||0}return Yr.prototype.copy=function(Gr){return this.x=Gr.x,this.y=Gr.y,this},Yr.prototype.clone=function(){return new Yr(this.x,this.y)},Yr.prototype.set=function(Gr,Wr){return this.x=Gr,this.y=Wr,this},Yr.prototype.equal=function(Gr){return Gr.x===this.x&&Gr.y===this.y},Yr.prototype.add=function(Gr){return this.x+=Gr.x,this.y+=Gr.y,this},Yr.prototype.scale=function(Gr){this.x*=Gr,this.y*=Gr},Yr.prototype.scaleAndAdd=function(Gr,Wr){this.x+=Gr.x*Wr,this.y+=Gr.y*Wr},Yr.prototype.sub=function(Gr){return this.x-=Gr.x,this.y-=Gr.y,this},Yr.prototype.dot=function(Gr){return this.x*Gr.x+this.y*Gr.y},Yr.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Yr.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Yr.prototype.normalize=function(){var Gr=this.len();return this.x/=Gr,this.y/=Gr,this},Yr.prototype.distance=function(Gr){var Wr=this.x-Gr.x,Zr=this.y-Gr.y;return Math.sqrt(Wr*Wr+Zr*Zr)},Yr.prototype.distanceSquare=function(Gr){var Wr=this.x-Gr.x,Zr=this.y-Gr.y;return Wr*Wr+Zr*Zr},Yr.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Yr.prototype.transform=function(Gr){if(Gr){var Wr=this.x,Zr=this.y;return this.x=Gr[0]*Wr+Gr[2]*Zr+Gr[4],this.y=Gr[1]*Wr+Gr[3]*Zr+Gr[5],this}},Yr.prototype.toArray=function(Gr){return Gr[0]=this.x,Gr[1]=this.y,Gr},Yr.prototype.fromArray=function(Gr){this.x=Gr[0],this.y=Gr[1]},Yr.set=function(Gr,Wr,Zr){Gr.x=Wr,Gr.y=Zr},Yr.copy=function(Gr,Wr){Gr.x=Wr.x,Gr.y=Wr.y},Yr.len=function(Gr){return Math.sqrt(Gr.x*Gr.x+Gr.y*Gr.y)},Yr.lenSquare=function(Gr){return Gr.x*Gr.x+Gr.y*Gr.y},Yr.dot=function(Gr,Wr){return Gr.x*Wr.x+Gr.y*Wr.y},Yr.add=function(Gr,Wr,Zr){Gr.x=Wr.x+Zr.x,Gr.y=Wr.y+Zr.y},Yr.sub=function(Gr,Wr,Zr){Gr.x=Wr.x-Zr.x,Gr.y=Wr.y-Zr.y},Yr.scale=function(Gr,Wr,Zr){Gr.x=Wr.x*Zr,Gr.y=Wr.y*Zr},Yr.scaleAndAdd=function(Gr,Wr,Zr,Kr){Gr.x=Wr.x+Zr.x*Kr,Gr.y=Wr.y+Zr.y*Kr},Yr.lerp=function(Gr,Wr,Zr,Kr){var Jr=1-Kr;Gr.x=Jr*Wr.x+Kr*Zr.x,Gr.y=Jr*Wr.y+Kr*Zr.y},Yr}(),wn=BY;var _g=Math.min,bg=Math.max,Qf=new wn,th=new wn,eh=new wn,rh=new wn,Cd=new wn,Td=new wn,UY=function(){function Yr(Gr,Wr,Zr,Kr){Zr<0&&(Gr=Gr+Zr,Zr=-Zr),Kr<0&&(Wr=Wr+Kr,Kr=-Kr),this.x=Gr,this.y=Wr,this.width=Zr,this.height=Kr}return Yr.prototype.union=function(Gr){var Wr=_g(Gr.x,this.x),Zr=_g(Gr.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=bg(Gr.x+Gr.width,this.x+this.width)-Wr:this.width=Gr.width,isFinite(this.y)&&isFinite(this.height)?this.height=bg(Gr.y+Gr.height,this.y+this.height)-Zr:this.height=Gr.height,this.x=Wr,this.y=Zr},Yr.prototype.applyTransform=function(Gr){Yr.applyTransform(this,this,Gr)},Yr.prototype.calculateTransform=function(Gr){var Wr=this,Zr=Gr.width/Wr.width,Kr=Gr.height/Wr.height,Jr=Aa();return to(Jr,Jr,[-Wr.x,-Wr.y]),Pc(Jr,Jr,[Zr,Kr]),to(Jr,Jr,[Gr.x,Gr.y]),Jr},Yr.prototype.intersect=function(Gr,Wr){if(!Gr)return!1;Gr instanceof Yr||(Gr=Yr.create(Gr));var Zr=this,Kr=Zr.x,Jr=Zr.x+Zr.width,Qr=Zr.y,ti=Zr.y+Zr.height,ei=Gr.x,ri=Gr.x+Gr.width,ii=Gr.y,ni=Gr.y+Gr.height,ai=!(Jr<ei||ri<Kr||ti<ii||ni<Qr);if(Wr){var oi=1/0,si=0,li=Math.abs(Jr-ei),ui=Math.abs(ri-Kr),fi=Math.abs(ti-ii),hi=Math.abs(ni-Qr),ci=Math.min(li,ui),pi=Math.min(fi,hi);Jr<ei||ri<Kr?ci>si&&(si=ci,li<ui?wn.set(Td,-li,0):wn.set(Td,ui,0)):ci<oi&&(oi=ci,li<ui?wn.set(Cd,li,0):wn.set(Cd,-ui,0)),ti<ii||ni<Qr?pi>si&&(si=pi,fi<hi?wn.set(Td,0,-fi):wn.set(Td,0,hi)):ci<oi&&(oi=ci,fi<hi?wn.set(Cd,0,fi):wn.set(Cd,0,-hi))}return Wr&&wn.copy(Wr,ai?Cd:Td),ai},Yr.prototype.contain=function(Gr,Wr){var Zr=this;return Gr>=Zr.x&&Gr<=Zr.x+Zr.width&&Wr>=Zr.y&&Wr<=Zr.y+Zr.height},Yr.prototype.clone=function(){return new Yr(this.x,this.y,this.width,this.height)},Yr.prototype.copy=function(Gr){Yr.copy(this,Gr)},Yr.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},Yr.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},Yr.prototype.isZero=function(){return this.width===0||this.height===0},Yr.create=function(Gr){return new Yr(Gr.x,Gr.y,Gr.width,Gr.height)},Yr.copy=function(Gr,Wr){Gr.x=Wr.x,Gr.y=Wr.y,Gr.width=Wr.width,Gr.height=Wr.height},Yr.applyTransform=function(Gr,Wr,Zr){if(!Zr){Gr!==Wr&&Yr.copy(Gr,Wr);return}if(Zr[1]<1e-5&&Zr[1]>-1e-5&&Zr[2]<1e-5&&Zr[2]>-1e-5){var Kr=Zr[0],Jr=Zr[3],Qr=Zr[4],ti=Zr[5];Gr.x=Wr.x*Kr+Qr,Gr.y=Wr.y*Jr+ti,Gr.width=Wr.width*Kr,Gr.height=Wr.height*Jr,Gr.width<0&&(Gr.x+=Gr.width,Gr.width=-Gr.width),Gr.height<0&&(Gr.y+=Gr.height,Gr.height=-Gr.height);return}Qf.x=eh.x=Wr.x,Qf.y=rh.y=Wr.y,th.x=rh.x=Wr.x+Wr.width,th.y=eh.y=Wr.y+Wr.height,Qf.transform(Zr),rh.transform(Zr),th.transform(Zr),eh.transform(Zr),Gr.x=_g(Qf.x,th.x,eh.x,rh.x),Gr.y=_g(Qf.y,th.y,eh.y,rh.y);var ei=bg(Qf.x,th.x,eh.x,rh.x),ri=bg(Qf.y,th.y,eh.y,rh.y);Gr.width=ei-Gr.x,Gr.height=ri-Gr.y},Yr}(),rn=UY;var LD="silent";function GY(Yr,Gr,Wr){return{type:Yr,event:Wr,target:Gr.target,topTarget:Gr.topTarget,cancelBubble:!1,offsetX:Wr.zrX,offsetY:Wr.zrY,gestureEvent:Wr.gestureEvent,pinchX:Wr.pinchX,pinchY:Wr.pinchY,pinchScale:Wr.pinchScale,wheelDelta:Wr.zrDelta,zrByTouch:Wr.zrByTouch,which:Wr.which,stop:HY}}function HY(){Ro(this.event)}var WY=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.handler=null,Wr}return Gr.prototype.dispose=function(){},Gr.prototype.setCursor=function(){},Gr}(Ia),Ad=function(){function Yr(Gr,Wr){this.x=Gr,this.y=Wr}return Yr}(),YY=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Yb=new rn(0,0,0,0),kD=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr,Qr){var ti=Yr.call(this)||this;return ti._hovered=new Ad(0,0),ti.storage=Wr,ti.painter=Zr,ti.painterRoot=Jr,ti._pointerSize=Qr,Kr=Kr||new WY,ti.proxy=null,ti.setHandlerProxy(Kr),ti._draggingMgr=new wD(ti),ti}return Gr.prototype.setHandlerProxy=function(Wr){this.proxy&&this.proxy.dispose(),Wr&&(_i(YY,function(Zr){Wr.on&&Wr.on(Zr,this[Zr],this)},this),Wr.handler=this),this.proxy=Wr},Gr.prototype.mousemove=function(Wr){var Zr=Wr.zrX,Kr=Wr.zrY,Jr=RD(this,Zr,Kr),Qr=this._hovered,ti=Qr.target;ti&&!ti.__zr&&(Qr=this.findHover(Qr.x,Qr.y),ti=Qr.target);var ei=this._hovered=Jr?new Ad(Zr,Kr):this.findHover(Zr,Kr),ri=ei.target,ii=this.proxy;ii.setCursor&&ii.setCursor(ri?ri.cursor:"default"),ti&&ri!==ti&&this.dispatchToElement(Qr,"mouseout",Wr),this.dispatchToElement(ei,"mousemove",Wr),ri&&ri!==ti&&this.dispatchToElement(ei,"mouseover",Wr)},Gr.prototype.mouseout=function(Wr){var Zr=Wr.zrEventControl;Zr!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",Wr),Zr!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:Wr})},Gr.prototype.resize=function(){this._hovered=new Ad(0,0)},Gr.prototype.dispatch=function(Wr,Zr){var Kr=this[Wr];Kr&&Kr.call(this,Zr)},Gr.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Gr.prototype.setCursorStyle=function(Wr){var Zr=this.proxy;Zr.setCursor&&Zr.setCursor(Wr)},Gr.prototype.dispatchToElement=function(Wr,Zr,Kr){Wr=Wr||{};var Jr=Wr.target;if(!(Jr&&Jr.silent)){for(var Qr="on"+Zr,ti=GY(Zr,Wr,Kr);Jr&&(Jr[Qr]&&(ti.cancelBubble=!!Jr[Qr].call(Jr,ti)),Jr.trigger(Zr,ti),Jr=Jr.__hostTarget?Jr.__hostTarget:Jr.parent,!ti.cancelBubble););ti.cancelBubble||(this.trigger(Zr,ti),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(ei){typeof ei[Qr]=="function"&&ei[Qr].call(ei,ti),ei.trigger&&ei.trigger(Zr,ti)}))}},Gr.prototype.findHover=function(Wr,Zr,Kr){var Jr=this.storage.getDisplayList(),Qr=new Ad(Wr,Zr);if(ID(Jr,Qr,Wr,Zr,Kr),this._pointerSize&&!Qr.target){for(var ti=[],ei=this._pointerSize,ri=ei/2,ii=new rn(Wr-ri,Zr-ri,ei,ei),ni=Jr.length-1;ni>=0;ni--){var ai=Jr[ni];ai!==Kr&&!ai.ignore&&!ai.ignoreCoarsePointer&&(!ai.parent||!ai.parent.ignoreCoarsePointer)&&(Yb.copy(ai.getBoundingRect()),ai.transform&&Yb.applyTransform(ai.transform),Yb.intersect(ii)&&ti.push(ai))}if(ti.length)for(var oi=4,si=Math.PI/12,li=Math.PI*2,ui=0;ui<ri;ui+=oi)for(var fi=0;fi<li;fi+=si){var hi=Wr+ui*Math.cos(fi),ci=Zr+ui*Math.sin(fi);if(ID(ti,Qr,hi,ci,Kr),Qr.target)return Qr}}return Qr},Gr.prototype.processGesture=function(Wr,Zr){this._gestureMgr||(this._gestureMgr=new ED);var Kr=this._gestureMgr;Zr==="start"&&Kr.clear();var Jr=Kr.recognize(Wr,this.findHover(Wr.zrX,Wr.zrY,null).target,this.proxy.dom);if(Zr==="end"&&Kr.clear(),Jr){var Qr=Jr.type;Wr.gestureEvent=Qr;var ti=new Ad;ti.target=Jr.target,this.dispatchToElement(ti,Qr,Jr.event)}},Gr}(Ia);_i(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Yr){kD.prototype[Yr]=function(Gr){var Wr=Gr.zrX,Zr=Gr.zrY,Kr=RD(this,Wr,Zr),Jr,Qr;if((Yr!=="mouseup"||!Kr)&&(Jr=this.findHover(Wr,Zr),Qr=Jr.target),Yr==="mousedown")this._downEl=Qr,this._downPoint=[Gr.zrX,Gr.zrY],this._upEl=Qr;else if(Yr==="mouseup")this._upEl=Qr;else if(Yr==="click"){if(this._downEl!==this._upEl||!this._downPoint||xs(this._downPoint,[Gr.zrX,Gr.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Jr,Yr,Gr)}});function XY(Yr,Gr,Wr){if(Yr[Yr.rectHover?"rectContain":"contain"](Gr,Wr)){for(var Zr=Yr,Kr=void 0,Jr=!1;Zr;){if(Zr.ignoreClip&&(Jr=!0),!Jr){var Qr=Zr.getClipPath();if(Qr&&!Qr.contain(Gr,Wr))return!1}Zr.silent&&(Kr=!0);var ti=Zr.__hostTarget;Zr=ti||Zr.parent}return Kr?LD:!0}return!1}function ID(Yr,Gr,Wr,Zr,Kr){for(var Jr=Yr.length-1;Jr>=0;Jr--){var Qr=Yr[Jr],ti=void 0;if(Qr!==Kr&&!Qr.ignore&&(ti=XY(Qr,Wr,Zr))&&(!Gr.topTarget&&(Gr.topTarget=Qr),ti!==LD)){Gr.target=Qr;break}}}function RD(Yr,Gr,Wr){var Zr=Yr.painter;return Gr<0||Gr>Zr.getWidth()||Wr<0||Wr>Zr.getHeight()}var OD=kD;var FD=32,Md=7;function qY(Yr){for(var Gr=0;Yr>=FD;)Gr|=Yr&1,Yr>>=1;return Yr+Gr}function zD(Yr,Gr,Wr,Zr){var Kr=Gr+1;if(Kr===Wr)return 1;if(Zr(Yr[Kr++],Yr[Gr])<0){for(;Kr<Wr&&Zr(Yr[Kr],Yr[Kr-1])<0;)Kr++;ZY(Yr,Gr,Kr)}else for(;Kr<Wr&&Zr(Yr[Kr],Yr[Kr-1])>=0;)Kr++;return Kr-Gr}function ZY(Yr,Gr,Wr){for(Wr--;Gr<Wr;){var Zr=Yr[Gr];Yr[Gr++]=Yr[Wr],Yr[Wr--]=Zr}}function ND(Yr,Gr,Wr,Zr,Kr){for(Zr===Gr&&Zr++;Zr<Wr;Zr++){for(var Jr=Yr[Zr],Qr=Gr,ti=Zr,ei;Qr<ti;)ei=Qr+ti>>>1,Kr(Jr,Yr[ei])<0?ti=ei:Qr=ei+1;var ri=Zr-Qr;switch(ri){case 3:Yr[Qr+3]=Yr[Qr+2];case 2:Yr[Qr+2]=Yr[Qr+1];case 1:Yr[Qr+1]=Yr[Qr];break;default:for(;ri>0;)Yr[Qr+ri]=Yr[Qr+ri-1],ri--}Yr[Qr]=Jr}}function Xb(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=0,ti=0,ei=1;if(Jr(Yr,Gr[Wr+Kr])>0){for(ti=Zr-Kr;ei<ti&&Jr(Yr,Gr[Wr+Kr+ei])>0;)Qr=ei,ei=(ei<<1)+1,ei<=0&&(ei=ti);ei>ti&&(ei=ti),Qr+=Kr,ei+=Kr}else{for(ti=Kr+1;ei<ti&&Jr(Yr,Gr[Wr+Kr-ei])<=0;)Qr=ei,ei=(ei<<1)+1,ei<=0&&(ei=ti);ei>ti&&(ei=ti);var ri=Qr;Qr=Kr-ei,ei=Kr-ri}for(Qr++;Qr<ei;){var ii=Qr+(ei-Qr>>>1);Jr(Yr,Gr[Wr+ii])>0?Qr=ii+1:ei=ii}return ei}function qb(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=0,ti=0,ei=1;if(Jr(Yr,Gr[Wr+Kr])<0){for(ti=Kr+1;ei<ti&&Jr(Yr,Gr[Wr+Kr-ei])<0;)Qr=ei,ei=(ei<<1)+1,ei<=0&&(ei=ti);ei>ti&&(ei=ti);var ri=Qr;Qr=Kr-ei,ei=Kr-ri}else{for(ti=Zr-Kr;ei<ti&&Jr(Yr,Gr[Wr+Kr+ei])>=0;)Qr=ei,ei=(ei<<1)+1,ei<=0&&(ei=ti);ei>ti&&(ei=ti),Qr+=Kr,ei+=Kr}for(Qr++;Qr<ei;){var ii=Qr+(ei-Qr>>>1);Jr(Yr,Gr[Wr+ii])<0?ei=ii:Qr=ii+1}return ei}function jY(Yr,Gr){var Wr=Md,Zr,Kr,Jr=0,Qr=[];Zr=[],Kr=[];function ti(oi,si){Zr[Jr]=oi,Kr[Jr]=si,Jr+=1}function ei(){for(;Jr>1;){var oi=Jr-2;if(oi>=1&&Kr[oi-1]<=Kr[oi]+Kr[oi+1]||oi>=2&&Kr[oi-2]<=Kr[oi]+Kr[oi-1])Kr[oi-1]<Kr[oi+1]&&oi--;else if(Kr[oi]>Kr[oi+1])break;ii(oi)}}function ri(){for(;Jr>1;){var oi=Jr-2;oi>0&&Kr[oi-1]<Kr[oi+1]&&oi--,ii(oi)}}function ii(oi){var si=Zr[oi],li=Kr[oi],ui=Zr[oi+1],fi=Kr[oi+1];Kr[oi]=li+fi,oi===Jr-3&&(Zr[oi+1]=Zr[oi+2],Kr[oi+1]=Kr[oi+2]),Jr--;var hi=qb(Yr[ui],Yr,si,li,0,Gr);si+=hi,li-=hi,li!==0&&(fi=Xb(Yr[si+li-1],Yr,ui,fi,fi-1,Gr),fi!==0&&(li<=fi?ni(si,li,ui,fi):ai(si,li,ui,fi)))}function ni(oi,si,li,ui){var fi=0;for(fi=0;fi<si;fi++)Qr[fi]=Yr[oi+fi];var hi=0,ci=li,pi=oi;if(Yr[pi++]=Yr[ci++],--ui===0){for(fi=0;fi<si;fi++)Yr[pi+fi]=Qr[hi+fi];return}if(si===1){for(fi=0;fi<ui;fi++)Yr[pi+fi]=Yr[ci+fi];Yr[pi+ui]=Qr[hi];return}for(var di=Wr,vi,mi,gi;;){vi=0,mi=0,gi=!1;do if(Gr(Yr[ci],Qr[hi])<0){if(Yr[pi++]=Yr[ci++],mi++,vi=0,--ui===0){gi=!0;break}}else if(Yr[pi++]=Qr[hi++],vi++,mi=0,--si===1){gi=!0;break}while((vi|mi)<di);if(gi)break;do{if(vi=qb(Yr[ci],Qr,hi,si,0,Gr),vi!==0){for(fi=0;fi<vi;fi++)Yr[pi+fi]=Qr[hi+fi];if(pi+=vi,hi+=vi,si-=vi,si<=1){gi=!0;break}}if(Yr[pi++]=Yr[ci++],--ui===0){gi=!0;break}if(mi=Xb(Qr[hi],Yr,ci,ui,0,Gr),mi!==0){for(fi=0;fi<mi;fi++)Yr[pi+fi]=Yr[ci+fi];if(pi+=mi,ci+=mi,ui-=mi,ui===0){gi=!0;break}}if(Yr[pi++]=Qr[hi++],--si===1){gi=!0;break}di--}while(vi>=Md||mi>=Md);if(gi)break;di<0&&(di=0),di+=2}if(Wr=di,Wr<1&&(Wr=1),si===1){for(fi=0;fi<ui;fi++)Yr[pi+fi]=Yr[ci+fi];Yr[pi+ui]=Qr[hi]}else{if(si===0)throw new Error;for(fi=0;fi<si;fi++)Yr[pi+fi]=Qr[hi+fi]}}function ai(oi,si,li,ui){var fi=0;for(fi=0;fi<ui;fi++)Qr[fi]=Yr[li+fi];var hi=oi+si-1,ci=ui-1,pi=li+ui-1,di=0,vi=0;if(Yr[pi--]=Yr[hi--],--si===0){for(di=pi-(ui-1),fi=0;fi<ui;fi++)Yr[di+fi]=Qr[fi];return}if(ui===1){for(pi-=si,hi-=si,vi=pi+1,di=hi+1,fi=si-1;fi>=0;fi--)Yr[vi+fi]=Yr[di+fi];Yr[pi]=Qr[ci];return}for(var mi=Wr;;){var gi=0,yi=0,Si=!1;do if(Gr(Qr[ci],Yr[hi])<0){if(Yr[pi--]=Yr[hi--],gi++,yi=0,--si===0){Si=!0;break}}else if(Yr[pi--]=Qr[ci--],yi++,gi=0,--ui===1){Si=!0;break}while((gi|yi)<mi);if(Si)break;do{if(gi=si-qb(Qr[ci],Yr,oi,si,si-1,Gr),gi!==0){for(pi-=gi,hi-=gi,si-=gi,vi=pi+1,di=hi+1,fi=gi-1;fi>=0;fi--)Yr[vi+fi]=Yr[di+fi];if(si===0){Si=!0;break}}if(Yr[pi--]=Qr[ci--],--ui===1){Si=!0;break}if(yi=ui-Xb(Yr[hi],Qr,0,ui,ui-1,Gr),yi!==0){for(pi-=yi,ci-=yi,ui-=yi,vi=pi+1,di=ci+1,fi=0;fi<yi;fi++)Yr[vi+fi]=Qr[di+fi];if(ui<=1){Si=!0;break}}if(Yr[pi--]=Yr[hi--],--si===0){Si=!0;break}mi--}while(gi>=Md||yi>=Md);if(Si)break;mi<0&&(mi=0),mi+=2}if(Wr=mi,Wr<1&&(Wr=1),ui===1){for(pi-=si,hi-=si,vi=pi+1,di=hi+1,fi=si-1;fi>=0;fi--)Yr[vi+fi]=Yr[di+fi];Yr[pi]=Qr[ci]}else{if(ui===0)throw new Error;for(di=pi-(ui-1),fi=0;fi<ui;fi++)Yr[di+fi]=Qr[fi]}}return{mergeRuns:ei,forceMergeRuns:ri,pushRun:ti}}function ih(Yr,Gr,Wr,Zr){Wr||(Wr=0),Zr||(Zr=Yr.length);var Kr=Zr-Wr;if(!(Kr<2)){var Jr=0;if(Kr<FD){Jr=zD(Yr,Wr,Zr,Gr),ND(Yr,Wr,Zr,Wr+Jr,Gr);return}var Qr=jY(Yr,Gr),ti=qY(Kr);do{if(Jr=zD(Yr,Wr,Zr,Gr),Jr<ti){var ei=Kr;ei>ti&&(ei=ti),ND(Yr,Wr,Wr+ei,Wr+Jr,Gr),Jr=ei}Qr.pushRun(Wr,Jr),Qr.mergeRuns(),Kr-=Jr,Wr+=Jr}while(Kr!==0);Qr.forceMergeRuns()}}var Ra=1,nh=2,Hu=4;var VD=!1;function Zb(){VD||(VD=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function BD(Yr,Gr){return Yr.zlevel===Gr.zlevel?Yr.z===Gr.z?Yr.z2-Gr.z2:Yr.z-Gr.z:Yr.zlevel-Gr.zlevel}var KY=function(){function Yr(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=BD}return Yr.prototype.traverse=function(Gr,Wr){for(var Zr=0;Zr<this._roots.length;Zr++)this._roots[Zr].traverse(Gr,Wr)},Yr.prototype.getDisplayList=function(Gr,Wr){Wr=Wr||!1;var Zr=this._displayList;return(Gr||!Zr.length)&&this.updateDisplayList(Wr),Zr},Yr.prototype.updateDisplayList=function(Gr){this._displayListLen=0;for(var Wr=this._roots,Zr=this._displayList,Kr=0,Jr=Wr.length;Kr<Jr;Kr++)this._updateAndAddDisplayable(Wr[Kr],null,Gr);Zr.length=this._displayListLen,ih(Zr,BD)},Yr.prototype._updateAndAddDisplayable=function(Gr,Wr,Zr){if(!(Gr.ignore&&!Zr)){Gr.beforeUpdate(),Gr.update(),Gr.afterUpdate();var Kr=Gr.getClipPath();if(Gr.ignoreClip)Wr=null;else if(Kr){Wr?Wr=Wr.slice():Wr=[];for(var Jr=Kr,Qr=Gr;Jr;)Jr.parent=Qr,Jr.updateTransform(),Wr.push(Jr),Qr=Jr,Jr=Jr.getClipPath()}if(Gr.childrenRef){for(var ti=Gr.childrenRef(),ei=0;ei<ti.length;ei++){var ri=ti[ei];Gr.__dirty&&(ri.__dirty|=Ra),this._updateAndAddDisplayable(ri,Wr,Zr)}Gr.__dirty=0}else{var ii=Gr;Wr&&Wr.length?ii.__clipPaths=Wr:ii.__clipPaths&&ii.__clipPaths.length>0&&(ii.__clipPaths=[]),isNaN(ii.z)&&(Zb(),ii.z=0),isNaN(ii.z2)&&(Zb(),ii.z2=0),isNaN(ii.zlevel)&&(Zb(),ii.zlevel=0),this._displayList[this._displayListLen++]=ii}var ni=Gr.getDecalElement&&Gr.getDecalElement();ni&&this._updateAndAddDisplayable(ni,Wr,Zr);var ai=Gr.getTextGuideLine();ai&&this._updateAndAddDisplayable(ai,Wr,Zr);var oi=Gr.getTextContent();oi&&this._updateAndAddDisplayable(oi,Wr,Zr)}},Yr.prototype.addRoot=function(Gr){Gr.__zr&&Gr.__zr.storage===this||this._roots.push(Gr)},Yr.prototype.delRoot=function(Gr){if(Gr instanceof Array){for(var Wr=0,Zr=Gr.length;Wr<Zr;Wr++)this.delRoot(Gr[Wr]);return}var Kr=sn(this._roots,Gr);Kr>=0&&this._roots.splice(Kr,1)},Yr.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Yr.prototype.getRoots=function(){return this._roots},Yr.prototype.dispose=function(){this._displayList=null,this._roots=null},Yr}(),UD=KY;var GD;GD=Cn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(Yr){return setTimeout(Yr,16)};var Pd=GD;var Sg={linear:function(Yr){return Yr},quadraticIn:function(Yr){return Yr*Yr},quadraticOut:function(Yr){return Yr*(2-Yr)},quadraticInOut:function(Yr){return(Yr*=2)<1?.5*Yr*Yr:-.5*(--Yr*(Yr-2)-1)},cubicIn:function(Yr){return Yr*Yr*Yr},cubicOut:function(Yr){return--Yr*Yr*Yr+1},cubicInOut:function(Yr){return(Yr*=2)<1?.5*Yr*Yr*Yr:.5*((Yr-=2)*Yr*Yr+2)},quarticIn:function(Yr){return Yr*Yr*Yr*Yr},quarticOut:function(Yr){return 1- --Yr*Yr*Yr*Yr},quarticInOut:function(Yr){return(Yr*=2)<1?.5*Yr*Yr*Yr*Yr:-.5*((Yr-=2)*Yr*Yr*Yr-2)},quinticIn:function(Yr){return Yr*Yr*Yr*Yr*Yr},quinticOut:function(Yr){return--Yr*Yr*Yr*Yr*Yr+1},quinticInOut:function(Yr){return(Yr*=2)<1?.5*Yr*Yr*Yr*Yr*Yr:.5*((Yr-=2)*Yr*Yr*Yr*Yr+2)},sinusoidalIn:function(Yr){return 1-Math.cos(Yr*Math.PI/2)},sinusoidalOut:function(Yr){return Math.sin(Yr*Math.PI/2)},sinusoidalInOut:function(Yr){return .5*(1-Math.cos(Math.PI*Yr))},exponentialIn:function(Yr){return Yr===0?0:Math.pow(1024,Yr-1)},exponentialOut:function(Yr){return Yr===1?1:1-Math.pow(2,-10*Yr)},exponentialInOut:function(Yr){return Yr===0?0:Yr===1?1:(Yr*=2)<1?.5*Math.pow(1024,Yr-1):.5*(-Math.pow(2,-10*(Yr-1))+2)},circularIn:function(Yr){return 1-Math.sqrt(1-Yr*Yr)},circularOut:function(Yr){return Math.sqrt(1- --Yr*Yr)},circularInOut:function(Yr){return(Yr*=2)<1?-.5*(Math.sqrt(1-Yr*Yr)-1):.5*(Math.sqrt(1-(Yr-=2)*Yr)+1)},elasticIn:function(Yr){var Gr,Wr=.1,Zr=.4;return Yr===0?0:Yr===1?1:(!Wr||Wr<1?(Wr=1,Gr=Zr/4):Gr=Zr*Math.asin(1/Wr)/(2*Math.PI),-(Wr*Math.pow(2,10*(Yr-=1))*Math.sin((Yr-Gr)*(2*Math.PI)/Zr)))},elasticOut:function(Yr){var Gr,Wr=.1,Zr=.4;return Yr===0?0:Yr===1?1:(!Wr||Wr<1?(Wr=1,Gr=Zr/4):Gr=Zr*Math.asin(1/Wr)/(2*Math.PI),Wr*Math.pow(2,-10*Yr)*Math.sin((Yr-Gr)*(2*Math.PI)/Zr)+1)},elasticInOut:function(Yr){var Gr,Wr=.1,Zr=.4;return Yr===0?0:Yr===1?1:(!Wr||Wr<1?(Wr=1,Gr=Zr/4):Gr=Zr*Math.asin(1/Wr)/(2*Math.PI),(Yr*=2)<1?-.5*(Wr*Math.pow(2,10*(Yr-=1))*Math.sin((Yr-Gr)*(2*Math.PI)/Zr)):Wr*Math.pow(2,-10*(Yr-=1))*Math.sin((Yr-Gr)*(2*Math.PI)/Zr)*.5+1)},backIn:function(Yr){var Gr=1.70158;return Yr*Yr*((Gr+1)*Yr-Gr)},backOut:function(Yr){var Gr=1.70158;return--Yr*Yr*((Gr+1)*Yr+Gr)+1},backInOut:function(Yr){var Gr=2.5949095;return(Yr*=2)<1?.5*(Yr*Yr*((Gr+1)*Yr-Gr)):.5*((Yr-=2)*Yr*((Gr+1)*Yr+Gr)+2)},bounceIn:function(Yr){return 1-Sg.bounceOut(1-Yr)},bounceOut:function(Yr){return Yr<.36363636363636365?7.5625*Yr*Yr:Yr<.7272727272727273?7.5625*(Yr-=.5454545454545454)*Yr+.75:Yr<.9090909090909091?7.5625*(Yr-=.8181818181818182)*Yr+.9375:7.5625*(Yr-=.9545454545454546)*Yr+.984375},bounceInOut:function(Yr){return Yr<.5?Sg.bounceIn(Yr*2)*.5:Sg.bounceOut(Yr*2-1)*.5+.5}},wg=Sg;var Cg=Math.pow,Yu=Math.sqrt,Ag=1e-8,WD=1e-4,HD=Yu(3),Tg=1/3,wl=Sl(),bs=Sl(),Ec=Sl();function Wu(Yr){return Yr>-Ag&&Yr<Ag}function YD(Yr){return Yr>Ag||Yr<-Ag}function ga(Yr,Gr,Wr,Zr,Kr){var Jr=1-Kr;return Jr*Jr*(Jr*Yr+3*Kr*Gr)+Kr*Kr*(Kr*Zr+3*Jr*Wr)}function jb(Yr,Gr,Wr,Zr,Kr){var Jr=1-Kr;return 3*(((Gr-Yr)*Jr+2*(Wr-Gr)*Kr)*Jr+(Zr-Wr)*Kr*Kr)}function ah(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Zr+3*(Gr-Wr)-Yr,ti=3*(Wr-Gr*2+Yr),ei=3*(Gr-Yr),ri=Yr-Kr,ii=ti*ti-3*Qr*ei,ni=ti*ei-9*Qr*ri,ai=ei*ei-3*ti*ri,oi=0;if(Wu(ii)&&Wu(ni))if(Wu(ti))Jr[0]=0;else{var si=-ei/ti;si>=0&&si<=1&&(Jr[oi++]=si)}else{var li=ni*ni-4*ii*ai;if(Wu(li)){var ui=ni/ii,si=-ti/Qr+ui,fi=-ui/2;si>=0&&si<=1&&(Jr[oi++]=si),fi>=0&&fi<=1&&(Jr[oi++]=fi)}else if(li>0){var hi=Yu(li),ci=ii*ti+1.5*Qr*(-ni+hi),pi=ii*ti+1.5*Qr*(-ni-hi);ci<0?ci=-Cg(-ci,Tg):ci=Cg(ci,Tg),pi<0?pi=-Cg(-pi,Tg):pi=Cg(pi,Tg);var si=(-ti-(ci+pi))/(3*Qr);si>=0&&si<=1&&(Jr[oi++]=si)}else{var di=(2*ii*ti-3*Qr*ni)/(2*Yu(ii*ii*ii)),vi=Math.acos(di)/3,mi=Yu(ii),gi=Math.cos(vi),si=(-ti-2*mi*gi)/(3*Qr),fi=(-ti+mi*(gi+HD*Math.sin(vi)))/(3*Qr),yi=(-ti+mi*(gi-HD*Math.sin(vi)))/(3*Qr);si>=0&&si<=1&&(Jr[oi++]=si),fi>=0&&fi<=1&&(Jr[oi++]=fi),yi>=0&&yi<=1&&(Jr[oi++]=yi)}}return oi}function Mg(Yr,Gr,Wr,Zr,Kr){var Jr=6*Wr-12*Gr+6*Yr,Qr=9*Gr+3*Zr-3*Yr-9*Wr,ti=3*Gr-3*Yr,ei=0;if(Wu(Qr)){if(YD(Jr)){var ri=-ti/Jr;ri>=0&&ri<=1&&(Kr[ei++]=ri)}}else{var ii=Jr*Jr-4*Qr*ti;if(Wu(ii))Kr[0]=-Jr/(2*Qr);else if(ii>0){var ni=Yu(ii),ri=(-Jr+ni)/(2*Qr),ai=(-Jr-ni)/(2*Qr);ri>=0&&ri<=1&&(Kr[ei++]=ri),ai>=0&&ai<=1&&(Kr[ei++]=ai)}}return ei}function Ss(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=(Gr-Yr)*Kr+Yr,ti=(Wr-Gr)*Kr+Gr,ei=(Zr-Wr)*Kr+Wr,ri=(ti-Qr)*Kr+Qr,ii=(ei-ti)*Kr+ti,ni=(ii-ri)*Kr+ri;Jr[0]=Yr,Jr[1]=Qr,Jr[2]=ri,Jr[3]=ni,Jr[4]=ni,Jr[5]=ii,Jr[6]=ei,Jr[7]=Zr}function Pg(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii){var ni,ai=.005,oi=1/0,si,li,ui,fi;wl[0]=ei,wl[1]=ri;for(var hi=0;hi<1;hi+=.05)bs[0]=ga(Yr,Wr,Kr,Qr,hi),bs[1]=ga(Gr,Zr,Jr,ti,hi),ui=iu(wl,bs),ui<oi&&(ni=hi,oi=ui);oi=1/0;for(var ci=0;ci<32&&!(ai<WD);ci++)si=ni-ai,li=ni+ai,bs[0]=ga(Yr,Wr,Kr,Qr,si),bs[1]=ga(Gr,Zr,Jr,ti,si),ui=iu(bs,wl),si>=0&&ui<oi?(ni=si,oi=ui):(Ec[0]=ga(Yr,Wr,Kr,Qr,li),Ec[1]=ga(Gr,Zr,Jr,ti,li),fi=iu(Ec,wl),li<=1&&fi<oi?(ni=li,oi=fi):ai*=.5);return ii&&(ii[0]=ga(Yr,Wr,Kr,Qr,ni),ii[1]=ga(Gr,Zr,Jr,ti,ni)),Yu(oi)}function XD(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){for(var ri=Yr,ii=Gr,ni=0,ai=1/ei,oi=1;oi<=ei;oi++){var si=oi*ai,li=ga(Yr,Wr,Kr,Qr,si),ui=ga(Gr,Zr,Jr,ti,si),fi=li-ri,hi=ui-ii;ni+=Math.sqrt(fi*fi+hi*hi),ri=li,ii=ui}return ni}function _a(Yr,Gr,Wr,Zr){var Kr=1-Zr;return Kr*(Kr*Yr+2*Zr*Gr)+Zr*Zr*Wr}function Ed(Yr,Gr,Wr,Zr){return 2*((1-Zr)*(Gr-Yr)+Zr*(Wr-Gr))}function qD(Yr,Gr,Wr,Zr,Kr){var Jr=Yr-2*Gr+Wr,Qr=2*(Gr-Yr),ti=Yr-Zr,ei=0;if(Wu(Jr)){if(YD(Qr)){var ri=-ti/Qr;ri>=0&&ri<=1&&(Kr[ei++]=ri)}}else{var ii=Qr*Qr-4*Jr*ti;if(Wu(ii)){var ri=-Qr/(2*Jr);ri>=0&&ri<=1&&(Kr[ei++]=ri)}else if(ii>0){var ni=Yu(ii),ri=(-Qr+ni)/(2*Jr),ai=(-Qr-ni)/(2*Jr);ri>=0&&ri<=1&&(Kr[ei++]=ri),ai>=0&&ai<=1&&(Kr[ei++]=ai)}}return ei}function Eg(Yr,Gr,Wr){var Zr=Yr+Wr-2*Gr;return Zr===0?.5:(Yr-Gr)/Zr}function Xu(Yr,Gr,Wr,Zr,Kr){var Jr=(Gr-Yr)*Zr+Yr,Qr=(Wr-Gr)*Zr+Gr,ti=(Qr-Jr)*Zr+Jr;Kr[0]=Yr,Kr[1]=Jr,Kr[2]=ti,Kr[3]=ti,Kr[4]=Qr,Kr[5]=Wr}function Dg(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){var ri,ii=.005,ni=1/0;wl[0]=Qr,wl[1]=ti;for(var ai=0;ai<1;ai+=.05){bs[0]=_a(Yr,Wr,Kr,ai),bs[1]=_a(Gr,Zr,Jr,ai);var oi=iu(wl,bs);oi<ni&&(ri=ai,ni=oi)}ni=1/0;for(var si=0;si<32&&!(ii<WD);si++){var li=ri-ii,ui=ri+ii;bs[0]=_a(Yr,Wr,Kr,li),bs[1]=_a(Gr,Zr,Jr,li);var oi=iu(bs,wl);if(li>=0&&oi<ni)ri=li,ni=oi;else{Ec[0]=_a(Yr,Wr,Kr,ui),Ec[1]=_a(Gr,Zr,Jr,ui);var fi=iu(Ec,wl);ui<=1&&fi<ni?(ri=ui,ni=fi):ii*=.5}}return ei&&(ei[0]=_a(Yr,Wr,Kr,ri),ei[1]=_a(Gr,Zr,Jr,ri)),Yu(ni)}function ZD(Yr,Gr,Wr,Zr,Kr,Jr,Qr){for(var ti=Yr,ei=Gr,ri=0,ii=1/Qr,ni=1;ni<=Qr;ni++){var ai=ni*ii,oi=_a(Yr,Wr,Kr,ai),si=_a(Gr,Zr,Jr,ai),li=oi-ti,ui=si-ei;ri+=Math.sqrt(li*li+ui*ui),ti=oi,ei=si}return ri}var $Y=/cubic-bezier\(([0-9,\.e ]+)\)/;function Dc(Yr){var Gr=Yr&&$Y.exec(Yr);if(Gr){var Wr=Gr[1].split(","),Zr=+Va(Wr[0]),Kr=+Va(Wr[1]),Jr=+Va(Wr[2]),Qr=+Va(Wr[3]);if(isNaN(Zr+Kr+Jr+Qr))return;var ti=[];return function(ei){return ei<=0?0:ei>=1?1:ah(0,Zr,Jr,1,ei,ti)&&ga(0,Kr,Qr,1,ti[0])}}}var JY=function(){function Yr(Gr){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=Gr.life||1e3,this._delay=Gr.delay||0,this.loop=Gr.loop||!1,this.onframe=Gr.onframe||qn,this.ondestroy=Gr.ondestroy||qn,this.onrestart=Gr.onrestart||qn,Gr.easing&&this.setEasing(Gr.easing)}return Yr.prototype.step=function(Gr,Wr){if(this._inited||(this._startTime=Gr+this._delay,this._inited=!0),this._paused){this._pausedTime+=Wr;return}var Zr=this._life,Kr=Gr-this._startTime-this._pausedTime,Jr=Kr/Zr;Jr<0&&(Jr=0),Jr=Math.min(Jr,1);var Qr=this.easingFunc,ti=Qr?Qr(Jr):Jr;if(this.onframe(ti),Jr===1)if(this.loop){var ei=Kr%Zr;this._startTime=Gr-ei,this._pausedTime=0,this.onrestart()}else return!0;return!1},Yr.prototype.pause=function(){this._paused=!0},Yr.prototype.resume=function(){this._paused=!1},Yr.prototype.setEasing=function(Gr){this.easing=Gr,this.easingFunc=Wi(Gr)?Gr:wg[Gr]||Dc(Gr)},Yr}(),jD=JY;var KD=function(){function Yr(Gr){this.value=Gr}return Yr}();var QY=function(){function Yr(){this._len=0}return Yr.prototype.insert=function(Gr){var Wr=new KD(Gr);return this.insertEntry(Wr),Wr},Yr.prototype.insertEntry=function(Gr){this.head?(this.tail.next=Gr,Gr.prev=this.tail,Gr.next=null,this.tail=Gr):this.head=this.tail=Gr,this._len++},Yr.prototype.remove=function(Gr){var Wr=Gr.prev,Zr=Gr.next;Wr?Wr.next=Zr:this.head=Zr,Zr?Zr.prev=Wr:this.tail=Wr,Gr.next=Gr.prev=null,this._len--},Yr.prototype.len=function(){return this._len},Yr.prototype.clear=function(){this.head=this.tail=null,this._len=0},Yr}();var t6=function(){function Yr(Gr){this._list=new QY,this._maxSize=10,this._map={},this._maxSize=Gr}return Yr.prototype.put=function(Gr,Wr){var Zr=this._list,Kr=this._map,Jr=null;if(Kr[Gr]==null){var Qr=Zr.len(),ti=this._lastRemovedEntry;if(Qr>=this._maxSize&&Qr>0){var ei=Zr.head;Zr.remove(ei),delete Kr[ei.key],Jr=ei.value,this._lastRemovedEntry=ei}ti?ti.value=Wr:ti=new KD(Wr),ti.key=Gr,Zr.insertEntry(ti),Kr[Gr]=ti}return Jr},Yr.prototype.get=function(Gr){var Wr=this._map[Gr],Zr=this._list;if(Wr!=null)return Wr!==Zr.tail&&(Zr.remove(Wr),Zr.insertEntry(Wr)),Wr.value},Yr.prototype.clear=function(){this._list.clear(),this._map={}},Yr.prototype.len=function(){return this._list.len()},Yr}(),nu=t6;var $D={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function js(Yr){return Yr=Math.round(Yr),Yr<0?0:Yr>255?255:Yr}function e6(Yr){return Yr=Math.round(Yr),Yr<0?0:Yr>360?360:Yr}function Id(Yr){return Yr<0?0:Yr>1?1:Yr}function Kb(Yr){var Gr=Yr;return Gr.length&&Gr.charAt(Gr.length-1)==="%"?js(parseFloat(Gr)/100*255):js(parseInt(Gr,10))}function oh(Yr){var Gr=Yr;return Gr.length&&Gr.charAt(Gr.length-1)==="%"?Id(parseFloat(Gr)/100):Id(parseFloat(Gr))}function $b(Yr,Gr,Wr){return Wr<0?Wr+=1:Wr>1&&(Wr-=1),Wr*6<1?Yr+(Gr-Yr)*Wr*6:Wr*2<1?Gr:Wr*3<2?Yr+(Gr-Yr)*(2/3-Wr)*6:Yr}function qu(Yr,Gr,Wr){return Yr+(Gr-Yr)*Wr}function ws(Yr,Gr,Wr,Zr,Kr){return Yr[0]=Gr,Yr[1]=Wr,Yr[2]=Zr,Yr[3]=Kr,Yr}function Jb(Yr,Gr){return Yr[0]=Gr[0],Yr[1]=Gr[1],Yr[2]=Gr[2],Yr[3]=Gr[3],Yr}var QD=new nu(20),Ig=null;function Ic(Yr,Gr){Ig&&Jb(Ig,Gr),Ig=QD.put(Yr,Ig||Gr.slice())}function qa(Yr,Gr){if(Yr){Gr=Gr||[];var Wr=QD.get(Yr);if(Wr)return Jb(Gr,Wr);Yr=Yr+"";var Zr=Yr.replace(/ /g,"").toLowerCase();if(Zr in $D)return Jb(Gr,$D[Zr]),Ic(Yr,Gr),Gr;var Kr=Zr.length;if(Zr.charAt(0)==="#"){if(Kr===4||Kr===5){var Jr=parseInt(Zr.slice(1,4),16);if(!(Jr>=0&&Jr<=4095)){ws(Gr,0,0,0,1);return}return ws(Gr,(Jr&3840)>>4|(Jr&3840)>>8,Jr&240|(Jr&240)>>4,Jr&15|(Jr&15)<<4,Kr===5?parseInt(Zr.slice(4),16)/15:1),Ic(Yr,Gr),Gr}else if(Kr===7||Kr===9){var Jr=parseInt(Zr.slice(1,7),16);if(!(Jr>=0&&Jr<=16777215)){ws(Gr,0,0,0,1);return}return ws(Gr,(Jr&16711680)>>16,(Jr&65280)>>8,Jr&255,Kr===9?parseInt(Zr.slice(7),16)/255:1),Ic(Yr,Gr),Gr}return}var Qr=Zr.indexOf("("),ti=Zr.indexOf(")");if(Qr!==-1&&ti+1===Kr){var ei=Zr.substr(0,Qr),ri=Zr.substr(Qr+1,ti-(Qr+1)).split(","),ii=1;switch(ei){case"rgba":if(ri.length!==4)return ri.length===3?ws(Gr,+ri[0],+ri[1],+ri[2],1):ws(Gr,0,0,0,1);ii=oh(ri.pop());case"rgb":if(ri.length>=3)return ws(Gr,Kb(ri[0]),Kb(ri[1]),Kb(ri[2]),ri.length===3?ii:oh(ri[3])),Ic(Yr,Gr),Gr;ws(Gr,0,0,0,1);return;case"hsla":if(ri.length!==4){ws(Gr,0,0,0,1);return}return ri[3]=oh(ri[3]),Qb(ri,Gr),Ic(Yr,Gr),Gr;case"hsl":if(ri.length!==3){ws(Gr,0,0,0,1);return}return Qb(ri,Gr),Ic(Yr,Gr),Gr;default:return}}ws(Gr,0,0,0,1)}}function Qb(Yr,Gr){var Wr=(parseFloat(Yr[0])%360+360)%360/360,Zr=oh(Yr[1]),Kr=oh(Yr[2]),Jr=Kr<=.5?Kr*(Zr+1):Kr+Zr-Kr*Zr,Qr=Kr*2-Jr;return Gr=Gr||[],ws(Gr,js($b(Qr,Jr,Wr+1/3)*255),js($b(Qr,Jr,Wr)*255),js($b(Qr,Jr,Wr-1/3)*255),1),Yr.length===4&&(Gr[3]=Yr[3]),Gr}function r6(Yr){if(Yr){var Gr=Yr[0]/255,Wr=Yr[1]/255,Zr=Yr[2]/255,Kr=Math.min(Gr,Wr,Zr),Jr=Math.max(Gr,Wr,Zr),Qr=Jr-Kr,ti=(Jr+Kr)/2,ei,ri;if(Qr===0)ei=0,ri=0;else{ti<.5?ri=Qr/(Jr+Kr):ri=Qr/(2-Jr-Kr);var ii=((Jr-Gr)/6+Qr/2)/Qr,ni=((Jr-Wr)/6+Qr/2)/Qr,ai=((Jr-Zr)/6+Qr/2)/Qr;Gr===Jr?ei=ai-ni:Wr===Jr?ei=1/3+ii-ai:Zr===Jr&&(ei=2/3+ni-ii),ei<0&&(ei+=1),ei>1&&(ei-=1)}var oi=[ei*360,ri,ti];return Yr[3]!=null&&oi.push(Yr[3]),oi}}function Lg(Yr,Gr){var Wr=qa(Yr);if(Wr){for(var Zr=0;Zr<3;Zr++)Gr<0?Wr[Zr]=Wr[Zr]*(1-Gr)|0:Wr[Zr]=(255-Wr[Zr])*Gr+Wr[Zr]|0,Wr[Zr]>255?Wr[Zr]=255:Wr[Zr]<0&&(Wr[Zr]=0);return Cs(Wr,Wr.length===4?"rgba":"rgb")}}function kg(Yr,Gr,Wr){if(!(!(Gr&&Gr.length)||!(Yr>=0&&Yr<=1))){Wr=Wr||[];var Zr=Yr*(Gr.length-1),Kr=Math.floor(Zr),Jr=Math.ceil(Zr),Qr=Gr[Kr],ti=Gr[Jr],ei=Zr-Kr;return Wr[0]=js(qu(Qr[0],ti[0],ei)),Wr[1]=js(qu(Qr[1],ti[1],ei)),Wr[2]=js(qu(Qr[2],ti[2],ei)),Wr[3]=Id(qu(Qr[3],ti[3],ei)),Wr}}function tI(Yr,Gr,Wr){if(!(!(Gr&&Gr.length)||!(Yr>=0&&Yr<=1))){var Zr=Yr*(Gr.length-1),Kr=Math.floor(Zr),Jr=Math.ceil(Zr),Qr=qa(Gr[Kr]),ti=qa(Gr[Jr]),ei=Zr-Kr,ri=Cs([js(qu(Qr[0],ti[0],ei)),js(qu(Qr[1],ti[1],ei)),js(qu(Qr[2],ti[2],ei)),Id(qu(Qr[3],ti[3],ei))],"rgba");return Wr?{color:ri,leftIndex:Kr,rightIndex:Jr,value:Zr}:ri}}function sh(Yr,Gr,Wr,Zr){var Kr=qa(Yr);if(Yr)return Kr=r6(Kr),Gr!=null&&(Kr[0]=e6(Gr)),Wr!=null&&(Kr[1]=oh(Wr)),Zr!=null&&(Kr[2]=oh(Zr)),Cs(Qb(Kr),"rgba")}function lh(Yr,Gr){var Wr=qa(Yr);if(Wr&&Gr!=null)return Wr[3]=Id(Gr),Cs(Wr,"rgba")}function Cs(Yr,Gr){if(!(!Yr||!Yr.length)){var Wr=Yr[0]+","+Yr[1]+","+Yr[2];return(Gr==="rgba"||Gr==="hsva"||Gr==="hsla")&&(Wr+=","+Yr[3]),Gr+"("+Wr+")"}}function Lc(Yr,Gr){var Wr=qa(Yr);return Wr?(.299*Wr[0]+.587*Wr[1]+.114*Wr[2])*Wr[3]/255+(1-Wr[3])*Gr:0}var JD=new nu(100);function Ld(Yr){if(Ni(Yr)){var Gr=JD.get(Yr);return Gr||(Gr=Lg(Yr,-.1),JD.put(Yr,Gr)),Gr}else if(Vu(Yr)){var Wr=ki({},Yr);return Wr.colorStops=Oi(Yr.colorStops,function(Zr){return{offset:Zr.offset,color:Lg(Zr.color,-.1)}}),Wr}return Yr}var Og=Math.round;function Zu(Yr){var Gr;if(!Yr||Yr==="transparent")Yr="none";else if(typeof Yr=="string"&&Yr.indexOf("rgba")>-1){var Wr=qa(Yr);Wr&&(Yr="rgb("+Wr[0]+","+Wr[1]+","+Wr[2]+")",Gr=Wr[3])}return{color:Yr,opacity:Gr??1}}var eI=1e-4;function Cl(Yr){return Yr<eI&&Yr>-eI}function Rg(Yr){return Og(Yr*1e3)/1e3}function zg(Yr){return Og(Yr*1e4)/1e4}function rI(Yr){return"matrix("+Rg(Yr[0])+","+Rg(Yr[1])+","+Rg(Yr[2])+","+Rg(Yr[3])+","+zg(Yr[4])+","+zg(Yr[5])+")"}var iI={left:"start",right:"end",center:"middle",middle:"middle"};function nI(Yr,Gr,Wr){return Wr==="top"?Yr+=Gr/2:Wr==="bottom"&&(Yr-=Gr/2),Yr}function aI(Yr){return Yr&&(Yr.shadowBlur||Yr.shadowOffsetX||Yr.shadowOffsetY)}function oI(Yr){var Gr=Yr.style,Wr=Yr.getGlobalScale();return[Gr.shadowColor,(Gr.shadowBlur||0).toFixed(2),(Gr.shadowOffsetX||0).toFixed(2),(Gr.shadowOffsetY||0).toFixed(2),Wr[0],Wr[1]].join(",")}function eS(Yr){return Yr&&!!Yr.image}function i6(Yr){return Yr&&!!Yr.svgElement}function kd(Yr){return eS(Yr)||i6(Yr)}function Ng(Yr){return Yr.type==="linear"}function Fg(Yr){return Yr.type==="radial"}function Vg(Yr){return Yr&&(Yr.type==="linear"||Yr.type==="radial")}function Rd(Yr){return"url(#"+Yr+")"}function Bg(Yr){var Gr=Yr.getGlobalScale(),Wr=Math.max(Gr[0],Gr[1]);return Math.max(Math.ceil(Math.log(Wr)/Math.log(10)),1)}function Ug(Yr){var Gr=Yr.x||0,Wr=Yr.y||0,Zr=(Yr.rotation||0)*wc,Kr=on(Yr.scaleX,1),Jr=on(Yr.scaleY,1),Qr=Yr.skewX||0,ti=Yr.skewY||0,ei=[];return(Gr||Wr)&&ei.push("translate("+Gr+"px,"+Wr+"px)"),Zr&&ei.push("rotate("+Zr+")"),(Kr!==1||Jr!==1)&&ei.push("scale("+Kr+","+Jr+")"),(Qr||ti)&&ei.push("skew("+Og(Qr*wc)+"deg, "+Og(ti*wc)+"deg)"),ei.join(" ")}var sI=function(){return Cn.hasGlobalWindow&&Wi(window.btoa)?function(Yr){return window.btoa(unescape(encodeURIComponent(Yr)))}:typeof Buffer<"u"?function(Yr){return Buffer.from(Yr).toString("base64")}:function(Yr){return null}}();var iS=Array.prototype.slice;function au(Yr,Gr,Wr){return(Gr-Yr)*Wr+Yr}function rS(Yr,Gr,Wr,Zr){for(var Kr=Gr.length,Jr=0;Jr<Kr;Jr++)Yr[Jr]=au(Gr[Jr],Wr[Jr],Zr);return Yr}function n6(Yr,Gr,Wr,Zr){for(var Kr=Gr.length,Jr=Kr&&Gr[0].length,Qr=0;Qr<Kr;Qr++){Yr[Qr]||(Yr[Qr]=[]);for(var ti=0;ti<Jr;ti++)Yr[Qr][ti]=au(Gr[Qr][ti],Wr[Qr][ti],Zr)}return Yr}function Gg(Yr,Gr,Wr,Zr){for(var Kr=Gr.length,Jr=0;Jr<Kr;Jr++)Yr[Jr]=Gr[Jr]+Wr[Jr]*Zr;return Yr}function lI(Yr,Gr,Wr,Zr){for(var Kr=Gr.length,Jr=Kr&&Gr[0].length,Qr=0;Qr<Kr;Qr++){Yr[Qr]||(Yr[Qr]=[]);for(var ti=0;ti<Jr;ti++)Yr[Qr][ti]=Gr[Qr][ti]+Wr[Qr][ti]*Zr}return Yr}function a6(Yr,Gr){for(var Wr=Yr.length,Zr=Gr.length,Kr=Wr>Zr?Gr:Yr,Jr=Math.min(Wr,Zr),Qr=Kr[Jr-1]||{color:[0,0,0,0],offset:0},ti=Jr;ti<Math.max(Wr,Zr);ti++)Kr.push({offset:Qr.offset,color:Qr.color.slice()})}function o6(Yr,Gr,Wr){var Zr=Yr,Kr=Gr;if(!(!Zr.push||!Kr.push)){var Jr=Zr.length,Qr=Kr.length;if(Jr!==Qr){var ti=Jr>Qr;if(ti)Zr.length=Qr;else for(var ei=Jr;ei<Qr;ei++)Zr.push(Wr===1?Kr[ei]:iS.call(Kr[ei]))}for(var ri=Zr[0]&&Zr[0].length,ei=0;ei<Zr.length;ei++)if(Wr===1)isNaN(Zr[ei])&&(Zr[ei]=Kr[ei]);else for(var ii=0;ii<ri;ii++)isNaN(Zr[ei][ii])&&(Zr[ei][ii]=Kr[ei][ii])}}function uh(Yr){if(va(Yr)){var Gr=Yr.length;if(va(Yr[0])){for(var Wr=[],Zr=0;Zr<Gr;Zr++)Wr.push(iS.call(Yr[Zr]));return Wr}return iS.call(Yr)}return Yr}function Yg(Yr){return Yr[0]=Math.floor(Yr[0])||0,Yr[1]=Math.floor(Yr[1])||0,Yr[2]=Math.floor(Yr[2])||0,Yr[3]=Yr[3]==null?1:Yr[3],"rgba("+Yr.join(",")+")"}function s6(Yr){return va(Yr&&Yr[0])?2:1}var Hg=0,Xg=1,hI=2,zd=3,nS=4,aS=5,uI=6;function fI(Yr){return Yr===nS||Yr===aS}function Wg(Yr){return Yr===Xg||Yr===hI}var Od=[0,0,0,0],l6=function(){function Yr(Gr){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=Gr}return Yr.prototype.isFinished=function(){return this._finished},Yr.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Yr.prototype.needsAnimate=function(){return this.keyframes.length>=1},Yr.prototype.getAdditiveTrack=function(){return this._additiveTrack},Yr.prototype.addKeyframe=function(Gr,Wr,Zr){this._needsSort=!0;var Kr=this.keyframes,Jr=Kr.length,Qr=!1,ti=uI,ei=Wr;if(va(Wr)){var ri=s6(Wr);ti=ri,(ri===1&&!gn(Wr[0])||ri===2&&!gn(Wr[0][0]))&&(Qr=!0)}else if(gn(Wr)&&!Bu(Wr))ti=Hg;else if(Ni(Wr))if(!isNaN(+Wr))ti=Hg;else{var ii=qa(Wr);ii&&(ei=ii,ti=zd)}else if(Vu(Wr)){var ni=ki({},ei);ni.colorStops=Oi(Wr.colorStops,function(oi){return{offset:oi.offset,color:qa(oi.color)}}),Ng(Wr)?ti=nS:Fg(Wr)&&(ti=aS),ei=ni}Jr===0?this.valType=ti:(ti!==this.valType||ti===uI)&&(Qr=!0),this.discrete=this.discrete||Qr;var ai={time:Gr,value:ei,rawValue:Wr,percent:0};return Zr&&(ai.easing=Zr,ai.easingFunc=Wi(Zr)?Zr:wg[Zr]||Dc(Zr)),Kr.push(ai),ai},Yr.prototype.prepare=function(Gr,Wr){var Zr=this.keyframes;this._needsSort&&Zr.sort(function(li,ui){return li.time-ui.time});for(var Kr=this.valType,Jr=Zr.length,Qr=Zr[Jr-1],ti=this.discrete,ei=Wg(Kr),ri=fI(Kr),ii=0;ii<Jr;ii++){var ni=Zr[ii],ai=ni.value,oi=Qr.value;ni.percent=ni.time/Gr,ti||(ei&&ii!==Jr-1?o6(ai,oi,Kr):ri&&a6(ai.colorStops,oi.colorStops))}if(!ti&&Kr!==aS&&Wr&&this.needsAnimate()&&Wr.needsAnimate()&&Kr===Wr.valType&&!Wr._finished){this._additiveTrack=Wr;for(var si=Zr[0].value,ii=0;ii<Jr;ii++)Kr===Hg?Zr[ii].additiveValue=Zr[ii].value-si:Kr===zd?Zr[ii].additiveValue=Gg([],Zr[ii].value,si,-1):Wg(Kr)&&(Zr[ii].additiveValue=Kr===Xg?Gg([],Zr[ii].value,si,-1):lI([],Zr[ii].value,si,-1))}},Yr.prototype.step=function(Gr,Wr){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var Zr=this._additiveTrack!=null,Kr=Zr?"additiveValue":"value",Jr=this.valType,Qr=this.keyframes,ti=Qr.length,ei=this.propName,ri=Jr===zd,ii,ni=this._lastFr,ai=Math.min,oi,si;if(ti===1)oi=si=Qr[0];else{if(Wr<0)ii=0;else if(Wr<this._lastFrP){var li=ai(ni+1,ti-1);for(ii=li;ii>=0&&!(Qr[ii].percent<=Wr);ii--);ii=ai(ii,ti-2)}else{for(ii=ni;ii<ti&&!(Qr[ii].percent>Wr);ii++);ii=ai(ii-1,ti-2)}si=Qr[ii+1],oi=Qr[ii]}if(oi&&si){this._lastFr=ii,this._lastFrP=Wr;var ui=si.percent-oi.percent,fi=ui===0?1:ai((Wr-oi.percent)/ui,1);si.easingFunc&&(fi=si.easingFunc(fi));var hi=Zr?this._additiveValue:ri?Od:Gr[ei];if((Wg(Jr)||ri)&&!hi&&(hi=this._additiveValue=[]),this.discrete)Gr[ei]=fi<1?oi.rawValue:si.rawValue;else if(Wg(Jr))Jr===Xg?rS(hi,oi[Kr],si[Kr],fi):n6(hi,oi[Kr],si[Kr],fi);else if(fI(Jr)){var ci=oi[Kr],pi=si[Kr],di=Jr===nS;Gr[ei]={type:di?"linear":"radial",x:au(ci.x,pi.x,fi),y:au(ci.y,pi.y,fi),colorStops:Oi(ci.colorStops,function(mi,gi){var yi=pi.colorStops[gi];return{offset:au(mi.offset,yi.offset,fi),color:Yg(rS([],mi.color,yi.color,fi))}}),global:pi.global},di?(Gr[ei].x2=au(ci.x2,pi.x2,fi),Gr[ei].y2=au(ci.y2,pi.y2,fi)):Gr[ei].r=au(ci.r,pi.r,fi)}else if(ri)rS(hi,oi[Kr],si[Kr],fi),Zr||(Gr[ei]=Yg(hi));else{var vi=au(oi[Kr],si[Kr],fi);Zr?this._additiveValue=vi:Gr[ei]=vi}Zr&&this._addToTarget(Gr)}}},Yr.prototype._addToTarget=function(Gr){var Wr=this.valType,Zr=this.propName,Kr=this._additiveValue;Wr===Hg?Gr[Zr]=Gr[Zr]+Kr:Wr===zd?(qa(Gr[Zr],Od),Gg(Od,Od,Kr,1),Gr[Zr]=Yg(Od)):Wr===Xg?Gg(Gr[Zr],Gr[Zr],Kr,1):Wr===hI&&lI(Gr[Zr],Gr[Zr],Kr,1)},Yr}(),u6=function(){function Yr(Gr,Wr,Zr,Kr){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=Gr,this._loop=Wr,Wr&&Kr){Kf("Can' use additive animation on looped animation.");return}this._additiveAnimators=Kr,this._allowDiscrete=Zr}return Yr.prototype.getMaxTime=function(){return this._maxTime},Yr.prototype.getDelay=function(){return this._delay},Yr.prototype.getLoop=function(){return this._loop},Yr.prototype.getTarget=function(){return this._target},Yr.prototype.changeTarget=function(Gr){this._target=Gr},Yr.prototype.when=function(Gr,Wr,Zr){return this.whenWithKeys(Gr,Wr,fn(Wr),Zr)},Yr.prototype.whenWithKeys=function(Gr,Wr,Zr,Kr){for(var Jr=this._tracks,Qr=0;Qr<Zr.length;Qr++){var ti=Zr[Qr],ei=Jr[ti];if(!ei){ei=Jr[ti]=new l6(ti);var ri=void 0,ii=this._getAdditiveTrack(ti);if(ii){var ni=ii.keyframes,ai=ni[ni.length-1];ri=ai&&ai.value,ii.valType===zd&&ri&&(ri=Yg(ri))}else ri=this._target[ti];if(ri==null)continue;Gr>0&&ei.addKeyframe(0,uh(ri),Kr),this._trackKeys.push(ti)}ei.addKeyframe(Gr,uh(Wr[ti]),Kr)}return this._maxTime=Math.max(this._maxTime,Gr),this},Yr.prototype.pause=function(){this._clip.pause(),this._paused=!0},Yr.prototype.resume=function(){this._clip.resume(),this._paused=!1},Yr.prototype.isPaused=function(){return!!this._paused},Yr.prototype.duration=function(Gr){return this._maxTime=Gr,this._force=!0,this},Yr.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var Gr=this._doneCbs;if(Gr)for(var Wr=Gr.length,Zr=0;Zr<Wr;Zr++)Gr[Zr].call(this)},Yr.prototype._abortedCallback=function(){this._setTracksFinished();var Gr=this.animation,Wr=this._abortedCbs;if(Gr&&Gr.removeClip(this._clip),this._clip=null,Wr)for(var Zr=0;Zr<Wr.length;Zr++)Wr[Zr].call(this)},Yr.prototype._setTracksFinished=function(){for(var Gr=this._tracks,Wr=this._trackKeys,Zr=0;Zr<Wr.length;Zr++)Gr[Wr[Zr]].setFinished()},Yr.prototype._getAdditiveTrack=function(Gr){var Wr,Zr=this._additiveAnimators;if(Zr)for(var Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr].getTrack(Gr);Jr&&(Wr=Jr)}return Wr},Yr.prototype.start=function(Gr){if(!(this._started>0)){this._started=1;for(var Wr=this,Zr=[],Kr=this._maxTime||0,Jr=0;Jr<this._trackKeys.length;Jr++){var Qr=this._trackKeys[Jr],ti=this._tracks[Qr],ei=this._getAdditiveTrack(Qr),ri=ti.keyframes,ii=ri.length;if(ti.prepare(Kr,ei),ti.needsAnimate())if(!this._allowDiscrete&&ti.discrete){var ni=ri[ii-1];ni&&(Wr._target[ti.propName]=ni.rawValue),ti.setFinished()}else Zr.push(ti)}if(Zr.length||this._force){var ai=new jD({life:Kr,loop:this._loop,delay:this._delay||0,onframe:function(oi){Wr._started=2;var si=Wr._additiveAnimators;if(si){for(var li=!1,ui=0;ui<si.length;ui++)if(si[ui]._clip){li=!0;break}li||(Wr._additiveAnimators=null)}for(var ui=0;ui<Zr.length;ui++)Zr[ui].step(Wr._target,oi);var fi=Wr._onframeCbs;if(fi)for(var ui=0;ui<fi.length;ui++)fi[ui](Wr._target,oi)},ondestroy:function(){Wr._doneCallback()}});this._clip=ai,this.animation&&this.animation.addClip(ai),Gr&&ai.setEasing(Gr)}else this._doneCallback();return this}},Yr.prototype.stop=function(Gr){if(this._clip){var Wr=this._clip;Gr&&Wr.onframe(1),this._abortedCallback()}},Yr.prototype.delay=function(Gr){return this._delay=Gr,this},Yr.prototype.during=function(Gr){return Gr&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(Gr)),this},Yr.prototype.done=function(Gr){return Gr&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(Gr)),this},Yr.prototype.aborted=function(Gr){return Gr&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(Gr)),this},Yr.prototype.getClip=function(){return this._clip},Yr.prototype.getTrack=function(Gr){return this._tracks[Gr]},Yr.prototype.getTracks=function(){var Gr=this;return Oi(this._trackKeys,function(Wr){return Gr._tracks[Wr]})},Yr.prototype.stopTracks=function(Gr,Wr){if(!Gr.length||!this._clip)return!0;for(var Zr=this._tracks,Kr=this._trackKeys,Jr=0;Jr<Gr.length;Jr++){var Qr=Zr[Gr[Jr]];Qr&&!Qr.isFinished()&&(Wr?Qr.step(this._target,1):this._started===1&&Qr.step(this._target,0),Qr.setFinished())}for(var ti=!0,Jr=0;Jr<Kr.length;Jr++)if(!Zr[Kr[Jr]].isFinished()){ti=!1;break}return ti&&this._abortedCallback(),ti},Yr.prototype.saveTo=function(Gr,Wr,Zr){if(Gr){Wr=Wr||this._trackKeys;for(var Kr=0;Kr<Wr.length;Kr++){var Jr=Wr[Kr],Qr=this._tracks[Jr];if(!(!Qr||Qr.isFinished())){var ti=Qr.keyframes,ei=ti[Zr?0:ti.length-1];ei&&(Gr[Jr]=uh(ei.rawValue))}}}},Yr.prototype.__changeFinalValue=function(Gr,Wr){Wr=Wr||fn(Gr);for(var Zr=0;Zr<Wr.length;Zr++){var Kr=Wr[Zr],Jr=this._tracks[Kr];if(Jr){var Qr=Jr.keyframes;if(Qr.length>1){var ti=Qr.pop();Jr.addKeyframe(ti.time,Gr[Kr]),Jr.prepare(this._maxTime,Jr.getAdditiveTrack())}}}},Yr}(),Nd=u6;function fh(){return new Date().getTime()}var f6=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this)||this;return Zr._running=!1,Zr._time=0,Zr._pausedTime=0,Zr._pauseStart=0,Zr._paused=!1,Wr=Wr||{},Zr.stage=Wr.stage||{},Zr}return Gr.prototype.addClip=function(Wr){Wr.animation&&this.removeClip(Wr),this._head?(this._tail.next=Wr,Wr.prev=this._tail,Wr.next=null,this._tail=Wr):this._head=this._tail=Wr,Wr.animation=this},Gr.prototype.addAnimator=function(Wr){Wr.animation=this;var Zr=Wr.getClip();Zr&&this.addClip(Zr)},Gr.prototype.removeClip=function(Wr){if(Wr.animation){var Zr=Wr.prev,Kr=Wr.next;Zr?Zr.next=Kr:this._head=Kr,Kr?Kr.prev=Zr:this._tail=Zr,Wr.next=Wr.prev=Wr.animation=null}},Gr.prototype.removeAnimator=function(Wr){var Zr=Wr.getClip();Zr&&this.removeClip(Zr),Wr.animation=null},Gr.prototype.update=function(Wr){for(var Zr=fh()-this._pausedTime,Kr=Zr-this._time,Jr=this._head;Jr;){var Qr=Jr.next,ti=Jr.step(Zr,Kr);ti&&(Jr.ondestroy(),this.removeClip(Jr)),Jr=Qr}this._time=Zr,Wr||(this.trigger("frame",Kr),this.stage.update&&this.stage.update())},Gr.prototype._startLoop=function(){var Wr=this;this._running=!0;function Zr(){Wr._running&&(Pd(Zr),!Wr._paused&&Wr.update())}Pd(Zr)},Gr.prototype.start=function(){this._running||(this._time=fh(),this._pausedTime=0,this._startLoop())},Gr.prototype.stop=function(){this._running=!1},Gr.prototype.pause=function(){this._paused||(this._pauseStart=fh(),this._paused=!0)},Gr.prototype.resume=function(){this._paused&&(this._pausedTime+=fh()-this._pauseStart,this._paused=!1)},Gr.prototype.clear=function(){for(var Wr=this._head;Wr;){var Zr=Wr.next;Wr.prev=Wr.next=Wr.animation=null,Wr=Zr}this._head=this._tail=null},Gr.prototype.isFinished=function(){return this._head==null},Gr.prototype.animate=function(Wr,Zr){Zr=Zr||{},this.start();var Kr=new Nd(Wr,Zr.loop);return this.addAnimator(Kr),Kr},Gr}(Ia),cI=f6;var h6=300,oS=Cn.domSupported,sS=function(){var Yr=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Gr=["touchstart","touchend","touchmove"],Wr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Zr=Oi(Yr,function(Kr){var Jr=Kr.replace("mouse","pointer");return Wr.hasOwnProperty(Jr)?Jr:Kr});return{mouse:Yr,touch:Gr,pointer:Zr}}(),pI={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},dI=!1;function fS(Yr){var Gr=Yr.pointerType;return Gr==="pen"||Gr==="touch"}function c6(Yr){Yr.touching=!0,Yr.touchTimer!=null&&(clearTimeout(Yr.touchTimer),Yr.touchTimer=null),Yr.touchTimer=setTimeout(function(){Yr.touching=!1,Yr.touchTimer=null},700)}function lS(Yr){Yr&&(Yr.zrByTouch=!0)}function p6(Yr,Gr){return ko(Yr.dom,new d6(Yr,Gr),!0)}function mI(Yr,Gr){for(var Wr=Gr,Zr=!1;Wr&&Wr.nodeType!==9&&!(Zr=Wr.domBelongToZr||Wr!==Gr&&Wr===Yr.painterRoot);)Wr=Wr.parentNode;return Zr}var d6=function(){function Yr(Gr,Wr){this.stopPropagation=qn,this.stopImmediatePropagation=qn,this.preventDefault=qn,this.type=Wr.type,this.target=this.currentTarget=Gr.dom,this.pointerType=Wr.pointerType,this.clientX=Wr.clientX,this.clientY=Wr.clientY}return Yr}(),Ks={mousedown:function(Yr){Yr=ko(this.dom,Yr),this.__mayPointerCapture=[Yr.zrX,Yr.zrY],this.trigger("mousedown",Yr)},mousemove:function(Yr){Yr=ko(this.dom,Yr);var Gr=this.__mayPointerCapture;Gr&&(Yr.zrX!==Gr[0]||Yr.zrY!==Gr[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Yr)},mouseup:function(Yr){Yr=ko(this.dom,Yr),this.__togglePointerCapture(!1),this.trigger("mouseup",Yr)},mouseout:function(Yr){Yr=ko(this.dom,Yr);var Gr=Yr.toElement||Yr.relatedTarget;mI(this,Gr)||(this.__pointerCapturing&&(Yr.zrEventControl="no_globalout"),this.trigger("mouseout",Yr))},wheel:function(Yr){dI=!0,Yr=ko(this.dom,Yr),this.trigger("mousewheel",Yr)},mousewheel:function(Yr){dI||(Yr=ko(this.dom,Yr),this.trigger("mousewheel",Yr))},touchstart:function(Yr){Yr=ko(this.dom,Yr),lS(Yr),this.__lastTouchMoment=new Date,this.handler.processGesture(Yr,"start"),Ks.mousemove.call(this,Yr),Ks.mousedown.call(this,Yr)},touchmove:function(Yr){Yr=ko(this.dom,Yr),lS(Yr),this.handler.processGesture(Yr,"change"),Ks.mousemove.call(this,Yr)},touchend:function(Yr){Yr=ko(this.dom,Yr),lS(Yr),this.handler.processGesture(Yr,"end"),Ks.mouseup.call(this,Yr),+new Date-+this.__lastTouchMoment<h6&&Ks.click.call(this,Yr)},pointerdown:function(Yr){Ks.mousedown.call(this,Yr)},pointermove:function(Yr){fS(Yr)||Ks.mousemove.call(this,Yr)},pointerup:function(Yr){Ks.mouseup.call(this,Yr)},pointerout:function(Yr){fS(Yr)||Ks.mouseout.call(this,Yr)}};_i(["click","dblclick","contextmenu"],function(Yr){Ks[Yr]=function(Gr){Gr=ko(this.dom,Gr),this.trigger(Yr,Gr)}});var hS={pointermove:function(Yr){fS(Yr)||hS.mousemove.call(this,Yr)},pointerup:function(Yr){hS.mouseup.call(this,Yr)},mousemove:function(Yr){this.trigger("mousemove",Yr)},mouseup:function(Yr){var Gr=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Yr),Gr&&(Yr.zrEventControl="only_globalout",this.trigger("mouseout",Yr))}};function v6(Yr,Gr){var Wr=Gr.domHandlers;Cn.pointerEventsSupported?_i(sS.pointer,function(Zr){qg(Gr,Zr,function(Kr){Wr[Zr].call(Yr,Kr)})}):(Cn.touchEventsSupported&&_i(sS.touch,function(Zr){qg(Gr,Zr,function(Kr){Wr[Zr].call(Yr,Kr),c6(Gr)})}),_i(sS.mouse,function(Zr){qg(Gr,Zr,function(Kr){Kr=xg(Kr),Gr.touching||Wr[Zr].call(Yr,Kr)})}))}function m6(Yr,Gr){Cn.pointerEventsSupported?_i(pI.pointer,Wr):Cn.touchEventsSupported||_i(pI.mouse,Wr);function Wr(Zr){function Kr(Jr){Jr=xg(Jr),mI(Yr,Jr.target)||(Jr=p6(Yr,Jr),Gr.domHandlers[Zr].call(Yr,Jr))}qg(Gr,Zr,Kr,{capture:!0})}}function qg(Yr,Gr,Wr,Zr){Yr.mounted[Gr]=Wr,Yr.listenerOpts[Gr]=Zr,Sd(Yr.domTarget,Gr,Wr,Zr)}function uS(Yr){var Gr=Yr.mounted;for(var Wr in Gr)Gr.hasOwnProperty(Wr)&&MD(Yr.domTarget,Wr,Gr[Wr],Yr.listenerOpts[Wr]);Yr.mounted={}}var vI=function(){function Yr(Gr,Wr){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Gr,this.domHandlers=Wr}return Yr}(),g6=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr){var Kr=Yr.call(this)||this;return Kr.__pointerCapturing=!1,Kr.dom=Wr,Kr.painterRoot=Zr,Kr._localHandlerScope=new vI(Wr,Ks),oS&&(Kr._globalHandlerScope=new vI(document,hS)),v6(Kr,Kr._localHandlerScope),Kr}return Gr.prototype.dispose=function(){uS(this._localHandlerScope),oS&&uS(this._globalHandlerScope)},Gr.prototype.setCursor=function(Wr){this.dom.style&&(this.dom.style.cursor=Wr||"default")},Gr.prototype.__togglePointerCapture=function(Wr){if(this.__mayPointerCapture=null,oS&&+this.__pointerCapturing^+Wr){this.__pointerCapturing=Wr;var Zr=this._globalHandlerScope;Wr?m6(this,Zr):uS(Zr)}},Gr}(Ia),gI=g6;var yI=1;Cn.hasGlobalWindow&&(yI=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var hh=yI,Fd=.4,Vd="#333",Bd="#ccc",xI="#eee";var _I=Gu,bI=5e-5;function ch(Yr){return Yr>bI||Yr<-bI}var ph=[],kc=[],cS=Aa(),pS=Math.abs,y6=function(){function Yr(){}return Yr.prototype.getLocalTransform=function(Gr){return Yr.getLocalTransform(this,Gr)},Yr.prototype.setPosition=function(Gr){this.x=Gr[0],this.y=Gr[1]},Yr.prototype.setScale=function(Gr){this.scaleX=Gr[0],this.scaleY=Gr[1]},Yr.prototype.setSkew=function(Gr){this.skewX=Gr[0],this.skewY=Gr[1]},Yr.prototype.setOrigin=function(Gr){this.originX=Gr[0],this.originY=Gr[1]},Yr.prototype.needLocalTransform=function(){return ch(this.rotation)||ch(this.x)||ch(this.y)||ch(this.scaleX-1)||ch(this.scaleY-1)||ch(this.skewX)||ch(this.skewY)},Yr.prototype.updateTransform=function(){var Gr=this.parent&&this.parent.transform,Wr=this.needLocalTransform(),Zr=this.transform;if(!(Wr||Gr)){Zr&&(_I(Zr),this.invTransform=null);return}Zr=Zr||Aa(),Wr?this.getLocalTransform(Zr):_I(Zr),Gr&&(Wr?Oo(Zr,Gr,Zr):wd(Zr,Gr)),this.transform=Zr,this._resolveGlobalScaleRatio(Zr)},Yr.prototype._resolveGlobalScaleRatio=function(Gr){var Wr=this.globalScaleRatio;if(Wr!=null&&Wr!==1){this.getGlobalScale(ph);var Zr=ph[0]<0?-1:1,Kr=ph[1]<0?-1:1,Jr=((ph[0]-Zr)*Wr+Zr)/ph[0]||0,Qr=((ph[1]-Kr)*Wr+Kr)/ph[1]||0;Gr[0]*=Jr,Gr[1]*=Jr,Gr[2]*=Qr,Gr[3]*=Qr}this.invTransform=this.invTransform||Aa(),_s(this.invTransform,Gr)},Yr.prototype.getComputedTransform=function(){for(var Gr=this,Wr=[];Gr;)Wr.push(Gr),Gr=Gr.parent;for(;Gr=Wr.pop();)Gr.updateTransform();return this.transform},Yr.prototype.setLocalTransform=function(Gr){if(Gr){var Wr=Gr[0]*Gr[0]+Gr[1]*Gr[1],Zr=Gr[2]*Gr[2]+Gr[3]*Gr[3],Kr=Math.atan2(Gr[1],Gr[0]),Jr=Math.PI/2+Kr-Math.atan2(Gr[3],Gr[2]);Zr=Math.sqrt(Zr)*Math.cos(Jr),Wr=Math.sqrt(Wr),this.skewX=Jr,this.skewY=0,this.rotation=-Kr,this.x=+Gr[4],this.y=+Gr[5],this.scaleX=Wr,this.scaleY=Zr,this.originX=0,this.originY=0}},Yr.prototype.decomposeTransform=function(){if(this.transform){var Gr=this.parent,Wr=this.transform;Gr&&Gr.transform&&(Gr.invTransform=Gr.invTransform||Aa(),Oo(kc,Gr.invTransform,Wr),Wr=kc);var Zr=this.originX,Kr=this.originY;(Zr||Kr)&&(cS[4]=Zr,cS[5]=Kr,Oo(kc,Wr,cS),kc[4]-=Zr,kc[5]-=Kr,Wr=kc),this.setLocalTransform(Wr)}},Yr.prototype.getGlobalScale=function(Gr){var Wr=this.transform;return Gr=Gr||[],Wr?(Gr[0]=Math.sqrt(Wr[0]*Wr[0]+Wr[1]*Wr[1]),Gr[1]=Math.sqrt(Wr[2]*Wr[2]+Wr[3]*Wr[3]),Wr[0]<0&&(Gr[0]=-Gr[0]),Wr[3]<0&&(Gr[1]=-Gr[1]),Gr):(Gr[0]=1,Gr[1]=1,Gr)},Yr.prototype.transformCoordToLocal=function(Gr,Wr){var Zr=[Gr,Wr],Kr=this.invTransform;return Kr&&ma(Zr,Zr,Kr),Zr},Yr.prototype.transformCoordToGlobal=function(Gr,Wr){var Zr=[Gr,Wr],Kr=this.transform;return Kr&&ma(Zr,Zr,Kr),Zr},Yr.prototype.getLineScale=function(){var Gr=this.transform;return Gr&&pS(Gr[0]-1)>1e-10&&pS(Gr[3]-1)>1e-10?Math.sqrt(pS(Gr[0]*Gr[3]-Gr[2]*Gr[1])):1},Yr.prototype.copyTransform=function(Gr){dS(this,Gr)},Yr.getLocalTransform=function(Gr,Wr){Wr=Wr||[];var Zr=Gr.originX||0,Kr=Gr.originY||0,Jr=Gr.scaleX,Qr=Gr.scaleY,ti=Gr.anchorX,ei=Gr.anchorY,ri=Gr.rotation||0,ii=Gr.x,ni=Gr.y,ai=Gr.skewX?Math.tan(Gr.skewX):0,oi=Gr.skewY?Math.tan(-Gr.skewY):0;if(Zr||Kr||ti||ei){var si=Zr+ti,li=Kr+ei;Wr[4]=-si*Jr-ai*li*Qr,Wr[5]=-li*Qr-oi*si*Jr}else Wr[4]=Wr[5]=0;return Wr[0]=Jr,Wr[3]=Qr,Wr[1]=oi*Jr,Wr[2]=ai*Qr,ri&&zo(Wr,Wr,ri),Wr[4]+=Zr+ii,Wr[5]+=Kr+ni,Wr},Yr.initDefaultProps=function(){var Gr=Yr.prototype;Gr.scaleX=Gr.scaleY=Gr.globalScaleRatio=1,Gr.x=Gr.y=Gr.originX=Gr.originY=Gr.skewX=Gr.skewY=Gr.rotation=Gr.anchorX=Gr.anchorY=0}(),Yr}(),ss=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function dS(Yr,Gr){for(var Wr=0;Wr<ss.length;Wr++){var Zr=ss[Wr];Yr[Zr]=Gr[Zr]}}var No=y6;var SI={};function Fo(Yr,Gr){Gr=Gr||is;var Wr=SI[Gr];Wr||(Wr=SI[Gr]=new nu(500));var Zr=Wr.get(Yr);return Zr==null&&(Zr=fo.measureText(Yr,Gr).width,Wr.put(Yr,Zr)),Zr}function wI(Yr,Gr,Wr,Zr){var Kr=Fo(Yr,Gr),Jr=Oc(Gr),Qr=Rc(0,Kr,Wr),ti=dh(0,Jr,Zr),ei=new rn(Qr,ti,Kr,Jr);return ei}function Tl(Yr,Gr,Wr,Zr){var Kr=((Yr||"")+"").split(`
`),Jr=Kr.length;if(Jr===1)return wI(Kr[0],Gr,Wr,Zr);for(var Qr=new rn(0,0,0,0),ti=0;ti<Kr.length;ti++){var ei=wI(Kr[ti],Gr,Wr,Zr);ti===0?Qr.copy(ei):Qr.union(ei)}return Qr}function Rc(Yr,Gr,Wr){return Wr==="right"?Yr-=Gr:Wr==="center"&&(Yr-=Gr/2),Yr}function dh(Yr,Gr,Wr){return Wr==="middle"?Yr-=Gr/2:Wr==="bottom"&&(Yr-=Gr),Yr}function Oc(Yr){return Fo("\u56FD",Yr)}function eo(Yr,Gr){return typeof Yr=="string"?Yr.lastIndexOf("%")>=0?parseFloat(Yr)/100*Gr:parseFloat(Yr):Yr}function vh(Yr,Gr,Wr){var Zr=Gr.position||"inside",Kr=Gr.distance!=null?Gr.distance:5,Jr=Wr.height,Qr=Wr.width,ti=Jr/2,ei=Wr.x,ri=Wr.y,ii="left",ni="top";if(Zr instanceof Array)ei+=eo(Zr[0],Wr.width),ri+=eo(Zr[1],Wr.height),ii=null,ni=null;else switch(Zr){case"left":ei-=Kr,ri+=ti,ii="right",ni="middle";break;case"right":ei+=Kr+Qr,ri+=ti,ni="middle";break;case"top":ei+=Qr/2,ri-=Kr,ii="center",ni="bottom";break;case"bottom":ei+=Qr/2,ri+=Jr+Kr,ii="center";break;case"inside":ei+=Qr/2,ri+=ti,ii="center",ni="middle";break;case"insideLeft":ei+=Kr,ri+=ti,ni="middle";break;case"insideRight":ei+=Qr-Kr,ri+=ti,ii="right",ni="middle";break;case"insideTop":ei+=Qr/2,ri+=Kr,ii="center";break;case"insideBottom":ei+=Qr/2,ri+=Jr-Kr,ii="center",ni="bottom";break;case"insideTopLeft":ei+=Kr,ri+=Kr;break;case"insideTopRight":ei+=Qr-Kr,ri+=Kr,ii="right";break;case"insideBottomLeft":ei+=Kr,ri+=Jr-Kr,ni="bottom";break;case"insideBottomRight":ei+=Qr-Kr,ri+=Jr-Kr,ii="right",ni="bottom";break}return Yr=Yr||{},Yr.x=ei,Yr.y=ri,Yr.align=ii,Yr.verticalAlign=ni,Yr}var vS="__zr_normal__",mS=ss.concat(["ignore"]),x6=Ja(ss,function(Yr,Gr){return Yr[Gr]=!0,Yr},{ignore:!1}),zc={},_6=new rn(0,0,0,0),xS=function(){function Yr(Gr){this.id=cg(),this.animators=[],this.currentStates=[],this.states={},this._init(Gr)}return Yr.prototype._init=function(Gr){this.attr(Gr)},Yr.prototype.drift=function(Gr,Wr,Zr){switch(this.draggable){case"horizontal":Wr=0;break;case"vertical":Gr=0;break}var Kr=this.transform;Kr||(Kr=this.transform=[1,0,0,1,0,0]),Kr[4]+=Gr,Kr[5]+=Wr,this.decomposeTransform(),this.markRedraw()},Yr.prototype.beforeUpdate=function(){},Yr.prototype.afterUpdate=function(){},Yr.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Yr.prototype.updateInnerText=function(Gr){var Wr=this._textContent;if(Wr&&(!Wr.ignore||Gr)){this.textConfig||(this.textConfig={});var Zr=this.textConfig,Kr=Zr.local,Jr=Wr.innerTransformable,Qr=void 0,ti=void 0,ei=!1;Jr.parent=Kr?this:null;var ri=!1;if(Jr.copyTransform(Wr),Zr.position!=null){var ii=_6;Zr.layoutRect?ii.copy(Zr.layoutRect):ii.copy(this.getBoundingRect()),Kr||ii.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(zc,Zr,ii):vh(zc,Zr,ii),Jr.x=zc.x,Jr.y=zc.y,Qr=zc.align,ti=zc.verticalAlign;var ni=Zr.origin;if(ni&&Zr.rotation!=null){var ai=void 0,oi=void 0;ni==="center"?(ai=ii.width*.5,oi=ii.height*.5):(ai=eo(ni[0],ii.width),oi=eo(ni[1],ii.height)),ri=!0,Jr.originX=-Jr.x+ai+(Kr?0:ii.x),Jr.originY=-Jr.y+oi+(Kr?0:ii.y)}}Zr.rotation!=null&&(Jr.rotation=Zr.rotation);var si=Zr.offset;si&&(Jr.x+=si[0],Jr.y+=si[1],ri||(Jr.originX=-si[0],Jr.originY=-si[1]));var li=Zr.inside==null?typeof Zr.position=="string"&&Zr.position.indexOf("inside")>=0:Zr.inside,ui=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),fi=void 0,hi=void 0,ci=void 0;li&&this.canBeInsideText()?(fi=Zr.insideFill,hi=Zr.insideStroke,(fi==null||fi==="auto")&&(fi=this.getInsideTextFill()),(hi==null||hi==="auto")&&(hi=this.getInsideTextStroke(fi),ci=!0)):(fi=Zr.outsideFill,hi=Zr.outsideStroke,(fi==null||fi==="auto")&&(fi=this.getOutsideFill()),(hi==null||hi==="auto")&&(hi=this.getOutsideStroke(fi),ci=!0)),fi=fi||"#000",(fi!==ui.fill||hi!==ui.stroke||ci!==ui.autoStroke||Qr!==ui.align||ti!==ui.verticalAlign)&&(ei=!0,ui.fill=fi,ui.stroke=hi,ui.autoStroke=ci,ui.align=Qr,ui.verticalAlign=ti,Wr.setDefaultTextStyle(ui)),Wr.__dirty|=Ra,ei&&Wr.dirtyStyle(!0)}},Yr.prototype.canBeInsideText=function(){return!0},Yr.prototype.getInsideTextFill=function(){return"#fff"},Yr.prototype.getInsideTextStroke=function(Gr){return"#000"},Yr.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Bd:Vd},Yr.prototype.getOutsideStroke=function(Gr){var Wr=this.__zr&&this.__zr.getBackgroundColor(),Zr=typeof Wr=="string"&&qa(Wr);Zr||(Zr=[255,255,255,1]);for(var Kr=Zr[3],Jr=this.__zr.isDarkMode(),Qr=0;Qr<3;Qr++)Zr[Qr]=Zr[Qr]*Kr+(Jr?0:255)*(1-Kr);return Zr[3]=1,Cs(Zr,"rgba")},Yr.prototype.traverse=function(Gr,Wr){},Yr.prototype.attrKV=function(Gr,Wr){Gr==="textConfig"?this.setTextConfig(Wr):Gr==="textContent"?this.setTextContent(Wr):Gr==="clipPath"?this.setClipPath(Wr):Gr==="extra"?(this.extra=this.extra||{},ki(this.extra,Wr)):this[Gr]=Wr},Yr.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Yr.prototype.show=function(){this.ignore=!1,this.markRedraw()},Yr.prototype.attr=function(Gr,Wr){if(typeof Gr=="string")this.attrKV(Gr,Wr);else if(qi(Gr))for(var Zr=Gr,Kr=fn(Zr),Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr];this.attrKV(Qr,Gr[Qr])}return this.markRedraw(),this},Yr.prototype.saveCurrentToNormalState=function(Gr){this._innerSaveToNormal(Gr);for(var Wr=this._normalState,Zr=0;Zr<this.animators.length;Zr++){var Kr=this.animators[Zr],Jr=Kr.__fromStateTransition;if(!(Kr.getLoop()||Jr&&Jr!==vS)){var Qr=Kr.targetName,ti=Qr?Wr[Qr]:Wr;Kr.saveTo(ti)}}},Yr.prototype._innerSaveToNormal=function(Gr){var Wr=this._normalState;Wr||(Wr=this._normalState={}),Gr.textConfig&&!Wr.textConfig&&(Wr.textConfig=this.textConfig),this._savePrimaryToNormal(Gr,Wr,mS)},Yr.prototype._savePrimaryToNormal=function(Gr,Wr,Zr){for(var Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Gr[Jr]!=null&&!(Jr in Wr)&&(Wr[Jr]=this[Jr])}},Yr.prototype.hasState=function(){return this.currentStates.length>0},Yr.prototype.getState=function(Gr){return this.states[Gr]},Yr.prototype.ensureState=function(Gr){var Wr=this.states;return Wr[Gr]||(Wr[Gr]={}),Wr[Gr]},Yr.prototype.clearStates=function(Gr){this.useState(vS,!1,Gr)},Yr.prototype.useState=function(Gr,Wr,Zr,Kr){var Jr=Gr===vS,Qr=this.hasState();if(!(!Qr&&Jr)){var ti=this.currentStates,ei=this.stateTransition;if(!(sn(ti,Gr)>=0&&(Wr||ti.length===1))){var ri;if(this.stateProxy&&!Jr&&(ri=this.stateProxy(Gr)),ri||(ri=this.states&&this.states[Gr]),!ri&&!Jr){Kf("State "+Gr+" not exists.");return}Jr||this.saveCurrentToNormalState(ri);var ii=!!(ri&&ri.hoverLayer||Kr);ii&&this._toggleHoverLayerFlag(!0),this._applyStateObj(Gr,ri,this._normalState,Wr,!Zr&&!this.__inHover&&ei&&ei.duration>0,ei);var ni=this._textContent,ai=this._textGuide;return ni&&ni.useState(Gr,Wr,Zr,ii),ai&&ai.useState(Gr,Wr,Zr,ii),Jr?(this.currentStates=[],this._normalState={}):Wr?this.currentStates.push(Gr):this.currentStates=[Gr],this._updateAnimationTargets(),this.markRedraw(),!ii&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ra),ri}}},Yr.prototype.useStates=function(Gr,Wr,Zr){if(!Gr.length)this.clearStates();else{var Kr=[],Jr=this.currentStates,Qr=Gr.length,ti=Qr===Jr.length;if(ti){for(var ei=0;ei<Qr;ei++)if(Gr[ei]!==Jr[ei]){ti=!1;break}}if(ti)return;for(var ei=0;ei<Qr;ei++){var ri=Gr[ei],ii=void 0;this.stateProxy&&(ii=this.stateProxy(ri,Gr)),ii||(ii=this.states[ri]),ii&&Kr.push(ii)}var ni=Kr[Qr-1],ai=!!(ni&&ni.hoverLayer||Zr);ai&&this._toggleHoverLayerFlag(!0);var oi=this._mergeStates(Kr),si=this.stateTransition;this.saveCurrentToNormalState(oi),this._applyStateObj(Gr.join(","),oi,this._normalState,!1,!Wr&&!this.__inHover&&si&&si.duration>0,si);var li=this._textContent,ui=this._textGuide;li&&li.useStates(Gr,Wr,ai),ui&&ui.useStates(Gr,Wr,ai),this._updateAnimationTargets(),this.currentStates=Gr.slice(),this.markRedraw(),!ai&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ra)}},Yr.prototype.isSilent=function(){for(var Gr=this.silent,Wr=this.parent;!Gr&&Wr;){if(Wr.silent){Gr=!0;break}Wr=Wr.parent}return Gr},Yr.prototype._updateAnimationTargets=function(){for(var Gr=0;Gr<this.animators.length;Gr++){var Wr=this.animators[Gr];Wr.targetName&&Wr.changeTarget(this[Wr.targetName])}},Yr.prototype.removeState=function(Gr){var Wr=sn(this.currentStates,Gr);if(Wr>=0){var Zr=this.currentStates.slice();Zr.splice(Wr,1),this.useStates(Zr)}},Yr.prototype.replaceState=function(Gr,Wr,Zr){var Kr=this.currentStates.slice(),Jr=sn(Kr,Gr),Qr=sn(Kr,Wr)>=0;Jr>=0?Qr?Kr.splice(Jr,1):Kr[Jr]=Wr:Zr&&!Qr&&Kr.push(Wr),this.useStates(Kr)},Yr.prototype.toggleState=function(Gr,Wr){Wr?this.useState(Gr,!0):this.removeState(Gr)},Yr.prototype._mergeStates=function(Gr){for(var Wr={},Zr,Kr=0;Kr<Gr.length;Kr++){var Jr=Gr[Kr];ki(Wr,Jr),Jr.textConfig&&(Zr=Zr||{},ki(Zr,Jr.textConfig))}return Zr&&(Wr.textConfig=Zr),Wr},Yr.prototype._applyStateObj=function(Gr,Wr,Zr,Kr,Jr,Qr){var ti=!(Wr&&Kr);Wr&&Wr.textConfig?(this.textConfig=ki({},Kr?this.textConfig:Zr.textConfig),ki(this.textConfig,Wr.textConfig)):ti&&Zr.textConfig&&(this.textConfig=Zr.textConfig);for(var ei={},ri=!1,ii=0;ii<mS.length;ii++){var ni=mS[ii],ai=Jr&&x6[ni];Wr&&Wr[ni]!=null?ai?(ri=!0,ei[ni]=Wr[ni]):this[ni]=Wr[ni]:ti&&Zr[ni]!=null&&(ai?(ri=!0,ei[ni]=Zr[ni]):this[ni]=Zr[ni])}if(!Jr)for(var ii=0;ii<this.animators.length;ii++){var oi=this.animators[ii],si=oi.targetName;oi.getLoop()||oi.__changeFinalValue(si?(Wr||Zr)[si]:Wr||Zr)}ri&&this._transitionState(Gr,ei,Qr)},Yr.prototype._attachComponent=function(Gr){if(!(Gr.__zr&&!Gr.__hostTarget)&&Gr!==this){var Wr=this.__zr;Wr&&Gr.addSelfToZr(Wr),Gr.__zr=Wr,Gr.__hostTarget=this}},Yr.prototype._detachComponent=function(Gr){Gr.__zr&&Gr.removeSelfFromZr(Gr.__zr),Gr.__zr=null,Gr.__hostTarget=null},Yr.prototype.getClipPath=function(){return this._clipPath},Yr.prototype.setClipPath=function(Gr){this._clipPath&&this._clipPath!==Gr&&this.removeClipPath(),this._attachComponent(Gr),this._clipPath=Gr,this.markRedraw()},Yr.prototype.removeClipPath=function(){var Gr=this._clipPath;Gr&&(this._detachComponent(Gr),this._clipPath=null,this.markRedraw())},Yr.prototype.getTextContent=function(){return this._textContent},Yr.prototype.setTextContent=function(Gr){var Wr=this._textContent;Wr!==Gr&&(Wr&&Wr!==Gr&&this.removeTextContent(),Gr.innerTransformable=new No,this._attachComponent(Gr),this._textContent=Gr,this.markRedraw())},Yr.prototype.setTextConfig=function(Gr){this.textConfig||(this.textConfig={}),ki(this.textConfig,Gr),this.markRedraw()},Yr.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Yr.prototype.removeTextContent=function(){var Gr=this._textContent;Gr&&(Gr.innerTransformable=null,this._detachComponent(Gr),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Yr.prototype.getTextGuideLine=function(){return this._textGuide},Yr.prototype.setTextGuideLine=function(Gr){this._textGuide&&this._textGuide!==Gr&&this.removeTextGuideLine(),this._attachComponent(Gr),this._textGuide=Gr,this.markRedraw()},Yr.prototype.removeTextGuideLine=function(){var Gr=this._textGuide;Gr&&(this._detachComponent(Gr),this._textGuide=null,this.markRedraw())},Yr.prototype.markRedraw=function(){this.__dirty|=Ra;var Gr=this.__zr;Gr&&(this.__inHover?Gr.refreshHover():Gr.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Yr.prototype.dirty=function(){this.markRedraw()},Yr.prototype._toggleHoverLayerFlag=function(Gr){this.__inHover=Gr;var Wr=this._textContent,Zr=this._textGuide;Wr&&(Wr.__inHover=Gr),Zr&&(Zr.__inHover=Gr)},Yr.prototype.addSelfToZr=function(Gr){if(this.__zr!==Gr){this.__zr=Gr;var Wr=this.animators;if(Wr)for(var Zr=0;Zr<Wr.length;Zr++)Gr.animation.addAnimator(Wr[Zr]);this._clipPath&&this._clipPath.addSelfToZr(Gr),this._textContent&&this._textContent.addSelfToZr(Gr),this._textGuide&&this._textGuide.addSelfToZr(Gr)}},Yr.prototype.removeSelfFromZr=function(Gr){if(this.__zr){this.__zr=null;var Wr=this.animators;if(Wr)for(var Zr=0;Zr<Wr.length;Zr++)Gr.animation.removeAnimator(Wr[Zr]);this._clipPath&&this._clipPath.removeSelfFromZr(Gr),this._textContent&&this._textContent.removeSelfFromZr(Gr),this._textGuide&&this._textGuide.removeSelfFromZr(Gr)}},Yr.prototype.animate=function(Gr,Wr,Zr){var Kr=Gr?this[Gr]:this,Jr=new Nd(Kr,Wr,Zr);return Gr&&(Jr.targetName=Gr),this.addAnimator(Jr,Gr),Jr},Yr.prototype.addAnimator=function(Gr,Wr){var Zr=this.__zr,Kr=this;Gr.during(function(){Kr.updateDuringAnimation(Wr)}).done(function(){var Jr=Kr.animators,Qr=sn(Jr,Gr);Qr>=0&&Jr.splice(Qr,1)}),this.animators.push(Gr),Zr&&Zr.animation.addAnimator(Gr),Zr&&Zr.wakeUp()},Yr.prototype.updateDuringAnimation=function(Gr){this.markRedraw()},Yr.prototype.stopAnimation=function(Gr,Wr){for(var Zr=this.animators,Kr=Zr.length,Jr=[],Qr=0;Qr<Kr;Qr++){var ti=Zr[Qr];!Gr||Gr===ti.scope?ti.stop(Wr):Jr.push(ti)}return this.animators=Jr,this},Yr.prototype.animateTo=function(Gr,Wr,Zr){gS(this,Gr,Wr,Zr)},Yr.prototype.animateFrom=function(Gr,Wr,Zr){gS(this,Gr,Wr,Zr,!0)},Yr.prototype._transitionState=function(Gr,Wr,Zr,Kr){for(var Jr=gS(this,Wr,Zr,Kr),Qr=0;Qr<Jr.length;Qr++)Jr[Qr].__fromStateTransition=Gr},Yr.prototype.getBoundingRect=function(){return null},Yr.prototype.getPaintRect=function(){return null},Yr.initDefaultProps=function(){var Gr=Yr.prototype;Gr.type="element",Gr.name="",Gr.ignore=Gr.silent=Gr.isGroup=Gr.draggable=Gr.dragging=Gr.ignoreClip=Gr.__inHover=!1,Gr.__dirty=Ra;var Wr={};function Zr(Jr,Qr,ti){Wr[Jr+Qr+ti]||(console.warn("DEPRECATED: '"+Jr+"' has been deprecated. use '"+Qr+"', '"+ti+"' instead"),Wr[Jr+Qr+ti]=!0)}function Kr(Jr,Qr,ti,ei){Object.defineProperty(Gr,Jr,{get:function(){if(!this[Qr]){var ii=this[Qr]=[];ri(this,ii)}return this[Qr]},set:function(ii){this[ti]=ii[0],this[ei]=ii[1],this[Qr]=ii,ri(this,ii)}});function ri(ii,ni){Object.defineProperty(ni,0,{get:function(){return ii[ti]},set:function(ai){ii[ti]=ai}}),Object.defineProperty(ni,1,{get:function(){return ii[ei]},set:function(ai){ii[ei]=ai}})}}Object.defineProperty&&(Kr("position","_legacyPos","x","y"),Kr("scale","_legacyScale","scaleX","scaleY"),Kr("origin","_legacyOrigin","originX","originY"))}(),Yr}();Gn(xS,Ia);Gn(xS,No);function gS(Yr,Gr,Wr,Zr,Kr){Wr=Wr||{};var Jr=[];CI(Yr,"",Yr,Gr,Wr,Zr,Jr,Kr);var Qr=Jr.length,ti=!1,ei=Wr.done,ri=Wr.aborted,ii=function(){ti=!0,Qr--,Qr<=0&&(ti?ei&&ei():ri&&ri())},ni=function(){Qr--,Qr<=0&&(ti?ei&&ei():ri&&ri())};Qr||ei&&ei(),Jr.length>0&&Wr.during&&Jr[0].during(function(si,li){Wr.during(li)});for(var ai=0;ai<Jr.length;ai++){var oi=Jr[ai];ii&&oi.done(ii),ni&&oi.aborted(ni),Wr.force&&oi.duration(Wr.duration),oi.start(Wr.easing)}return Jr}function yS(Yr,Gr,Wr){for(var Zr=0;Zr<Wr;Zr++)Yr[Zr]=Gr[Zr]}function b6(Yr){return va(Yr[0])}function S6(Yr,Gr,Wr){if(va(Gr[Wr]))if(va(Yr[Wr])||(Yr[Wr]=[]),Ta(Gr[Wr])){var Zr=Gr[Wr].length;Yr[Wr].length!==Zr&&(Yr[Wr]=new Gr[Wr].constructor(Zr),yS(Yr[Wr],Gr[Wr],Zr))}else{var Kr=Gr[Wr],Jr=Yr[Wr],Qr=Kr.length;if(b6(Kr))for(var ti=Kr[0].length,ei=0;ei<Qr;ei++)Jr[ei]?yS(Jr[ei],Kr[ei],ti):Jr[ei]=Array.prototype.slice.call(Kr[ei]);else yS(Jr,Kr,Qr);Jr.length=Kr.length}else Yr[Wr]=Gr[Wr]}function w6(Yr,Gr){return Yr===Gr||va(Yr)&&va(Gr)&&C6(Yr,Gr)}function C6(Yr,Gr){var Wr=Yr.length;if(Wr!==Gr.length)return!1;for(var Zr=0;Zr<Wr;Zr++)if(Yr[Zr]!==Gr[Zr])return!1;return!0}function CI(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){for(var ei=fn(Zr),ri=Kr.duration,ii=Kr.delay,ni=Kr.additive,ai=Kr.setToFinal,oi=!qi(Jr),si=Yr.animators,li=[],ui=0;ui<ei.length;ui++){var fi=ei[ui],hi=Zr[fi];if(hi!=null&&Wr[fi]!=null&&(oi||Jr[fi]))if(qi(hi)&&!va(hi)&&!Vu(hi)){if(Gr){ti||(Wr[fi]=hi,Yr.updateDuringAnimation(Gr));continue}CI(Yr,fi,Wr[fi],hi,Kr,Jr&&Jr[fi],Qr,ti)}else li.push(fi);else ti||(Wr[fi]=hi,Yr.updateDuringAnimation(Gr),li.push(fi))}var ci=li.length;if(!ni&&ci)for(var pi=0;pi<si.length;pi++){var di=si[pi];if(di.targetName===Gr){var vi=di.stopTracks(li);if(vi){var mi=sn(si,di);si.splice(mi,1)}}}if(Kr.force||(li=Tn(li,function(bi){return!w6(Zr[bi],Wr[bi])}),ci=li.length),ci>0||Kr.force&&!Qr.length){var gi=void 0,yi=void 0,Si=void 0;if(ti){yi={},ai&&(gi={});for(var pi=0;pi<ci;pi++){var fi=li[pi];yi[fi]=Wr[fi],ai?gi[fi]=Zr[fi]:Wr[fi]=Zr[fi]}}else if(ai){Si={};for(var pi=0;pi<ci;pi++){var fi=li[pi];Si[fi]=uh(Wr[fi]),S6(Wr,Zr,fi)}}var di=new Nd(Wr,!1,!1,ni?Tn(si,function(Ti){return Ti.targetName===Gr}):null);di.targetName=Gr,Kr.scope&&(di.scope=Kr.scope),ai&&gi&&di.whenWithKeys(0,gi,li),Si&&di.whenWithKeys(0,Si,li),di.whenWithKeys(ri??500,ti?yi:Zr,li).delay(ii||0),Yr.addAnimator(di,Gr),Qr.push(di)}}var jg=xS;var TI=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this)||this;return Zr.isGroup=!0,Zr._children=[],Zr.attr(Wr),Zr}return Gr.prototype.childrenRef=function(){return this._children},Gr.prototype.children=function(){return this._children.slice()},Gr.prototype.childAt=function(Wr){return this._children[Wr]},Gr.prototype.childOfName=function(Wr){for(var Zr=this._children,Kr=0;Kr<Zr.length;Kr++)if(Zr[Kr].name===Wr)return Zr[Kr]},Gr.prototype.childCount=function(){return this._children.length},Gr.prototype.add=function(Wr){return Wr&&Wr!==this&&Wr.parent!==this&&(this._children.push(Wr),this._doAdd(Wr)),this},Gr.prototype.addBefore=function(Wr,Zr){if(Wr&&Wr!==this&&Wr.parent!==this&&Zr&&Zr.parent===this){var Kr=this._children,Jr=Kr.indexOf(Zr);Jr>=0&&(Kr.splice(Jr,0,Wr),this._doAdd(Wr))}return this},Gr.prototype.replace=function(Wr,Zr){var Kr=sn(this._children,Wr);return Kr>=0&&this.replaceAt(Zr,Kr),this},Gr.prototype.replaceAt=function(Wr,Zr){var Kr=this._children,Jr=Kr[Zr];if(Wr&&Wr!==this&&Wr.parent!==this&&Wr!==Jr){Kr[Zr]=Wr,Jr.parent=null;var Qr=this.__zr;Qr&&Jr.removeSelfFromZr(Qr),this._doAdd(Wr)}return this},Gr.prototype._doAdd=function(Wr){Wr.parent&&Wr.parent.remove(Wr),Wr.parent=this;var Zr=this.__zr;Zr&&Zr!==Wr.__zr&&Wr.addSelfToZr(Zr),Zr&&Zr.refresh()},Gr.prototype.remove=function(Wr){var Zr=this.__zr,Kr=this._children,Jr=sn(Kr,Wr);return Jr<0?this:(Kr.splice(Jr,1),Wr.parent=null,Zr&&Wr.removeSelfFromZr(Zr),Zr&&Zr.refresh(),this)},Gr.prototype.removeAll=function(){for(var Wr=this._children,Zr=this.__zr,Kr=0;Kr<Wr.length;Kr++){var Jr=Wr[Kr];Zr&&Jr.removeSelfFromZr(Zr),Jr.parent=null}return Wr.length=0,this},Gr.prototype.eachChild=function(Wr,Zr){for(var Kr=this._children,Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr];Wr.call(Zr,Qr,Jr)}return this},Gr.prototype.traverse=function(Wr,Zr){for(var Kr=0;Kr<this._children.length;Kr++){var Jr=this._children[Kr],Qr=Wr.call(Zr,Jr);Jr.isGroup&&!Qr&&Jr.traverse(Wr,Zr)}return this},Gr.prototype.addSelfToZr=function(Wr){Yr.prototype.addSelfToZr.call(this,Wr);for(var Zr=0;Zr<this._children.length;Zr++){var Kr=this._children[Zr];Kr.addSelfToZr(Wr)}},Gr.prototype.removeSelfFromZr=function(Wr){Yr.prototype.removeSelfFromZr.call(this,Wr);for(var Zr=0;Zr<this._children.length;Zr++){var Kr=this._children[Zr];Kr.removeSelfFromZr(Wr)}},Gr.prototype.getBoundingRect=function(Wr){for(var Zr=new rn(0,0,0,0),Kr=Wr||this._children,Jr=[],Qr=null,ti=0;ti<Kr.length;ti++){var ei=Kr[ti];if(!(ei.ignore||ei.invisible)){var ri=ei.getBoundingRect(),ii=ei.getLocalTransform(Jr);ii?(rn.applyTransform(Zr,ri,ii),Qr=Qr||Zr.clone(),Qr.union(Zr)):(Qr=Qr||ri.clone(),Qr.union(ri))}}return Qr||Zr},Gr}(jg);TI.prototype.type="group";var Zi=TI;var Kg={},AI={};function T6(Yr){delete AI[Yr]}function A6(Yr){if(!Yr)return!1;if(typeof Yr=="string")return Lc(Yr,1)<Fd;if(Yr.colorStops){for(var Gr=Yr.colorStops,Wr=0,Zr=Gr.length,Kr=0;Kr<Zr;Kr++)Wr+=Lc(Gr[Kr].color,1);return Wr/=Zr,Wr<Fd}return!1}var M6=function(){function Yr(Gr,Wr,Zr){var Kr=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,Zr=Zr||{},this.dom=Wr,this.id=Gr;var Jr=new UD,Qr=Zr.renderer||"canvas";Kg[Qr]||(Qr=fn(Kg)[0]),Zr.useDirtyRect=Zr.useDirtyRect==null?!1:Zr.useDirtyRect;var ti=new Kg[Qr](Wr,Jr,Zr,Gr),ei=Zr.ssr||ti.ssrOnly;this.storage=Jr,this.painter=ti;var ri=!Cn.node&&!Cn.worker&&!ei?new gI(ti.getViewportRoot(),ti.root):null,ii=Zr.useCoarsePointer,ni=ii==null||ii==="auto"?Cn.touchEventsSupported:!!ii,ai=44,oi;ni&&(oi=on(Zr.pointerSize,ai)),this.handler=new OD(Jr,ti,ri,ti.root,oi),this.animation=new cI({stage:{update:ei?null:function(){return Kr._flush(!0)}}}),ei||this.animation.start()}return Yr.prototype.add=function(Gr){this._disposed||!Gr||(this.storage.addRoot(Gr),Gr.addSelfToZr(this),this.refresh())},Yr.prototype.remove=function(Gr){this._disposed||!Gr||(this.storage.delRoot(Gr),Gr.removeSelfFromZr(this),this.refresh())},Yr.prototype.configLayer=function(Gr,Wr){this._disposed||(this.painter.configLayer&&this.painter.configLayer(Gr,Wr),this.refresh())},Yr.prototype.setBackgroundColor=function(Gr){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(Gr),this.refresh(),this._backgroundColor=Gr,this._darkMode=A6(Gr))},Yr.prototype.getBackgroundColor=function(){return this._backgroundColor},Yr.prototype.setDarkMode=function(Gr){this._darkMode=Gr},Yr.prototype.isDarkMode=function(){return this._darkMode},Yr.prototype.refreshImmediately=function(Gr){this._disposed||(Gr||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},Yr.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},Yr.prototype.flush=function(){this._disposed||this._flush(!1)},Yr.prototype._flush=function(Gr){var Wr,Zr=fh();this._needsRefresh&&(Wr=!0,this.refreshImmediately(Gr)),this._needsRefreshHover&&(Wr=!0,this.refreshHoverImmediately());var Kr=fh();Wr?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Kr-Zr})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Yr.prototype.setSleepAfterStill=function(Gr){this._sleepAfterStill=Gr},Yr.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},Yr.prototype.refreshHover=function(){this._needsRefreshHover=!0},Yr.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},Yr.prototype.resize=function(Gr){this._disposed||(Gr=Gr||{},this.painter.resize(Gr.width,Gr.height),this.handler.resize())},Yr.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},Yr.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},Yr.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},Yr.prototype.setCursorStyle=function(Gr){this._disposed||this.handler.setCursorStyle(Gr)},Yr.prototype.findHover=function(Gr,Wr){if(!this._disposed)return this.handler.findHover(Gr,Wr)},Yr.prototype.on=function(Gr,Wr,Zr){return this._disposed||this.handler.on(Gr,Wr,Zr),this},Yr.prototype.off=function(Gr,Wr){this._disposed||this.handler.off(Gr,Wr)},Yr.prototype.trigger=function(Gr,Wr){this._disposed||this.handler.trigger(Gr,Wr)},Yr.prototype.clear=function(){if(!this._disposed){for(var Gr=this.storage.getRoots(),Wr=0;Wr<Gr.length;Wr++)Gr[Wr]instanceof Zi&&Gr[Wr].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},Yr.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,T6(this.id))},Yr}();function bS(Yr,Gr){var Wr=new M6(cg(),Yr,Gr);return AI[Wr.id]=Wr,Wr}function MI(Yr,Gr){Kg[Yr]=Gr}var _S;function PI(Yr){if(typeof _S=="function")return _S(Yr)}function EI(Yr){_S=Yr}var DI=1e-4,II=20;function E6(Yr){return Yr.replace(/^\s+|\s+$/g,"")}function kn(Yr,Gr,Wr,Zr){var Kr=Gr[0],Jr=Gr[1],Qr=Wr[0],ti=Wr[1],ei=Jr-Kr,ri=ti-Qr;if(ei===0)return ri===0?Qr:(Qr+ti)/2;if(Zr)if(ei>0){if(Yr<=Kr)return Qr;if(Yr>=Jr)return ti}else{if(Yr>=Kr)return Qr;if(Yr<=Jr)return ti}else{if(Yr===Kr)return Qr;if(Yr===Jr)return ti}return(Yr-Kr)/ei*ri+Qr}function Ui(Yr,Gr){switch(Yr){case"center":case"middle":Yr="50%";break;case"left":case"top":Yr="0%";break;case"right":case"bottom":Yr="100%";break}return Ni(Yr)?E6(Yr).match(/%$/)?parseFloat(Yr)/100*Gr:parseFloat(Yr):Yr==null?NaN:+Yr}function Zn(Yr,Gr,Wr){return Gr==null&&(Gr=10),Gr=Math.min(Math.max(0,Gr),II),Yr=(+Yr).toFixed(Gr),Wr?Yr:+Yr}function Oa(Yr){return Yr.sort(function(Gr,Wr){return Gr-Wr}),Yr}function _o(Yr){if(Yr=+Yr,isNaN(Yr))return 0;if(Yr>1e-14){for(var Gr=1,Wr=0;Wr<15;Wr++,Gr*=10)if(Math.round(Yr*Gr)/Gr===Yr)return Wr}return D6(Yr)}function D6(Yr){var Gr=Yr.toString().toLowerCase(),Wr=Gr.indexOf("e"),Zr=Wr>0?+Gr.slice(Wr+1):0,Kr=Wr>0?Wr:Gr.length,Jr=Gr.indexOf("."),Qr=Jr<0?0:Kr-1-Jr;return Math.max(0,Qr-Zr)}function $g(Yr,Gr){var Wr=Math.log,Zr=Math.LN10,Kr=Math.floor(Wr(Yr[1]-Yr[0])/Zr),Jr=Math.round(Wr(Math.abs(Gr[1]-Gr[0]))/Zr),Qr=Math.min(Math.max(-Kr+Jr,0),20);return isFinite(Qr)?Qr:20}function LI(Yr,Gr){var Wr=Ja(Yr,function(oi,si){return oi+(isNaN(si)?0:si)},0);if(Wr===0)return[];for(var Zr=Math.pow(10,Gr),Kr=Oi(Yr,function(oi){return(isNaN(oi)?0:oi)/Wr*Zr*100}),Jr=Zr*100,Qr=Oi(Kr,function(oi){return Math.floor(oi)}),ti=Ja(Qr,function(oi,si){return oi+si},0),ei=Oi(Kr,function(oi,si){return oi-Qr[si]});ti<Jr;){for(var ri=Number.NEGATIVE_INFINITY,ii=null,ni=0,ai=ei.length;ni<ai;++ni)ei[ni]>ri&&(ri=ei[ni],ii=ni);++Qr[ii],ei[ii]=0,++ti}return Oi(Qr,function(oi){return oi/Zr})}function kI(Yr,Gr){var Wr=Math.max(_o(Yr),_o(Gr)),Zr=Yr+Gr;return Wr>II?Zr:Zn(Zr,Wr)}var SS=9007199254740991;function wS(Yr){var Gr=Math.PI*2;return(Yr%Gr+Gr)%Gr}function mh(Yr){return Yr>-DI&&Yr<DI}var I6=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function bo(Yr){if(Yr instanceof Date)return Yr;if(Ni(Yr)){var Gr=I6.exec(Yr);if(!Gr)return new Date(NaN);if(Gr[8]){var Wr=+Gr[4]||0;return Gr[8].toUpperCase()!=="Z"&&(Wr-=+Gr[8].slice(0,3)),new Date(Date.UTC(+Gr[1],+(Gr[2]||1)-1,+Gr[3]||1,Wr,+(Gr[5]||0),+Gr[6]||0,Gr[7]?+Gr[7].substring(0,3):0))}else return new Date(+Gr[1],+(Gr[2]||1)-1,+Gr[3]||1,+Gr[4]||0,+(Gr[5]||0),+Gr[6]||0,Gr[7]?+Gr[7].substring(0,3):0)}else if(Yr==null)return new Date(NaN);return new Date(Math.round(Yr))}function RI(Yr){return Math.pow(10,Jg(Yr))}function Jg(Yr){if(Yr===0)return 0;var Gr=Math.floor(Math.log(Yr)/Math.LN10);return Yr/Math.pow(10,Gr)>=10&&Gr++,Gr}function Qg(Yr,Gr){var Wr=Jg(Yr),Zr=Math.pow(10,Wr),Kr=Yr/Zr,Jr;return Gr?Kr<1.5?Jr=1:Kr<2.5?Jr=2:Kr<4?Jr=3:Kr<7?Jr=5:Jr=10:Kr<1?Jr=1:Kr<2?Jr=2:Kr<3?Jr=3:Kr<5?Jr=5:Jr=10,Yr=Jr*Zr,Wr>=-20?+Yr.toFixed(Wr<0?-Wr:0):Yr}function ty(Yr,Gr){var Wr=(Yr.length-1)*Gr+1,Zr=Math.floor(Wr),Kr=+Yr[Zr-1],Jr=Wr-Zr;return Jr?Kr+Jr*(Yr[Zr]-Kr):Kr}function CS(Yr){Yr.sort(function(ei,ri){return ti(ei,ri,0)?-1:1});for(var Gr=-1/0,Wr=1,Zr=0;Zr<Yr.length;){for(var Kr=Yr[Zr].interval,Jr=Yr[Zr].close,Qr=0;Qr<2;Qr++)Kr[Qr]<=Gr&&(Kr[Qr]=Gr,Jr[Qr]=Qr?1:1-Wr),Gr=Kr[Qr],Wr=Jr[Qr];Kr[0]===Kr[1]&&Jr[0]*Jr[1]!==1?Yr.splice(Zr,1):Zr++}return Yr;function ti(ei,ri,ii){return ei.interval[ii]<ri.interval[ii]||ei.interval[ii]===ri.interval[ii]&&(ei.close[ii]-ri.close[ii]===(ii?-1:1)||!ii&&ti(ei,ri,1))}}function Ts(Yr){var Gr=parseFloat(Yr);return Gr==Yr&&(Gr!==0||!Ni(Yr)||Yr.indexOf("x")<=0)?Gr:NaN}function Ud(Yr){return!isNaN(Ts(Yr))}function ey(){return Math.round(Math.random()*9)}function OI(Yr,Gr){return Gr===0?Yr:OI(Gr,Yr%Gr)}function TS(Yr,Gr){return Yr==null?Gr:Gr==null?Yr:Yr*Gr/OI(Yr,Gr)}var L6="[ECharts] ",zI={},k6=typeof console<"u"&&console.warn&&console.log;function R6(Yr,Gr,Wr){if(k6){if(Wr){if(zI[Gr])return;zI[Gr]=!0}console[Yr](L6+Gr)}}function NI(Yr,Gr){R6("warn",Yr,Gr)}function Rn(Yr){throw new Error(Yr)}function FI(Yr,Gr,Wr){return(Gr-Yr)*Wr+Yr}var VI="series\0",BI="\0_ec_\0";function En(Yr){return Yr instanceof Array?Yr:Yr==null?[]:[Yr]}function ls(Yr,Gr,Wr){if(Yr){Yr[Gr]=Yr[Gr]||{},Yr.emphasis=Yr.emphasis||{},Yr.emphasis[Gr]=Yr.emphasis[Gr]||{};for(var Zr=0,Kr=Wr.length;Zr<Kr;Zr++){var Jr=Wr[Zr];!Yr.emphasis[Gr].hasOwnProperty(Jr)&&Yr[Gr].hasOwnProperty(Jr)&&(Yr.emphasis[Gr][Jr]=Yr[Gr][Jr])}}}var AS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function $s(Yr){return qi(Yr)&&!Ri(Yr)&&!(Yr instanceof Date)?Yr.value:Yr}function UI(Yr){return qi(Yr)&&!(Yr instanceof Array)}function ry(Yr,Gr,Wr){var Zr=Wr==="normalMerge",Kr=Wr==="replaceMerge",Jr=Wr==="replaceAll";Yr=Yr||[],Gr=(Gr||[]).slice();var Qr=Hi();_i(Gr,function(ei,ri){if(!qi(ei)){Gr[ri]=null;return}});var ti=O6(Yr,Qr,Wr);return(Zr||Kr)&&z6(ti,Yr,Qr,Gr),Zr&&N6(ti,Gr),Zr||Kr?F6(ti,Gr,Kr):Jr&&V6(ti,Gr),B6(ti),ti}function O6(Yr,Gr,Wr){var Zr=[];if(Wr==="replaceAll")return Zr;for(var Kr=0;Kr<Yr.length;Kr++){var Jr=Yr[Kr];Jr&&Jr.id!=null&&Gr.set(Jr.id,Kr),Zr.push({existing:Wr==="replaceMerge"||Nc(Jr)?null:Jr,newOption:null,keyInfo:null,brandNew:null})}return Zr}function z6(Yr,Gr,Wr,Zr){_i(Zr,function(Kr,Jr){if(!(!Kr||Kr.id==null)){var Qr=Gd(Kr.id),ti=Wr.get(Qr);if(ti!=null){var ei=Yr[ti];ea(!ei.newOption,'Duplicated option on id "'+Qr+'".'),ei.newOption=Kr,ei.existing=Gr[ti],Zr[Jr]=null}}})}function N6(Yr,Gr){_i(Gr,function(Wr,Zr){if(!(!Wr||Wr.name==null))for(var Kr=0;Kr<Yr.length;Kr++){var Jr=Yr[Kr].existing;if(!Yr[Kr].newOption&&Jr&&(Jr.id==null||Wr.id==null)&&!Nc(Wr)&&!Nc(Jr)&&GI("name",Jr,Wr)){Yr[Kr].newOption=Wr,Gr[Zr]=null;return}}})}function F6(Yr,Gr,Wr){_i(Gr,function(Zr){if(Zr){for(var Kr,Jr=0;(Kr=Yr[Jr])&&(Kr.newOption||Nc(Kr.existing)||Kr.existing&&Zr.id!=null&&!GI("id",Zr,Kr.existing));)Jr++;Kr?(Kr.newOption=Zr,Kr.brandNew=Wr):Yr.push({newOption:Zr,brandNew:Wr,existing:null,keyInfo:null}),Jr++}})}function V6(Yr,Gr){_i(Gr,function(Wr){Yr.push({newOption:Wr,brandNew:!0,existing:null,keyInfo:null})})}function B6(Yr){var Gr=Hi();_i(Yr,function(Wr){var Zr=Wr.existing;Zr&&Gr.set(Zr.id,Wr)}),_i(Yr,function(Wr){var Zr=Wr.newOption;ea(!Zr||Zr.id==null||!Gr.get(Zr.id)||Gr.get(Zr.id)===Wr,"id duplicates: "+(Zr&&Zr.id)),Zr&&Zr.id!=null&&Gr.set(Zr.id,Wr),!Wr.keyInfo&&(Wr.keyInfo={})}),_i(Yr,function(Wr,Zr){var Kr=Wr.existing,Jr=Wr.newOption,Qr=Wr.keyInfo;if(qi(Jr)){if(Qr.name=Jr.name!=null?Gd(Jr.name):Kr?Kr.name:VI+Zr,Kr)Qr.id=Gd(Kr.id);else if(Jr.id!=null)Qr.id=Gd(Jr.id);else{var ti=0;do Qr.id="\0"+Qr.name+"\0"+ti++;while(Gr.get(Qr.id))}Gr.set(Qr.id,Wr)}})}function GI(Yr,Gr,Wr){var Zr=aa(Gr[Yr],null),Kr=aa(Wr[Yr],null);return Zr!=null&&Kr!=null&&Zr===Kr}function Gd(Yr){return aa(Yr,"")}function aa(Yr,Gr){return Yr==null?Gr:Ni(Yr)?Yr:gn(Yr)||_d(Yr)?Yr+"":Gr}function Fc(Yr){var Gr=Yr.name;return!!(Gr&&Gr.indexOf(VI))}function Nc(Yr){return Yr&&Yr.id!=null&&Gd(Yr.id).indexOf(BI)===0}function HI(Yr){return BI+Yr}function WI(Yr,Gr,Wr){_i(Yr,function(Zr){var Kr=Zr.newOption;qi(Kr)&&(Zr.keyInfo.mainType=Gr,Zr.keyInfo.subType=U6(Gr,Kr,Zr.existing,Wr))})}function U6(Yr,Gr,Wr,Zr){var Kr=Gr.type?Gr.type:Wr?Wr.subType:Zr.determineSubType(Yr,Gr);return Kr}function YI(Yr,Gr){var Wr={},Zr={};return Kr(Yr||[],Wr),Kr(Gr||[],Zr,Wr),[Jr(Wr),Jr(Zr)];function Kr(Qr,ti,ei){for(var ri=0,ii=Qr.length;ri<ii;ri++){var ni=aa(Qr[ri].seriesId,null);if(ni==null)return;for(var ai=En(Qr[ri].dataIndex),oi=ei&&ei[ni],si=0,li=ai.length;si<li;si++){var ui=ai[si];oi&&oi[ui]?oi[ui]=null:(ti[ni]||(ti[ni]={}))[ui]=1}}}function Jr(Qr,ti){var ei=[];for(var ri in Qr)if(Qr.hasOwnProperty(ri)&&Qr[ri]!=null)if(ti)ei.push(+ri);else{var ii=Jr(Qr[ri],!0);ii.length&&ei.push({seriesId:ri,dataIndex:ii})}return ei}}function As(Yr,Gr){if(Gr.dataIndexInside!=null)return Gr.dataIndexInside;if(Gr.dataIndex!=null)return Ri(Gr.dataIndex)?Oi(Gr.dataIndex,function(Wr){return Yr.indexOfRawIndex(Wr)}):Yr.indexOfRawIndex(Gr.dataIndex);if(Gr.name!=null)return Ri(Gr.name)?Oi(Gr.name,function(Wr){return Yr.indexOfName(Wr)}):Yr.indexOfName(Gr.name)}function ln(){var Yr="__ec_inner_"+G6++;return function(Gr){return Gr[Yr]||(Gr[Yr]={})}}var G6=ey();function ju(Yr,Gr,Wr){var Zr=Hd(Gr,Wr),Kr=Zr.mainTypeSpecified,Jr=Zr.queryOptionMap,Qr=Zr.others,ti=Qr,ei=Wr?Wr.defaultMainType:null;return!Kr&&ei&&Jr.set(ei,{}),Jr.each(function(ri,ii){var ni=Ku(Yr,ii,ri,{useDefault:ei===ii,enableAll:Wr&&Wr.enableAll!=null?Wr.enableAll:!0,enableNone:Wr&&Wr.enableNone!=null?Wr.enableNone:!0});ti[ii+"Models"]=ni.models,ti[ii+"Model"]=ni.models[0]}),ti}function Hd(Yr,Gr){var Wr;if(Ni(Yr)){var Zr={};Zr[Yr+"Index"]=0,Wr=Zr}else Wr=Yr;var Kr=Hi(),Jr={},Qr=!1;return _i(Wr,function(ti,ei){if(ei==="dataIndex"||ei==="dataIndexInside"){Jr[ei]=ti;return}var ri=ei.match(/^(\w+)(Index|Id|Name)$/)||[],ii=ri[1],ni=(ri[2]||"").toLowerCase();if(!(!ii||!ni||Gr&&Gr.includeMainTypes&&sn(Gr.includeMainTypes,ii)<0)){Qr=Qr||!!ii;var ai=Kr.get(ii)||Kr.set(ii,{});ai[ni]=ti}}),{mainTypeSpecified:Qr,queryOptionMap:Kr,others:Jr}}var Yn={useDefault:!0,enableAll:!1,enableNone:!1},XI={useDefault:!1,enableAll:!0,enableNone:!0};function Ku(Yr,Gr,Wr,Zr){Zr=Zr||Yn;var Kr=Wr.index,Jr=Wr.id,Qr=Wr.name,ti={models:null,specified:Kr!=null||Jr!=null||Qr!=null};if(!ti.specified){var ei=void 0;return ti.models=Zr.useDefault&&(ei=Yr.getComponent(Gr))?[ei]:[],ti}return Kr==="none"||Kr===!1?(ea(Zr.enableNone,'`"none"` or `false` is not a valid value on index option.'),ti.models=[],ti):(Kr==="all"&&(ea(Zr.enableAll,'`"all"` is not a valid value on index option.'),Kr=Jr=Qr=null),ti.models=Yr.queryComponents({mainType:Gr,index:Kr,id:Jr,name:Qr}),ti)}function qI(Yr,Gr,Wr){Yr.setAttribute?Yr.setAttribute(Gr,Wr):Yr[Gr]=Wr}function ZI(Yr){return Yr==="auto"?Cn.domSupported?"html":"richText":Yr||"html"}function Wd(Yr,Gr){var Wr=Hi(),Zr=[];return _i(Yr,function(Kr){var Jr=Gr(Kr);(Wr.get(Jr)||(Zr.push(Jr),Wr.set(Jr,[]))).push(Kr)}),{keys:Zr,buckets:Wr}}function iy(Yr,Gr,Wr,Zr,Kr){var Jr=Gr==null||Gr==="auto";if(Zr==null)return Zr;if(gn(Zr)){var Qr=FI(Wr||0,Zr,Kr);return Zn(Qr,Jr?Math.max(_o(Wr||0),_o(Zr)):Gr)}else{if(Ni(Zr))return Kr<1?Wr:Zr;for(var ti=[],ei=Wr,ri=Zr,ii=Math.max(ei?ei.length:0,ri.length),ni=0;ni<ii;++ni){var ai=Yr.getDimensionInfo(ni);if(ai&&ai.type==="ordinal")ti[ni]=(Kr<1&&ei?ei:ri)[ni];else{var oi=ei&&ei[ni]?ei[ni]:0,si=ri[ni],Qr=FI(oi,si,Kr);ti[ni]=Zn(Qr,Jr?Math.max(_o(oi),_o(si)):Gr)}}return ti}}var H6=".",gh="___EC__COMPONENT__CONTAINER___",jI="___EC__EXTENDED_CLASS___";function Bo(Yr){var Gr={main:"",sub:""};if(Yr){var Wr=Yr.split(H6);Gr.main=Wr[0]||"",Gr.sub=Wr[1]||""}return Gr}function W6(Yr){ea(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(Yr),'componentType "'+Yr+'" illegal')}function KI(Yr){return!!(Yr&&Yr[jI])}function Vc(Yr,Gr){Yr.$constructor=Yr,Yr.extend=function(Wr){var Zr=this,Kr;return Y6(Zr)?Kr=function(Jr){Di(Qr,Jr);function Qr(){return Jr.apply(this,arguments)||this}return Qr}(Zr):(Kr=function(){(Wr.$constructor||Zr).apply(this,arguments)},mD(Kr,this)),ki(Kr.prototype,Wr),Kr[jI]=!0,Kr.extend=this.extend,Kr.superCall=q6,Kr.superApply=Z6,Kr.superClass=Zr,Kr}}function Y6(Yr){return Wi(Yr)&&/^class\s/.test(Function.prototype.toString.call(Yr))}function ny(Yr,Gr){Yr.extend=Gr.extend}var X6=Math.round(Math.random()*10);function $I(Yr){var Gr=["__\0is_clz",X6++].join("_");Yr.prototype[Gr]=!0,Yr.isInstance=function(Wr){return!!(Wr&&Wr[Gr])}}function q6(Yr,Gr){for(var Wr=[],Zr=2;Zr<arguments.length;Zr++)Wr[Zr-2]=arguments[Zr];return this.superClass.prototype[Gr].apply(Yr,Wr)}function Z6(Yr,Gr,Wr){return this.superClass.prototype[Gr].apply(Yr,Wr)}function $u(Yr){var Gr={};Yr.registerClass=function(Zr){var Kr=Zr.type||Zr.prototype.type;if(Kr){W6(Kr),Zr.prototype.type=Kr;var Jr=Bo(Kr);if(!Jr.sub)Gr[Jr.main]=Zr;else if(Jr.sub!==gh){var Qr=Wr(Jr);Qr[Jr.sub]=Zr}}return Zr},Yr.getClass=function(Zr,Kr,Jr){var Qr=Gr[Zr];if(Qr&&Qr[gh]&&(Qr=Kr?Qr[Kr]:null),Jr&&!Qr)throw new Error(Kr?"Component "+Zr+"."+(Kr||"")+" is used but not imported.":Zr+".type should be specified.");return Qr},Yr.getClassesByMainType=function(Zr){var Kr=Bo(Zr),Jr=[],Qr=Gr[Kr.main];return Qr&&Qr[gh]?_i(Qr,function(ti,ei){ei!==gh&&Jr.push(ti)}):Jr.push(Qr),Jr},Yr.hasClass=function(Zr){var Kr=Bo(Zr);return!!Gr[Kr.main]},Yr.getAllClassMainTypes=function(){var Zr=[];return _i(Gr,function(Kr,Jr){Zr.push(Jr)}),Zr},Yr.hasSubTypes=function(Zr){var Kr=Bo(Zr),Jr=Gr[Kr.main];return Jr&&Jr[gh]};function Wr(Zr){var Kr=Gr[Zr.main];return(!Kr||!Kr[gh])&&(Kr=Gr[Zr.main]={},Kr[gh]=!0),Kr}}function Uo(Yr,Gr){for(var Wr=0;Wr<Yr.length;Wr++)Yr[Wr][1]||(Yr[Wr][1]=Yr[Wr][0]);return Gr=Gr||!1,function(Zr,Kr,Jr){for(var Qr={},ti=0;ti<Yr.length;ti++){var ei=Yr[ti][1];if(!(Kr&&sn(Kr,ei)>=0||Jr&&sn(Jr,ei)<0)){var ri=Zr.getShallow(ei,Gr);ri!=null&&(Qr[Yr[ti][0]]=ri)}}return Qr}}var j6=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],K6=Uo(j6),JI=function(){function Yr(){}return Yr.prototype.getAreaStyle=function(Gr,Wr){return K6(this,Gr,Wr)},Yr}();var PS=new nu(50);function tL(Yr){if(typeof Yr=="string"){var Gr=PS.get(Yr);return Gr&&Gr.image}else return Yr}function Yd(Yr,Gr,Wr,Zr,Kr){if(Yr)if(typeof Yr=="string"){if(Gr&&Gr.__zrImageSrc===Yr||!Wr)return Gr;var Jr=PS.get(Yr),Qr={hostEl:Wr,cb:Zr,cbPayload:Kr};return Jr?(Gr=Jr.image,!Bc(Gr)&&Jr.pending.push(Qr)):(Gr=fo.loadImage(Yr,QI,QI),Gr.__zrImageSrc=Yr,PS.put(Yr,Gr.__cachedImgObj={image:Gr,pending:[Qr]})),Gr}else return Yr;else return Gr}function QI(){var Yr=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var Gr=0;Gr<Yr.pending.length;Gr++){var Wr=Yr.pending[Gr],Zr=Wr.cb;Zr&&Zr(this,Wr.cbPayload),Wr.hostEl.dirty()}Yr.pending.length=0}function Bc(Yr){return Yr&&Yr.width&&Yr.height}var ES=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function J6(Yr,Gr,Wr,Zr,Kr){if(!Gr)return"";var Jr=(Yr+"").split(`
`);Kr=rL(Gr,Wr,Zr,Kr);for(var Qr=0,ti=Jr.length;Qr<ti;Qr++)Jr[Qr]=iL(Jr[Qr],Kr);return Jr.join(`
`)}function rL(Yr,Gr,Wr,Zr){Zr=Zr||{};var Kr=ki({},Zr);Kr.font=Gr,Wr=on(Wr,"..."),Kr.maxIterations=on(Zr.maxIterations,2);var Jr=Kr.minChar=on(Zr.minChar,0);Kr.cnCharWidth=Fo("\u56FD",Gr);var Qr=Kr.ascCharWidth=Fo("a",Gr);Kr.placeholder=on(Zr.placeholder,"");for(var ti=Yr=Math.max(0,Yr-1),ei=0;ei<Jr&&ti>=Qr;ei++)ti-=Qr;var ri=Fo(Wr,Gr);return ri>ti&&(Wr="",ri=0),ti=Yr-ri,Kr.ellipsis=Wr,Kr.ellipsisWidth=ri,Kr.contentWidth=ti,Kr.containerWidth=Yr,Kr}function iL(Yr,Gr){var Wr=Gr.containerWidth,Zr=Gr.font,Kr=Gr.contentWidth;if(!Wr)return"";var Jr=Fo(Yr,Zr);if(Jr<=Wr)return Yr;for(var Qr=0;;Qr++){if(Jr<=Kr||Qr>=Gr.maxIterations){Yr+=Gr.ellipsis;break}var ti=Qr===0?Q6(Yr,Kr,Gr.ascCharWidth,Gr.cnCharWidth):Jr>0?Math.floor(Yr.length*Kr/Jr):0;Yr=Yr.substr(0,ti),Jr=Fo(Yr,Zr)}return Yr===""&&(Yr=Gr.placeholder),Yr}function Q6(Yr,Gr,Wr,Zr){for(var Kr=0,Jr=0,Qr=Yr.length;Jr<Qr&&Kr<Gr;Jr++){var ti=Yr.charCodeAt(Jr);Kr+=0<=ti&&ti<=127?Wr:Zr}return Jr}function nL(Yr,Gr){Yr!=null&&(Yr+="");var Wr=Gr.overflow,Zr=Gr.padding,Kr=Gr.font,Jr=Wr==="truncate",Qr=Oc(Kr),ti=on(Gr.lineHeight,Qr),ei=!!Gr.backgroundColor,ri=Gr.lineOverflow==="truncate",ii=Gr.width,ni;ii!=null&&(Wr==="break"||Wr==="breakAll")?ni=Yr?oL(Yr,Gr.font,ii,Wr==="breakAll",0).lines:[]:ni=Yr?Yr.split(`
`):[];var ai=ni.length*ti,oi=on(Gr.height,ai);if(ai>oi&&ri){var si=Math.floor(oi/ti);ni=ni.slice(0,si)}if(Yr&&Jr&&ii!=null)for(var li=rL(ii,Kr,Gr.ellipsis,{minChar:Gr.truncateMinChar,placeholder:Gr.placeholder}),ui=0;ui<ni.length;ui++)ni[ui]=iL(ni[ui],li);for(var fi=oi,hi=0,ui=0;ui<ni.length;ui++)hi=Math.max(Fo(ni[ui],Kr),hi);ii==null&&(ii=hi);var ci=hi;return Zr&&(fi+=Zr[0]+Zr[2],ci+=Zr[1]+Zr[3],ii+=Zr[1]+Zr[3]),ei&&(ci=ii),{lines:ni,height:oi,outerWidth:ci,outerHeight:fi,lineHeight:ti,calculatedLineHeight:Qr,contentWidth:hi,contentHeight:ai,width:ii}}var t8=function(){function Yr(){}return Yr}(),eL=function(){function Yr(Gr){this.tokens=[],Gr&&(this.tokens=Gr)}return Yr}(),e8=function(){function Yr(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return Yr}();function aL(Yr,Gr){var Wr=new e8;if(Yr!=null&&(Yr+=""),!Yr)return Wr;for(var Zr=Gr.width,Kr=Gr.height,Jr=Gr.overflow,Qr=(Jr==="break"||Jr==="breakAll")&&Zr!=null?{width:Zr,accumWidth:0,breakAll:Jr==="breakAll"}:null,ti=ES.lastIndex=0,ei;(ei=ES.exec(Yr))!=null;){var ri=ei.index;ri>ti&&DS(Wr,Yr.substring(ti,ri),Gr,Qr),DS(Wr,ei[2],Gr,Qr,ei[1]),ti=ES.lastIndex}ti<Yr.length&&DS(Wr,Yr.substring(ti,Yr.length),Gr,Qr);var ii=[],ni=0,ai=0,oi=Gr.padding,si=Jr==="truncate",li=Gr.lineOverflow==="truncate";function ui(xi,Ci,Li){xi.width=Ci,xi.lineHeight=Li,ni+=Li,ai=Math.max(ai,Ci)}t:for(var fi=0;fi<Wr.lines.length;fi++){for(var hi=Wr.lines[fi],ci=0,pi=0,di=0;di<hi.tokens.length;di++){var vi=hi.tokens[di],mi=vi.styleName&&Gr.rich[vi.styleName]||{},gi=vi.textPadding=mi.padding,yi=gi?gi[1]+gi[3]:0,Si=vi.font=mi.font||Gr.font;vi.contentHeight=Oc(Si);var bi=on(mi.height,vi.contentHeight);if(vi.innerHeight=bi,gi&&(bi+=gi[0]+gi[2]),vi.height=bi,vi.lineHeight=Fa(mi.lineHeight,Gr.lineHeight,bi),vi.align=mi&&mi.align||Gr.align,vi.verticalAlign=mi&&mi.verticalAlign||"middle",li&&Kr!=null&&ni+vi.lineHeight>Kr){di>0?(hi.tokens=hi.tokens.slice(0,di),ui(hi,pi,ci),Wr.lines=Wr.lines.slice(0,fi+1)):Wr.lines=Wr.lines.slice(0,fi);break t}var Ti=mi.width,Ai=Ti==null||Ti==="auto";if(typeof Ti=="string"&&Ti.charAt(Ti.length-1)==="%")vi.percentWidth=Ti,ii.push(vi),vi.contentWidth=Fo(vi.text,Si);else{if(Ai){var Ei=mi.backgroundColor,Mi=Ei&&Ei.image;Mi&&(Mi=tL(Mi),Bc(Mi)&&(vi.width=Math.max(vi.width,Mi.width*bi/Mi.height)))}var wi=si&&Zr!=null?Zr-pi:null;wi!=null&&wi<vi.width?!Ai||wi<yi?(vi.text="",vi.width=vi.contentWidth=0):(vi.text=J6(vi.text,wi-yi,Si,Gr.ellipsis,{minChar:Gr.truncateMinChar}),vi.width=vi.contentWidth=Fo(vi.text,Si)):vi.contentWidth=Fo(vi.text,Si)}vi.width+=yi,pi+=vi.width,mi&&(ci=Math.max(ci,vi.lineHeight))}ui(hi,pi,ci)}Wr.outerWidth=Wr.width=on(Zr,ai),Wr.outerHeight=Wr.height=on(Kr,ni),Wr.contentHeight=ni,Wr.contentWidth=ai,oi&&(Wr.outerWidth+=oi[1]+oi[3],Wr.outerHeight+=oi[0]+oi[2]);for(var fi=0;fi<ii.length;fi++){var vi=ii[fi],Pi=vi.percentWidth;vi.width=parseInt(Pi,10)/100*Wr.width}return Wr}function DS(Yr,Gr,Wr,Zr,Kr){var Jr=Gr==="",Qr=Kr&&Wr.rich[Kr]||{},ti=Yr.lines,ei=Qr.font||Wr.font,ri=!1,ii,ni;if(Zr){var ai=Qr.padding,oi=ai?ai[1]+ai[3]:0;if(Qr.width!=null&&Qr.width!=="auto"){var si=eo(Qr.width,Zr.width)+oi;ti.length>0&&si+Zr.accumWidth>Zr.width&&(ii=Gr.split(`
`),ri=!0),Zr.accumWidth=si}else{var li=oL(Gr,ei,Zr.width,Zr.breakAll,Zr.accumWidth);Zr.accumWidth=li.accumWidth+oi,ni=li.linesWidths,ii=li.lines}}else ii=Gr.split(`
`);for(var ui=0;ui<ii.length;ui++){var fi=ii[ui],hi=new t8;if(hi.styleName=Kr,hi.text=fi,hi.isLineHolder=!fi&&!Jr,typeof Qr.width=="number"?hi.width=Qr.width:hi.width=ni?ni[ui]:Fo(fi,ei),!ui&&!ri){var ci=(ti[ti.length-1]||(ti[0]=new eL)).tokens,pi=ci.length;pi===1&&ci[0].isLineHolder?ci[0]=hi:(fi||!pi||Jr)&&ci.push(hi)}else ti.push(new eL([hi]))}}function r8(Yr){var Gr=Yr.charCodeAt(0);return Gr>=32&&Gr<=591||Gr>=880&&Gr<=4351||Gr>=4608&&Gr<=5119||Gr>=7680&&Gr<=8303}var i8=Ja(",&?/;] ".split(""),function(Yr,Gr){return Yr[Gr]=!0,Yr},{});function n8(Yr){return r8(Yr)?!!i8[Yr]:!0}function oL(Yr,Gr,Wr,Zr,Kr){for(var Jr=[],Qr=[],ti="",ei="",ri=0,ii=0,ni=0;ni<Yr.length;ni++){var ai=Yr.charAt(ni);if(ai===`
`){ei&&(ti+=ei,ii+=ri),Jr.push(ti),Qr.push(ii),ti="",ei="",ri=0,ii=0;continue}var oi=Fo(ai,Gr),si=Zr?!1:!n8(ai);if(Jr.length?ii+oi>Wr:Kr+ii+oi>Wr){ii?(ti||ei)&&(si?(ti||(ti=ei,ei="",ri=0,ii=ri),Jr.push(ti),Qr.push(ii-ri),ei+=ai,ri+=oi,ti="",ii=ri):(ei&&(ti+=ei,ei="",ri=0),Jr.push(ti),Qr.push(ii),ti=ai,ii=oi)):si?(Jr.push(ei),Qr.push(ri),ei=ai,ri=oi):(Jr.push(ai),Qr.push(oi));continue}ii+=oi,si?(ei+=ai,ri+=oi):(ei&&(ti+=ei,ei="",ri=0),ti+=ai)}return!Jr.length&&!ti&&(ti=Yr,ei="",ri=0),ei&&(ti+=ei),ti&&(Jr.push(ti),Qr.push(ii)),Jr.length===1&&(ii+=Kr),{accumWidth:ii,lines:Jr,linesWidths:Qr}}var kS="__zr_style_"+Math.round(Math.random()*10),Al={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},yh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Al[kS]=!0;var sL=["z","z2","invisible"],a8=["invisible"],o8=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype._init=function(Wr){for(var Zr=fn(Wr),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Jr==="style"?this.useStyle(Wr[Jr]):Yr.prototype.attrKV.call(this,Jr,Wr[Jr])}this.style||this.useStyle({})},Gr.prototype.beforeBrush=function(){},Gr.prototype.afterBrush=function(){},Gr.prototype.innerBeforeBrush=function(){},Gr.prototype.innerAfterBrush=function(){},Gr.prototype.shouldBePainted=function(Wr,Zr,Kr,Jr){var Qr=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&s8(this,Wr,Zr)||Qr&&!Qr[0]&&!Qr[3])return!1;if(Kr&&this.__clipPaths){for(var ti=0;ti<this.__clipPaths.length;++ti)if(this.__clipPaths[ti].isZeroArea())return!1}if(Jr&&this.parent)for(var ei=this.parent;ei;){if(ei.ignore)return!1;ei=ei.parent}return!0},Gr.prototype.contain=function(Wr,Zr){return this.rectContain(Wr,Zr)},Gr.prototype.traverse=function(Wr,Zr){Wr.call(Zr,this)},Gr.prototype.rectContain=function(Wr,Zr){var Kr=this.transformCoordToLocal(Wr,Zr),Jr=this.getBoundingRect();return Jr.contain(Kr[0],Kr[1])},Gr.prototype.getPaintRect=function(){var Wr=this._paintRect;if(!this._paintRect||this.__dirty){var Zr=this.transform,Kr=this.getBoundingRect(),Jr=this.style,Qr=Jr.shadowBlur||0,ti=Jr.shadowOffsetX||0,ei=Jr.shadowOffsetY||0;Wr=this._paintRect||(this._paintRect=new rn(0,0,0,0)),Zr?rn.applyTransform(Wr,Kr,Zr):Wr.copy(Kr),(Qr||ti||ei)&&(Wr.width+=Qr*2+Math.abs(ti),Wr.height+=Qr*2+Math.abs(ei),Wr.x=Math.min(Wr.x,Wr.x+ti-Qr),Wr.y=Math.min(Wr.y,Wr.y+ei-Qr));var ri=this.dirtyRectTolerance;Wr.isZero()||(Wr.x=Math.floor(Wr.x-ri),Wr.y=Math.floor(Wr.y-ri),Wr.width=Math.ceil(Wr.width+1+ri*2),Wr.height=Math.ceil(Wr.height+1+ri*2))}return Wr},Gr.prototype.setPrevPaintRect=function(Wr){Wr?(this._prevPaintRect=this._prevPaintRect||new rn(0,0,0,0),this._prevPaintRect.copy(Wr)):this._prevPaintRect=null},Gr.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Gr.prototype.animateStyle=function(Wr){return this.animate("style",Wr)},Gr.prototype.updateDuringAnimation=function(Wr){Wr==="style"?this.dirtyStyle():this.markRedraw()},Gr.prototype.attrKV=function(Wr,Zr){Wr!=="style"?Yr.prototype.attrKV.call(this,Wr,Zr):this.style?this.setStyle(Zr):this.useStyle(Zr)},Gr.prototype.setStyle=function(Wr,Zr){return typeof Wr=="string"?this.style[Wr]=Zr:ki(this.style,Wr),this.dirtyStyle(),this},Gr.prototype.dirtyStyle=function(Wr){Wr||this.markRedraw(),this.__dirty|=nh,this._rect&&(this._rect=null)},Gr.prototype.dirty=function(){this.dirtyStyle()},Gr.prototype.styleChanged=function(){return!!(this.__dirty&nh)},Gr.prototype.styleUpdated=function(){this.__dirty&=~nh},Gr.prototype.createStyle=function(Wr){return Uu(Al,Wr)},Gr.prototype.useStyle=function(Wr){Wr[kS]||(Wr=this.createStyle(Wr)),this.__inHover?this.__hoverStyle=Wr:this.style=Wr,this.dirtyStyle()},Gr.prototype.isStyleObject=function(Wr){return Wr[kS]},Gr.prototype._innerSaveToNormal=function(Wr){Yr.prototype._innerSaveToNormal.call(this,Wr);var Zr=this._normalState;Wr.style&&!Zr.style&&(Zr.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(Wr,Zr,sL)},Gr.prototype._applyStateObj=function(Wr,Zr,Kr,Jr,Qr,ti){Yr.prototype._applyStateObj.call(this,Wr,Zr,Kr,Jr,Qr,ti);var ei=!(Zr&&Jr),ri;if(Zr&&Zr.style?Qr?Jr?ri=Zr.style:(ri=this._mergeStyle(this.createStyle(),Kr.style),this._mergeStyle(ri,Zr.style)):(ri=this._mergeStyle(this.createStyle(),Jr?this.style:Kr.style),this._mergeStyle(ri,Zr.style)):ei&&(ri=Kr.style),ri)if(Qr){var ii=this.style;if(this.style=this.createStyle(ei?{}:ii),ei)for(var ni=fn(ii),ai=0;ai<ni.length;ai++){var oi=ni[ai];oi in ri&&(ri[oi]=ri[oi],this.style[oi]=ii[oi])}for(var si=fn(ri),ai=0;ai<si.length;ai++){var oi=si[ai];this.style[oi]=this.style[oi]}this._transitionState(Wr,{style:ri},ti,this.getAnimationStyleProps())}else this.useStyle(ri);for(var li=this.__inHover?a8:sL,ai=0;ai<li.length;ai++){var oi=li[ai];Zr&&Zr[oi]!=null?this[oi]=Zr[oi]:ei&&Kr[oi]!=null&&(this[oi]=Kr[oi])}},Gr.prototype._mergeStates=function(Wr){for(var Zr=Yr.prototype._mergeStates.call(this,Wr),Kr,Jr=0;Jr<Wr.length;Jr++){var Qr=Wr[Jr];Qr.style&&(Kr=Kr||{},this._mergeStyle(Kr,Qr.style))}return Kr&&(Zr.style=Kr),Zr},Gr.prototype._mergeStyle=function(Wr,Zr){return ki(Wr,Zr),Wr},Gr.prototype.getAnimationStyleProps=function(){return yh},Gr.initDefaultProps=function(){var Wr=Gr.prototype;Wr.type="displayable",Wr.invisible=!1,Wr.z=0,Wr.z2=0,Wr.zlevel=0,Wr.culling=!1,Wr.cursor="pointer",Wr.rectHover=!1,Wr.incremental=!1,Wr._rect=null,Wr.dirtyRectTolerance=0,Wr.__dirty=Ra|nh}(),Gr}(jg),IS=new rn(0,0,0,0),LS=new rn(0,0,0,0);function s8(Yr,Gr,Wr){return IS.copy(Yr.getBoundingRect()),Yr.transform&&IS.applyTransform(Yr.transform),LS.width=Gr,LS.height=Wr,!IS.intersect(LS)}var ba=o8;var Go=Math.min,Ho=Math.max,RS=Math.sin,OS=Math.cos,xh=Math.PI*2,ay=Sl(),oy=Sl(),sy=Sl();function _h(Yr,Gr,Wr){if(Yr.length!==0){for(var Zr=Yr[0],Kr=Zr[0],Jr=Zr[0],Qr=Zr[1],ti=Zr[1],ei=1;ei<Yr.length;ei++)Zr=Yr[ei],Kr=Go(Kr,Zr[0]),Jr=Ho(Jr,Zr[0]),Qr=Go(Qr,Zr[1]),ti=Ho(ti,Zr[1]);Gr[0]=Kr,Gr[1]=Qr,Wr[0]=Jr,Wr[1]=ti}}function zS(Yr,Gr,Wr,Zr,Kr,Jr){Kr[0]=Go(Yr,Wr),Kr[1]=Go(Gr,Zr),Jr[0]=Ho(Yr,Wr),Jr[1]=Ho(Gr,Zr)}var lL=[],uL=[];function fL(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){var ii=Mg,ni=ga,ai=ii(Yr,Wr,Kr,Qr,lL);ei[0]=1/0,ei[1]=1/0,ri[0]=-1/0,ri[1]=-1/0;for(var oi=0;oi<ai;oi++){var si=ni(Yr,Wr,Kr,Qr,lL[oi]);ei[0]=Go(si,ei[0]),ri[0]=Ho(si,ri[0])}ai=ii(Gr,Zr,Jr,ti,uL);for(var oi=0;oi<ai;oi++){var li=ni(Gr,Zr,Jr,ti,uL[oi]);ei[1]=Go(li,ei[1]),ri[1]=Ho(li,ri[1])}ei[0]=Go(Yr,ei[0]),ri[0]=Ho(Yr,ri[0]),ei[0]=Go(Qr,ei[0]),ri[0]=Ho(Qr,ri[0]),ei[1]=Go(Gr,ei[1]),ri[1]=Ho(Gr,ri[1]),ei[1]=Go(ti,ei[1]),ri[1]=Ho(ti,ri[1])}function hL(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Eg,ri=_a,ii=Ho(Go(ei(Yr,Wr,Kr),1),0),ni=Ho(Go(ei(Gr,Zr,Jr),1),0),ai=ri(Yr,Wr,Kr,ii),oi=ri(Gr,Zr,Jr,ni);Qr[0]=Go(Yr,Kr,ai),Qr[1]=Go(Gr,Jr,oi),ti[0]=Ho(Yr,Kr,ai),ti[1]=Ho(Gr,Jr,oi)}function cL(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=ns,ii=as,ni=Math.abs(Kr-Jr);if(ni%xh<1e-4&&ni>1e-4){ti[0]=Yr-Wr,ti[1]=Gr-Zr,ei[0]=Yr+Wr,ei[1]=Gr+Zr;return}if(ay[0]=OS(Kr)*Wr+Yr,ay[1]=RS(Kr)*Zr+Gr,oy[0]=OS(Jr)*Wr+Yr,oy[1]=RS(Jr)*Zr+Gr,ri(ti,ay,oy),ii(ei,ay,oy),Kr=Kr%xh,Kr<0&&(Kr=Kr+xh),Jr=Jr%xh,Jr<0&&(Jr=Jr+xh),Kr>Jr&&!Qr?Jr+=xh:Kr<Jr&&Qr&&(Kr+=xh),Qr){var ai=Jr;Jr=Kr,Kr=ai}for(var oi=0;oi<Jr;oi+=Math.PI/2)oi>Kr&&(sy[0]=OS(oi)*Wr+Yr,sy[1]=RS(oi)*Zr+Gr,ri(ti,sy,ti),ii(ei,sy,ei))}var ra={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},bh=[],Sh=[],Ml=[],Ju=[],Pl=[],El=[],NS=Math.min,FS=Math.max,wh=Math.cos,Ch=Math.sin,ou=Math.abs,US=Math.PI,Qu=US*2,VS=typeof Float32Array<"u",Xd=[];function BS(Yr){var Gr=Math.round(Yr/US*1e8)/1e8;return Gr%2*US}function qd(Yr,Gr){var Wr=BS(Yr[0]);Wr<0&&(Wr+=Qu);var Zr=Wr-Yr[0],Kr=Yr[1];Kr+=Zr,!Gr&&Kr-Wr>=Qu?Kr=Wr+Qu:Gr&&Wr-Kr>=Qu?Kr=Wr-Qu:!Gr&&Wr>Kr?Kr=Wr+(Qu-BS(Wr-Kr)):Gr&&Wr<Kr&&(Kr=Wr-(Qu-BS(Kr-Wr))),Yr[0]=Wr,Yr[1]=Kr}var l8=function(){function Yr(Gr){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,Gr&&(this._saveData=!1),this._saveData&&(this.data=[])}return Yr.prototype.increaseVersion=function(){this._version++},Yr.prototype.getVersion=function(){return this._version},Yr.prototype.setScale=function(Gr,Wr,Zr){Zr=Zr||0,Zr>0&&(this._ux=ou(Zr/hh/Gr)||0,this._uy=ou(Zr/hh/Wr)||0)},Yr.prototype.setDPR=function(Gr){this.dpr=Gr},Yr.prototype.setContext=function(Gr){this._ctx=Gr},Yr.prototype.getContext=function(){return this._ctx},Yr.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},Yr.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},Yr.prototype.moveTo=function(Gr,Wr){return this._drawPendingPt(),this.addData(ra.M,Gr,Wr),this._ctx&&this._ctx.moveTo(Gr,Wr),this._x0=Gr,this._y0=Wr,this._xi=Gr,this._yi=Wr,this},Yr.prototype.lineTo=function(Gr,Wr){var Zr=ou(Gr-this._xi),Kr=ou(Wr-this._yi),Jr=Zr>this._ux||Kr>this._uy;if(this.addData(ra.L,Gr,Wr),this._ctx&&Jr&&this._ctx.lineTo(Gr,Wr),Jr)this._xi=Gr,this._yi=Wr,this._pendingPtDist=0;else{var Qr=Zr*Zr+Kr*Kr;Qr>this._pendingPtDist&&(this._pendingPtX=Gr,this._pendingPtY=Wr,this._pendingPtDist=Qr)}return this},Yr.prototype.bezierCurveTo=function(Gr,Wr,Zr,Kr,Jr,Qr){return this._drawPendingPt(),this.addData(ra.C,Gr,Wr,Zr,Kr,Jr,Qr),this._ctx&&this._ctx.bezierCurveTo(Gr,Wr,Zr,Kr,Jr,Qr),this._xi=Jr,this._yi=Qr,this},Yr.prototype.quadraticCurveTo=function(Gr,Wr,Zr,Kr){return this._drawPendingPt(),this.addData(ra.Q,Gr,Wr,Zr,Kr),this._ctx&&this._ctx.quadraticCurveTo(Gr,Wr,Zr,Kr),this._xi=Zr,this._yi=Kr,this},Yr.prototype.arc=function(Gr,Wr,Zr,Kr,Jr,Qr){this._drawPendingPt(),Xd[0]=Kr,Xd[1]=Jr,qd(Xd,Qr),Kr=Xd[0],Jr=Xd[1];var ti=Jr-Kr;return this.addData(ra.A,Gr,Wr,Zr,Zr,Kr,ti,0,Qr?0:1),this._ctx&&this._ctx.arc(Gr,Wr,Zr,Kr,Jr,Qr),this._xi=wh(Jr)*Zr+Gr,this._yi=Ch(Jr)*Zr+Wr,this},Yr.prototype.arcTo=function(Gr,Wr,Zr,Kr,Jr){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(Gr,Wr,Zr,Kr,Jr),this},Yr.prototype.rect=function(Gr,Wr,Zr,Kr){return this._drawPendingPt(),this._ctx&&this._ctx.rect(Gr,Wr,Zr,Kr),this.addData(ra.R,Gr,Wr,Zr,Kr),this},Yr.prototype.closePath=function(){this._drawPendingPt(),this.addData(ra.Z);var Gr=this._ctx,Wr=this._x0,Zr=this._y0;return Gr&&Gr.closePath(),this._xi=Wr,this._yi=Zr,this},Yr.prototype.fill=function(Gr){Gr&&Gr.fill(),this.toStatic()},Yr.prototype.stroke=function(Gr){Gr&&Gr.stroke(),this.toStatic()},Yr.prototype.len=function(){return this._len},Yr.prototype.setData=function(Gr){var Wr=Gr.length;!(this.data&&this.data.length===Wr)&&VS&&(this.data=new Float32Array(Wr));for(var Zr=0;Zr<Wr;Zr++)this.data[Zr]=Gr[Zr];this._len=Wr},Yr.prototype.appendPath=function(Gr){Gr instanceof Array||(Gr=[Gr]);for(var Wr=Gr.length,Zr=0,Kr=this._len,Jr=0;Jr<Wr;Jr++)Zr+=Gr[Jr].len();VS&&this.data instanceof Float32Array&&(this.data=new Float32Array(Kr+Zr));for(var Jr=0;Jr<Wr;Jr++)for(var Qr=Gr[Jr].data,ti=0;ti<Qr.length;ti++)this.data[Kr++]=Qr[ti];this._len=Kr},Yr.prototype.addData=function(Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){if(this._saveData){var ii=this.data;this._len+arguments.length>ii.length&&(this._expandData(),ii=this.data);for(var ni=0;ni<arguments.length;ni++)ii[this._len++]=arguments[ni]}},Yr.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},Yr.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var Gr=[],Wr=0;Wr<this._len;Wr++)Gr[Wr]=this.data[Wr];this.data=Gr}},Yr.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var Gr=this.data;Gr instanceof Array&&(Gr.length=this._len,VS&&this._len>11&&(this.data=new Float32Array(Gr)))}},Yr.prototype.getBoundingRect=function(){Ml[0]=Ml[1]=Pl[0]=Pl[1]=Number.MAX_VALUE,Ju[0]=Ju[1]=El[0]=El[1]=-Number.MAX_VALUE;var Gr=this.data,Wr=0,Zr=0,Kr=0,Jr=0,Qr;for(Qr=0;Qr<this._len;){var ti=Gr[Qr++],ei=Qr===1;switch(ei&&(Wr=Gr[Qr],Zr=Gr[Qr+1],Kr=Wr,Jr=Zr),ti){case ra.M:Wr=Kr=Gr[Qr++],Zr=Jr=Gr[Qr++],Pl[0]=Kr,Pl[1]=Jr,El[0]=Kr,El[1]=Jr;break;case ra.L:zS(Wr,Zr,Gr[Qr],Gr[Qr+1],Pl,El),Wr=Gr[Qr++],Zr=Gr[Qr++];break;case ra.C:fL(Wr,Zr,Gr[Qr++],Gr[Qr++],Gr[Qr++],Gr[Qr++],Gr[Qr],Gr[Qr+1],Pl,El),Wr=Gr[Qr++],Zr=Gr[Qr++];break;case ra.Q:hL(Wr,Zr,Gr[Qr++],Gr[Qr++],Gr[Qr],Gr[Qr+1],Pl,El),Wr=Gr[Qr++],Zr=Gr[Qr++];break;case ra.A:var ri=Gr[Qr++],ii=Gr[Qr++],ni=Gr[Qr++],ai=Gr[Qr++],oi=Gr[Qr++],si=Gr[Qr++]+oi;Qr+=1;var li=!Gr[Qr++];ei&&(Kr=wh(oi)*ni+ri,Jr=Ch(oi)*ai+ii),cL(ri,ii,ni,ai,oi,si,li,Pl,El),Wr=wh(si)*ni+ri,Zr=Ch(si)*ai+ii;break;case ra.R:Kr=Wr=Gr[Qr++],Jr=Zr=Gr[Qr++];var ui=Gr[Qr++],fi=Gr[Qr++];zS(Kr,Jr,Kr+ui,Jr+fi,Pl,El);break;case ra.Z:Wr=Kr,Zr=Jr;break}ns(Ml,Ml,Pl),as(Ju,Ju,El)}return Qr===0&&(Ml[0]=Ml[1]=Ju[0]=Ju[1]=0),new rn(Ml[0],Ml[1],Ju[0]-Ml[0],Ju[1]-Ml[1])},Yr.prototype._calculateLength=function(){var Gr=this.data,Wr=this._len,Zr=this._ux,Kr=this._uy,Jr=0,Qr=0,ti=0,ei=0;this._pathSegLen||(this._pathSegLen=[]);for(var ri=this._pathSegLen,ii=0,ni=0,ai=0;ai<Wr;){var oi=Gr[ai++],si=ai===1;si&&(Jr=Gr[ai],Qr=Gr[ai+1],ti=Jr,ei=Qr);var li=-1;switch(oi){case ra.M:Jr=ti=Gr[ai++],Qr=ei=Gr[ai++];break;case ra.L:{var ui=Gr[ai++],fi=Gr[ai++],hi=ui-Jr,ci=fi-Qr;(ou(hi)>Zr||ou(ci)>Kr||ai===Wr-1)&&(li=Math.sqrt(hi*hi+ci*ci),Jr=ui,Qr=fi);break}case ra.C:{var pi=Gr[ai++],di=Gr[ai++],ui=Gr[ai++],fi=Gr[ai++],vi=Gr[ai++],mi=Gr[ai++];li=XD(Jr,Qr,pi,di,ui,fi,vi,mi,10),Jr=vi,Qr=mi;break}case ra.Q:{var pi=Gr[ai++],di=Gr[ai++],ui=Gr[ai++],fi=Gr[ai++];li=ZD(Jr,Qr,pi,di,ui,fi,10),Jr=ui,Qr=fi;break}case ra.A:var gi=Gr[ai++],yi=Gr[ai++],Si=Gr[ai++],bi=Gr[ai++],Ti=Gr[ai++],Ai=Gr[ai++],Ei=Ai+Ti;ai+=1,si&&(ti=wh(Ti)*Si+gi,ei=Ch(Ti)*bi+yi),li=FS(Si,bi)*NS(Qu,Math.abs(Ai)),Jr=wh(Ei)*Si+gi,Qr=Ch(Ei)*bi+yi;break;case ra.R:{ti=Jr=Gr[ai++],ei=Qr=Gr[ai++];var Mi=Gr[ai++],wi=Gr[ai++];li=Mi*2+wi*2;break}case ra.Z:{var hi=ti-Jr,ci=ei-Qr;li=Math.sqrt(hi*hi+ci*ci),Jr=ti,Qr=ei;break}}li>=0&&(ri[ni++]=li,ii+=li)}return this._pathLen=ii,ii},Yr.prototype.rebuildPath=function(Gr,Wr){var Zr=this.data,Kr=this._ux,Jr=this._uy,Qr=this._len,ti,ei,ri,ii,ni,ai,oi=Wr<1,si,li,ui=0,fi=0,hi,ci=0,pi,di;if(!(oi&&(this._pathSegLen||this._calculateLength(),si=this._pathSegLen,li=this._pathLen,hi=Wr*li,!hi)))t:for(var vi=0;vi<Qr;){var mi=Zr[vi++],gi=vi===1;switch(gi&&(ri=Zr[vi],ii=Zr[vi+1],ti=ri,ei=ii),mi!==ra.L&&ci>0&&(Gr.lineTo(pi,di),ci=0),mi){case ra.M:ti=ri=Zr[vi++],ei=ii=Zr[vi++],Gr.moveTo(ri,ii);break;case ra.L:{ni=Zr[vi++],ai=Zr[vi++];var yi=ou(ni-ri),Si=ou(ai-ii);if(yi>Kr||Si>Jr){if(oi){var bi=si[fi++];if(ui+bi>hi){var Ti=(hi-ui)/bi;Gr.lineTo(ri*(1-Ti)+ni*Ti,ii*(1-Ti)+ai*Ti);break t}ui+=bi}Gr.lineTo(ni,ai),ri=ni,ii=ai,ci=0}else{var Ai=yi*yi+Si*Si;Ai>ci&&(pi=ni,di=ai,ci=Ai)}break}case ra.C:{var Ei=Zr[vi++],Mi=Zr[vi++],wi=Zr[vi++],Pi=Zr[vi++],xi=Zr[vi++],Ci=Zr[vi++];if(oi){var bi=si[fi++];if(ui+bi>hi){var Ti=(hi-ui)/bi;Ss(ri,Ei,wi,xi,Ti,bh),Ss(ii,Mi,Pi,Ci,Ti,Sh),Gr.bezierCurveTo(bh[1],Sh[1],bh[2],Sh[2],bh[3],Sh[3]);break t}ui+=bi}Gr.bezierCurveTo(Ei,Mi,wi,Pi,xi,Ci),ri=xi,ii=Ci;break}case ra.Q:{var Ei=Zr[vi++],Mi=Zr[vi++],wi=Zr[vi++],Pi=Zr[vi++];if(oi){var bi=si[fi++];if(ui+bi>hi){var Ti=(hi-ui)/bi;Xu(ri,Ei,wi,Ti,bh),Xu(ii,Mi,Pi,Ti,Sh),Gr.quadraticCurveTo(bh[1],Sh[1],bh[2],Sh[2]);break t}ui+=bi}Gr.quadraticCurveTo(Ei,Mi,wi,Pi),ri=wi,ii=Pi;break}case ra.A:var Li=Zr[vi++],Ii=Zr[vi++],zi=Zr[vi++],Bi=Zr[vi++],Vi=Zr[vi++],ji=Zr[vi++],tn=Zr[vi++],hn=!Zr[vi++],nn=zi>Bi?zi:Bi,dn=ou(zi-Bi)>.001,cn=Vi+ji,Ji=!1;if(oi){var bi=si[fi++];ui+bi>hi&&(cn=Vi+ji*(hi-ui)/bi,Ji=!0),ui+=bi}if(dn&&Gr.ellipse?Gr.ellipse(Li,Ii,zi,Bi,tn,Vi,cn,hn):Gr.arc(Li,Ii,nn,Vi,cn,hn),Ji)break t;gi&&(ti=wh(Vi)*zi+Li,ei=Ch(Vi)*Bi+Ii),ri=wh(cn)*zi+Li,ii=Ch(cn)*Bi+Ii;break;case ra.R:ti=ri=Zr[vi],ei=ii=Zr[vi+1],ni=Zr[vi++],ai=Zr[vi++];var vn=Zr[vi++],pn=Zr[vi++];if(oi){var bi=si[fi++];if(ui+bi>hi){var Xi=hi-ui;Gr.moveTo(ni,ai),Gr.lineTo(ni+NS(Xi,vn),ai),Xi-=vn,Xi>0&&Gr.lineTo(ni+vn,ai+NS(Xi,pn)),Xi-=pn,Xi>0&&Gr.lineTo(ni+FS(vn-Xi,0),ai+pn),Xi-=vn,Xi>0&&Gr.lineTo(ni,ai+FS(pn-Xi,0));break t}ui+=bi}Gr.rect(ni,ai,vn,pn);break;case ra.Z:if(oi){var bi=si[fi++];if(ui+bi>hi){var Ti=(hi-ui)/bi;Gr.lineTo(ri*(1-Ti)+ti*Ti,ii*(1-Ti)+ei*Ti);break t}ui+=bi}Gr.closePath(),ri=ti,ii=ei}}},Yr.prototype.clone=function(){var Gr=new Yr,Wr=this.data;return Gr.data=Wr.slice?Wr.slice():Array.prototype.slice.call(Wr),Gr._len=this._len,Gr},Yr.CMD=ra,Yr.initDefaultProps=function(){var Gr=Yr.prototype;Gr._saveData=!0,Gr._ux=0,Gr._uy=0,Gr._pendingPtDist=0,Gr._version=0}(),Yr}(),Ha=l8;function Dl(Yr,Gr,Wr,Zr,Kr,Jr,Qr){if(Kr===0)return!1;var ti=Kr,ei=0,ri=Yr;if(Qr>Gr+ti&&Qr>Zr+ti||Qr<Gr-ti&&Qr<Zr-ti||Jr>Yr+ti&&Jr>Wr+ti||Jr<Yr-ti&&Jr<Wr-ti)return!1;if(Yr!==Wr)ei=(Gr-Zr)/(Yr-Wr),ri=(Yr*Zr-Wr*Gr)/(Yr-Wr);else return Math.abs(Jr-Yr)<=ti/2;var ii=ei*Jr-Qr+ri,ni=ii*ii/(ei*ei+1);return ni<=ti/2*ti/2}function vL(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii){if(ei===0)return!1;var ni=ei;if(ii>Gr+ni&&ii>Zr+ni&&ii>Jr+ni&&ii>ti+ni||ii<Gr-ni&&ii<Zr-ni&&ii<Jr-ni&&ii<ti-ni||ri>Yr+ni&&ri>Wr+ni&&ri>Kr+ni&&ri>Qr+ni||ri<Yr-ni&&ri<Wr-ni&&ri<Kr-ni&&ri<Qr-ni)return!1;var ai=Pg(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ri,ii,null);return ai<=ni/2}function ly(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){if(Qr===0)return!1;var ri=Qr;if(ei>Gr+ri&&ei>Zr+ri&&ei>Jr+ri||ei<Gr-ri&&ei<Zr-ri&&ei<Jr-ri||ti>Yr+ri&&ti>Wr+ri&&ti>Kr+ri||ti<Yr-ri&&ti<Wr-ri&&ti<Kr-ri)return!1;var ii=Dg(Yr,Gr,Wr,Zr,Kr,Jr,ti,ei,null);return ii<=ri/2}var gL=Math.PI*2;function ro(Yr){return Yr%=gL,Yr<0&&(Yr+=gL),Yr}var Zd=Math.PI*2;function yL(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){if(Qr===0)return!1;var ri=Qr;ti-=Yr,ei-=Gr;var ii=Math.sqrt(ti*ti+ei*ei);if(ii-ri>Wr||ii+ri<Wr)return!1;if(Math.abs(Zr-Kr)%Zd<1e-4)return!0;if(Jr){var ni=Zr;Zr=ro(Kr),Kr=ro(ni)}else Zr=ro(Zr),Kr=ro(Kr);Zr>Kr&&(Kr+=Zd);var ai=Math.atan2(ei,ti);return ai<0&&(ai+=Zd),ai>=Zr&&ai<=Kr||ai+Zd>=Zr&&ai+Zd<=Kr}function Ms(Yr,Gr,Wr,Zr,Kr,Jr){if(Jr>Gr&&Jr>Zr||Jr<Gr&&Jr<Zr||Zr===Gr)return 0;var Qr=(Jr-Gr)/(Zr-Gr),ti=Zr<Gr?1:-1;(Qr===1||Qr===0)&&(ti=Zr<Gr?.5:-.5);var ei=Qr*(Wr-Yr)+Yr;return ei===Kr?1/0:ei>Kr?ti:0}var tf=Ha.CMD,Th=Math.PI*2,h8=1e-4;function c8(Yr,Gr){return Math.abs(Yr-Gr)<h8}var So=[-1,-1,-1],Ps=[-1,-1];function p8(){var Yr=Ps[0];Ps[0]=Ps[1],Ps[1]=Yr}function d8(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){if(ri>Gr&&ri>Zr&&ri>Jr&&ri>ti||ri<Gr&&ri<Zr&&ri<Jr&&ri<ti)return 0;var ii=ah(Gr,Zr,Jr,ti,ri,So);if(ii===0)return 0;for(var ni=0,ai=-1,oi=void 0,si=void 0,li=0;li<ii;li++){var ui=So[li],fi=ui===0||ui===1?.5:1,hi=ga(Yr,Wr,Kr,Qr,ui);hi<ei||(ai<0&&(ai=Mg(Gr,Zr,Jr,ti,Ps),Ps[1]<Ps[0]&&ai>1&&p8(),oi=ga(Gr,Zr,Jr,ti,Ps[0]),ai>1&&(si=ga(Gr,Zr,Jr,ti,Ps[1]))),ai===2?ui<Ps[0]?ni+=oi<Gr?fi:-fi:ui<Ps[1]?ni+=si<oi?fi:-fi:ni+=ti<si?fi:-fi:ui<Ps[0]?ni+=oi<Gr?fi:-fi:ni+=ti<oi?fi:-fi)}return ni}function v8(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){if(ti>Gr&&ti>Zr&&ti>Jr||ti<Gr&&ti<Zr&&ti<Jr)return 0;var ei=qD(Gr,Zr,Jr,ti,So);if(ei===0)return 0;var ri=Eg(Gr,Zr,Jr);if(ri>=0&&ri<=1){for(var ii=0,ni=_a(Gr,Zr,Jr,ri),ai=0;ai<ei;ai++){var oi=So[ai]===0||So[ai]===1?.5:1,si=_a(Yr,Wr,Kr,So[ai]);si<Qr||(So[ai]<ri?ii+=ni<Gr?oi:-oi:ii+=Jr<ni?oi:-oi)}return ii}else{var oi=So[0]===0||So[0]===1?.5:1,si=_a(Yr,Wr,Kr,So[0]);return si<Qr?0:Jr<Gr?oi:-oi}}function m8(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){if(ti-=Gr,ti>Wr||ti<-Wr)return 0;var ei=Math.sqrt(Wr*Wr-ti*ti);So[0]=-ei,So[1]=ei;var ri=Math.abs(Zr-Kr);if(ri<1e-4)return 0;if(ri>=Th-1e-4){Zr=0,Kr=Th;var ii=Jr?1:-1;return Qr>=So[0]+Yr&&Qr<=So[1]+Yr?ii:0}if(Zr>Kr){var ni=Zr;Zr=Kr,Kr=ni}Zr<0&&(Zr+=Th,Kr+=Th);for(var ai=0,oi=0;oi<2;oi++){var si=So[oi];if(si+Yr>Qr){var li=Math.atan2(ti,si),ii=Jr?1:-1;li<0&&(li=Th+li),(li>=Zr&&li<=Kr||li+Th>=Zr&&li+Th<=Kr)&&(li>Math.PI/2&&li<Math.PI*1.5&&(ii=-ii),ai+=ii)}}return ai}function xL(Yr,Gr,Wr,Zr,Kr){for(var Jr=Yr.data,Qr=Yr.len(),ti=0,ei=0,ri=0,ii=0,ni=0,ai,oi,si=0;si<Qr;){var li=Jr[si++],ui=si===1;switch(li===tf.M&&si>1&&(Wr||(ti+=Ms(ei,ri,ii,ni,Zr,Kr))),ui&&(ei=Jr[si],ri=Jr[si+1],ii=ei,ni=ri),li){case tf.M:ii=Jr[si++],ni=Jr[si++],ei=ii,ri=ni;break;case tf.L:if(Wr){if(Dl(ei,ri,Jr[si],Jr[si+1],Gr,Zr,Kr))return!0}else ti+=Ms(ei,ri,Jr[si],Jr[si+1],Zr,Kr)||0;ei=Jr[si++],ri=Jr[si++];break;case tf.C:if(Wr){if(vL(ei,ri,Jr[si++],Jr[si++],Jr[si++],Jr[si++],Jr[si],Jr[si+1],Gr,Zr,Kr))return!0}else ti+=d8(ei,ri,Jr[si++],Jr[si++],Jr[si++],Jr[si++],Jr[si],Jr[si+1],Zr,Kr)||0;ei=Jr[si++],ri=Jr[si++];break;case tf.Q:if(Wr){if(ly(ei,ri,Jr[si++],Jr[si++],Jr[si],Jr[si+1],Gr,Zr,Kr))return!0}else ti+=v8(ei,ri,Jr[si++],Jr[si++],Jr[si],Jr[si+1],Zr,Kr)||0;ei=Jr[si++],ri=Jr[si++];break;case tf.A:var fi=Jr[si++],hi=Jr[si++],ci=Jr[si++],pi=Jr[si++],di=Jr[si++],vi=Jr[si++];si+=1;var mi=!!(1-Jr[si++]);ai=Math.cos(di)*ci+fi,oi=Math.sin(di)*pi+hi,ui?(ii=ai,ni=oi):ti+=Ms(ei,ri,ai,oi,Zr,Kr);var gi=(Zr-fi)*pi/ci+fi;if(Wr){if(yL(fi,hi,pi,di,di+vi,mi,Gr,gi,Kr))return!0}else ti+=m8(fi,hi,pi,di,di+vi,mi,gi,Kr);ei=Math.cos(di+vi)*ci+fi,ri=Math.sin(di+vi)*pi+hi;break;case tf.R:ii=ei=Jr[si++],ni=ri=Jr[si++];var yi=Jr[si++],Si=Jr[si++];if(ai=ii+yi,oi=ni+Si,Wr){if(Dl(ii,ni,ai,ni,Gr,Zr,Kr)||Dl(ai,ni,ai,oi,Gr,Zr,Kr)||Dl(ai,oi,ii,oi,Gr,Zr,Kr)||Dl(ii,oi,ii,ni,Gr,Zr,Kr))return!0}else ti+=Ms(ai,ni,ai,oi,Zr,Kr),ti+=Ms(ii,oi,ii,ni,Zr,Kr);break;case tf.Z:if(Wr){if(Dl(ei,ri,ii,ni,Gr,Zr,Kr))return!0}else ti+=Ms(ei,ri,ii,ni,Zr,Kr);ei=ii,ri=ni;break}}return!Wr&&!c8(ri,ni)&&(ti+=Ms(ei,ri,ii,ni,Zr,Kr)||0),ti!==0}function _L(Yr,Gr,Wr){return xL(Yr,0,!1,Gr,Wr)}function bL(Yr,Gr,Wr,Zr){return xL(Yr,Gr,!0,Wr,Zr)}var Uc=Yi({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Al),y8={style:Yi({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},yh.style)},GS=ss.concat(["invisible","culling","z","z2","zlevel","parent"]),x8=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.update=function(){var Wr=this;Yr.prototype.update.call(this);var Zr=this.style;if(Zr.decal){var Kr=this._decalEl=this._decalEl||new Gr;Kr.buildPath===Gr.prototype.buildPath&&(Kr.buildPath=function(ei){Wr.buildPath(ei,Wr.shape)}),Kr.silent=!0;var Jr=Kr.style;for(var Qr in Zr)Jr[Qr]!==Zr[Qr]&&(Jr[Qr]=Zr[Qr]);Jr.fill=Zr.fill?Zr.decal:null,Jr.decal=null,Jr.shadowColor=null,Zr.strokeFirst&&(Jr.stroke=null);for(var ti=0;ti<GS.length;++ti)Kr[GS[ti]]=this[GS[ti]];Kr.__dirty|=Ra}else this._decalEl&&(this._decalEl=null)},Gr.prototype.getDecalElement=function(){return this._decalEl},Gr.prototype._init=function(Wr){var Zr=fn(Wr);this.shape=this.getDefaultShape();var Kr=this.getDefaultStyle();Kr&&this.useStyle(Kr);for(var Jr=0;Jr<Zr.length;Jr++){var Qr=Zr[Jr],ti=Wr[Qr];Qr==="style"?this.style?ki(this.style,ti):this.useStyle(ti):Qr==="shape"?ki(this.shape,ti):Yr.prototype.attrKV.call(this,Qr,ti)}this.style||this.useStyle({})},Gr.prototype.getDefaultStyle=function(){return null},Gr.prototype.getDefaultShape=function(){return{}},Gr.prototype.canBeInsideText=function(){return this.hasFill()},Gr.prototype.getInsideTextFill=function(){var Wr=this.style.fill;if(Wr!=="none"){if(Ni(Wr)){var Zr=Lc(Wr,0);return Zr>.5?Vd:Zr>.2?xI:Bd}else if(Wr)return Bd}return Vd},Gr.prototype.getInsideTextStroke=function(Wr){var Zr=this.style.fill;if(Ni(Zr)){var Kr=this.__zr,Jr=!!(Kr&&Kr.isDarkMode()),Qr=Lc(Wr,0)<Fd;if(Jr===Qr)return Zr}},Gr.prototype.buildPath=function(Wr,Zr,Kr){},Gr.prototype.pathUpdated=function(){this.__dirty&=~Hu},Gr.prototype.getUpdatedPathProxy=function(Wr){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,Wr),this.path},Gr.prototype.createPathProxy=function(){this.path=new Ha(!1)},Gr.prototype.hasStroke=function(){var Wr=this.style,Zr=Wr.stroke;return!(Zr==null||Zr==="none"||!(Wr.lineWidth>0))},Gr.prototype.hasFill=function(){var Wr=this.style,Zr=Wr.fill;return Zr!=null&&Zr!=="none"},Gr.prototype.getBoundingRect=function(){var Wr=this._rect,Zr=this.style,Kr=!Wr;if(Kr){var Jr=!1;this.path||(Jr=!0,this.createPathProxy());var Qr=this.path;(Jr||this.__dirty&Hu)&&(Qr.beginPath(),this.buildPath(Qr,this.shape,!1),this.pathUpdated()),Wr=Qr.getBoundingRect()}if(this._rect=Wr,this.hasStroke()&&this.path&&this.path.len()>0){var ti=this._rectStroke||(this._rectStroke=Wr.clone());if(this.__dirty||Kr){ti.copy(Wr);var ei=Zr.strokeNoScale?this.getLineScale():1,ri=Zr.lineWidth;if(!this.hasFill()){var ii=this.strokeContainThreshold;ri=Math.max(ri,ii??4)}ei>1e-10&&(ti.width+=ri/ei,ti.height+=ri/ei,ti.x-=ri/ei/2,ti.y-=ri/ei/2)}return ti}return Wr},Gr.prototype.contain=function(Wr,Zr){var Kr=this.transformCoordToLocal(Wr,Zr),Jr=this.getBoundingRect(),Qr=this.style;if(Wr=Kr[0],Zr=Kr[1],Jr.contain(Wr,Zr)){var ti=this.path;if(this.hasStroke()){var ei=Qr.lineWidth,ri=Qr.strokeNoScale?this.getLineScale():1;if(ri>1e-10&&(this.hasFill()||(ei=Math.max(ei,this.strokeContainThreshold)),bL(ti,ei/ri,Wr,Zr)))return!0}if(this.hasFill())return _L(ti,Wr,Zr)}return!1},Gr.prototype.dirtyShape=function(){this.__dirty|=Hu,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Gr.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Gr.prototype.animateShape=function(Wr){return this.animate("shape",Wr)},Gr.prototype.updateDuringAnimation=function(Wr){Wr==="style"?this.dirtyStyle():Wr==="shape"?this.dirtyShape():this.markRedraw()},Gr.prototype.attrKV=function(Wr,Zr){Wr==="shape"?this.setShape(Zr):Yr.prototype.attrKV.call(this,Wr,Zr)},Gr.prototype.setShape=function(Wr,Zr){var Kr=this.shape;return Kr||(Kr=this.shape={}),typeof Wr=="string"?Kr[Wr]=Zr:ki(Kr,Wr),this.dirtyShape(),this},Gr.prototype.shapeChanged=function(){return!!(this.__dirty&Hu)},Gr.prototype.createStyle=function(Wr){return Uu(Uc,Wr)},Gr.prototype._innerSaveToNormal=function(Wr){Yr.prototype._innerSaveToNormal.call(this,Wr);var Zr=this._normalState;Wr.shape&&!Zr.shape&&(Zr.shape=ki({},this.shape))},Gr.prototype._applyStateObj=function(Wr,Zr,Kr,Jr,Qr,ti){Yr.prototype._applyStateObj.call(this,Wr,Zr,Kr,Jr,Qr,ti);var ei=!(Zr&&Jr),ri;if(Zr&&Zr.shape?Qr?Jr?ri=Zr.shape:(ri=ki({},Kr.shape),ki(ri,Zr.shape)):(ri=ki({},Jr?this.shape:Kr.shape),ki(ri,Zr.shape)):ei&&(ri=Kr.shape),ri)if(Qr){this.shape=ki({},this.shape);for(var ii={},ni=fn(ri),ai=0;ai<ni.length;ai++){var oi=ni[ai];typeof ri[oi]=="object"?this.shape[oi]=ri[oi]:ii[oi]=ri[oi]}this._transitionState(Wr,{shape:ii},ti)}else this.shape=ri,this.dirtyShape()},Gr.prototype._mergeStates=function(Wr){for(var Zr=Yr.prototype._mergeStates.call(this,Wr),Kr,Jr=0;Jr<Wr.length;Jr++){var Qr=Wr[Jr];Qr.shape&&(Kr=Kr||{},this._mergeStyle(Kr,Qr.shape))}return Kr&&(Zr.shape=Kr),Zr},Gr.prototype.getAnimationStyleProps=function(){return y8},Gr.prototype.isZeroArea=function(){return!1},Gr.extend=function(Wr){var Zr=function(Jr){Di(Qr,Jr);function Qr(ti){var ei=Jr.call(this,ti)||this;return Wr.init&&Wr.init.call(ei,ti),ei}return Qr.prototype.getDefaultStyle=function(){return Ki(Wr.style)},Qr.prototype.getDefaultShape=function(){return Ki(Wr.shape)},Qr}(Gr);for(var Kr in Wr)typeof Wr[Kr]=="function"&&(Zr.prototype[Kr]=Wr[Kr]);return Zr},Gr.initDefaultProps=function(){var Wr=Gr.prototype;Wr.type="path",Wr.strokeContainThreshold=5,Wr.segmentIgnoreThreshold=0,Wr.subPixelOptimize=!1,Wr.autoBatch=!1,Wr.__dirty=Ra|nh|Hu}(),Gr}(ba),an=x8;var _8=Yi({strokeFirst:!0,font:is,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Uc),SL=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.hasStroke=function(){var Wr=this.style,Zr=Wr.stroke;return Zr!=null&&Zr!=="none"&&Wr.lineWidth>0},Gr.prototype.hasFill=function(){var Wr=this.style,Zr=Wr.fill;return Zr!=null&&Zr!=="none"},Gr.prototype.createStyle=function(Wr){return Uu(_8,Wr)},Gr.prototype.setBoundingRect=function(Wr){this._rect=Wr},Gr.prototype.getBoundingRect=function(){var Wr=this.style;if(!this._rect){var Zr=Wr.text;Zr!=null?Zr+="":Zr="";var Kr=Tl(Zr,Wr.font,Wr.textAlign,Wr.textBaseline);if(Kr.x+=Wr.x||0,Kr.y+=Wr.y||0,this.hasStroke()){var Jr=Wr.lineWidth;Kr.x-=Jr/2,Kr.y-=Jr/2,Kr.width+=Jr,Kr.height+=Jr}this._rect=Kr}return this._rect},Gr.initDefaultProps=function(){var Wr=Gr.prototype;Wr.dirtyRectTolerance=10}(),Gr}(ba);SL.prototype.type="tspan";var su=SL;var b8=Yi({x:0,y:0},Al),S8={style:Yi({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},yh.style)};function w8(Yr){return!!(Yr&&typeof Yr!="string"&&Yr.width&&Yr.height)}var wL=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.createStyle=function(Wr){return Uu(b8,Wr)},Gr.prototype._getSize=function(Wr){var Zr=this.style,Kr=Zr[Wr];if(Kr!=null)return Kr;var Jr=w8(Zr.image)?Zr.image:this.__image;if(!Jr)return 0;var Qr=Wr==="width"?"height":"width",ti=Zr[Qr];return ti==null?Jr[Wr]:Jr[Wr]/Jr[Qr]*ti},Gr.prototype.getWidth=function(){return this._getSize("width")},Gr.prototype.getHeight=function(){return this._getSize("height")},Gr.prototype.getAnimationStyleProps=function(){return S8},Gr.prototype.getBoundingRect=function(){var Wr=this.style;return this._rect||(this._rect=new rn(Wr.x||0,Wr.y||0,this.getWidth(),this.getHeight())),this._rect},Gr}(ba);wL.prototype.type="image";var Kn=wL;function CL(Yr,Gr){var Wr=Gr.x,Zr=Gr.y,Kr=Gr.width,Jr=Gr.height,Qr=Gr.r,ti,ei,ri,ii;Kr<0&&(Wr=Wr+Kr,Kr=-Kr),Jr<0&&(Zr=Zr+Jr,Jr=-Jr),typeof Qr=="number"?ti=ei=ri=ii=Qr:Qr instanceof Array?Qr.length===1?ti=ei=ri=ii=Qr[0]:Qr.length===2?(ti=ri=Qr[0],ei=ii=Qr[1]):Qr.length===3?(ti=Qr[0],ei=ii=Qr[1],ri=Qr[2]):(ti=Qr[0],ei=Qr[1],ri=Qr[2],ii=Qr[3]):ti=ei=ri=ii=0;var ni;ti+ei>Kr&&(ni=ti+ei,ti*=Kr/ni,ei*=Kr/ni),ri+ii>Kr&&(ni=ri+ii,ri*=Kr/ni,ii*=Kr/ni),ei+ri>Jr&&(ni=ei+ri,ei*=Jr/ni,ri*=Jr/ni),ti+ii>Jr&&(ni=ti+ii,ti*=Jr/ni,ii*=Jr/ni),Yr.moveTo(Wr+ti,Zr),Yr.lineTo(Wr+Kr-ei,Zr),ei!==0&&Yr.arc(Wr+Kr-ei,Zr+ei,ei,-Math.PI/2,0),Yr.lineTo(Wr+Kr,Zr+Jr-ri),ri!==0&&Yr.arc(Wr+Kr-ri,Zr+Jr-ri,ri,0,Math.PI/2),Yr.lineTo(Wr+ii,Zr+Jr),ii!==0&&Yr.arc(Wr+ii,Zr+Jr-ii,ii,Math.PI/2,Math.PI),Yr.lineTo(Wr,Zr+ti),ti!==0&&Yr.arc(Wr+ti,Zr+ti,ti,Math.PI,Math.PI*1.5)}var Gc=Math.round;function uy(Yr,Gr,Wr){if(Gr){var Zr=Gr.x1,Kr=Gr.x2,Jr=Gr.y1,Qr=Gr.y2;Yr.x1=Zr,Yr.x2=Kr,Yr.y1=Jr,Yr.y2=Qr;var ti=Wr&&Wr.lineWidth;return ti&&(Gc(Zr*2)===Gc(Kr*2)&&(Yr.x1=Yr.x2=ef(Zr,ti,!0)),Gc(Jr*2)===Gc(Qr*2)&&(Yr.y1=Yr.y2=ef(Jr,ti,!0))),Yr}}function fy(Yr,Gr,Wr){if(Gr){var Zr=Gr.x,Kr=Gr.y,Jr=Gr.width,Qr=Gr.height;Yr.x=Zr,Yr.y=Kr,Yr.width=Jr,Yr.height=Qr;var ti=Wr&&Wr.lineWidth;return ti&&(Yr.x=ef(Zr,ti,!0),Yr.y=ef(Kr,ti,!0),Yr.width=Math.max(ef(Zr+Jr,ti,!1)-Yr.x,Jr===0?0:1),Yr.height=Math.max(ef(Kr+Qr,ti,!1)-Yr.y,Qr===0?0:1)),Yr}}function ef(Yr,Gr,Wr){if(!Gr)return Yr;var Zr=Gc(Yr*2);return(Zr+Gc(Gr))%2===0?Zr/2:(Zr+(Wr?1:-1))/2}var A8=function(){function Yr(){this.x=0,this.y=0,this.width=0,this.height=0}return Yr}();var M8={},TL=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new A8},Gr.prototype.buildPath=function(Wr,Zr){var Kr,Jr,Qr,ti;if(this.subPixelOptimize){var ei=fy(M8,Zr,this.style);Kr=ei.x,Jr=ei.y,Qr=ei.width,ti=ei.height,ei.r=Zr.r,Zr=ei}else Kr=Zr.x,Jr=Zr.y,Qr=Zr.width,ti=Zr.height;Zr.r?CL(Wr,Zr):Wr.rect(Kr,Jr,Qr,ti)},Gr.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Gr}(an);TL.prototype.type="rect";var mn=TL;var AL={fill:"#000"},ML=2,P8={style:Yi({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},yh.style)},OL=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this)||this;return Zr.type="text",Zr._children=[],Zr._defaultStyle=AL,Zr.attr(Wr),Zr}return Gr.prototype.childrenRef=function(){return this._children},Gr.prototype.update=function(){Yr.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var Wr=0;Wr<this._children.length;Wr++){var Zr=this._children[Wr];Zr.zlevel=this.zlevel,Zr.z=this.z,Zr.z2=this.z2,Zr.culling=this.culling,Zr.cursor=this.cursor,Zr.invisible=this.invisible}},Gr.prototype.updateTransform=function(){var Wr=this.innerTransformable;Wr?(Wr.updateTransform(),Wr.transform&&(this.transform=Wr.transform)):Yr.prototype.updateTransform.call(this)},Gr.prototype.getLocalTransform=function(Wr){var Zr=this.innerTransformable;return Zr?Zr.getLocalTransform(Wr):Yr.prototype.getLocalTransform.call(this,Wr)},Gr.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),Yr.prototype.getComputedTransform.call(this)},Gr.prototype._updateSubTexts=function(){this._childCursor=0,I8(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},Gr.prototype.addSelfToZr=function(Wr){Yr.prototype.addSelfToZr.call(this,Wr);for(var Zr=0;Zr<this._children.length;Zr++)this._children[Zr].__zr=Wr},Gr.prototype.removeSelfFromZr=function(Wr){Yr.prototype.removeSelfFromZr.call(this,Wr);for(var Zr=0;Zr<this._children.length;Zr++)this._children[Zr].__zr=null},Gr.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var Wr=new rn(0,0,0,0),Zr=this._children,Kr=[],Jr=null,Qr=0;Qr<Zr.length;Qr++){var ti=Zr[Qr],ei=ti.getBoundingRect(),ri=ti.getLocalTransform(Kr);ri?(Wr.copy(ei),Wr.applyTransform(ri),Jr=Jr||Wr.clone(),Jr.union(Wr)):(Jr=Jr||ei.clone(),Jr.union(ei))}this._rect=Jr||Wr}return this._rect},Gr.prototype.setDefaultTextStyle=function(Wr){this._defaultStyle=Wr||AL},Gr.prototype.setTextContent=function(Wr){},Gr.prototype._mergeStyle=function(Wr,Zr){if(!Zr)return Wr;var Kr=Zr.rich,Jr=Wr.rich||Kr&&{};return ki(Wr,Zr),Kr&&Jr?(this._mergeRich(Jr,Kr),Wr.rich=Jr):Jr&&(Wr.rich=Jr),Wr},Gr.prototype._mergeRich=function(Wr,Zr){for(var Kr=fn(Zr),Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr];Wr[Qr]=Wr[Qr]||{},ki(Wr[Qr],Zr[Qr])}},Gr.prototype.getAnimationStyleProps=function(){return P8},Gr.prototype._getOrCreateChild=function(Wr){var Zr=this._children[this._childCursor];return(!Zr||!(Zr instanceof Wr))&&(Zr=new Wr),this._children[this._childCursor++]=Zr,Zr.__zr=this.__zr,Zr.parent=this,Zr},Gr.prototype._updatePlainTexts=function(){var Wr=this.style,Zr=Wr.font||is,Kr=Wr.padding,Jr=RL(Wr),Qr=nL(Jr,Wr),ti=HS(Wr),ei=!!Wr.backgroundColor,ri=Qr.outerHeight,ii=Qr.outerWidth,ni=Qr.contentWidth,ai=Qr.lines,oi=Qr.lineHeight,si=this._defaultStyle,li=Wr.x||0,ui=Wr.y||0,fi=Wr.align||si.align||"left",hi=Wr.verticalAlign||si.verticalAlign||"top",ci=li,pi=dh(ui,Qr.contentHeight,hi);if(ti||Kr){var di=Rc(li,ii,fi),vi=dh(ui,ri,hi);ti&&this._renderBackground(Wr,Wr,di,vi,ii,ri)}pi+=oi/2,Kr&&(ci=kL(li,fi,Kr),hi==="top"?pi+=Kr[0]:hi==="bottom"&&(pi-=Kr[2]));for(var mi=0,gi=!1,yi=LL("fill"in Wr?Wr.fill:(gi=!0,si.fill)),Si=IL("stroke"in Wr?Wr.stroke:!ei&&(!si.autoStroke||gi)?(mi=ML,si.stroke):null),bi=Wr.textShadowBlur>0,Ti=Wr.width!=null&&(Wr.overflow==="truncate"||Wr.overflow==="break"||Wr.overflow==="breakAll"),Ai=Qr.calculatedLineHeight,Ei=0;Ei<ai.length;Ei++){var Mi=this._getOrCreateChild(su),wi=Mi.createStyle();Mi.useStyle(wi),wi.text=ai[Ei],wi.x=ci,wi.y=pi,fi&&(wi.textAlign=fi),wi.textBaseline="middle",wi.opacity=Wr.opacity,wi.strokeFirst=!0,bi&&(wi.shadowBlur=Wr.textShadowBlur||0,wi.shadowColor=Wr.textShadowColor||"transparent",wi.shadowOffsetX=Wr.textShadowOffsetX||0,wi.shadowOffsetY=Wr.textShadowOffsetY||0),wi.stroke=Si,wi.fill=yi,Si&&(wi.lineWidth=Wr.lineWidth||mi,wi.lineDash=Wr.lineDash,wi.lineDashOffset=Wr.lineDashOffset||0),wi.font=Zr,EL(wi,Wr),pi+=oi,Ti&&Mi.setBoundingRect(new rn(Rc(wi.x,Wr.width,wi.textAlign),dh(wi.y,Ai,wi.textBaseline),ni,Ai))}},Gr.prototype._updateRichTexts=function(){var Wr=this.style,Zr=RL(Wr),Kr=aL(Zr,Wr),Jr=Kr.width,Qr=Kr.outerWidth,ti=Kr.outerHeight,ei=Wr.padding,ri=Wr.x||0,ii=Wr.y||0,ni=this._defaultStyle,ai=Wr.align||ni.align,oi=Wr.verticalAlign||ni.verticalAlign,si=Rc(ri,Qr,ai),li=dh(ii,ti,oi),ui=si,fi=li;ei&&(ui+=ei[3],fi+=ei[0]);var hi=ui+Jr;HS(Wr)&&this._renderBackground(Wr,Wr,si,li,Qr,ti);for(var ci=!!Wr.backgroundColor,pi=0;pi<Kr.lines.length;pi++){for(var di=Kr.lines[pi],vi=di.tokens,mi=vi.length,gi=di.lineHeight,yi=di.width,Si=0,bi=ui,Ti=hi,Ai=mi-1,Ei=void 0;Si<mi&&(Ei=vi[Si],!Ei.align||Ei.align==="left");)this._placeToken(Ei,Wr,gi,fi,bi,"left",ci),yi-=Ei.width,bi+=Ei.width,Si++;for(;Ai>=0&&(Ei=vi[Ai],Ei.align==="right");)this._placeToken(Ei,Wr,gi,fi,Ti,"right",ci),yi-=Ei.width,Ti-=Ei.width,Ai--;for(bi+=(Jr-(bi-ui)-(hi-Ti)-yi)/2;Si<=Ai;)Ei=vi[Si],this._placeToken(Ei,Wr,gi,fi,bi+Ei.width/2,"center",ci),bi+=Ei.width,Si++;fi+=gi}},Gr.prototype._placeToken=function(Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=Zr.rich[Wr.styleName]||{};ri.text=Wr.text;var ii=Wr.verticalAlign,ni=Jr+Kr/2;ii==="top"?ni=Jr+Wr.height/2:ii==="bottom"&&(ni=Jr+Kr-Wr.height/2);var ai=!Wr.isLineHolder&&HS(ri);ai&&this._renderBackground(ri,Zr,ti==="right"?Qr-Wr.width:ti==="center"?Qr-Wr.width/2:Qr,ni-Wr.height/2,Wr.width,Wr.height);var oi=!!ri.backgroundColor,si=Wr.textPadding;si&&(Qr=kL(Qr,ti,si),ni-=Wr.height/2-si[0]-Wr.innerHeight/2);var li=this._getOrCreateChild(su),ui=li.createStyle();li.useStyle(ui);var fi=this._defaultStyle,hi=!1,ci=0,pi=LL("fill"in ri?ri.fill:"fill"in Zr?Zr.fill:(hi=!0,fi.fill)),di=IL("stroke"in ri?ri.stroke:"stroke"in Zr?Zr.stroke:!oi&&!ei&&(!fi.autoStroke||hi)?(ci=ML,fi.stroke):null),vi=ri.textShadowBlur>0||Zr.textShadowBlur>0;ui.text=Wr.text,ui.x=Qr,ui.y=ni,vi&&(ui.shadowBlur=ri.textShadowBlur||Zr.textShadowBlur||0,ui.shadowColor=ri.textShadowColor||Zr.textShadowColor||"transparent",ui.shadowOffsetX=ri.textShadowOffsetX||Zr.textShadowOffsetX||0,ui.shadowOffsetY=ri.textShadowOffsetY||Zr.textShadowOffsetY||0),ui.textAlign=ti,ui.textBaseline="middle",ui.font=Wr.font||is,ui.opacity=Fa(ri.opacity,Zr.opacity,1),EL(ui,ri),di&&(ui.lineWidth=Fa(ri.lineWidth,Zr.lineWidth,ci),ui.lineDash=on(ri.lineDash,Zr.lineDash),ui.lineDashOffset=Zr.lineDashOffset||0,ui.stroke=di),pi&&(ui.fill=pi);var mi=Wr.contentWidth,gi=Wr.contentHeight;li.setBoundingRect(new rn(Rc(ui.x,mi,ui.textAlign),dh(ui.y,gi,ui.textBaseline),mi,gi))},Gr.prototype._renderBackground=function(Wr,Zr,Kr,Jr,Qr,ti){var ei=Wr.backgroundColor,ri=Wr.borderWidth,ii=Wr.borderColor,ni=ei&&ei.image,ai=ei&&!ni,oi=Wr.borderRadius,si=this,li,ui;if(ai||Wr.lineHeight||ri&&ii){li=this._getOrCreateChild(mn),li.useStyle(li.createStyle()),li.style.fill=null;var fi=li.shape;fi.x=Kr,fi.y=Jr,fi.width=Qr,fi.height=ti,fi.r=oi,li.dirtyShape()}if(ai){var hi=li.style;hi.fill=ei||null,hi.fillOpacity=on(Wr.fillOpacity,1)}else if(ni){ui=this._getOrCreateChild(Kn),ui.onload=function(){si.dirtyStyle()};var ci=ui.style;ci.image=ei.image,ci.x=Kr,ci.y=Jr,ci.width=Qr,ci.height=ti}if(ri&&ii){var hi=li.style;hi.lineWidth=ri,hi.stroke=ii,hi.strokeOpacity=on(Wr.strokeOpacity,1),hi.lineDash=Wr.borderDash,hi.lineDashOffset=Wr.borderDashOffset||0,li.strokeContainThreshold=0,li.hasFill()&&li.hasStroke()&&(hi.strokeFirst=!0,hi.lineWidth*=2)}var pi=(li||ui).style;pi.shadowBlur=Wr.shadowBlur||0,pi.shadowColor=Wr.shadowColor||"transparent",pi.shadowOffsetX=Wr.shadowOffsetX||0,pi.shadowOffsetY=Wr.shadowOffsetY||0,pi.opacity=Fa(Wr.opacity,Zr.opacity,1)},Gr.makeFont=function(Wr){var Zr="";return YS(Wr)&&(Zr=[Wr.fontStyle,Wr.fontWeight,WS(Wr.fontSize),Wr.fontFamily||"sans-serif"].join(" ")),Zr&&Va(Zr)||Wr.textFont||Wr.font},Gr}(ba),E8={left:!0,right:1,center:1},D8={top:1,bottom:1,middle:1},PL=["fontStyle","fontWeight","fontSize","fontFamily"];function WS(Yr){return typeof Yr=="string"&&(Yr.indexOf("px")!==-1||Yr.indexOf("rem")!==-1||Yr.indexOf("em")!==-1)?Yr:isNaN(+Yr)?ug+"px":Yr+"px"}function EL(Yr,Gr){for(var Wr=0;Wr<PL.length;Wr++){var Zr=PL[Wr],Kr=Gr[Zr];Kr!=null&&(Yr[Zr]=Kr)}}function YS(Yr){return Yr.fontSize!=null||Yr.fontFamily||Yr.fontWeight}function I8(Yr){return DL(Yr),_i(Yr.rich,DL),Yr}function DL(Yr){if(Yr){Yr.font=OL.makeFont(Yr);var Gr=Yr.align;Gr==="middle"&&(Gr="center"),Yr.align=Gr==null||E8[Gr]?Gr:"left";var Wr=Yr.verticalAlign;Wr==="center"&&(Wr="middle"),Yr.verticalAlign=Wr==null||D8[Wr]?Wr:"top";var Zr=Yr.padding;Zr&&(Yr.padding=Sc(Yr.padding))}}function IL(Yr,Gr){return Yr==null||Gr<=0||Yr==="transparent"||Yr==="none"?null:Yr.image||Yr.colorStops?"#000":Yr}function LL(Yr){return Yr==null||Yr==="none"?null:Yr.image||Yr.colorStops?"#000":Yr}function kL(Yr,Gr,Wr){return Gr==="right"?Yr-Wr[1]:Gr==="center"?Yr+Wr[3]/2-Wr[1]/2:Yr+Wr[3]}function RL(Yr){var Gr=Yr.text;return Gr!=null&&(Gr+=""),Gr}function HS(Yr){return!!(Yr.backgroundColor||Yr.lineHeight||Yr.borderWidth&&Yr.borderColor)}var xn=OL;var Qi=ln(),jd=function(Yr,Gr,Wr,Zr){if(Zr){var Kr=Qi(Zr);Kr.dataIndex=Wr,Kr.dataType=Gr,Kr.seriesIndex=Yr,Kr.ssrType="chart",Zr.type==="group"&&Zr.traverse(function(Jr){var Qr=Qi(Jr);Qr.seriesIndex=Yr,Qr.dataIndex=Wr,Qr.dataType=Gr,Qr.ssrType="chart"})}};var zL=1,NL={},GL=ln(),ZS=ln(),jS=0,Ah=1,Kd=2,za=["emphasis","blur","select"],rf=["normal","emphasis","blur","select"],lu=10,L8=9,nf="highlight",$d="downplay",Wc="select",Jd="unselect",Yc="toggleSelect";function Hc(Yr){return Yr!=null&&Yr!=="none"}function cy(Yr,Gr,Wr){Yr.onHoverStateChange&&(Yr.hoverState||0)!==Wr&&Yr.onHoverStateChange(Gr),Yr.hoverState=Wr}function HL(Yr){cy(Yr,"emphasis",Kd)}function WL(Yr){Yr.hoverState===Kd&&cy(Yr,"normal",jS)}function KS(Yr){cy(Yr,"blur",Ah)}function YL(Yr){Yr.hoverState===Ah&&cy(Yr,"normal",jS)}function k8(Yr){Yr.selected=!0}function R8(Yr){Yr.selected=!1}function FL(Yr,Gr,Wr){Gr(Yr,Wr)}function uu(Yr,Gr,Wr){FL(Yr,Gr,Wr),Yr.isGroup&&Yr.traverse(function(Zr){FL(Zr,Gr,Wr)})}function Mh(Yr,Gr){switch(Gr){case"emphasis":Yr.hoverState=Kd;break;case"normal":Yr.hoverState=jS;break;case"blur":Yr.hoverState=Ah;break;case"select":Yr.selected=!0}}function O8(Yr,Gr,Wr,Zr){for(var Kr=Yr.style,Jr={},Qr=0;Qr<Gr.length;Qr++){var ti=Gr[Qr],ei=Kr[ti];Jr[ti]=ei??(Zr&&Zr[ti])}for(var Qr=0;Qr<Yr.animators.length;Qr++){var ri=Yr.animators[Qr];ri.__fromStateTransition&&ri.__fromStateTransition.indexOf(Wr)<0&&ri.targetName==="style"&&ri.saveTo(Jr,Gr)}return Jr}function z8(Yr,Gr,Wr,Zr){var Kr=Wr&&sn(Wr,"select")>=0,Jr=!1;if(Yr instanceof an){var Qr=GL(Yr),ti=Kr&&Qr.selectFill||Qr.normalFill,ei=Kr&&Qr.selectStroke||Qr.normalStroke;if(Hc(ti)||Hc(ei)){Zr=Zr||{};var ri=Zr.style||{};ri.fill==="inherit"?(Jr=!0,Zr=ki({},Zr),ri=ki({},ri),ri.fill=ti):!Hc(ri.fill)&&Hc(ti)?(Jr=!0,Zr=ki({},Zr),ri=ki({},ri),ri.fill=Ld(ti)):!Hc(ri.stroke)&&Hc(ei)&&(Jr||(Zr=ki({},Zr),ri=ki({},ri)),ri.stroke=Ld(ei)),Zr.style=ri}}if(Zr&&Zr.z2==null){Jr||(Zr=ki({},Zr));var ii=Yr.z2EmphasisLift;Zr.z2=Yr.z2+(ii??lu)}return Zr}function N8(Yr,Gr,Wr){if(Wr&&Wr.z2==null){Wr=ki({},Wr);var Zr=Yr.z2SelectLift;Wr.z2=Yr.z2+(Zr??L8)}return Wr}function F8(Yr,Gr,Wr){var Zr=sn(Yr.currentStates,Gr)>=0,Kr=Yr.style.opacity,Jr=Zr?null:O8(Yr,["opacity"],Gr,{opacity:1});Wr=Wr||{};var Qr=Wr.style||{};return Qr.opacity==null&&(Wr=ki({},Wr),Qr=ki({opacity:Zr?Kr:Jr.opacity*.1},Qr),Wr.style=Qr),Wr}function XS(Yr,Gr){var Wr=this.states[Yr];if(this.style){if(Yr==="emphasis")return z8(this,Yr,Gr,Wr);if(Yr==="blur")return F8(this,Yr,Wr);if(Yr==="select")return N8(this,Yr,Wr)}return Wr}function Js(Yr){Yr.stateProxy=XS;var Gr=Yr.getTextContent(),Wr=Yr.getTextGuideLine();Gr&&(Gr.stateProxy=XS),Wr&&(Wr.stateProxy=XS)}function VL(Yr,Gr){!XL(Yr,Gr)&&!Yr.__highByOuter&&uu(Yr,HL)}function BL(Yr,Gr){!XL(Yr,Gr)&&!Yr.__highByOuter&&uu(Yr,WL)}function ho(Yr,Gr){Yr.__highByOuter|=1<<(Gr||0),uu(Yr,HL)}function co(Yr,Gr){!(Yr.__highByOuter&=~(1<<(Gr||0)))&&uu(Yr,WL)}function py(Yr){uu(Yr,KS)}function Qd(Yr){uu(Yr,YL)}function $S(Yr){uu(Yr,k8)}function JS(Yr){uu(Yr,R8)}function XL(Yr,Gr){return Yr.__highDownSilentOnTouch&&Gr.zrByTouch}function QS(Yr){var Gr=Yr.getModel(),Wr=[],Zr=[];Gr.eachComponent(function(Kr,Jr){var Qr=ZS(Jr),ti=Kr==="series",ei=ti?Yr.getViewOfSeriesModel(Jr):Yr.getViewOfComponentModel(Jr);!ti&&Zr.push(ei),Qr.isBlured&&(ei.group.traverse(function(ri){YL(ri)}),ti&&Wr.push(Jr)),Qr.isBlured=!1}),_i(Zr,function(Kr){Kr&&Kr.toggleBlurSeries&&Kr.toggleBlurSeries(Wr,!1,Gr)})}function qS(Yr,Gr,Wr,Zr){var Kr=Zr.getModel();Wr=Wr||"coordinateSystem";function Jr(ri,ii){for(var ni=0;ni<ii.length;ni++){var ai=ri.getItemGraphicEl(ii[ni]);ai&&Qd(ai)}}if(Yr!=null&&!(!Gr||Gr==="none")){var Qr=Kr.getSeriesByIndex(Yr),ti=Qr.coordinateSystem;ti&&ti.master&&(ti=ti.master);var ei=[];Kr.eachSeries(function(ri){var ii=Qr===ri,ni=ri.coordinateSystem;ni&&ni.master&&(ni=ni.master);var ai=ni&&ti?ni===ti:ii;if(!(Wr==="series"&&!ii||Wr==="coordinateSystem"&&!ai||Gr==="series"&&ii)){var oi=Zr.getViewOfSeriesModel(ri);if(oi.group.traverse(function(ui){ui.__highByOuter&&ii&&Gr==="self"||KS(ui)}),va(Gr))Jr(ri.getData(),Gr);else if(qi(Gr))for(var si=fn(Gr),li=0;li<si.length;li++)Jr(ri.getData(si[li]),Gr[si[li]]);ei.push(ri),ZS(ri).isBlured=!0}}),Kr.eachComponent(function(ri,ii){if(ri!=="series"){var ni=Zr.getViewOfComponentModel(ii);ni&&ni.toggleBlurSeries&&ni.toggleBlurSeries(ei,!0,Kr)}})}}function hy(Yr,Gr,Wr){if(!(Yr==null||Gr==null)){var Zr=Wr.getModel().getComponent(Yr,Gr);if(Zr){ZS(Zr).isBlured=!0;var Kr=Wr.getViewOfComponentModel(Zr);!Kr||!Kr.focusBlurEnabled||Kr.group.traverse(function(Jr){KS(Jr)})}}}function qL(Yr,Gr,Wr){var Zr=Yr.seriesIndex,Kr=Yr.getData(Gr.dataType);if(Kr){var Jr=As(Kr,Gr);Jr=(Ri(Jr)?Jr[0]:Jr)||0;var Qr=Kr.getItemGraphicEl(Jr);if(!Qr)for(var ti=Kr.count(),ei=0;!Qr&&ei<ti;)Qr=Kr.getItemGraphicEl(ei++);if(Qr){var ri=Qi(Qr);qS(Zr,ri.focus,ri.blurScope,Wr)}else{var ii=Yr.get(["emphasis","focus"]),ni=Yr.get(["emphasis","blurScope"]);ii!=null&&qS(Zr,ii,ni,Wr)}}}function dy(Yr,Gr,Wr,Zr){var Kr={focusSelf:!1,dispatchers:null};if(Yr==null||Yr==="series"||Gr==null||Wr==null)return Kr;var Jr=Zr.getModel().getComponent(Yr,Gr);if(!Jr)return Kr;var Qr=Zr.getViewOfComponentModel(Jr);if(!Qr||!Qr.findHighDownDispatchers)return Kr;for(var ti=Qr.findHighDownDispatchers(Wr),ei,ri=0;ri<ti.length;ri++)if(Qi(ti[ri]).focus==="self"){ei=!0;break}return{focusSelf:ei,dispatchers:ti}}function ZL(Yr,Gr,Wr){var Zr=Qi(Yr),Kr=dy(Zr.componentMainType,Zr.componentIndex,Zr.componentHighDownName,Wr),Jr=Kr.dispatchers,Qr=Kr.focusSelf;Jr?(Qr&&hy(Zr.componentMainType,Zr.componentIndex,Wr),_i(Jr,function(ti){return VL(ti,Gr)})):(qS(Zr.seriesIndex,Zr.focus,Zr.blurScope,Wr),Zr.focus==="self"&&hy(Zr.componentMainType,Zr.componentIndex,Wr),VL(Yr,Gr))}function jL(Yr,Gr,Wr){QS(Wr);var Zr=Qi(Yr),Kr=dy(Zr.componentMainType,Zr.componentIndex,Zr.componentHighDownName,Wr).dispatchers;Kr?_i(Kr,function(Jr){return BL(Jr,Gr)}):BL(Yr,Gr)}function KL(Yr,Gr,Wr){if(my(Gr)){var Zr=Gr.dataType,Kr=Yr.getData(Zr),Jr=As(Kr,Gr);Ri(Jr)||(Jr=[Jr]),Yr[Gr.type===Yc?"toggleSelect":Gr.type===Wc?"select":"unselect"](Jr,Zr)}}function t1(Yr){var Gr=Yr.getAllData();_i(Gr,function(Wr){var Zr=Wr.data,Kr=Wr.type;Zr.eachItemGraphicEl(function(Jr,Qr){Yr.isSelected(Qr,Kr)?$S(Jr):JS(Jr)})})}function $L(Yr){var Gr=[];return Yr.eachSeries(function(Wr){var Zr=Wr.getAllData();_i(Zr,function(Kr){var Jr=Kr.data,Qr=Kr.type,ti=Wr.getSelectedDataIndices();if(ti.length>0){var ei={dataIndex:ti,seriesIndex:Wr.seriesIndex};Qr!=null&&(ei.dataType=Qr),Gr.push(ei)}})}),Gr}function Il(Yr,Gr,Wr){fu(Yr,!0),uu(Yr,Js),vy(Yr,Gr,Wr)}function V8(Yr){fu(Yr,!1)}function In(Yr,Gr,Wr,Zr){Zr?V8(Yr):Il(Yr,Gr,Wr)}function vy(Yr,Gr,Wr){var Zr=Qi(Yr);Gr!=null?(Zr.focus=Gr,Zr.blurScope=Wr):Zr.focus&&(Zr.focus=null)}var UL=["emphasis","blur","select"],B8={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ia(Yr,Gr,Wr,Zr){Wr=Wr||"itemStyle";for(var Kr=0;Kr<UL.length;Kr++){var Jr=UL[Kr],Qr=Gr.getModel([Jr,Wr]),ti=Yr.ensureState(Jr);ti.style=Zr?Zr(Qr):Qr[B8[Wr]]()}}function fu(Yr,Gr){var Wr=Gr===!1,Zr=Yr;Yr.highDownSilentOnTouch&&(Zr.__highDownSilentOnTouch=Yr.highDownSilentOnTouch),(!Wr||Zr.__highDownDispatcher)&&(Zr.__highByOuter=Zr.__highByOuter||0,Zr.__highDownDispatcher=!Wr)}function af(Yr){return!!(Yr&&Yr.__highDownDispatcher)}function JL(Yr,Gr,Wr){var Zr=Qi(Yr);Zr.componentMainType=Gr.mainType,Zr.componentIndex=Gr.componentIndex,Zr.componentHighDownName=Wr}function QL(Yr){var Gr=NL[Yr];return Gr==null&&zL<=32&&(Gr=NL[Yr]=zL++),Gr}function my(Yr){var Gr=Yr.type;return Gr===Wc||Gr===Jd||Gr===Yc}function e1(Yr){var Gr=Yr.type;return Gr===nf||Gr===$d}function tk(Yr){var Gr=GL(Yr);Gr.normalFill=Yr.style.fill,Gr.normalStroke=Yr.style.stroke;var Wr=Yr.states.select||{};Gr.selectFill=Wr.style&&Wr.style.fill||null,Gr.selectStroke=Wr.style&&Wr.style.stroke||null}var yn={};uY(yn,{Arc:()=>nv,BezierCurve:()=>Dh,BoundingRect:()=>rn,Circle:()=>wo,CompoundPath:()=>jc,Ellipse:()=>ev,Group:()=>Zi,Image:()=>Kn,IncrementalDisplayable:()=>Ck,Line:()=>sa,LinearGradient:()=>kl,OrientedBoundingRect:()=>Kc,Path:()=>an,Point:()=>wn,Polygon:()=>fa,Polyline:()=>la,RadialGradient:()=>Cy,Rect:()=>mn,Ring:()=>Eh,Sector:()=>Sa,Text:()=>xn,applyTransform:()=>io,clipPointsByRect:()=>f1,clipRectByRect:()=>x9,createIcon:()=>vu,extendPath:()=>m9,extendShape:()=>d9,getShapeClass:()=>av,getTransform:()=>el,groupTransition:()=>du,initProps:()=>Ln,isElementRemoved:()=>hu,lineLineIntersect:()=>Lk,linePolygonIntersect:()=>Jc,makeImage:()=>u1,makePath:()=>$c,mergePath:()=>vo,registerShape:()=>tl,removeElement:()=>Es,removeElementWithFadeOut:()=>cu,resizePath:()=>Ik,setTooltipConfig:()=>rl,subPixelOptimize:()=>ov,subPixelOptimizeLine:()=>pu,subPixelOptimizeRect:()=>g9,transformDirection:()=>kh,traverseElements:()=>Co,updateProps:()=>bn});var Xc=Ha.CMD,U8=[[],[],[]],ek=Math.sqrt,G8=Math.atan2;function gy(Yr,Gr){if(Gr){var Wr=Yr.data,Zr=Yr.len(),Kr,Jr,Qr,ti,ei,ri,ii=Xc.M,ni=Xc.C,ai=Xc.L,oi=Xc.R,si=Xc.A,li=Xc.Q;for(Qr=0,ti=0;Qr<Zr;){switch(Kr=Wr[Qr++],ti=Qr,Jr=0,Kr){case ii:Jr=1;break;case ai:Jr=1;break;case ni:Jr=3;break;case li:Jr=2;break;case si:var ui=Gr[4],fi=Gr[5],hi=ek(Gr[0]*Gr[0]+Gr[1]*Gr[1]),ci=ek(Gr[2]*Gr[2]+Gr[3]*Gr[3]),pi=G8(-Gr[1]/ci,Gr[0]/hi);Wr[Qr]*=hi,Wr[Qr++]+=ui,Wr[Qr]*=ci,Wr[Qr++]+=fi,Wr[Qr++]*=hi,Wr[Qr++]*=ci,Wr[Qr++]+=pi,Wr[Qr++]+=pi,Qr+=2,ti=Qr;break;case oi:ri[0]=Wr[Qr++],ri[1]=Wr[Qr++],ma(ri,ri,Gr),Wr[ti++]=ri[0],Wr[ti++]=ri[1],ri[0]+=Wr[Qr++],ri[1]+=Wr[Qr++],ma(ri,ri,Gr),Wr[ti++]=ri[0],Wr[ti++]=ri[1]}for(ei=0;ei<Jr;ei++){var di=U8[ei];di[0]=Wr[Qr++],di[1]=Wr[Qr++],ma(di,di,Gr),Wr[ti++]=di[0],Wr[ti++]=di[1]}}Yr.increaseVersion()}}var r1=Math.sqrt,yy=Math.sin,xy=Math.cos,tv=Math.PI;function rk(Yr){return Math.sqrt(Yr[0]*Yr[0]+Yr[1]*Yr[1])}function i1(Yr,Gr){return(Yr[0]*Gr[0]+Yr[1]*Gr[1])/(rk(Yr)*rk(Gr))}function ik(Yr,Gr){return(Yr[0]*Gr[1]<Yr[1]*Gr[0]?-1:1)*Math.acos(i1(Yr,Gr))}function nk(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii){var ni=ei*(tv/180),ai=xy(ni)*(Yr-Wr)/2+yy(ni)*(Gr-Zr)/2,oi=-1*yy(ni)*(Yr-Wr)/2+xy(ni)*(Gr-Zr)/2,si=ai*ai/(Qr*Qr)+oi*oi/(ti*ti);si>1&&(Qr*=r1(si),ti*=r1(si));var li=(Kr===Jr?-1:1)*r1((Qr*Qr*(ti*ti)-Qr*Qr*(oi*oi)-ti*ti*(ai*ai))/(Qr*Qr*(oi*oi)+ti*ti*(ai*ai)))||0,ui=li*Qr*oi/ti,fi=li*-ti*ai/Qr,hi=(Yr+Wr)/2+xy(ni)*ui-yy(ni)*fi,ci=(Gr+Zr)/2+yy(ni)*ui+xy(ni)*fi,pi=ik([1,0],[(ai-ui)/Qr,(oi-fi)/ti]),di=[(ai-ui)/Qr,(oi-fi)/ti],vi=[(-1*ai-ui)/Qr,(-1*oi-fi)/ti],mi=ik(di,vi);if(i1(di,vi)<=-1&&(mi=tv),i1(di,vi)>=1&&(mi=0),mi<0){var gi=Math.round(mi/tv*1e6)/1e6;mi=tv*2+gi%2*tv}ii.addData(ri,hi,ci,Qr,ti,pi,mi,ni,Jr)}var H8=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,W8=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Y8(Yr){var Gr=new Ha;if(!Yr)return Gr;var Wr=0,Zr=0,Kr=Wr,Jr=Zr,Qr,ti=Ha.CMD,ei=Yr.match(H8);if(!ei)return Gr;for(var ri=0;ri<ei.length;ri++){for(var ii=ei[ri],ni=ii.charAt(0),ai=void 0,oi=ii.match(W8)||[],si=oi.length,li=0;li<si;li++)oi[li]=parseFloat(oi[li]);for(var ui=0;ui<si;){var fi=void 0,hi=void 0,ci=void 0,pi=void 0,di=void 0,vi=void 0,mi=void 0,gi=Wr,yi=Zr,Si=void 0,bi=void 0;switch(ni){case"l":Wr+=oi[ui++],Zr+=oi[ui++],ai=ti.L,Gr.addData(ai,Wr,Zr);break;case"L":Wr=oi[ui++],Zr=oi[ui++],ai=ti.L,Gr.addData(ai,Wr,Zr);break;case"m":Wr+=oi[ui++],Zr+=oi[ui++],ai=ti.M,Gr.addData(ai,Wr,Zr),Kr=Wr,Jr=Zr,ni="l";break;case"M":Wr=oi[ui++],Zr=oi[ui++],ai=ti.M,Gr.addData(ai,Wr,Zr),Kr=Wr,Jr=Zr,ni="L";break;case"h":Wr+=oi[ui++],ai=ti.L,Gr.addData(ai,Wr,Zr);break;case"H":Wr=oi[ui++],ai=ti.L,Gr.addData(ai,Wr,Zr);break;case"v":Zr+=oi[ui++],ai=ti.L,Gr.addData(ai,Wr,Zr);break;case"V":Zr=oi[ui++],ai=ti.L,Gr.addData(ai,Wr,Zr);break;case"C":ai=ti.C,Gr.addData(ai,oi[ui++],oi[ui++],oi[ui++],oi[ui++],oi[ui++],oi[ui++]),Wr=oi[ui-2],Zr=oi[ui-1];break;case"c":ai=ti.C,Gr.addData(ai,oi[ui++]+Wr,oi[ui++]+Zr,oi[ui++]+Wr,oi[ui++]+Zr,oi[ui++]+Wr,oi[ui++]+Zr),Wr+=oi[ui-2],Zr+=oi[ui-1];break;case"S":fi=Wr,hi=Zr,Si=Gr.len(),bi=Gr.data,Qr===ti.C&&(fi+=Wr-bi[Si-4],hi+=Zr-bi[Si-3]),ai=ti.C,gi=oi[ui++],yi=oi[ui++],Wr=oi[ui++],Zr=oi[ui++],Gr.addData(ai,fi,hi,gi,yi,Wr,Zr);break;case"s":fi=Wr,hi=Zr,Si=Gr.len(),bi=Gr.data,Qr===ti.C&&(fi+=Wr-bi[Si-4],hi+=Zr-bi[Si-3]),ai=ti.C,gi=Wr+oi[ui++],yi=Zr+oi[ui++],Wr+=oi[ui++],Zr+=oi[ui++],Gr.addData(ai,fi,hi,gi,yi,Wr,Zr);break;case"Q":gi=oi[ui++],yi=oi[ui++],Wr=oi[ui++],Zr=oi[ui++],ai=ti.Q,Gr.addData(ai,gi,yi,Wr,Zr);break;case"q":gi=oi[ui++]+Wr,yi=oi[ui++]+Zr,Wr+=oi[ui++],Zr+=oi[ui++],ai=ti.Q,Gr.addData(ai,gi,yi,Wr,Zr);break;case"T":fi=Wr,hi=Zr,Si=Gr.len(),bi=Gr.data,Qr===ti.Q&&(fi+=Wr-bi[Si-4],hi+=Zr-bi[Si-3]),Wr=oi[ui++],Zr=oi[ui++],ai=ti.Q,Gr.addData(ai,fi,hi,Wr,Zr);break;case"t":fi=Wr,hi=Zr,Si=Gr.len(),bi=Gr.data,Qr===ti.Q&&(fi+=Wr-bi[Si-4],hi+=Zr-bi[Si-3]),Wr+=oi[ui++],Zr+=oi[ui++],ai=ti.Q,Gr.addData(ai,fi,hi,Wr,Zr);break;case"A":ci=oi[ui++],pi=oi[ui++],di=oi[ui++],vi=oi[ui++],mi=oi[ui++],gi=Wr,yi=Zr,Wr=oi[ui++],Zr=oi[ui++],ai=ti.A,nk(gi,yi,Wr,Zr,vi,mi,ci,pi,di,ai,Gr);break;case"a":ci=oi[ui++],pi=oi[ui++],di=oi[ui++],vi=oi[ui++],mi=oi[ui++],gi=Wr,yi=Zr,Wr+=oi[ui++],Zr+=oi[ui++],ai=ti.A,nk(gi,yi,Wr,Zr,vi,mi,ci,pi,di,ai,Gr);break}}(ni==="z"||ni==="Z")&&(ai=ti.Z,Gr.addData(ai),Wr=Kr,Zr=Jr),Qr=ai}return Gr.toStatic(),Gr}var ak=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.applyTransform=function(Wr){},Gr}(an);function ok(Yr){return Yr.setData!=null}function sk(Yr,Gr){var Wr=Y8(Yr),Zr=ki({},Gr);return Zr.buildPath=function(Kr){if(ok(Kr)){Kr.setData(Wr.data);var Jr=Kr.getContext();Jr&&Kr.rebuildPath(Jr,1)}else{var Jr=Kr;Wr.rebuildPath(Jr,1)}},Zr.applyTransform=function(Kr){gy(Wr,Kr),this.dirtyShape()},Zr}function _y(Yr,Gr){return new ak(sk(Yr,Gr))}function lk(Yr,Gr){var Wr=sk(Yr,Gr),Zr=function(Kr){Di(Jr,Kr);function Jr(Qr){var ti=Kr.call(this,Qr)||this;return ti.applyTransform=Wr.applyTransform,ti.buildPath=Wr.buildPath,ti}return Jr}(ak);return Zr}function uk(Yr,Gr){for(var Wr=[],Zr=Yr.length,Kr=0;Kr<Zr;Kr++){var Jr=Yr[Kr];Wr.push(Jr.getUpdatedPathProxy(!0))}var Qr=new an(Gr);return Qr.createPathProxy(),Qr.buildPath=function(ti){if(ok(ti)){ti.appendPath(Wr);var ei=ti.getContext();ei&&ti.rebuildPath(ei,1)}},Qr}function qc(Yr,Gr){Gr=Gr||{};var Wr=new an;return Yr.shape&&Wr.setShape(Yr.shape),Wr.setStyle(Yr.style),Gr.bakeTransform?gy(Wr.path,Yr.getComputedTransform()):Gr.toLocal?Wr.setLocalTransform(Yr.getComputedTransform()):Wr.copyTransform(Yr),Wr.buildPath=Yr.buildPath,Wr.applyTransform=Wr.applyTransform,Wr.z=Yr.z,Wr.z2=Yr.z2,Wr.zlevel=Yr.zlevel,Wr}var q8=function(){function Yr(){this.cx=0,this.cy=0,this.r=0}return Yr}();var fk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new q8},Gr.prototype.buildPath=function(Wr,Zr){Wr.moveTo(Zr.cx+Zr.r,Zr.cy),Wr.arc(Zr.cx,Zr.cy,Zr.r,0,Math.PI*2)},Gr}(an);fk.prototype.type="circle";var wo=fk;var Z8=function(){function Yr(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return Yr}();var hk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new Z8},Gr.prototype.buildPath=function(Wr,Zr){var Kr=.5522848,Jr=Zr.cx,Qr=Zr.cy,ti=Zr.rx,ei=Zr.ry,ri=ti*Kr,ii=ei*Kr;Wr.moveTo(Jr-ti,Qr),Wr.bezierCurveTo(Jr-ti,Qr-ii,Jr-ri,Qr-ei,Jr,Qr-ei),Wr.bezierCurveTo(Jr+ri,Qr-ei,Jr+ti,Qr-ii,Jr+ti,Qr),Wr.bezierCurveTo(Jr+ti,Qr+ii,Jr+ri,Qr+ei,Jr,Qr+ei),Wr.bezierCurveTo(Jr-ri,Qr+ei,Jr-ti,Qr+ii,Jr-ti,Qr),Wr.closePath()},Gr}(an);hk.prototype.type="ellipse";var ev=hk;var pk=Math.PI,n1=pk*2,Ph=Math.sin,Zc=Math.cos,j8=Math.acos,po=Math.atan2,ck=Math.abs,iv=Math.sqrt,rv=Math.max,Ll=Math.min,Qs=1e-4;function K8(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Wr-Yr,ri=Zr-Gr,ii=Qr-Kr,ni=ti-Jr,ai=ni*ei-ii*ri;if(!(ai*ai<Qs))return ai=(ii*(Gr-Jr)-ni*(Yr-Kr))/ai,[Yr+ai*ei,Gr+ai*ri]}function by(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Yr-Wr,ei=Gr-Zr,ri=(Qr?Jr:-Jr)/iv(ti*ti+ei*ei),ii=ri*ei,ni=-ri*ti,ai=Yr+ii,oi=Gr+ni,si=Wr+ii,li=Zr+ni,ui=(ai+si)/2,fi=(oi+li)/2,hi=si-ai,ci=li-oi,pi=hi*hi+ci*ci,di=Kr-Jr,vi=ai*li-si*oi,mi=(ci<0?-1:1)*iv(rv(0,di*di*pi-vi*vi)),gi=(vi*ci-hi*mi)/pi,yi=(-vi*hi-ci*mi)/pi,Si=(vi*ci+hi*mi)/pi,bi=(-vi*hi+ci*mi)/pi,Ti=gi-ui,Ai=yi-fi,Ei=Si-ui,Mi=bi-fi;return Ti*Ti+Ai*Ai>Ei*Ei+Mi*Mi&&(gi=Si,yi=bi),{cx:gi,cy:yi,x0:-ii,y0:-ni,x1:gi*(Kr/di-1),y1:yi*(Kr/di-1)}}function $8(Yr){var Gr;if(Ri(Yr)){var Wr=Yr.length;if(!Wr)return Yr;Wr===1?Gr=[Yr[0],Yr[0],0,0]:Wr===2?Gr=[Yr[0],Yr[0],Yr[1],Yr[1]]:Wr===3?Gr=Yr.concat(Yr[2]):Gr=Yr}else Gr=[Yr,Yr,Yr,Yr];return Gr}function dk(Yr,Gr){var Wr,Zr=rv(Gr.r,0),Kr=rv(Gr.r0||0,0),Jr=Zr>0,Qr=Kr>0;if(!(!Jr&&!Qr)){if(Jr||(Zr=Kr,Kr=0),Kr>Zr){var ti=Zr;Zr=Kr,Kr=ti}var ei=Gr.startAngle,ri=Gr.endAngle;if(!(isNaN(ei)||isNaN(ri))){var ii=Gr.cx,ni=Gr.cy,ai=!!Gr.clockwise,oi=ck(ri-ei),si=oi>n1&&oi%n1;if(si>Qs&&(oi=si),!(Zr>Qs))Yr.moveTo(ii,ni);else if(oi>n1-Qs)Yr.moveTo(ii+Zr*Zc(ei),ni+Zr*Ph(ei)),Yr.arc(ii,ni,Zr,ei,ri,!ai),Kr>Qs&&(Yr.moveTo(ii+Kr*Zc(ri),ni+Kr*Ph(ri)),Yr.arc(ii,ni,Kr,ri,ei,ai));else{var li=void 0,ui=void 0,fi=void 0,hi=void 0,ci=void 0,pi=void 0,di=void 0,vi=void 0,mi=void 0,gi=void 0,yi=void 0,Si=void 0,bi=void 0,Ti=void 0,Ai=void 0,Ei=void 0,Mi=Zr*Zc(ei),wi=Zr*Ph(ei),Pi=Kr*Zc(ri),xi=Kr*Ph(ri),Ci=oi>Qs;if(Ci){var Li=Gr.cornerRadius;Li&&(Wr=$8(Li),li=Wr[0],ui=Wr[1],fi=Wr[2],hi=Wr[3]);var Ii=ck(Zr-Kr)/2;if(ci=Ll(Ii,fi),pi=Ll(Ii,hi),di=Ll(Ii,li),vi=Ll(Ii,ui),yi=mi=rv(ci,pi),Si=gi=rv(di,vi),(mi>Qs||gi>Qs)&&(bi=Zr*Zc(ri),Ti=Zr*Ph(ri),Ai=Kr*Zc(ei),Ei=Kr*Ph(ei),oi<pk)){var zi=K8(Mi,wi,Ai,Ei,bi,Ti,Pi,xi);if(zi){var Bi=Mi-zi[0],Vi=wi-zi[1],ji=bi-zi[0],tn=Ti-zi[1],hn=1/Ph(j8((Bi*ji+Vi*tn)/(iv(Bi*Bi+Vi*Vi)*iv(ji*ji+tn*tn)))/2),nn=iv(zi[0]*zi[0]+zi[1]*zi[1]);yi=Ll(mi,(Zr-nn)/(hn+1)),Si=Ll(gi,(Kr-nn)/(hn-1))}}}if(!Ci)Yr.moveTo(ii+Mi,ni+wi);else if(yi>Qs){var dn=Ll(fi,yi),cn=Ll(hi,yi),Ji=by(Ai,Ei,Mi,wi,Zr,dn,ai),vn=by(bi,Ti,Pi,xi,Zr,cn,ai);Yr.moveTo(ii+Ji.cx+Ji.x0,ni+Ji.cy+Ji.y0),yi<mi&&dn===cn?Yr.arc(ii+Ji.cx,ni+Ji.cy,yi,po(Ji.y0,Ji.x0),po(vn.y0,vn.x0),!ai):(dn>0&&Yr.arc(ii+Ji.cx,ni+Ji.cy,dn,po(Ji.y0,Ji.x0),po(Ji.y1,Ji.x1),!ai),Yr.arc(ii,ni,Zr,po(Ji.cy+Ji.y1,Ji.cx+Ji.x1),po(vn.cy+vn.y1,vn.cx+vn.x1),!ai),cn>0&&Yr.arc(ii+vn.cx,ni+vn.cy,cn,po(vn.y1,vn.x1),po(vn.y0,vn.x0),!ai))}else Yr.moveTo(ii+Mi,ni+wi),Yr.arc(ii,ni,Zr,ei,ri,!ai);if(!(Kr>Qs)||!Ci)Yr.lineTo(ii+Pi,ni+xi);else if(Si>Qs){var dn=Ll(li,Si),cn=Ll(ui,Si),Ji=by(Pi,xi,bi,Ti,Kr,-cn,ai),vn=by(Mi,wi,Ai,Ei,Kr,-dn,ai);Yr.lineTo(ii+Ji.cx+Ji.x0,ni+Ji.cy+Ji.y0),Si<gi&&dn===cn?Yr.arc(ii+Ji.cx,ni+Ji.cy,Si,po(Ji.y0,Ji.x0),po(vn.y0,vn.x0),!ai):(cn>0&&Yr.arc(ii+Ji.cx,ni+Ji.cy,cn,po(Ji.y0,Ji.x0),po(Ji.y1,Ji.x1),!ai),Yr.arc(ii,ni,Kr,po(Ji.cy+Ji.y1,Ji.cx+Ji.x1),po(vn.cy+vn.y1,vn.cx+vn.x1),ai),dn>0&&Yr.arc(ii+vn.cx,ni+vn.cy,dn,po(vn.y1,vn.x1),po(vn.y0,vn.x0),!ai))}else Yr.lineTo(ii+Pi,ni+xi),Yr.arc(ii,ni,Kr,ri,ei,ai)}Yr.closePath()}}}var Q8=function(){function Yr(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return Yr}();var vk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new Q8},Gr.prototype.buildPath=function(Wr,Zr){dk(Wr,Zr)},Gr.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Gr}(an);vk.prototype.type="sector";var Sa=vk;var t9=function(){function Yr(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return Yr}();var mk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new t9},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.cx,Jr=Zr.cy,Qr=Math.PI*2;Wr.moveTo(Kr+Zr.r,Jr),Wr.arc(Kr,Jr,Zr.r,0,Qr,!1),Wr.moveTo(Kr+Zr.r0,Jr),Wr.arc(Kr,Jr,Zr.r0,0,Qr,!0)},Gr}(an);mk.prototype.type="ring";var Eh=mk;function a1(Yr,Gr,Wr,Zr){var Kr=[],Jr=[],Qr=[],ti=[],ei,ri,ii,ni;if(Zr){ii=[1/0,1/0],ni=[-1/0,-1/0];for(var ai=0,oi=Yr.length;ai<oi;ai++)ns(ii,ii,Yr[ai]),as(ni,ni,Yr[ai]);ns(ii,ii,Zr[0]),as(ni,ni,Zr[1])}for(var ai=0,oi=Yr.length;ai<oi;ai++){var si=Yr[ai];if(Wr)ei=Yr[ai?ai-1:oi-1],ri=Yr[(ai+1)%oi];else if(ai===0||ai===oi-1){Kr.push(Lo(Yr[ai]));continue}else ei=Yr[ai-1],ri=Yr[ai+1];Zs(Jr,ri,ei),Cc(Jr,Jr,Gr);var li=mg(si,ei),ui=mg(si,ri),fi=li+ui;fi!==0&&(li/=fi,ui/=fi),Cc(Qr,Jr,-li),Cc(ti,Jr,ui);var hi=Nb([],si,Qr),ci=Nb([],si,ti);Zr&&(as(hi,hi,ii),ns(hi,hi,ni),as(ci,ci,ii),ns(ci,ci,ni)),Kr.push(hi),Kr.push(ci)}return Wr&&Kr.push(Kr.shift()),Kr}function Sy(Yr,Gr,Wr){var Zr=Gr.smooth,Kr=Gr.points;if(Kr&&Kr.length>=2){if(Zr){var Jr=a1(Kr,Zr,Wr,Gr.smoothConstraint);Yr.moveTo(Kr[0][0],Kr[0][1]);for(var Qr=Kr.length,ti=0;ti<(Wr?Qr:Qr-1);ti++){var ei=Jr[ti*2],ri=Jr[ti*2+1],ii=Kr[(ti+1)%Qr];Yr.bezierCurveTo(ei[0],ei[1],ri[0],ri[1],ii[0],ii[1])}}else{Yr.moveTo(Kr[0][0],Kr[0][1]);for(var ti=1,ni=Kr.length;ti<ni;ti++)Yr.lineTo(Kr[ti][0],Kr[ti][1])}Wr&&Yr.closePath()}}var e9=function(){function Yr(){this.points=null,this.smooth=0,this.smoothConstraint=null}return Yr}();var yk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new e9},Gr.prototype.buildPath=function(Wr,Zr){Sy(Wr,Zr,!0)},Gr}(an);yk.prototype.type="polygon";var fa=yk;var r9=function(){function Yr(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return Yr}();var xk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new r9},Gr.prototype.buildPath=function(Wr,Zr){Sy(Wr,Zr,!1)},Gr}(an);xk.prototype.type="polyline";var la=xk;var i9={},n9=function(){function Yr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Yr}();var _k=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new n9},Gr.prototype.buildPath=function(Wr,Zr){var Kr,Jr,Qr,ti;if(this.subPixelOptimize){var ei=uy(i9,Zr,this.style);Kr=ei.x1,Jr=ei.y1,Qr=ei.x2,ti=ei.y2}else Kr=Zr.x1,Jr=Zr.y1,Qr=Zr.x2,ti=Zr.y2;var ri=Zr.percent;ri!==0&&(Wr.moveTo(Kr,Jr),ri<1&&(Qr=Kr*(1-ri)+Qr*ri,ti=Jr*(1-ri)+ti*ri),Wr.lineTo(Qr,ti))},Gr.prototype.pointAt=function(Wr){var Zr=this.shape;return[Zr.x1*(1-Wr)+Zr.x2*Wr,Zr.y1*(1-Wr)+Zr.y2*Wr]},Gr}(an);_k.prototype.type="line";var sa=_k;var Wo=[],a9=function(){function Yr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return Yr}();function bk(Yr,Gr,Wr){var Zr=Yr.cpx2,Kr=Yr.cpy2;return Zr!=null||Kr!=null?[(Wr?jb:ga)(Yr.x1,Yr.cpx1,Yr.cpx2,Yr.x2,Gr),(Wr?jb:ga)(Yr.y1,Yr.cpy1,Yr.cpy2,Yr.y2,Gr)]:[(Wr?Ed:_a)(Yr.x1,Yr.cpx1,Yr.x2,Gr),(Wr?Ed:_a)(Yr.y1,Yr.cpy1,Yr.y2,Gr)]}var Sk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new a9},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.x1,Jr=Zr.y1,Qr=Zr.x2,ti=Zr.y2,ei=Zr.cpx1,ri=Zr.cpy1,ii=Zr.cpx2,ni=Zr.cpy2,ai=Zr.percent;ai!==0&&(Wr.moveTo(Kr,Jr),ii==null||ni==null?(ai<1&&(Xu(Kr,ei,Qr,ai,Wo),ei=Wo[1],Qr=Wo[2],Xu(Jr,ri,ti,ai,Wo),ri=Wo[1],ti=Wo[2]),Wr.quadraticCurveTo(ei,ri,Qr,ti)):(ai<1&&(Ss(Kr,ei,ii,Qr,ai,Wo),ei=Wo[1],ii=Wo[2],Qr=Wo[3],Ss(Jr,ri,ni,ti,ai,Wo),ri=Wo[1],ni=Wo[2],ti=Wo[3]),Wr.bezierCurveTo(ei,ri,ii,ni,Qr,ti)))},Gr.prototype.pointAt=function(Wr){return bk(this.shape,Wr,!1)},Gr.prototype.tangentAt=function(Wr){var Zr=bk(this.shape,Wr,!0);return ys(Zr,Zr)},Gr}(an);Sk.prototype.type="bezier-curve";var Dh=Sk;var o9=function(){function Yr(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Yr}();var wk=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new o9},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.cx,Jr=Zr.cy,Qr=Math.max(Zr.r,0),ti=Zr.startAngle,ei=Zr.endAngle,ri=Zr.clockwise,ii=Math.cos(ti),ni=Math.sin(ti);Wr.moveTo(ii*Qr+Kr,ni*Qr+Jr),Wr.arc(Kr,Jr,Qr,ti,ei,!ri)},Gr}(an);wk.prototype.type="arc";var nv=wk;var s9=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="compound",Wr}return Gr.prototype._updatePathDirty=function(){for(var Wr=this.shape.paths,Zr=this.shapeChanged(),Kr=0;Kr<Wr.length;Kr++)Zr=Zr||Wr[Kr].shapeChanged();Zr&&this.dirtyShape()},Gr.prototype.beforeBrush=function(){this._updatePathDirty();for(var Wr=this.shape.paths||[],Zr=this.getGlobalScale(),Kr=0;Kr<Wr.length;Kr++)Wr[Kr].path||Wr[Kr].createPathProxy(),Wr[Kr].path.setScale(Zr[0],Zr[1],Wr[Kr].segmentIgnoreThreshold)},Gr.prototype.buildPath=function(Wr,Zr){for(var Kr=Zr.paths||[],Jr=0;Jr<Kr.length;Jr++)Kr[Jr].buildPath(Wr,Kr[Jr].shape,!0)},Gr.prototype.afterBrush=function(){for(var Wr=this.shape.paths||[],Zr=0;Zr<Wr.length;Zr++)Wr[Zr].pathUpdated()},Gr.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),an.prototype.getBoundingRect.call(this)},Gr}(an),jc=s9;var l9=function(){function Yr(Gr){this.colorStops=Gr||[]}return Yr.prototype.addColorStop=function(Gr,Wr){this.colorStops.push({offset:Gr,color:Wr})},Yr}(),wy=l9;var u9=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr,Qr,ti){var ei=Yr.call(this,Qr)||this;return ei.x=Wr??0,ei.y=Zr??0,ei.x2=Kr??1,ei.y2=Jr??0,ei.type="linear",ei.global=ti||!1,ei}return Gr}(wy),kl=u9;var f9=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr,Qr){var ti=Yr.call(this,Jr)||this;return ti.x=Wr??.5,ti.y=Zr??.5,ti.r=Kr??.5,ti.type="radial",ti.global=Qr||!1,ti}return Gr}(wy),Cy=f9;var Ih=[0,0],Lh=[0,0],Ty=new wn,Ay=new wn,h9=function(){function Yr(Gr,Wr){this._corners=[],this._axes=[],this._origin=[0,0];for(var Zr=0;Zr<4;Zr++)this._corners[Zr]=new wn;for(var Zr=0;Zr<2;Zr++)this._axes[Zr]=new wn;Gr&&this.fromBoundingRect(Gr,Wr)}return Yr.prototype.fromBoundingRect=function(Gr,Wr){var Zr=this._corners,Kr=this._axes,Jr=Gr.x,Qr=Gr.y,ti=Jr+Gr.width,ei=Qr+Gr.height;if(Zr[0].set(Jr,Qr),Zr[1].set(ti,Qr),Zr[2].set(ti,ei),Zr[3].set(Jr,ei),Wr)for(var ri=0;ri<4;ri++)Zr[ri].transform(Wr);wn.sub(Kr[0],Zr[1],Zr[0]),wn.sub(Kr[1],Zr[3],Zr[0]),Kr[0].normalize(),Kr[1].normalize();for(var ri=0;ri<2;ri++)this._origin[ri]=Kr[ri].dot(Zr[0])},Yr.prototype.intersect=function(Gr,Wr){var Zr=!0,Kr=!Wr;return Ty.set(1/0,1/0),Ay.set(0,0),!this._intersectCheckOneSide(this,Gr,Ty,Ay,Kr,1)&&(Zr=!1,Kr)||!this._intersectCheckOneSide(Gr,this,Ty,Ay,Kr,-1)&&(Zr=!1,Kr)||Kr||wn.copy(Wr,Zr?Ty:Ay),Zr},Yr.prototype._intersectCheckOneSide=function(Gr,Wr,Zr,Kr,Jr,Qr){for(var ti=!0,ei=0;ei<2;ei++){var ri=this._axes[ei];if(this._getProjMinMaxOnAxis(ei,Gr._corners,Ih),this._getProjMinMaxOnAxis(ei,Wr._corners,Lh),Ih[1]<Lh[0]||Ih[0]>Lh[1]){if(ti=!1,Jr)return ti;var ii=Math.abs(Lh[0]-Ih[1]),ni=Math.abs(Ih[0]-Lh[1]);Math.min(ii,ni)>Kr.len()&&(ii<ni?wn.scale(Kr,ri,-ii*Qr):wn.scale(Kr,ri,ni*Qr))}else if(Zr){var ii=Math.abs(Lh[0]-Ih[1]),ni=Math.abs(Ih[0]-Lh[1]);Math.min(ii,ni)<Zr.len()&&(ii<ni?wn.scale(Zr,ri,ii*Qr):wn.scale(Zr,ri,-ni*Qr))}}return ti},Yr.prototype._getProjMinMaxOnAxis=function(Gr,Wr,Zr){for(var Kr=this._axes[Gr],Jr=this._origin,Qr=Wr[0].dot(Kr)+Jr[Gr],ti=Qr,ei=Qr,ri=1;ri<Wr.length;ri++){var ii=Wr[ri].dot(Kr)+Jr[Gr];ti=Math.min(ii,ti),ei=Math.max(ii,ei)}Zr[0]=ti,Zr[1]=ei},Yr}(),Kc=h9;var c9=[],p9=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.notClear=!0,Wr.incremental=!0,Wr._displayables=[],Wr._temporaryDisplayables=[],Wr._cursor=0,Wr}return Gr.prototype.traverse=function(Wr,Zr){Wr.call(Zr,this)},Gr.prototype.useStyle=function(){this.style={}},Gr.prototype.getCursor=function(){return this._cursor},Gr.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Gr.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Gr.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Gr.prototype.addDisplayable=function(Wr,Zr){Zr?this._temporaryDisplayables.push(Wr):this._displayables.push(Wr),this.markRedraw()},Gr.prototype.addDisplayables=function(Wr,Zr){Zr=Zr||!1;for(var Kr=0;Kr<Wr.length;Kr++)this.addDisplayable(Wr[Kr],Zr)},Gr.prototype.getDisplayables=function(){return this._displayables},Gr.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Gr.prototype.eachPendingDisplayable=function(Wr){for(var Zr=this._cursor;Zr<this._displayables.length;Zr++)Wr&&Wr(this._displayables[Zr]);for(var Zr=0;Zr<this._temporaryDisplayables.length;Zr++)Wr&&Wr(this._temporaryDisplayables[Zr])},Gr.prototype.update=function(){this.updateTransform();for(var Wr=this._cursor;Wr<this._displayables.length;Wr++){var Zr=this._displayables[Wr];Zr.parent=this,Zr.update(),Zr.parent=null}for(var Wr=0;Wr<this._temporaryDisplayables.length;Wr++){var Zr=this._temporaryDisplayables[Wr];Zr.parent=this,Zr.update(),Zr.parent=null}},Gr.prototype.getBoundingRect=function(){if(!this._rect){for(var Wr=new rn(1/0,1/0,-1/0,-1/0),Zr=0;Zr<this._displayables.length;Zr++){var Kr=this._displayables[Zr],Jr=Kr.getBoundingRect().clone();Kr.needLocalTransform()&&Jr.applyTransform(Kr.getLocalTransform(c9)),Wr.union(Jr)}this._rect=Wr}return this._rect},Gr.prototype.contain=function(Wr,Zr){var Kr=this.transformCoordToLocal(Wr,Zr),Jr=this.getBoundingRect();if(Jr.contain(Kr[0],Kr[1]))for(var Qr=0;Qr<this._displayables.length;Qr++){var ti=this._displayables[Qr];if(ti.contain(Wr,Zr))return!0}return!1},Gr}(ba),Ck=p9;var Ak=ln();function Rl(Yr,Gr,Wr,Zr,Kr){var Jr;if(Gr&&Gr.ecModel){var Qr=Gr.ecModel.getUpdatePayload();Jr=Qr&&Qr.animation}var ti=Gr&&Gr.isAnimationEnabled(),ei=Yr==="update";if(ti){var ri=void 0,ii=void 0,ni=void 0;Zr?(ri=on(Zr.duration,200),ii=on(Zr.easing,"cubicOut"),ni=0):(ri=Gr.getShallow(ei?"animationDurationUpdate":"animationDuration"),ii=Gr.getShallow(ei?"animationEasingUpdate":"animationEasing"),ni=Gr.getShallow(ei?"animationDelayUpdate":"animationDelay")),Jr&&(Jr.duration!=null&&(ri=Jr.duration),Jr.easing!=null&&(ii=Jr.easing),Jr.delay!=null&&(ni=Jr.delay)),Wi(ni)&&(ni=ni(Wr,Kr)),Wi(ri)&&(ri=ri(Wr));var ai={duration:ri||0,delay:ni,easing:ii};return ai}else return null}function o1(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=!1,ei;Wi(Kr)?(Qr=Jr,Jr=Kr,Kr=null):qi(Kr)&&(Jr=Kr.cb,Qr=Kr.during,ti=Kr.isFrom,ei=Kr.removeOpt,Kr=Kr.dataIndex);var ri=Yr==="leave";ri||Gr.stopAnimation("leave");var ii=Rl(Yr,Zr,Kr,ri?ei||{}:null,Zr&&Zr.getAnimationDelayParams?Zr.getAnimationDelayParams(Gr,Kr):null);if(ii&&ii.duration>0){var ni=ii.duration,ai=ii.delay,oi=ii.easing,si={duration:ni,delay:ai||0,easing:oi,done:Jr,force:!!Jr||!!Qr,setToFinal:!ri,scope:Yr,during:Qr};ti?Gr.animateFrom(Wr,si):Gr.animateTo(Wr,si)}else Gr.stopAnimation(),!ti&&Gr.attr(Wr),Qr&&Qr(1),Jr&&Jr()}function bn(Yr,Gr,Wr,Zr,Kr,Jr){o1("update",Yr,Gr,Wr,Zr,Kr,Jr)}function Ln(Yr,Gr,Wr,Zr,Kr,Jr){o1("enter",Yr,Gr,Wr,Zr,Kr,Jr)}function hu(Yr){if(!Yr.__zr)return!0;for(var Gr=0;Gr<Yr.animators.length;Gr++){var Wr=Yr.animators[Gr];if(Wr.scope==="leave")return!0}return!1}function Es(Yr,Gr,Wr,Zr,Kr,Jr){hu(Yr)||o1("leave",Yr,Gr,Wr,Zr,Kr,Jr)}function Tk(Yr,Gr,Wr,Zr){Yr.removeTextContent(),Yr.removeTextGuideLine(),Es(Yr,{style:{opacity:0}},Gr,Wr,Zr)}function cu(Yr,Gr,Wr){function Zr(){Yr.parent&&Yr.parent.remove(Yr)}Yr.isGroup?Yr.traverse(function(Kr){Kr.isGroup||Tk(Kr,Gr,Wr,Zr)}):Tk(Yr,Gr,Wr,Zr)}function La(Yr){Ak(Yr).oldStyle=Yr.style}function Mk(Yr){return Ak(Yr).oldStyle}var My=Math.max,Py=Math.min,l1={};function d9(Yr){return an.extend(Yr)}var v9=lk;function m9(Yr,Gr){return v9(Yr,Gr)}function tl(Yr,Gr){l1[Yr]=Gr}function av(Yr){if(l1.hasOwnProperty(Yr))return l1[Yr]}function $c(Yr,Gr,Wr,Zr){var Kr=_y(Yr,Gr);return Wr&&(Zr==="center"&&(Wr=Dk(Wr,Kr.getBoundingRect())),Ik(Kr,Wr)),Kr}function u1(Yr,Gr,Wr){var Zr=new Kn({style:{image:Yr,x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height},onload:function(Kr){if(Wr==="center"){var Jr={width:Kr.width,height:Kr.height};Zr.setStyle(Dk(Gr,Jr))}}});return Zr}function Dk(Yr,Gr){var Wr=Gr.width/Gr.height,Zr=Yr.height*Wr,Kr;Zr<=Yr.width?Kr=Yr.height:(Zr=Yr.width,Kr=Zr/Wr);var Jr=Yr.x+Yr.width/2,Qr=Yr.y+Yr.height/2;return{x:Jr-Zr/2,y:Qr-Kr/2,width:Zr,height:Kr}}var vo=uk;function Ik(Yr,Gr){if(Yr.applyTransform){var Wr=Yr.getBoundingRect(),Zr=Wr.calculateTransform(Gr);Yr.applyTransform(Zr)}}function pu(Yr,Gr){return uy(Yr,Yr,{lineWidth:Gr}),Yr}function g9(Yr){return fy(Yr.shape,Yr.shape,Yr.style),Yr}var ov=ef;function el(Yr,Gr){for(var Wr=Gu([]);Yr&&Yr!==Gr;)Oo(Wr,Yr.getLocalTransform(),Wr),Yr=Yr.parent;return Wr}function io(Yr,Gr,Wr){return Gr&&!va(Gr)&&(Gr=No.getLocalTransform(Gr)),Wr&&(Gr=_s([],Gr)),ma([],Yr,Gr)}function kh(Yr,Gr,Wr){var Zr=Gr[4]===0||Gr[5]===0||Gr[0]===0?1:Math.abs(2*Gr[4]/Gr[0]),Kr=Gr[4]===0||Gr[5]===0||Gr[2]===0?1:Math.abs(2*Gr[4]/Gr[2]),Jr=[Yr==="left"?-Zr:Yr==="right"?Zr:0,Yr==="top"?-Kr:Yr==="bottom"?Kr:0];return Jr=io(Jr,Gr,Wr),Math.abs(Jr[0])>Math.abs(Jr[1])?Jr[0]>0?"right":"left":Jr[1]>0?"bottom":"top"}function Pk(Yr){return!Yr.isGroup}function y9(Yr){return Yr.shape!=null}function du(Yr,Gr,Wr){if(!Yr||!Gr)return;function Zr(Qr){var ti={};return Qr.traverse(function(ei){Pk(ei)&&ei.anid&&(ti[ei.anid]=ei)}),ti}function Kr(Qr){var ti={x:Qr.x,y:Qr.y,rotation:Qr.rotation};return y9(Qr)&&(ti.shape=ki({},Qr.shape)),ti}var Jr=Zr(Yr);Gr.traverse(function(Qr){if(Pk(Qr)&&Qr.anid){var ti=Jr[Qr.anid];if(ti){var ei=Kr(Qr);Qr.attr(Kr(ti)),bn(Qr,ei,Wr,Qi(Qr).dataIndex)}}})}function f1(Yr,Gr){return Oi(Yr,function(Wr){var Zr=Wr[0];Zr=My(Zr,Gr.x),Zr=Py(Zr,Gr.x+Gr.width);var Kr=Wr[1];return Kr=My(Kr,Gr.y),Kr=Py(Kr,Gr.y+Gr.height),[Zr,Kr]})}function x9(Yr,Gr){var Wr=My(Yr.x,Gr.x),Zr=Py(Yr.x+Yr.width,Gr.x+Gr.width),Kr=My(Yr.y,Gr.y),Jr=Py(Yr.y+Yr.height,Gr.y+Gr.height);if(Zr>=Wr&&Jr>=Kr)return{x:Wr,y:Kr,width:Zr-Wr,height:Jr-Kr}}function vu(Yr,Gr,Wr){var Zr=ki({rectHover:!0},Gr),Kr=Zr.style={strokeNoScale:!0};if(Wr=Wr||{x:-1,y:-1,width:2,height:2},Yr)return Yr.indexOf("image://")===0?(Kr.image=Yr.slice(8),Yi(Kr,Wr),new Kn(Zr)):$c(Yr.replace("path://",""),Zr,Wr,"center")}function Jc(Yr,Gr,Wr,Zr,Kr){for(var Jr=0,Qr=Kr[Kr.length-1];Jr<Kr.length;Jr++){var ti=Kr[Jr];if(Lk(Yr,Gr,Wr,Zr,ti[0],ti[1],Qr[0],Qr[1]))return!0;Qr=ti}}function Lk(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Wr-Yr,ri=Zr-Gr,ii=Qr-Kr,ni=ti-Jr,ai=s1(ii,ni,ei,ri);if(_9(ai))return!1;var oi=Yr-Kr,si=Gr-Jr,li=s1(oi,si,ei,ri)/ai;if(li<0||li>1)return!1;var ui=s1(oi,si,ii,ni)/ai;return!(ui<0||ui>1)}function s1(Yr,Gr,Wr,Zr){return Yr*Zr-Wr*Gr}function _9(Yr){return Yr<=1e-6&&Yr>=-1e-6}function rl(Yr){var Gr=Yr.itemTooltipOption,Wr=Yr.componentModel,Zr=Yr.itemName,Kr=Ni(Gr)?{formatter:Gr}:Gr,Jr=Wr.mainType,Qr=Wr.componentIndex,ti={componentType:Jr,name:Zr,$vars:["name"]};ti[Jr+"Index"]=Qr;var ei=Yr.formatterParamsExtra;ei&&_i(fn(ei),function(ii){$i(ti,ii)||(ti[ii]=ei[ii],ti.$vars.push(ii))});var ri=Qi(Yr.el);ri.componentMainType=Jr,ri.componentIndex=Qr,ri.tooltipConfig={name:Zr,option:Yi({content:Zr,formatterParams:ti},Kr)}}function Ek(Yr,Gr){var Wr;Yr.isGroup&&(Wr=Gr(Yr)),Wr||Yr.traverse(Gr)}function Co(Yr,Gr){if(Yr)if(Ri(Yr))for(var Wr=0;Wr<Yr.length;Wr++)Ek(Yr[Wr],Gr);else Ek(Yr,Gr)}tl("circle",wo);tl("ellipse",ev);tl("sector",Sa);tl("ring",Eh);tl("polygon",fa);tl("polyline",la);tl("rect",mn);tl("line",sa);tl("bezierCurve",Dh);tl("arc",nv);var Ey={};function Nk(Yr,Gr){for(var Wr=0;Wr<za.length;Wr++){var Zr=za[Wr],Kr=Gr[Zr],Jr=Yr.ensureState(Zr);Jr.style=Jr.style||{},Jr.style.text=Kr}var Qr=Yr.currentStates.slice();Yr.clearStates(!0),Yr.setStyle({text:Gr.normal}),Yr.useStates(Qr,!0)}function h1(Yr,Gr,Wr){var Zr=Yr.labelFetcher,Kr=Yr.labelDataIndex,Jr=Yr.labelDimIndex,Qr=Gr.normal,ti;Zr&&(ti=Zr.getFormattedLabel(Kr,"normal",null,Jr,Qr&&Qr.get("formatter"),Wr!=null?{interpolatedValue:Wr}:null)),ti==null&&(ti=Wi(Yr.defaultText)?Yr.defaultText(Kr,Yr,Wr):Yr.defaultText);for(var ei={normal:ti},ri=0;ri<za.length;ri++){var ii=za[ri],ni=Gr[ii];ei[ii]=on(Zr?Zr.getFormattedLabel(Kr,ii,null,Jr,ni&&ni.get("formatter")):null,ti)}return ei}function jn(Yr,Gr,Wr,Zr){Wr=Wr||Ey;for(var Kr=Yr instanceof xn,Jr=!1,Qr=0;Qr<rf.length;Qr++){var ti=Gr[rf[Qr]];if(ti&&ti.getShallow("show")){Jr=!0;break}}var ei=Kr?Yr:Yr.getTextContent();if(Jr){Kr||(ei||(ei=new xn,Yr.setTextContent(ei)),Yr.stateProxy&&(ei.stateProxy=Yr.stateProxy));var ri=h1(Wr,Gr),ii=Gr.normal,ni=!!ii.getShallow("show"),ai=On(ii,Zr&&Zr.normal,Wr,!1,!Kr);ai.text=ri.normal,Kr||Yr.setTextConfig(sv(ii,Wr,!1));for(var Qr=0;Qr<za.length;Qr++){var oi=za[Qr],ti=Gr[oi];if(ti){var si=ei.ensureState(oi),li=!!on(ti.getShallow("show"),ni);if(li!==ni&&(si.ignore=!li),si.style=On(ti,Zr&&Zr[oi],Wr,!0,!Kr),si.style.text=ri[oi],!Kr){var ui=Yr.ensureState(oi);ui.textConfig=sv(ti,Wr,!0)}}}ei.silent=!!ii.getShallow("silent"),ei.style.x!=null&&(ai.x=ei.style.x),ei.style.y!=null&&(ai.y=ei.style.y),ei.ignore=!ni,ei.useStyle(ai),ei.dirty(),Wr.enableTextSetter&&(mu(ei).setLabelText=function(fi){var hi=h1(Wr,Gr,fi);Nk(ei,hi)})}else ei&&(ei.ignore=!0);Yr.dirty()}function Hn(Yr,Gr){Gr=Gr||"label";for(var Wr={normal:Yr.getModel(Gr)},Zr=0;Zr<za.length;Zr++){var Kr=za[Zr];Wr[Kr]=Yr.getModel([Kr,Gr])}return Wr}function On(Yr,Gr,Wr,Zr,Kr){var Jr={};return b9(Jr,Yr,Wr,Zr,Kr),Gr&&ki(Jr,Gr),Jr}function sv(Yr,Gr,Wr){Gr=Gr||{};var Zr={},Kr,Jr=Yr.getShallow("rotate"),Qr=on(Yr.getShallow("distance"),Wr?null:5),ti=Yr.getShallow("offset");return Kr=Yr.getShallow("position")||(Wr?null:"inside"),Kr==="outside"&&(Kr=Gr.defaultOutsidePosition||"top"),Kr!=null&&(Zr.position=Kr),ti!=null&&(Zr.offset=ti),Jr!=null&&(Jr*=Math.PI/180,Zr.rotation=Jr),Qr!=null&&(Zr.distance=Qr),Zr.outsideFill=Yr.get("color")==="inherit"?Gr.inheritColor||null:"auto",Zr}function b9(Yr,Gr,Wr,Zr,Kr){Wr=Wr||Ey;var Jr=Gr.ecModel,Qr=Jr&&Jr.option.textStyle,ti=S9(Gr),ei;if(ti){ei={};for(var ri in ti)if(ti.hasOwnProperty(ri)){var ii=Gr.getModel(["rich",ri]);zk(ei[ri]={},ii,Qr,Wr,Zr,Kr,!1,!0)}}ei&&(Yr.rich=ei);var ni=Gr.get("overflow");ni&&(Yr.overflow=ni);var ai=Gr.get("minMargin");ai!=null&&(Yr.margin=ai),zk(Yr,Gr,Qr,Wr,Zr,Kr,!0,!1)}function S9(Yr){for(var Gr;Yr&&Yr!==Yr.ecModel;){var Wr=(Yr.option||Ey).rich;if(Wr){Gr=Gr||{};for(var Zr=fn(Wr),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Gr[Jr]=1}}Yr=Yr.parentModel}return Gr}var kk=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Rk=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Ok=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function zk(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){Wr=!Kr&&Wr||Ey;var ei=Zr&&Zr.inheritColor,ri=Gr.getShallow("color"),ii=Gr.getShallow("textBorderColor"),ni=on(Gr.getShallow("opacity"),Wr.opacity);(ri==="inherit"||ri==="auto")&&(ei?ri=ei:ri=null),(ii==="inherit"||ii==="auto")&&(ei?ii=ei:ii=null),Jr||(ri=ri||Wr.color,ii=ii||Wr.textBorderColor),ri!=null&&(Yr.fill=ri),ii!=null&&(Yr.stroke=ii);var ai=on(Gr.getShallow("textBorderWidth"),Wr.textBorderWidth);ai!=null&&(Yr.lineWidth=ai);var oi=on(Gr.getShallow("textBorderType"),Wr.textBorderType);oi!=null&&(Yr.lineDash=oi);var si=on(Gr.getShallow("textBorderDashOffset"),Wr.textBorderDashOffset);si!=null&&(Yr.lineDashOffset=si),!Kr&&ni==null&&!ti&&(ni=Zr&&Zr.defaultOpacity),ni!=null&&(Yr.opacity=ni),!Kr&&!Jr&&Yr.fill==null&&Zr.inheritColor&&(Yr.fill=Zr.inheritColor);for(var li=0;li<kk.length;li++){var ui=kk[li],fi=on(Gr.getShallow(ui),Wr[ui]);fi!=null&&(Yr[ui]=fi)}for(var li=0;li<Rk.length;li++){var ui=Rk[li],fi=Gr.getShallow(ui);fi!=null&&(Yr[ui]=fi)}if(Yr.verticalAlign==null){var hi=Gr.getShallow("baseline");hi!=null&&(Yr.verticalAlign=hi)}if(!Qr||!Zr.disableBox){for(var li=0;li<Ok.length;li++){var ui=Ok[li],fi=Gr.getShallow(ui);fi!=null&&(Yr[ui]=fi)}var ci=Gr.getShallow("borderType");ci!=null&&(Yr.borderDash=ci),(Yr.backgroundColor==="auto"||Yr.backgroundColor==="inherit")&&ei&&(Yr.backgroundColor=ei),(Yr.borderColor==="auto"||Yr.borderColor==="inherit")&&ei&&(Yr.borderColor=ei)}}function Qc(Yr,Gr){var Wr=Gr&&Gr.getModel("textStyle");return Va([Yr.fontStyle||Wr&&Wr.getShallow("fontStyle")||"",Yr.fontWeight||Wr&&Wr.getShallow("fontWeight")||"",(Yr.fontSize||Wr&&Wr.getShallow("fontSize")||12)+"px",Yr.fontFamily||Wr&&Wr.getShallow("fontFamily")||"sans-serif"].join(" "))}var mu=ln();function Dy(Yr,Gr,Wr,Zr){if(Yr){var Kr=mu(Yr);Kr.prevValue=Kr.value,Kr.value=Wr;var Jr=Gr.normal;Kr.valueAnimation=Jr.get("valueAnimation"),Kr.valueAnimation&&(Kr.precision=Jr.get("precision"),Kr.defaultInterpolatedText=Zr,Kr.statesModels=Gr)}}function Iy(Yr,Gr,Wr,Zr,Kr){var Jr=mu(Yr);if(!Jr.valueAnimation||Jr.prevValue===Jr.value)return;var Qr=Jr.defaultInterpolatedText,ti=on(Jr.interpolatedValue,Jr.prevValue),ei=Jr.value;function ri(ii){var ni=iy(Wr,Jr.precision,ti,ei,ii);Jr.interpolatedValue=ii===1?null:ni;var ai=h1({labelDataIndex:Gr,labelFetcher:Kr,defaultText:Qr?Qr(ni):ni+""},Jr.statesModels,ni);Nk(Yr,ai)}Yr.percent=0,(Jr.prevValue==null?Ln:bn)(Yr,{percent:1},Zr,Gr,null,ri)}var C9=["textStyle","color"],c1=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],p1=new xn,T9=function(){function Yr(){}return Yr.prototype.getTextColor=function(Gr){var Wr=this.ecModel;return this.getShallow("color")||(!Gr&&Wr?Wr.get(C9):null)},Yr.prototype.getFont=function(){return Qc({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},Yr.prototype.getTextRect=function(Gr){for(var Wr={text:Gr,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},Zr=0;Zr<c1.length;Zr++)Wr[c1[Zr]]=this.getShallow(c1[Zr]);return p1.useStyle(Wr),p1.update(),p1.getBoundingRect()},Yr}(),Fk=T9;var d1=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],A9=Uo(d1),Vk=function(){function Yr(){}return Yr.prototype.getLineStyle=function(Gr){return A9(this,Gr)},Yr}();var v1=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],M9=Uo(v1),Bk=function(){function Yr(){}return Yr.prototype.getItemStyle=function(Gr,Wr){return M9(this,Gr,Wr)},Yr}();var Rh=function(){function Yr(Gr,Wr,Zr){this.parentModel=Wr,this.ecModel=Zr,this.option=Gr}return Yr.prototype.init=function(Gr,Wr,Zr){for(var Kr=[],Jr=3;Jr<arguments.length;Jr++)Kr[Jr-3]=arguments[Jr]},Yr.prototype.mergeOption=function(Gr,Wr){un(this.option,Gr,!0)},Yr.prototype.get=function(Gr,Wr){return Gr==null?this.option:this._doGet(this.parsePath(Gr),!Wr&&this.parentModel)},Yr.prototype.getShallow=function(Gr,Wr){var Zr=this.option,Kr=Zr==null?Zr:Zr[Gr];if(Kr==null&&!Wr){var Jr=this.parentModel;Jr&&(Kr=Jr.getShallow(Gr))}return Kr},Yr.prototype.getModel=function(Gr,Wr){var Zr=Gr!=null,Kr=Zr?this.parsePath(Gr):null,Jr=Zr?this._doGet(Kr):this.option;return Wr=Wr||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(Kr)),new Yr(Jr,Wr,this.ecModel)},Yr.prototype.isEmpty=function(){return this.option==null},Yr.prototype.restoreData=function(){},Yr.prototype.clone=function(){var Gr=this.constructor;return new Gr(Ki(this.option))},Yr.prototype.parsePath=function(Gr){return typeof Gr=="string"?Gr.split("."):Gr},Yr.prototype.resolveParentPath=function(Gr){return Gr},Yr.prototype.isAnimationEnabled=function(){if(!Cn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Yr.prototype._doGet=function(Gr,Wr){var Zr=this.option;if(!Gr)return Zr;for(var Kr=0;Kr<Gr.length&&!(Gr[Kr]&&(Zr=Zr&&typeof Zr=="object"?Zr[Gr[Kr]]:null,Zr==null));Kr++);return Zr==null&&Wr&&(Zr=Wr._doGet(this.resolveParentPath(Gr),Wr.parentModel)),Zr},Yr}();Vc(Rh);$I(Rh);Gn(Rh,Vk);Gn(Rh,Bk);Gn(Rh,JI);Gn(Rh,Fk);var Mn=Rh;var P9=Math.round(Math.random()*10);function Ds(Yr){return[Yr||"",P9++].join("_")}function Uk(Yr){var Gr={};Yr.registerSubTypeDefaulter=function(Wr,Zr){var Kr=Bo(Wr);Gr[Kr.main]=Zr},Yr.determineSubType=function(Wr,Zr){var Kr=Zr.type;if(!Kr){var Jr=Bo(Wr).main;Yr.hasSubTypes(Wr)&&Gr[Jr]&&(Kr=Gr[Jr](Zr))}return Kr}}function Gk(Yr,Gr){Yr.topologicalTravel=function(Jr,Qr,ti,ei){if(!Jr.length)return;var ri=Wr(Qr),ii=ri.graph,ni=ri.noEntryList,ai={};for(_i(Jr,function(hi){ai[hi]=!0});ni.length;){var oi=ni.pop(),si=ii[oi],li=!!ai[oi];li&&(ti.call(ei,oi,si.originalDeps.slice()),delete ai[oi]),_i(si.successor,li?fi:ui)}_i(ai,function(){var hi="";throw new Error(hi)});function ui(hi){ii[hi].entryCount--,ii[hi].entryCount===0&&ni.push(hi)}function fi(hi){ai[hi]=!0,ui(hi)}};function Wr(Jr){var Qr={},ti=[];return _i(Jr,function(ei){var ri=Zr(Qr,ei),ii=ri.originalDeps=Gr(ei),ni=Kr(ii,Jr);ri.entryCount=ni.length,ri.entryCount===0&&ti.push(ei),_i(ni,function(ai){sn(ri.predecessor,ai)<0&&ri.predecessor.push(ai);var oi=Zr(Qr,ai);sn(oi.successor,ai)<0&&oi.successor.push(ei)})}),{graph:Qr,noEntryList:ti}}function Zr(Jr,Qr){return Jr[Qr]||(Jr[Qr]={predecessor:[],successor:[]}),Jr[Qr]}function Kr(Jr,Qr){var ti=[];return _i(Jr,function(ei){sn(Qr,ei)>=0&&ti.push(ei)}),ti}}function mo(Yr,Gr){return un(un({},Yr,!0),Gr,!0)}var Hk={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var Wk={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE",custom:"\u81EA\u5B9A\u4E49\u56FE\u8868",chart:"\u56FE\u8868"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var ky="ZH",g1="EN",tp=g1,Ly={},y1={},Ry=Cn.domSupported?function(){var Yr=(document.documentElement.lang||navigator.language||navigator.browserLanguage||tp).toUpperCase();return Yr.indexOf(ky)>-1?ky:tp}():tp;function Yk(Yr,Gr){Yr=Yr.toUpperCase(),y1[Yr]=new Mn(Gr),Ly[Yr]=Gr}function Xk(Yr){if(Ni(Yr)){var Gr=Ly[Yr.toUpperCase()]||{};return Yr===ky||Yr===g1?Ki(Gr):un(Ki(Gr),Ki(Ly[tp]),!1)}else return un(Ki(Yr),Ki(Ly[tp]),!1)}function lv(Yr){return y1[Yr]}function qk(){return y1[tp]}Yk(g1,Hk);Yk(ky,Wk);var zy=1e3,Ny=zy*60,rp=Ny*60,us=rp*24,_1=us*365,uv={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Oy="{yyyy}-{MM}-{dd}",b1={year:"{yyyy}",month:"{yyyy}-{MM}",day:Oy,hour:Oy+" "+uv.hour,minute:Oy+" "+uv.minute,second:Oy+" "+uv.second,millisecond:uv.none},x1=["year","month","day","hour","minute","second","millisecond"],S1=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function gu(Yr,Gr){return Yr+="","0000".substr(0,Gr-Yr.length)+Yr}function zh(Yr){switch(Yr){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return Yr}}function Zk(Yr){return Yr===zh(Yr)}function jk(Yr){switch(Yr){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Nh(Yr,Gr,Wr,Zr){var Kr=bo(Yr),Jr=Kr[Fy(Wr)](),Qr=Kr[Oh(Wr)]()+1,ti=Math.floor((Qr-1)/3)+1,ei=Kr[fv(Wr)](),ri=Kr["get"+(Wr?"UTC":"")+"Day"](),ii=Kr[ep(Wr)](),ni=(ii-1)%12+1,ai=Kr[hv(Wr)](),oi=Kr[cv(Wr)](),si=Kr[pv(Wr)](),li=Zr instanceof Mn?Zr:lv(Zr||Ry)||qk(),ui=li.getModel("time"),fi=ui.get("month"),hi=ui.get("monthAbbr"),ci=ui.get("dayOfWeek"),pi=ui.get("dayOfWeekAbbr");return(Gr||"").replace(/{yyyy}/g,Jr+"").replace(/{yy}/g,gu(Jr%100+"",2)).replace(/{Q}/g,ti+"").replace(/{MMMM}/g,fi[Qr-1]).replace(/{MMM}/g,hi[Qr-1]).replace(/{MM}/g,gu(Qr,2)).replace(/{M}/g,Qr+"").replace(/{dd}/g,gu(ei,2)).replace(/{d}/g,ei+"").replace(/{eeee}/g,ci[ri]).replace(/{ee}/g,pi[ri]).replace(/{e}/g,ri+"").replace(/{HH}/g,gu(ii,2)).replace(/{H}/g,ii+"").replace(/{hh}/g,gu(ni+"",2)).replace(/{h}/g,ni+"").replace(/{mm}/g,gu(ai,2)).replace(/{m}/g,ai+"").replace(/{ss}/g,gu(oi,2)).replace(/{s}/g,oi+"").replace(/{SSS}/g,gu(si,3)).replace(/{S}/g,si+"")}function Kk(Yr,Gr,Wr,Zr,Kr){var Jr=null;if(Ni(Wr))Jr=Wr;else if(Wi(Wr))Jr=Wr(Yr.value,Gr,{level:Yr.level});else{var Qr=ki({},uv);if(Yr.level>0)for(var ti=0;ti<x1.length;++ti)Qr[x1[ti]]="{primary|"+Qr[x1[ti]]+"}";var ei=Wr?Wr.inherit===!1?Wr:Yi(Wr,Qr):Qr,ri=$k(Yr.value,Kr);if(ei[ri])Jr=ei[ri];else if(ei.inherit){for(var ii=S1.indexOf(ri),ti=ii-1;ti>=0;--ti)if(ei[ri]){Jr=ei[ri];break}Jr=Jr||Qr.none}if(Ri(Jr)){var ni=Yr.level==null?0:Yr.level>=0?Yr.level:Jr.length+Yr.level;ni=Math.min(ni,Jr.length-1),Jr=Jr[ni]}}return Nh(new Date(Yr.value),Jr,Kr,Zr)}function $k(Yr,Gr){var Wr=bo(Yr),Zr=Wr[Oh(Gr)]()+1,Kr=Wr[fv(Gr)](),Jr=Wr[ep(Gr)](),Qr=Wr[hv(Gr)](),ti=Wr[cv(Gr)](),ei=Wr[pv(Gr)](),ri=ei===0,ii=ri&&ti===0,ni=ii&&Qr===0,ai=ni&&Jr===0,oi=ai&&Kr===1,si=oi&&Zr===1;return si?"year":oi?"month":ai?"day":ni?"hour":ii?"minute":ri?"second":"millisecond"}function w1(Yr,Gr,Wr){var Zr=gn(Yr)?bo(Yr):Yr;switch(Gr=Gr||$k(Yr,Wr),Gr){case"year":return Zr[Fy(Wr)]();case"half-year":return Zr[Oh(Wr)]()>=6?1:0;case"quarter":return Math.floor((Zr[Oh(Wr)]()+1)/4);case"month":return Zr[Oh(Wr)]();case"day":return Zr[fv(Wr)]();case"half-day":return Zr[ep(Wr)]()/24;case"hour":return Zr[ep(Wr)]();case"minute":return Zr[hv(Wr)]();case"second":return Zr[cv(Wr)]();case"millisecond":return Zr[pv(Wr)]()}}function Fy(Yr){return Yr?"getUTCFullYear":"getFullYear"}function Oh(Yr){return Yr?"getUTCMonth":"getMonth"}function fv(Yr){return Yr?"getUTCDate":"getDate"}function ep(Yr){return Yr?"getUTCHours":"getHours"}function hv(Yr){return Yr?"getUTCMinutes":"getMinutes"}function cv(Yr){return Yr?"getUTCSeconds":"getSeconds"}function pv(Yr){return Yr?"getUTCMilliseconds":"getMilliseconds"}function Jk(Yr){return Yr?"setUTCFullYear":"setFullYear"}function C1(Yr){return Yr?"setUTCMonth":"setMonth"}function T1(Yr){return Yr?"setUTCDate":"setDate"}function A1(Yr){return Yr?"setUTCHours":"setHours"}function M1(Yr){return Yr?"setUTCMinutes":"setMinutes"}function P1(Yr){return Yr?"setUTCSeconds":"setSeconds"}function E1(Yr){return Yr?"setUTCMilliseconds":"setMilliseconds"}function I1(Yr){if(!Ud(Yr))return Ni(Yr)?Yr:"-";var Gr=(Yr+"").split(".");return Gr[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Gr.length>1?"."+Gr[1]:"")}function Vy(Yr,Gr){return Yr=(Yr||"").toLowerCase().replace(/-(.)/g,function(Wr,Zr){return Zr.toUpperCase()}),Gr&&Yr&&(Yr=Yr.charAt(0).toUpperCase()+Yr.slice(1)),Yr}var il=Sc;function By(Yr,Gr,Wr){var Zr="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function Kr(ii){return ii&&Va(ii)?ii:"-"}function Jr(ii){return!!(ii!=null&&!isNaN(ii)&&isFinite(ii))}var Qr=Gr==="time",ti=Yr instanceof Date;if(Qr||ti){var ei=Qr?bo(Yr):Yr;if(isNaN(+ei)){if(ti)return"-"}else return Nh(ei,Zr,Wr)}if(Gr==="ordinal")return _d(Yr)?Kr(Yr):gn(Yr)&&Jr(Yr)?Yr+"":"-";var ri=Ts(Yr);return Jr(ri)?I1(ri):_d(Yr)?Kr(Yr):typeof Yr=="boolean"?Yr+"":"-"}var Qk=["a","b","c","d","e","f","g"],D1=function(Yr,Gr){return"{"+Yr+(Gr??"")+"}"};function Uy(Yr,Gr,Wr){Ri(Gr)||(Gr=[Gr]);var Zr=Gr.length;if(!Zr)return"";for(var Kr=Gr[0].$vars||[],Jr=0;Jr<Kr.length;Jr++){var Qr=Qk[Jr];Yr=Yr.replace(D1(Qr),D1(Qr,0))}for(var ti=0;ti<Zr;ti++)for(var ei=0;ei<Kr.length;ei++){var ri=Gr[ti][Kr[ei]];Yr=Yr.replace(D1(Qk[ei],ti),Wr?Qa(ri):ri)}return Yr}function t2(Yr,Gr,Wr){return _i(Gr,function(Zr,Kr){Yr=Yr.replace("{"+Kr+"}",Wr?Qa(Zr):Zr)}),Yr}function e2(Yr,Gr){var Wr=Ni(Yr)?{color:Yr,extraCssText:Gr}:Yr||{},Zr=Wr.color,Kr=Wr.type;Gr=Wr.extraCssText;var Jr=Wr.renderMode||"html";if(!Zr)return"";if(Jr==="html")return Kr==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Qa(Zr)+";"+(Gr||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Qa(Zr)+";"+(Gr||"")+'"></span>';var Qr=Wr.markerId||"markerX";return{renderMode:Jr,content:"{"+Qr+"|}  ",style:Kr==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:Zr}:{width:10,height:10,borderRadius:5,backgroundColor:Zr}}}function nl(Yr,Gr){return Gr=Gr||"transparent",Ni(Yr)?Yr:qi(Yr)&&Yr.colorStops&&(Yr.colorStops[0]||{}).color||Gr}function Fh(Yr,Gr){if(Gr==="_blank"||Gr==="blank"){var Wr=window.open();Wr.opener=null,Wr.location.href=Yr}else window.open(Yr,Gr)}var Gy=_i,L1=["left","right","top","bottom","width","height"],Vh=[["width","left","right"],["height","top","bottom"]];function k1(Yr,Gr,Wr,Zr,Kr){var Jr=0,Qr=0;Zr==null&&(Zr=1/0),Kr==null&&(Kr=1/0);var ti=0;Gr.eachChild(function(ei,ri){var ii=ei.getBoundingRect(),ni=Gr.childAt(ri+1),ai=ni&&ni.getBoundingRect(),oi,si;if(Yr==="horizontal"){var li=ii.width+(ai?-ai.x+ii.x:0);oi=Jr+li,oi>Zr||ei.newline?(Jr=0,oi=li,Qr+=ti+Wr,ti=ii.height):ti=Math.max(ti,ii.height)}else{var ui=ii.height+(ai?-ai.y+ii.y:0);si=Qr+ui,si>Kr||ei.newline?(Jr+=ti+Wr,Qr=0,si=ui,ti=ii.width):ti=Math.max(ti,ii.width)}ei.newline||(ei.x=Jr,ei.y=Qr,ei.markRedraw(),Yr==="horizontal"?Jr=oi+Wr:Qr=si+Wr)})}var al=k1,nvt=en(k1,"vertical"),avt=en(k1,"horizontal");function r2(Yr,Gr,Wr){var Zr=Gr.width,Kr=Gr.height,Jr=Ui(Yr.left,Zr),Qr=Ui(Yr.top,Kr),ti=Ui(Yr.right,Zr),ei=Ui(Yr.bottom,Kr);return(isNaN(Jr)||isNaN(parseFloat(Yr.left)))&&(Jr=0),(isNaN(ti)||isNaN(parseFloat(Yr.right)))&&(ti=Zr),(isNaN(Qr)||isNaN(parseFloat(Yr.top)))&&(Qr=0),(isNaN(ei)||isNaN(parseFloat(Yr.bottom)))&&(ei=Kr),Wr=il(Wr||0),{width:Math.max(ti-Jr-Wr[1]-Wr[3],0),height:Math.max(ei-Qr-Wr[0]-Wr[2],0)}}function Vn(Yr,Gr,Wr){Wr=il(Wr||0);var Zr=Gr.width,Kr=Gr.height,Jr=Ui(Yr.left,Zr),Qr=Ui(Yr.top,Kr),ti=Ui(Yr.right,Zr),ei=Ui(Yr.bottom,Kr),ri=Ui(Yr.width,Zr),ii=Ui(Yr.height,Kr),ni=Wr[2]+Wr[0],ai=Wr[1]+Wr[3],oi=Yr.aspect;switch(isNaN(ri)&&(ri=Zr-ti-ai-Jr),isNaN(ii)&&(ii=Kr-ei-ni-Qr),oi!=null&&(isNaN(ri)&&isNaN(ii)&&(oi>Zr/Kr?ri=Zr*.8:ii=Kr*.8),isNaN(ri)&&(ri=oi*ii),isNaN(ii)&&(ii=ri/oi)),isNaN(Jr)&&(Jr=Zr-ti-ri-ai),isNaN(Qr)&&(Qr=Kr-ei-ii-ni),Yr.left||Yr.right){case"center":Jr=Zr/2-ri/2-Wr[3];break;case"right":Jr=Zr-ri-ai;break}switch(Yr.top||Yr.bottom){case"middle":case"center":Qr=Kr/2-ii/2-Wr[0];break;case"bottom":Qr=Kr-ii-ni;break}Jr=Jr||0,Qr=Qr||0,isNaN(ri)&&(ri=Zr-ai-Jr-(ti||0)),isNaN(ii)&&(ii=Kr-ni-Qr-(ei||0));var si=new rn(Jr+Wr[3],Qr+Wr[0],ri,ii);return si.margin=Wr,si}function of(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=!Kr||!Kr.hv||Kr.hv[0],ti=!Kr||!Kr.hv||Kr.hv[1],ei=Kr&&Kr.boundingMode||"all";if(Jr=Jr||Yr,Jr.x=Yr.x,Jr.y=Yr.y,!Qr&&!ti)return!1;var ri;if(ei==="raw")ri=Yr.type==="group"?new rn(0,0,+Gr.width||0,+Gr.height||0):Yr.getBoundingRect();else if(ri=Yr.getBoundingRect(),Yr.needLocalTransform()){var ii=Yr.getLocalTransform();ri=ri.clone(),ri.applyTransform(ii)}var ni=Vn(Yi({width:ri.width,height:ri.height},Gr),Wr,Zr),ai=Qr?ni.x-ri.x:0,oi=ti?ni.y-ri.y:0;return ei==="raw"?(Jr.x=ai,Jr.y=oi):(Jr.x+=ai,Jr.y+=oi),Jr===Yr&&Yr.markRedraw(),!0}function i2(Yr,Gr){return Yr[Vh[Gr][0]]!=null||Yr[Vh[Gr][1]]!=null&&Yr[Vh[Gr][2]]!=null}function sf(Yr){var Gr=Yr.layoutMode||Yr.constructor.layoutMode;return qi(Gr)?Gr:Gr?{type:Gr}:null}function Yo(Yr,Gr,Wr){var Zr=Wr&&Wr.ignoreSize;!Ri(Zr)&&(Zr=[Zr,Zr]);var Kr=Qr(Vh[0],0),Jr=Qr(Vh[1],1);ri(Vh[0],Yr,Kr),ri(Vh[1],Yr,Jr);function Qr(ii,ni){var ai={},oi=0,si={},li=0,ui=2;if(Gy(ii,function(ci){si[ci]=Yr[ci]}),Gy(ii,function(ci){ti(Gr,ci)&&(ai[ci]=si[ci]=Gr[ci]),ei(ai,ci)&&oi++,ei(si,ci)&&li++}),Zr[ni])return ei(Gr,ii[1])?si[ii[2]]=null:ei(Gr,ii[2])&&(si[ii[1]]=null),si;if(li===ui||!oi)return si;if(oi>=ui)return ai;for(var fi=0;fi<ii.length;fi++){var hi=ii[fi];if(!ti(ai,hi)&&ti(Yr,hi)){ai[hi]=Yr[hi];break}}return ai}function ti(ii,ni){return ii.hasOwnProperty(ni)}function ei(ii,ni){return ii[ni]!=null&&ii[ni]!=="auto"}function ri(ii,ni,ai){Gy(ii,function(oi){ni[oi]=ai[oi]})}}function Is(Yr){return R1({},Yr)}function R1(Yr,Gr){return Gr&&Yr&&Gy(L1,function(Wr){Gr.hasOwnProperty(Wr)&&(Yr[Wr]=Gr[Wr])}),Yr}var E9=ln(),ip=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this,Wr,Zr,Kr)||this;return Jr.uid=Ds("ec_cpt_model"),Jr}return Gr.prototype.init=function(Wr,Zr,Kr){this.mergeDefaultAndTheme(Wr,Kr)},Gr.prototype.mergeDefaultAndTheme=function(Wr,Zr){var Kr=sf(this),Jr=Kr?Is(Wr):{},Qr=Zr.getTheme();un(Wr,Qr.get(this.mainType)),un(Wr,this.getDefaultOption()),Kr&&Yo(Wr,Jr,Kr)},Gr.prototype.mergeOption=function(Wr,Zr){un(this.option,Wr,!0);var Kr=sf(this);Kr&&Yo(this.option,Wr,Kr)},Gr.prototype.optionUpdated=function(Wr,Zr){},Gr.prototype.getDefaultOption=function(){var Wr=this.constructor;if(!KI(Wr))return Wr.defaultOption;var Zr=E9(this);if(!Zr.defaultOption){for(var Kr=[],Jr=Wr;Jr;){var Qr=Jr.prototype.defaultOption;Qr&&Kr.push(Qr),Jr=Jr.superClass}for(var ti={},ei=Kr.length-1;ei>=0;ei--)ti=un(ti,Kr[ei],!0);Zr.defaultOption=ti}return Zr.defaultOption},Gr.prototype.getReferringComponents=function(Wr,Zr){var Kr=Wr+"Index",Jr=Wr+"Id";return Ku(this.ecModel,Wr,{index:this.get(Kr,!0),id:this.get(Jr,!0)},Zr)},Gr.prototype.getBoxLayoutParams=function(){var Wr=this;return{left:Wr.get("left"),top:Wr.get("top"),right:Wr.get("right"),bottom:Wr.get("bottom"),width:Wr.get("width"),height:Wr.get("height")}},Gr.prototype.getZLevelKey=function(){return""},Gr.prototype.setZLevel=function(Wr){this.option.zlevel=Wr},Gr.protoInitialize=function(){var Wr=Gr.prototype;Wr.type="component",Wr.id="",Wr.name="",Wr.mainType="",Wr.subType="",Wr.componentIndex=0}(),Gr}(Mn);ny(ip,Mn);$u(ip);Uk(ip);Gk(ip,D9);function D9(Yr){var Gr=[];return _i(ip.getClassesByMainType(Yr),function(Wr){Gr=Gr.concat(Wr.dependencies||Wr.prototype.dependencies||[])}),Gr=Oi(Gr,function(Wr){return Bo(Wr).main}),Yr!=="dataset"&&sn(Gr,"dataset")<=0&&Gr.unshift("dataset"),Gr}var _n=ip;var n2="";typeof navigator<"u"&&(n2=navigator.platform||"");var np="rgba(0, 0, 0, 0.2)",a2={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:np,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:np,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:np,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:np,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:np,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:np,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:n2.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Hy=Hi(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Za="original",Ma="arrayRows",ao="objectRows",fs="keyedColumns",hs="typedArray",O1="unknown",Xo="column",yu="row";var Wa={Must:1,Might:2,Not:3},o2=ln();function s2(Yr){o2(Yr).datasetMap=Hi()}function Wy(Yr,Gr,Wr){var Zr={},Kr=Yy(Gr);if(!Kr||!Yr)return Zr;var Jr=[],Qr=[],ti=Gr.ecModel,ei=o2(ti).datasetMap,ri=Kr.uid+"_"+Wr.seriesLayoutBy,ii,ni;Yr=Yr.slice(),_i(Yr,function(li,ui){var fi=qi(li)?li:Yr[ui]={name:li};fi.type==="ordinal"&&ii==null&&(ii=ui,ni=si(fi)),Zr[fi.name]=[]});var ai=ei.get(ri)||ei.set(ri,{categoryWayDim:ni,valueWayDim:0});_i(Yr,function(li,ui){var fi=li.name,hi=si(li);if(ii==null){var ci=ai.valueWayDim;oi(Zr[fi],ci,hi),oi(Qr,ci,hi),ai.valueWayDim+=hi}else if(ii===ui)oi(Zr[fi],0,hi),oi(Jr,0,hi);else{var ci=ai.categoryWayDim;oi(Zr[fi],ci,hi),oi(Qr,ci,hi),ai.categoryWayDim+=hi}});function oi(li,ui,fi){for(var hi=0;hi<fi;hi++)li.push(ui+hi)}function si(li){var ui=li.dimsDef;return ui?ui.length:1}return Jr.length&&(Zr.itemName=Jr),Qr.length&&(Zr.seriesName=Qr),Zr}function ap(Yr,Gr,Wr){var Zr={},Kr=Yy(Yr);if(!Kr)return Zr;var Jr=Gr.sourceFormat,Qr=Gr.dimensionsDefine,ti;(Jr===ao||Jr===fs)&&_i(Qr,function(ii,ni){(qi(ii)?ii.name:ii)==="name"&&(ti=ni)});var ei=function(){for(var ii={},ni={},ai=[],oi=0,si=Math.min(5,Wr);oi<si;oi++){var li=u2(Gr.data,Jr,Gr.seriesLayoutBy,Qr,Gr.startIndex,oi);ai.push(li);var ui=li===Wa.Not;if(ui&&ii.v==null&&oi!==ti&&(ii.v=oi),(ii.n==null||ii.n===ii.v||!ui&&ai[ii.n]===Wa.Not)&&(ii.n=oi),fi(ii)&&ai[ii.n]!==Wa.Not)return ii;ui||(li===Wa.Might&&ni.v==null&&oi!==ti&&(ni.v=oi),(ni.n==null||ni.n===ni.v)&&(ni.n=oi))}function fi(hi){return hi.v!=null&&hi.n!=null}return fi(ii)?ii:fi(ni)?ni:null}();if(ei){Zr.value=[ei.v];var ri=ti??ei.n;Zr.itemName=[ri],Zr.seriesName=[ri]}return Zr}function Yy(Yr){var Gr=Yr.get("data",!0);if(!Gr)return Ku(Yr.ecModel,"dataset",{index:Yr.get("datasetIndex",!0),id:Yr.get("datasetId",!0)},Yn).models[0]}function l2(Yr){return!Yr.get("transform",!0)&&!Yr.get("fromTransformResult",!0)?[]:Ku(Yr.ecModel,"dataset",{index:Yr.get("fromDatasetIndex",!0),id:Yr.get("fromDatasetId",!0)},Yn).models}function Xy(Yr,Gr){return u2(Yr.data,Yr.sourceFormat,Yr.seriesLayoutBy,Yr.dimensionsDefine,Yr.startIndex,Gr)}function u2(Yr,Gr,Wr,Zr,Kr,Jr){var Qr,ti=5;if(Ta(Yr))return Wa.Not;var ei,ri;if(Zr){var ii=Zr[Jr];qi(ii)?(ei=ii.name,ri=ii.type):Ni(ii)&&(ei=ii)}if(ri!=null)return ri==="ordinal"?Wa.Must:Wa.Not;if(Gr===Ma){var ni=Yr;if(Wr===yu){for(var ai=ni[Jr],oi=0;oi<(ai||[]).length&&oi<ti;oi++)if((Qr=pi(ai[Kr+oi]))!=null)return Qr}else for(var oi=0;oi<ni.length&&oi<ti;oi++){var si=ni[Kr+oi];if(si&&(Qr=pi(si[Jr]))!=null)return Qr}}else if(Gr===ao){var li=Yr;if(!ei)return Wa.Not;for(var oi=0;oi<li.length&&oi<ti;oi++){var ui=li[oi];if(ui&&(Qr=pi(ui[ei]))!=null)return Qr}}else if(Gr===fs){var fi=Yr;if(!ei)return Wa.Not;var ai=fi[ei];if(!ai||Ta(ai))return Wa.Not;for(var oi=0;oi<ai.length&&oi<ti;oi++)if((Qr=pi(ai[oi]))!=null)return Qr}else if(Gr===Za)for(var hi=Yr,oi=0;oi<hi.length&&oi<ti;oi++){var ui=hi[oi],ci=$s(ui);if(!Ri(ci))return Wa.Not;if((Qr=pi(ci[Jr]))!=null)return Qr}function pi(di){var vi=Ni(di);if(di!=null&&isFinite(di)&&di!=="")return vi?Wa.Might:Wa.Not;if(vi&&di!=="-")return Wa.Must}return Wa.Not}var z1=Hi();function f2(Yr,Gr){ea(z1.get(Yr)==null&&Gr),z1.set(Yr,Gr)}function h2(Yr,Gr,Wr){var Zr=z1.get(Gr);if(!Zr)return Wr;var Kr=Zr(Yr);if(!Kr)return Wr;if(0)for(var Jr;Jr<Kr.length;Jr++);return Wr.concat(Kr)}var c2=ln(),I9=ln(),vv=function(){function Yr(){}return Yr.prototype.getColorFromPalette=function(Gr,Wr,Zr){var Kr=En(this.get("color",!0)),Jr=this.get("colorLayer",!0);return p2(this,c2,Kr,Jr,Gr,Wr,Zr)},Yr.prototype.clearColorPalette=function(){k9(this,c2)},Yr}();function mv(Yr,Gr,Wr,Zr){var Kr=En(Yr.get(["aria","decal","decals"]));return p2(Yr,I9,Kr,null,Gr,Wr,Zr)}function L9(Yr,Gr){for(var Wr=Yr.length,Zr=0;Zr<Wr;Zr++)if(Yr[Zr].length>Gr)return Yr[Zr];return Yr[Wr-1]}function p2(Yr,Gr,Wr,Zr,Kr,Jr,Qr){Jr=Jr||Yr;var ti=Gr(Jr),ei=ti.paletteIdx||0,ri=ti.paletteNameMap=ti.paletteNameMap||{};if(ri.hasOwnProperty(Kr))return ri[Kr];var ii=Qr==null||!Zr?Wr:L9(Zr,Qr);if(ii=ii||Wr,!(!ii||!ii.length)){var ni=ii[ei];return Kr&&(ri[Kr]=ni),ti.paletteIdx=(ei+1)%ii.length,ni}}function k9(Yr,Gr){Gr(Yr).paletteIdx=0,Gr(Yr).paletteNameMap={}}var qy,gv,d2,v2="\0_ec_inner",R9=1;var x2=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.init=function(Wr,Zr,Kr,Jr,Qr,ti){Jr=Jr||{},this.option=null,this._theme=new Mn(Jr),this._locale=new Mn(Qr),this._optionManager=ti},Gr.prototype.setOption=function(Wr,Zr,Kr){var Jr=y2(Zr);this._optionManager.setOption(Wr,Kr,Jr),this._resetOption(null,Jr)},Gr.prototype.resetOption=function(Wr,Zr){return this._resetOption(Wr,y2(Zr))},Gr.prototype._resetOption=function(Wr,Zr){var Kr=!1,Jr=this._optionManager;if(!Wr||Wr==="recreate"){var Qr=Jr.mountOption(Wr==="recreate");!this.option||Wr==="recreate"?d2(this,Qr):(this.restoreData(),this._mergeOption(Qr,Zr)),Kr=!0}if((Wr==="timeline"||Wr==="media")&&this.restoreData(),!Wr||Wr==="recreate"||Wr==="timeline"){var ti=Jr.getTimelineOption(this);ti&&(Kr=!0,this._mergeOption(ti,Zr))}if(!Wr||Wr==="recreate"||Wr==="media"){var ei=Jr.getMediaOption(this);ei.length&&_i(ei,function(ri){Kr=!0,this._mergeOption(ri,Zr)},this)}return Kr},Gr.prototype.mergeOption=function(Wr){this._mergeOption(Wr,null)},Gr.prototype._mergeOption=function(Wr,Zr){var Kr=this.option,Jr=this._componentsMap,Qr=this._componentsCount,ti=[],ei=Hi(),ri=Zr&&Zr.replaceMergeMainTypeMap;s2(this),_i(Wr,function(ni,ai){ni!=null&&(_n.hasClass(ai)?ai&&(ti.push(ai),ei.set(ai,!0)):Kr[ai]=Kr[ai]==null?Ki(ni):un(Kr[ai],ni,!0))}),ri&&ri.each(function(ni,ai){_n.hasClass(ai)&&!ei.get(ai)&&(ti.push(ai),ei.set(ai,!0))}),_n.topologicalTravel(ti,_n.getAllClassMainTypes(),ii,this);function ii(ni){var ai=h2(this,ni,En(Wr[ni])),oi=Jr.get(ni),si=oi?ri&&ri.get(ni)?"replaceMerge":"normalMerge":"replaceAll",li=ry(oi,ai,si);WI(li,ni,_n),Kr[ni]=null,Jr.set(ni,null),Qr.set(ni,0);var ui=[],fi=[],hi=0,ci,pi;_i(li,function(di,vi){var mi=di.existing,gi=di.newOption;if(!gi)mi&&(mi.mergeOption({},this),mi.optionUpdated({},!1));else{var yi=ni==="series",Si=_n.getClass(ni,di.keyInfo.subType,!yi);if(!Si){if(0)var bi,Ti;return}if(ni==="tooltip"){if(ci)return;ci=!0}if(mi&&mi.constructor===Si)mi.name=di.keyInfo.name,mi.mergeOption(gi,this),mi.optionUpdated(gi,!1);else{var Ai=ki({componentIndex:vi},di.keyInfo);mi=new Si(gi,this,this,Ai),ki(mi,Ai),di.brandNew&&(mi.__requireNewView=!0),mi.init(gi,this,this),mi.optionUpdated(null,!0)}}mi?(ui.push(mi.option),fi.push(mi),hi++):(ui.push(void 0),fi.push(void 0))},this),Kr[ni]=ui,Jr.set(ni,fi),Qr.set(ni,hi),ni==="series"&&qy(this)}this._seriesIndices||qy(this)},Gr.prototype.getOption=function(){var Wr=Ki(this.option);return _i(Wr,function(Zr,Kr){if(_n.hasClass(Kr)){for(var Jr=En(Zr),Qr=Jr.length,ti=!1,ei=Qr-1;ei>=0;ei--)Jr[ei]&&!Nc(Jr[ei])?ti=!0:(Jr[ei]=null,!ti&&Qr--);Jr.length=Qr,Wr[Kr]=Jr}}),delete Wr[v2],Wr},Gr.prototype.getTheme=function(){return this._theme},Gr.prototype.getLocaleModel=function(){return this._locale},Gr.prototype.setUpdatePayload=function(Wr){this._payload=Wr},Gr.prototype.getUpdatePayload=function(){return this._payload},Gr.prototype.getComponent=function(Wr,Zr){var Kr=this._componentsMap.get(Wr);if(Kr){var Jr=Kr[Zr||0];if(Jr)return Jr;if(Zr==null){for(var Qr=0;Qr<Kr.length;Qr++)if(Kr[Qr])return Kr[Qr]}}},Gr.prototype.queryComponents=function(Wr){var Zr=Wr.mainType;if(!Zr)return[];var Kr=Wr.index,Jr=Wr.id,Qr=Wr.name,ti=this._componentsMap.get(Zr);if(!ti||!ti.length)return[];var ei;return Kr!=null?(ei=[],_i(En(Kr),function(ri){ti[ri]&&ei.push(ti[ri])})):Jr!=null?ei=m2("id",Jr,ti):Qr!=null?ei=m2("name",Qr,ti):ei=Tn(ti,function(ri){return!!ri}),g2(ei,Wr)},Gr.prototype.findComponents=function(Wr){var Zr=Wr.query,Kr=Wr.mainType,Jr=ti(Zr),Qr=Jr?this.queryComponents(Jr):Tn(this._componentsMap.get(Kr),function(ri){return!!ri});return ei(g2(Qr,Wr));function ti(ri){var ii=Kr+"Index",ni=Kr+"Id",ai=Kr+"Name";return ri&&(ri[ii]!=null||ri[ni]!=null||ri[ai]!=null)?{mainType:Kr,index:ri[ii],id:ri[ni],name:ri[ai]}:null}function ei(ri){return Wr.filter?Tn(ri,Wr.filter):ri}},Gr.prototype.eachComponent=function(Wr,Zr,Kr){var Jr=this._componentsMap;if(Wi(Wr)){var Qr=Zr,ti=Wr;Jr.each(function(ni,ai){for(var oi=0;ni&&oi<ni.length;oi++){var si=ni[oi];si&&ti.call(Qr,ai,si,si.componentIndex)}})}else for(var ei=Ni(Wr)?Jr.get(Wr):qi(Wr)?this.findComponents(Wr):null,ri=0;ei&&ri<ei.length;ri++){var ii=ei[ri];ii&&Zr.call(Kr,ii,ii.componentIndex)}},Gr.prototype.getSeriesByName=function(Wr){var Zr=aa(Wr,null);return Tn(this._componentsMap.get("series"),function(Kr){return!!Kr&&Zr!=null&&Kr.name===Zr})},Gr.prototype.getSeriesByIndex=function(Wr){return this._componentsMap.get("series")[Wr]},Gr.prototype.getSeriesByType=function(Wr){return Tn(this._componentsMap.get("series"),function(Zr){return!!Zr&&Zr.subType===Wr})},Gr.prototype.getSeries=function(){return Tn(this._componentsMap.get("series"),function(Wr){return!!Wr})},Gr.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Gr.prototype.eachSeries=function(Wr,Zr){gv(this),_i(this._seriesIndices,function(Kr){var Jr=this._componentsMap.get("series")[Kr];Wr.call(Zr,Jr,Kr)},this)},Gr.prototype.eachRawSeries=function(Wr,Zr){_i(this._componentsMap.get("series"),function(Kr){Kr&&Wr.call(Zr,Kr,Kr.componentIndex)})},Gr.prototype.eachSeriesByType=function(Wr,Zr,Kr){gv(this),_i(this._seriesIndices,function(Jr){var Qr=this._componentsMap.get("series")[Jr];Qr.subType===Wr&&Zr.call(Kr,Qr,Jr)},this)},Gr.prototype.eachRawSeriesByType=function(Wr,Zr,Kr){return _i(this.getSeriesByType(Wr),Zr,Kr)},Gr.prototype.isSeriesFiltered=function(Wr){return gv(this),this._seriesIndicesMap.get(Wr.componentIndex)==null},Gr.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Gr.prototype.filterSeries=function(Wr,Zr){gv(this);var Kr=[];_i(this._seriesIndices,function(Jr){var Qr=this._componentsMap.get("series")[Jr];Wr.call(Zr,Qr,Jr)&&Kr.push(Jr)},this),this._seriesIndices=Kr,this._seriesIndicesMap=Hi(Kr)},Gr.prototype.restoreData=function(Wr){qy(this);var Zr=this._componentsMap,Kr=[];Zr.each(function(Jr,Qr){_n.hasClass(Qr)&&Kr.push(Qr)}),_n.topologicalTravel(Kr,_n.getAllClassMainTypes(),function(Jr){_i(Zr.get(Jr),function(Qr){Qr&&(Jr!=="series"||!O9(Qr,Wr))&&Qr.restoreData()})})},Gr.internalField=function(){qy=function(Wr){var Zr=Wr._seriesIndices=[];_i(Wr._componentsMap.get("series"),function(Kr){Kr&&Zr.push(Kr.componentIndex)}),Wr._seriesIndicesMap=Hi(Zr)},gv=function(Wr){},d2=function(Wr,Zr){Wr.option={},Wr.option[v2]=R9,Wr._componentsMap=Hi({series:[]}),Wr._componentsCount=Hi();var Kr=Zr.aria;qi(Kr)&&Kr.enabled==null&&(Kr.enabled=!0),z9(Zr,Wr._theme.option),un(Zr,a2,!1),Wr._mergeOption(Zr,null)}}(),Gr}(Mn);function O9(Yr,Gr){if(Gr){var Wr=Gr.seriesIndex,Zr=Gr.seriesId,Kr=Gr.seriesName;return Wr!=null&&Yr.componentIndex!==Wr||Zr!=null&&Yr.id!==Zr||Kr!=null&&Yr.name!==Kr}}function z9(Yr,Gr){var Wr=Yr.color&&!Yr.colorLayer;_i(Gr,function(Zr,Kr){Kr==="colorLayer"&&Wr||_n.hasClass(Kr)||(typeof Zr=="object"?Yr[Kr]=Yr[Kr]?un(Yr[Kr],Zr,!1):Ki(Zr):Yr[Kr]==null&&(Yr[Kr]=Zr))})}function m2(Yr,Gr,Wr){if(Ri(Gr)){var Zr=Hi();return _i(Gr,function(Jr){if(Jr!=null){var Qr=aa(Jr,null);Qr!=null&&Zr.set(Jr,!0)}}),Tn(Wr,function(Jr){return Jr&&Zr.get(Jr[Yr])})}else{var Kr=aa(Gr,null);return Tn(Wr,function(Jr){return Jr&&Kr!=null&&Jr[Yr]===Kr})}}function g2(Yr,Gr){return Gr.hasOwnProperty("subType")?Tn(Yr,function(Wr){return Wr&&Wr.subType===Gr.subType}):Yr}function y2(Yr){var Gr=Hi();return Yr&&_i(En(Yr.replaceMerge),function(Wr){Gr.set(Wr,!0)}),{replaceMergeMainTypeMap:Gr}}Gn(x2,vv);var Zy=x2;var N9=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],F9=function(){function Yr(Gr){_i(N9,function(Wr){this[Wr]=Gi(Gr[Wr],Gr)},this)}return Yr}(),jy=F9;var N1={},V9=function(){function Yr(){this._coordinateSystems=[]}return Yr.prototype.create=function(Gr,Wr){var Zr=[];_i(N1,function(Kr,Jr){var Qr=Kr.create(Gr,Wr);Zr=Zr.concat(Qr||[])}),this._coordinateSystems=Zr},Yr.prototype.update=function(Gr,Wr){_i(this._coordinateSystems,function(Zr){Zr.update&&Zr.update(Gr,Wr)})},Yr.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},Yr.register=function(Gr,Wr){N1[Gr]=Wr},Yr.get=function(Gr){return N1[Gr]},Yr}(),xu=V9;var B9=/^(min|max)?(.+)$/,U9=function(){function Yr(Gr){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=Gr}return Yr.prototype.setOption=function(Gr,Wr,Zr){Gr&&(_i(En(Gr.series),function(Qr){Qr&&Qr.data&&Ta(Qr.data)&&$f(Qr.data)}),_i(En(Gr.dataset),function(Qr){Qr&&Qr.source&&Ta(Qr.source)&&$f(Qr.source)})),Gr=Ki(Gr);var Kr=this._optionBackup,Jr=G9(Gr,Wr,!Kr);this._newBaseOption=Jr.baseOption,Kr?(Jr.timelineOptions.length&&(Kr.timelineOptions=Jr.timelineOptions),Jr.mediaList.length&&(Kr.mediaList=Jr.mediaList),Jr.mediaDefault&&(Kr.mediaDefault=Jr.mediaDefault)):this._optionBackup=Jr},Yr.prototype.mountOption=function(Gr){var Wr=this._optionBackup;return this._timelineOptions=Wr.timelineOptions,this._mediaList=Wr.mediaList,this._mediaDefault=Wr.mediaDefault,this._currentMediaIndices=[],Ki(Gr?Wr.baseOption:this._newBaseOption)},Yr.prototype.getTimelineOption=function(Gr){var Wr,Zr=this._timelineOptions;if(Zr.length){var Kr=Gr.getComponent("timeline");Kr&&(Wr=Ki(Zr[Kr.getCurrentIndex()]))}return Wr},Yr.prototype.getMediaOption=function(Gr){var Wr=this._api.getWidth(),Zr=this._api.getHeight(),Kr=this._mediaList,Jr=this._mediaDefault,Qr=[],ti=[];if(!Kr.length&&!Jr)return ti;for(var ei=0,ri=Kr.length;ei<ri;ei++)H9(Kr[ei].query,Wr,Zr)&&Qr.push(ei);return!Qr.length&&Jr&&(Qr=[-1]),Qr.length&&!Y9(Qr,this._currentMediaIndices)&&(ti=Oi(Qr,function(ii){return Ki(ii===-1?Jr.option:Kr[ii].option)})),this._currentMediaIndices=Qr,ti},Yr}();function G9(Yr,Gr,Wr){var Zr=[],Kr,Jr,Qr=Yr.baseOption,ti=Yr.timeline,ei=Yr.options,ri=Yr.media,ii=!!Yr.media,ni=!!(ei||ti||Qr&&Qr.timeline);Qr?(Jr=Qr,Jr.timeline||(Jr.timeline=ti)):((ni||ii)&&(Yr.options=Yr.media=null),Jr=Yr),ii&&Ri(ri)&&_i(ri,function(oi){oi&&oi.option&&(oi.query?Zr.push(oi):Kr||(Kr=oi))}),ai(Jr),_i(ei,function(oi){return ai(oi)}),_i(Zr,function(oi){return ai(oi.option)});function ai(oi){_i(Gr,function(si){si(oi,Wr)})}return{baseOption:Jr,timelineOptions:ei||[],mediaDefault:Kr,mediaList:Zr}}function H9(Yr,Gr,Wr){var Zr={width:Gr,height:Wr,aspectratio:Gr/Wr},Kr=!0;return _i(Yr,function(Jr,Qr){var ti=Qr.match(B9);if(!(!ti||!ti[1]||!ti[2])){var ei=ti[1],ri=ti[2].toLowerCase();W9(Zr[ri],Jr,ei)||(Kr=!1)}}),Kr}function W9(Yr,Gr,Wr){return Wr==="min"?Yr>=Gr:Wr==="max"?Yr<=Gr:Yr===Gr}function Y9(Yr,Gr){return Yr.join(",")===Gr.join(",")}var _2=U9;var ol=_i,xv=qi,b2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function F1(Yr){var Gr=Yr&&Yr.itemStyle;if(Gr)for(var Wr=0,Zr=b2.length;Wr<Zr;Wr++){var Kr=b2[Wr],Jr=Gr.normal,Qr=Gr.emphasis;Jr&&Jr[Kr]&&(Yr[Kr]=Yr[Kr]||{},Yr[Kr].normal?un(Yr[Kr].normal,Jr[Kr]):Yr[Kr].normal=Jr[Kr],Jr[Kr]=null),Qr&&Qr[Kr]&&(Yr[Kr]=Yr[Kr]||{},Yr[Kr].emphasis?un(Yr[Kr].emphasis,Qr[Kr]):Yr[Kr].emphasis=Qr[Kr],Qr[Kr]=null)}}function go(Yr,Gr,Wr){if(Yr&&Yr[Gr]&&(Yr[Gr].normal||Yr[Gr].emphasis)){var Zr=Yr[Gr].normal,Kr=Yr[Gr].emphasis;Zr&&(Wr?(Yr[Gr].normal=Yr[Gr].emphasis=null,Yi(Yr[Gr],Zr)):Yr[Gr]=Zr),Kr&&(Yr.emphasis=Yr.emphasis||{},Yr.emphasis[Gr]=Kr,Kr.focus&&(Yr.emphasis.focus=Kr.focus),Kr.blurScope&&(Yr.emphasis.blurScope=Kr.blurScope))}}function yv(Yr){go(Yr,"itemStyle"),go(Yr,"lineStyle"),go(Yr,"areaStyle"),go(Yr,"label"),go(Yr,"labelLine"),go(Yr,"upperLabel"),go(Yr,"edgeLabel")}function ka(Yr,Gr){var Wr=xv(Yr)&&Yr[Gr],Zr=xv(Wr)&&Wr.textStyle;if(Zr)for(var Kr=0,Jr=AS.length;Kr<Jr;Kr++){var Qr=AS[Kr];Zr.hasOwnProperty(Qr)&&(Wr[Qr]=Zr[Qr])}}function Ls(Yr){Yr&&(yv(Yr),ka(Yr,"label"),Yr.emphasis&&ka(Yr.emphasis,"label"))}function X9(Yr){if(xv(Yr)){F1(Yr),yv(Yr),ka(Yr,"label"),ka(Yr,"upperLabel"),ka(Yr,"edgeLabel"),Yr.emphasis&&(ka(Yr.emphasis,"label"),ka(Yr.emphasis,"upperLabel"),ka(Yr.emphasis,"edgeLabel"));var Gr=Yr.markPoint;Gr&&(F1(Gr),Ls(Gr));var Wr=Yr.markLine;Wr&&(F1(Wr),Ls(Wr));var Zr=Yr.markArea;Zr&&Ls(Zr);var Kr=Yr.data;if(Yr.type==="graph"){Kr=Kr||Yr.nodes;var Jr=Yr.links||Yr.edges;if(Jr&&!Ta(Jr))for(var Qr=0;Qr<Jr.length;Qr++)Ls(Jr[Qr]);_i(Yr.categories,function(ri){yv(ri)})}if(Kr&&!Ta(Kr))for(var Qr=0;Qr<Kr.length;Qr++)Ls(Kr[Qr]);if(Gr=Yr.markPoint,Gr&&Gr.data)for(var ti=Gr.data,Qr=0;Qr<ti.length;Qr++)Ls(ti[Qr]);if(Wr=Yr.markLine,Wr&&Wr.data)for(var ei=Wr.data,Qr=0;Qr<ei.length;Qr++)Ri(ei[Qr])?(Ls(ei[Qr][0]),Ls(ei[Qr][1])):Ls(ei[Qr]);Yr.type==="gauge"?(ka(Yr,"axisLabel"),ka(Yr,"title"),ka(Yr,"detail")):Yr.type==="treemap"?(go(Yr.breadcrumb,"itemStyle"),_i(Yr.levels,function(ri){yv(ri)})):Yr.type==="tree"&&yv(Yr.leaves)}}function _u(Yr){return Ri(Yr)?Yr:Yr?[Yr]:[]}function S2(Yr){return(Ri(Yr)?Yr[0]:Yr)||{}}function V1(Yr,Gr){ol(_u(Yr.series),function(Zr){xv(Zr)&&X9(Zr)});var Wr=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];Gr&&Wr.push("valueAxis","categoryAxis","logAxis","timeAxis"),ol(Wr,function(Zr){ol(_u(Yr[Zr]),function(Kr){Kr&&(ka(Kr,"axisLabel"),ka(Kr.axisPointer,"label"))})}),ol(_u(Yr.parallel),function(Zr){var Kr=Zr&&Zr.parallelAxisDefault;ka(Kr,"axisLabel"),ka(Kr&&Kr.axisPointer,"label")}),ol(_u(Yr.calendar),function(Zr){go(Zr,"itemStyle"),ka(Zr,"dayLabel"),ka(Zr,"monthLabel"),ka(Zr,"yearLabel")}),ol(_u(Yr.radar),function(Zr){ka(Zr,"name"),Zr.name&&Zr.axisName==null&&(Zr.axisName=Zr.name,delete Zr.name),Zr.nameGap!=null&&Zr.axisNameGap==null&&(Zr.axisNameGap=Zr.nameGap,delete Zr.nameGap)}),ol(_u(Yr.geo),function(Zr){xv(Zr)&&(Ls(Zr),ol(_u(Zr.regions),function(Kr){Ls(Kr)}))}),ol(_u(Yr.timeline),function(Zr){Ls(Zr),go(Zr,"label"),go(Zr,"itemStyle"),go(Zr,"controlStyle",!0);var Kr=Zr.data;Ri(Kr)&&_i(Kr,function(Jr){qi(Jr)&&(go(Jr,"label"),go(Jr,"itemStyle"))})}),ol(_u(Yr.toolbox),function(Zr){go(Zr,"iconStyle"),ol(Zr.feature,function(Kr){go(Kr,"iconStyle")})}),ka(S2(Yr.axisPointer),"label"),ka(S2(Yr.tooltip).axisPointer,"label")}function q9(Yr,Gr){for(var Wr=Gr.split(","),Zr=Yr,Kr=0;Kr<Wr.length&&(Zr=Zr&&Zr[Wr[Kr]],Zr!=null);Kr++);return Zr}function Z9(Yr,Gr,Wr,Zr){for(var Kr=Gr.split(","),Jr=Yr,Qr,ti=0;ti<Kr.length-1;ti++)Qr=Kr[ti],Jr[Qr]==null&&(Jr[Qr]={}),Jr=Jr[Qr];(Zr||Jr[Kr[ti]]==null)&&(Jr[Kr[ti]]=Wr)}function w2(Yr){Yr&&_i(j9,function(Gr){Gr[0]in Yr&&!(Gr[1]in Yr)&&(Yr[Gr[1]]=Yr[Gr[0]])})}var j9=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],K9=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],B1=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function _v(Yr){var Gr=Yr&&Yr.itemStyle;if(Gr)for(var Wr=0;Wr<B1.length;Wr++){var Zr=B1[Wr][1],Kr=B1[Wr][0];Gr[Zr]!=null&&(Gr[Kr]=Gr[Zr])}}function C2(Yr){Yr&&Yr.alignTo==="edge"&&Yr.margin!=null&&Yr.edgeDistance==null&&(Yr.edgeDistance=Yr.margin)}function T2(Yr){Yr&&Yr.downplay&&!Yr.blur&&(Yr.blur=Yr.downplay)}function $9(Yr){Yr&&Yr.focusNodeAdjacency!=null&&(Yr.emphasis=Yr.emphasis||{},Yr.emphasis.focus==null&&(Yr.emphasis.focus="adjacency"))}function A2(Yr,Gr){if(Yr)for(var Wr=0;Wr<Yr.length;Wr++)Gr(Yr[Wr]),Yr[Wr]&&A2(Yr[Wr].children,Gr)}function Ky(Yr,Gr){V1(Yr,Gr),Yr.series=En(Yr.series),_i(Yr.series,function(Wr){if(qi(Wr)){var Zr=Wr.type;if(Zr==="line")Wr.clipOverflow!=null&&(Wr.clip=Wr.clipOverflow);else if(Zr==="pie"||Zr==="gauge"){Wr.clockWise!=null&&(Wr.clockwise=Wr.clockWise),C2(Wr.label);var Kr=Wr.data;if(Kr&&!Ta(Kr))for(var Jr=0;Jr<Kr.length;Jr++)C2(Kr[Jr]);Wr.hoverOffset!=null&&(Wr.emphasis=Wr.emphasis||{},(Wr.emphasis.scaleSize=null)&&(Wr.emphasis.scaleSize=Wr.hoverOffset))}else if(Zr==="gauge"){var Qr=q9(Wr,"pointer.color");Qr!=null&&Z9(Wr,"itemStyle.color",Qr)}else if(Zr==="bar"){_v(Wr),_v(Wr.backgroundStyle),_v(Wr.emphasis);var Kr=Wr.data;if(Kr&&!Ta(Kr))for(var Jr=0;Jr<Kr.length;Jr++)typeof Kr[Jr]=="object"&&(_v(Kr[Jr]),_v(Kr[Jr]&&Kr[Jr].emphasis))}else if(Zr==="sunburst"){var ti=Wr.highlightPolicy;ti&&(Wr.emphasis=Wr.emphasis||{},Wr.emphasis.focus||(Wr.emphasis.focus=ti)),T2(Wr),A2(Wr.data,T2)}else Zr==="graph"||Zr==="sankey"?$9(Wr):Zr==="map"&&(Wr.mapType&&!Wr.map&&(Wr.map=Wr.mapType),Wr.mapLocation&&Yi(Wr,Wr.mapLocation));Wr.hoverAnimation!=null&&(Wr.emphasis=Wr.emphasis||{},Wr.emphasis&&Wr.emphasis.scale==null&&(Wr.emphasis.scale=Wr.hoverAnimation)),w2(Wr)}}),Yr.dataRange&&(Yr.visualMap=Yr.dataRange),_i(K9,function(Wr){var Zr=Yr[Wr];Zr&&(Ri(Zr)||(Zr=[Zr]),_i(Zr,function(Kr){w2(Kr)}))})}function U1(Yr){var Gr=Hi();Yr.eachSeries(function(Wr){var Zr=Wr.get("stack");if(Zr){var Kr=Gr.get(Zr)||Gr.set(Zr,[]),Jr=Wr.getData(),Qr={stackResultDimension:Jr.getCalculationInfo("stackResultDimension"),stackedOverDimension:Jr.getCalculationInfo("stackedOverDimension"),stackedDimension:Jr.getCalculationInfo("stackedDimension"),stackedByDimension:Jr.getCalculationInfo("stackedByDimension"),isStackedByIndex:Jr.getCalculationInfo("isStackedByIndex"),data:Jr,seriesModel:Wr};if(!Qr.stackedDimension||!(Qr.isStackedByIndex||Qr.stackedByDimension))return;Kr.length&&Jr.setCalculationInfo("stackedOnSeries",Kr[Kr.length-1].seriesModel),Kr.push(Qr)}}),Gr.each(J9)}function J9(Yr){_i(Yr,function(Gr,Wr){var Zr=[],Kr=[NaN,NaN],Jr=[Gr.stackResultDimension,Gr.stackedOverDimension],Qr=Gr.data,ti=Gr.isStackedByIndex,ei=Gr.seriesModel.get("stackStrategy")||"samesign";Qr.modify(Jr,function(ri,ii,ni){var ai=Qr.get(Gr.stackedDimension,ni);if(isNaN(ai))return Kr;var oi,si;ti?si=Qr.getRawIndex(ni):oi=Qr.get(Gr.stackedByDimension,ni);for(var li=NaN,ui=Wr-1;ui>=0;ui--){var fi=Yr[ui];if(ti||(si=fi.data.rawIndexOf(fi.stackedByDimension,oi)),si>=0){var hi=fi.data.getByRawIndex(fi.stackResultDimension,si);if(ei==="all"||ei==="positive"&&hi>0||ei==="negative"&&hi<0||ei==="samesign"&&ai>=0&&hi>0||ei==="samesign"&&ai<=0&&hi<0){ai=kI(ai,hi),li=hi;break}}}return Zr[0]=ai,Zr[1]=li,Zr})})}var $y=function(){function Yr(Gr){this.data=Gr.data||(Gr.sourceFormat===fs?{}:[]),this.sourceFormat=Gr.sourceFormat||O1,this.seriesLayoutBy=Gr.seriesLayoutBy||Xo,this.startIndex=Gr.startIndex||0,this.dimensionsDetectedCount=Gr.dimensionsDetectedCount,this.metaRawOption=Gr.metaRawOption;var Wr=this.dimensionsDefine=Gr.dimensionsDefine;if(Wr)for(var Zr=0;Zr<Wr.length;Zr++){var Kr=Wr[Zr];Kr.type==null&&Xy(this,Zr)===Wa.Must&&(Kr.type="ordinal")}}return Yr}();function op(Yr){return Yr instanceof $y}function bv(Yr,Gr,Wr){Wr=Wr||G1(Yr);var Zr=Gr.seriesLayoutBy,Kr=Q9(Yr,Wr,Zr,Gr.sourceHeader,Gr.dimensions),Jr=new $y({data:Yr,sourceFormat:Wr,seriesLayoutBy:Zr,dimensionsDefine:Kr.dimensionsDefine,startIndex:Kr.startIndex,dimensionsDetectedCount:Kr.dimensionsDetectedCount,metaRawOption:Ki(Gr)});return Jr}function sp(Yr){return new $y({data:Yr,sourceFormat:Ta(Yr)?hs:Za})}function E2(Yr){return new $y({data:Yr.data,sourceFormat:Yr.sourceFormat,seriesLayoutBy:Yr.seriesLayoutBy,dimensionsDefine:Ki(Yr.dimensionsDefine),startIndex:Yr.startIndex,dimensionsDetectedCount:Yr.dimensionsDetectedCount})}function G1(Yr){var Gr=O1;if(Ta(Yr))Gr=hs;else if(Ri(Yr)){Yr.length===0&&(Gr=Ma);for(var Wr=0,Zr=Yr.length;Wr<Zr;Wr++){var Kr=Yr[Wr];if(Kr!=null){if(Ri(Kr)||Ta(Kr)){Gr=Ma;break}else if(qi(Kr)){Gr=ao;break}}}}else if(qi(Yr)){for(var Jr in Yr)if($i(Yr,Jr)&&va(Yr[Jr])){Gr=fs;break}}return Gr}function Q9(Yr,Gr,Wr,Zr,Kr){var Jr,Qr;if(!Yr)return{dimensionsDefine:M2(Kr),startIndex:Qr,dimensionsDetectedCount:Jr};if(Gr===Ma){var ti=Yr;Zr==="auto"||Zr==null?P2(function(ri){ri!=null&&ri!=="-"&&(Ni(ri)?Qr==null&&(Qr=1):Qr=0)},Wr,ti,10):Qr=gn(Zr)?Zr:Zr?1:0,!Kr&&Qr===1&&(Kr=[],P2(function(ri,ii){Kr[ii]=ri!=null?ri+"":""},Wr,ti,1/0)),Jr=Kr?Kr.length:Wr===yu?ti.length:ti[0]?ti[0].length:null}else if(Gr===ao)Kr||(Kr=tX(Yr));else if(Gr===fs)Kr||(Kr=[],_i(Yr,function(ri,ii){Kr.push(ii)}));else if(Gr===Za){var ei=$s(Yr[0]);Jr=Ri(ei)&&ei.length||1}return{startIndex:Qr,dimensionsDefine:M2(Kr),dimensionsDetectedCount:Jr}}function tX(Yr){for(var Gr=0,Wr;Gr<Yr.length&&!(Wr=Yr[Gr++]););if(Wr)return fn(Wr)}function M2(Yr){if(Yr){var Gr=Hi();return Oi(Yr,function(Wr,Zr){Wr=qi(Wr)?Wr:{name:Wr};var Kr={name:Wr.name,displayName:Wr.displayName,type:Wr.type};if(Kr.name==null)return Kr;Kr.name+="",Kr.displayName==null&&(Kr.displayName=Kr.name);var Jr=Gr.get(Kr.name);return Jr?Kr.name+="-"+Jr.count++:Gr.set(Kr.name,{count:1}),Kr})}}function P2(Yr,Gr,Wr,Zr){if(Gr===yu)for(var Kr=0;Kr<Wr.length&&Kr<Zr;Kr++)Yr(Wr[Kr]?Wr[Kr][0]:null,Kr);else for(var Jr=Wr[0]||[],Kr=0;Kr<Jr.length&&Kr<Zr;Kr++)Yr(Jr[Kr],Kr)}function Jy(Yr){var Gr=Yr.sourceFormat;return Gr===ao||Gr===fs}var Bh,Uh,Gh,D2,I2,Qy=function(){function Yr(Gr,Wr){var Zr=op(Gr)?Gr:sp(Gr);this._source=Zr;var Kr=this._data=Zr.data;Zr.sourceFormat===hs&&(this._offset=0,this._dimSize=Wr,this._data=Kr),I2(this,Kr,Zr)}return Yr.prototype.getSource=function(){return this._source},Yr.prototype.count=function(){return 0},Yr.prototype.getItem=function(Gr,Wr){},Yr.prototype.appendData=function(Gr){},Yr.prototype.clean=function(){},Yr.protoInitialize=function(){var Gr=Yr.prototype;Gr.pure=!1,Gr.persistent=!0}(),Yr.internalField=function(){var Gr;I2=function(Qr,ti,ei){var ri=ei.sourceFormat,ii=ei.seriesLayoutBy,ni=ei.startIndex,ai=ei.dimensionsDefine,oi=D2[q1(ri,ii)];if(ki(Qr,oi),ri===hs)Qr.getItem=Wr,Qr.count=Kr,Qr.fillStorage=Zr;else{var si=W1(ri,ii);Qr.getItem=Gi(si,null,ti,ni,ai);var li=Y1(ri,ii);Qr.count=Gi(li,null,ti,ni,ai)}};var Wr=function(Qr,ti){Qr=Qr-this._offset,ti=ti||[];for(var ei=this._data,ri=this._dimSize,ii=ri*Qr,ni=0;ni<ri;ni++)ti[ni]=ei[ii+ni];return ti},Zr=function(Qr,ti,ei,ri){for(var ii=this._data,ni=this._dimSize,ai=0;ai<ni;ai++){for(var oi=ri[ai],si=oi[0]==null?1/0:oi[0],li=oi[1]==null?-1/0:oi[1],ui=ti-Qr,fi=ei[ai],hi=0;hi<ui;hi++){var ci=ii[hi*ni+ai];fi[Qr+hi]=ci,ci<si&&(si=ci),ci>li&&(li=ci)}oi[0]=si,oi[1]=li}},Kr=function(){return this._data?this._data.length/this._dimSize:0};D2=(Gr={},Gr[Ma+"_"+Xo]={pure:!0,appendData:Jr},Gr[Ma+"_"+yu]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},Gr[ao]={pure:!0,appendData:Jr},Gr[fs]={pure:!0,appendData:function(Qr){var ti=this._data;_i(Qr,function(ei,ri){for(var ii=ti[ri]||(ti[ri]=[]),ni=0;ni<(ei||[]).length;ni++)ii.push(ei[ni])})}},Gr[Za]={appendData:Jr},Gr[hs]={persistent:!1,pure:!0,appendData:function(Qr){this._data=Qr},clean:function(){this._offset+=this.count(),this._data=null}},Gr);function Jr(Qr){for(var ti=0;ti<Qr.length;ti++)this._data.push(Qr[ti])}}(),Yr}();var L2=function(Yr,Gr,Wr,Zr){return Yr[Zr]},eX=(Bh={},Bh[Ma+"_"+Xo]=function(Yr,Gr,Wr,Zr){return Yr[Zr+Gr]},Bh[Ma+"_"+yu]=function(Yr,Gr,Wr,Zr,Kr){Zr+=Gr;for(var Jr=Kr||[],Qr=Yr,ti=0;ti<Qr.length;ti++){var ei=Qr[ti];Jr[ti]=ei?ei[Zr]:null}return Jr},Bh[ao]=L2,Bh[fs]=function(Yr,Gr,Wr,Zr,Kr){for(var Jr=Kr||[],Qr=0;Qr<Wr.length;Qr++){var ti=Wr[Qr].name,ei=Yr[ti];Jr[Qr]=ei?ei[Zr]:null}return Jr},Bh[Za]=L2,Bh);function W1(Yr,Gr){var Wr=eX[q1(Yr,Gr)];return Wr}var k2=function(Yr,Gr,Wr){return Yr.length},rX=(Uh={},Uh[Ma+"_"+Xo]=function(Yr,Gr,Wr){return Math.max(0,Yr.length-Gr)},Uh[Ma+"_"+yu]=function(Yr,Gr,Wr){var Zr=Yr[0];return Zr?Math.max(0,Zr.length-Gr):0},Uh[ao]=k2,Uh[fs]=function(Yr,Gr,Wr){var Zr=Wr[0].name,Kr=Yr[Zr];return Kr?Kr.length:0},Uh[Za]=k2,Uh);function Y1(Yr,Gr){var Wr=rX[q1(Yr,Gr)];return Wr}var H1=function(Yr,Gr,Wr){return Yr[Gr]},iX=(Gh={},Gh[Ma]=H1,Gh[ao]=function(Yr,Gr,Wr){return Yr[Wr]},Gh[fs]=H1,Gh[Za]=function(Yr,Gr,Wr){var Zr=$s(Yr);return Zr instanceof Array?Zr[Gr]:Zr},Gh[hs]=H1,Gh);function X1(Yr){var Gr=iX[Yr];return Gr}function q1(Yr,Gr){return Yr===Ma?Yr+"_"+Gr:Yr}function bu(Yr,Gr,Wr){if(Yr){var Zr=Yr.getRawDataItem(Gr);if(Zr!=null){var Kr=Yr.getStore(),Jr=Kr.getSource().sourceFormat;if(Wr!=null){var Qr=Yr.getDimensionIndex(Wr),ti=Kr.getDimensionProperty(Qr);return X1(Jr)(Zr,Qr,ti)}else{var ei=Zr;return Jr===Za&&(ei=$s(Zr)),ei}}}}var nX=/\{@(.+?)\}/g,lp=function(){function Yr(){}return Yr.prototype.getDataParams=function(Gr,Wr){var Zr=this.getData(Wr),Kr=this.getRawValue(Gr,Wr),Jr=Zr.getRawIndex(Gr),Qr=Zr.getName(Gr),ti=Zr.getRawDataItem(Gr),ei=Zr.getItemVisual(Gr,"style"),ri=ei&&ei[Zr.getItemVisual(Gr,"drawType")||"fill"],ii=ei&&ei.stroke,ni=this.mainType,ai=ni==="series",oi=Zr.userOutput&&Zr.userOutput.get();return{componentType:ni,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:ai?this.subType:null,seriesIndex:this.seriesIndex,seriesId:ai?this.id:null,seriesName:ai?this.name:null,name:Qr,dataIndex:Jr,data:ti,dataType:Wr,value:Kr,color:ri,borderColor:ii,dimensionNames:oi?oi.fullDimensions:null,encode:oi?oi.encode:null,$vars:["seriesName","name","value"]}},Yr.prototype.getFormattedLabel=function(Gr,Wr,Zr,Kr,Jr,Qr){Wr=Wr||"normal";var ti=this.getData(Zr),ei=this.getDataParams(Gr,Zr);if(Qr&&(ei.value=Qr.interpolatedValue),Kr!=null&&Ri(ei.value)&&(ei.value=ei.value[Kr]),!Jr){var ri=ti.getItemModel(Gr);Jr=ri.get(Wr==="normal"?["label","formatter"]:[Wr,"label","formatter"])}if(Wi(Jr))return ei.status=Wr,ei.dimensionIndex=Kr,Jr(ei);if(Ni(Jr)){var ii=Uy(Jr,ei);return ii.replace(nX,function(ni,ai){var oi=ai.length,si=ai;si.charAt(0)==="["&&si.charAt(oi-1)==="]"&&(si=+si.slice(1,oi-1));var li=bu(ti,Gr,si);if(Qr&&Ri(Qr.interpolatedValue)){var ui=ti.getDimensionIndex(si);ui>=0&&(li=Qr.interpolatedValue[ui])}return li!=null?li+"":""})}},Yr.prototype.getRawValue=function(Gr,Wr){return bu(this.getData(Wr),Gr)},Yr.prototype.formatTooltip=function(Gr,Wr,Zr){},Yr}();function Z1(Yr){var Gr,Wr;return qi(Yr)?Yr.type&&(Wr=Yr):Gr=Yr,{text:Gr,frag:Wr}}function lf(Yr){return new aX(Yr)}var aX=function(){function Yr(Gr){Gr=Gr||{},this._reset=Gr.reset,this._plan=Gr.plan,this._count=Gr.count,this._onDirty=Gr.onDirty,this._dirty=!0}return Yr.prototype.perform=function(Gr){var Wr=this._upstream,Zr=Gr&&Gr.skip;if(this._dirty&&Wr){var Kr=this.context;Kr.data=Kr.outputData=Wr.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var Jr;this._plan&&!Zr&&(Jr=this._plan(this.context));var Qr=ii(this._modBy),ti=this._modDataCount||0,ei=ii(Gr&&Gr.modBy),ri=Gr&&Gr.modDataCount||0;(Qr!==ei||ti!==ri)&&(Jr="reset");function ii(hi){return!(hi>=1)&&(hi=1),hi}var ni;(this._dirty||Jr==="reset")&&(this._dirty=!1,ni=this._doReset(Zr)),this._modBy=ei,this._modDataCount=ri;var ai=Gr&&Gr.step;if(Wr?this._dueEnd=Wr._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var oi=this._dueIndex,si=Math.min(ai!=null?this._dueIndex+ai:1/0,this._dueEnd);if(!Zr&&(ni||oi<si)){var li=this._progress;if(Ri(li))for(var ui=0;ui<li.length;ui++)this._doProgress(li[ui],oi,si,ei,ri);else this._doProgress(li,oi,si,ei,ri)}this._dueIndex=si;var fi=this._settedOutputEnd!=null?this._settedOutputEnd:si;this._outputDueEnd=fi}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Yr.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Yr.prototype._doProgress=function(Gr,Wr,Zr,Kr,Jr){R2.reset(Wr,Zr,Kr,Jr),this._callingProgress=Gr,this._callingProgress({start:Wr,end:Zr,count:Zr-Wr,next:R2.next},this.context)},Yr.prototype._doReset=function(Gr){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var Wr,Zr;!Gr&&this._reset&&(Wr=this._reset(this.context),Wr&&Wr.progress&&(Zr=Wr.forceFirstProgress,Wr=Wr.progress),Ri(Wr)&&!Wr.length&&(Wr=null)),this._progress=Wr,this._modBy=this._modDataCount=null;var Kr=this._downstream;return Kr&&Kr.dirty(),Zr},Yr.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Yr.prototype.pipe=function(Gr){(this._downstream!==Gr||this._dirty)&&(this._downstream=Gr,Gr._upstream=this,Gr.dirty())},Yr.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Yr.prototype.getUpstream=function(){return this._upstream},Yr.prototype.getDownstream=function(){return this._downstream},Yr.prototype.setOutputEnd=function(Gr){this._outputDueEnd=this._settedOutputEnd=Gr},Yr}();var R2=function(){var Yr,Gr,Wr,Zr,Kr,Jr={reset:function(ei,ri,ii,ni){Gr=ei,Yr=ri,Wr=ii,Zr=ni,Kr=Math.ceil(Zr/Wr),Jr.next=Wr>1&&Zr>0?ti:Qr}};return Jr;function Qr(){return Gr<Yr?Gr++:null}function ti(){var ei=Gr%Kr*Wr+Math.ceil(Gr/Kr),ri=Gr>=Yr?null:ei<Zr?ei:Gr;return Gr++,ri}}();function ks(Yr,Gr){var Wr=Gr&&Gr.type;return Wr==="ordinal"?Yr:(Wr==="time"&&!gn(Yr)&&Yr!=null&&Yr!=="-"&&(Yr=+bo(Yr)),Yr==null||Yr===""?NaN:+Yr)}var oX=Hi({number:function(Yr){return parseFloat(Yr)},time:function(Yr){return+bo(Yr)},trim:function(Yr){return Ni(Yr)?Va(Yr):Yr}});function t0(Yr){return oX.get(Yr)}var O2={lt:function(Yr,Gr){return Yr<Gr},lte:function(Yr,Gr){return Yr<=Gr},gt:function(Yr,Gr){return Yr>Gr},gte:function(Yr,Gr){return Yr>=Gr}},sX=function(){function Yr(Gr,Wr){if(!gn(Wr)){var Zr="";Rn(Zr)}this._opFn=O2[Gr],this._rvalFloat=Ts(Wr)}return Yr.prototype.evaluate=function(Gr){return gn(Gr)?this._opFn(Gr,this._rvalFloat):this._opFn(Ts(Gr),this._rvalFloat)},Yr}(),e0=function(){function Yr(Gr,Wr){var Zr=Gr==="desc";this._resultLT=Zr?1:-1,Wr==null&&(Wr=Zr?"min":"max"),this._incomparable=Wr==="min"?-1/0:1/0}return Yr.prototype.evaluate=function(Gr,Wr){var Zr=gn(Gr)?Gr:Ts(Gr),Kr=gn(Wr)?Wr:Ts(Wr),Jr=isNaN(Zr),Qr=isNaN(Kr);if(Jr&&(Zr=this._incomparable),Qr&&(Kr=this._incomparable),Jr&&Qr){var ti=Ni(Gr),ei=Ni(Wr);ti&&(Zr=ei?Gr:0),ei&&(Kr=ti?Wr:0)}return Zr<Kr?this._resultLT:Zr>Kr?-this._resultLT:0},Yr}();var lX=function(){function Yr(Gr,Wr){this._rval=Wr,this._isEQ=Gr,this._rvalTypeof=typeof Wr,this._rvalFloat=Ts(Wr)}return Yr.prototype.evaluate=function(Gr){var Wr=Gr===this._rval;if(!Wr){var Zr=typeof Gr;Zr!==this._rvalTypeof&&(Zr==="number"||this._rvalTypeof==="number")&&(Wr=Ts(Gr)===this._rvalFloat)}return this._isEQ?Wr:!Wr},Yr}();function z2(Yr,Gr){return Yr==="eq"||Yr==="ne"?new lX(Yr==="eq",Gr):$i(O2,Yr)?new sX(Yr,Gr):null}var uX=function(){function Yr(){}return Yr.prototype.getRawData=function(){throw new Error("not supported")},Yr.prototype.getRawDataItem=function(Gr){throw new Error("not supported")},Yr.prototype.cloneRawData=function(){},Yr.prototype.getDimensionInfo=function(Gr){},Yr.prototype.cloneAllDimensionInfo=function(){},Yr.prototype.count=function(){},Yr.prototype.retrieveValue=function(Gr,Wr){},Yr.prototype.retrieveValueFromItem=function(Gr,Wr){},Yr.prototype.convertValue=function(Gr,Wr){return ks(Gr,Wr)},Yr}();function fX(Yr,Gr){var Wr=new uX,Zr=Yr.data,Kr=Wr.sourceFormat=Yr.sourceFormat,Jr=Yr.startIndex,Qr="";Yr.seriesLayoutBy!==Xo&&Rn(Qr);var ti=[],ei={},ri=Yr.dimensionsDefine;if(ri)_i(ri,function(li,ui){var fi=li.name,hi={index:ui,name:fi,displayName:li.displayName};if(ti.push(hi),fi!=null){var ci="";$i(ei,fi)&&Rn(ci),ei[fi]=hi}});else for(var ii=0;ii<Yr.dimensionsDetectedCount;ii++)ti.push({index:ii});var ni=W1(Kr,Xo);Gr.__isBuiltIn&&(Wr.getRawDataItem=function(li){return ni(Zr,Jr,ti,li)},Wr.getRawData=Gi(hX,null,Yr)),Wr.cloneRawData=Gi(cX,null,Yr);var ai=Y1(Kr,Xo);Wr.count=Gi(ai,null,Zr,Jr,ti);var oi=X1(Kr);Wr.retrieveValue=function(li,ui){var fi=ni(Zr,Jr,ti,li);return si(fi,ui)};var si=Wr.retrieveValueFromItem=function(li,ui){if(li!=null){var fi=ti[ui];if(fi)return oi(li,ui,fi.name)}};return Wr.getDimensionInfo=Gi(pX,null,ti,ei),Wr.cloneAllDimensionInfo=Gi(dX,null,ti),Wr}function hX(Yr){var Gr=Yr.sourceFormat;if(!j1(Gr)){var Wr="";Rn(Wr)}return Yr.data}function cX(Yr){var Gr=Yr.sourceFormat,Wr=Yr.data;if(!j1(Gr)){var Zr="";Rn(Zr)}if(Gr===Ma){for(var Kr=[],Jr=0,Qr=Wr.length;Jr<Qr;Jr++)Kr.push(Wr[Jr].slice());return Kr}else if(Gr===ao){for(var Kr=[],Jr=0,Qr=Wr.length;Jr<Qr;Jr++)Kr.push(ki({},Wr[Jr]));return Kr}}function pX(Yr,Gr,Wr){if(Wr!=null){if(gn(Wr)||!isNaN(Wr)&&!$i(Gr,Wr))return Yr[Wr];if($i(Gr,Wr))return Gr[Wr]}}function dX(Yr){return Ki(Yr)}var N2=Hi();function F2(Yr){Yr=Ki(Yr);var Gr=Yr.type,Wr="";Gr||Rn(Wr);var Zr=Gr.split(":");Zr.length!==2&&Rn(Wr);var Kr=!1;Zr[0]==="echarts"&&(Gr=Zr[1],Kr=!0),Yr.__isBuiltIn=Kr,N2.set(Gr,Yr)}function V2(Yr,Gr,Wr){var Zr=En(Yr),Kr=Zr.length,Jr="";Kr||Rn(Jr);for(var Qr=0,ti=Kr;Qr<ti;Qr++){var ei=Zr[Qr];Gr=vX(ei,Gr,Wr,Kr===1?null:Qr),Qr!==ti-1&&(Gr.length=Math.max(Gr.length,1))}return Gr}function vX(Yr,Gr,Wr,Zr){var Kr="";Gr.length||Rn(Kr),qi(Yr)||Rn(Kr);var Jr=Yr.type,Qr=N2.get(Jr);Qr||Rn(Kr);var ti=Oi(Gr,function(ii){return fX(ii,Qr)}),ei=En(Qr.transform({upstream:ti[0],upstreamList:ti,config:Ki(Yr.config)}));if(0&&Yr.print)var ri;return Oi(ei,function(ii,ni){var ai="";qi(ii)||Rn(ai),ii.data||Rn(ai);var oi=G1(ii.data);j1(oi)||Rn(ai);var si,li=Gr[0];if(li&&ni===0&&!ii.dimensions){var ui=li.startIndex;ui&&(ii.data=li.data.slice(0,ui).concat(ii.data)),si={seriesLayoutBy:Xo,sourceHeader:ui,dimensions:li.metaRawOption.dimensions}}else si={seriesLayoutBy:Xo,sourceHeader:0,dimensions:ii.dimensions};return bv(ii.data,si,null)})}function j1(Yr){return Yr===Ma||Yr===ao}var r0="undefined",mX=typeof Uint32Array===r0?Array:Uint32Array,gX=typeof Uint16Array===r0?Array:Uint16Array,$1=typeof Int32Array===r0?Array:Int32Array,B2=typeof Float64Array===r0?Array:Float64Array,G2={float:B2,int:$1,ordinal:Array,number:Array,time:B2},K1;function Sv(Yr){return Yr>65535?mX:gX}function up(){return[1/0,-1/0]}function yX(Yr){var Gr=Yr.constructor;return Gr===Array?Yr.slice():new Gr(Yr)}function U2(Yr,Gr,Wr,Zr,Kr){var Jr=G2[Wr||"float"];if(Kr){var Qr=Yr[Gr],ti=Qr&&Qr.length;if(ti!==Zr){for(var ei=new Jr(Zr),ri=0;ri<ti;ri++)ei[ri]=Qr[ri];Yr[Gr]=ei}}else Yr[Gr]=new Jr(Zr)}var xX=function(){function Yr(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Hi()}return Yr.prototype.initData=function(Gr,Wr,Zr){this._provider=Gr,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var Kr=Gr.getSource(),Jr=this.defaultDimValueGetter=K1[Kr.sourceFormat];this._dimValueGetter=Zr||Jr,this._rawExtent=[];var Qr=Jy(Kr);this._dimensions=Oi(Wr,function(ti){return{type:ti.type,property:ti.property}}),this._initDataFromProvider(0,Gr.count())},Yr.prototype.getProvider=function(){return this._provider},Yr.prototype.getSource=function(){return this._provider.getSource()},Yr.prototype.ensureCalculationDimension=function(Gr,Wr){var Zr=this._calcDimNameToIdx,Kr=this._dimensions,Jr=Zr.get(Gr);if(Jr!=null){if(Kr[Jr].type===Wr)return Jr}else Jr=Kr.length;return Kr[Jr]={type:Wr},Zr.set(Gr,Jr),this._chunks[Jr]=new G2[Wr||"float"](this._rawCount),this._rawExtent[Jr]=up(),Jr},Yr.prototype.collectOrdinalMeta=function(Gr,Wr){var Zr=this._chunks[Gr],Kr=this._dimensions[Gr],Jr=this._rawExtent,Qr=Kr.ordinalOffset||0,ti=Zr.length;Qr===0&&(Jr[Gr]=up());for(var ei=Jr[Gr],ri=Qr;ri<ti;ri++){var ii=Zr[ri]=Wr.parseAndCollect(Zr[ri]);isNaN(ii)||(ei[0]=Math.min(ii,ei[0]),ei[1]=Math.max(ii,ei[1]))}Kr.ordinalMeta=Wr,Kr.ordinalOffset=ti,Kr.type="ordinal"},Yr.prototype.getOrdinalMeta=function(Gr){var Wr=this._dimensions[Gr],Zr=Wr.ordinalMeta;return Zr},Yr.prototype.getDimensionProperty=function(Gr){var Wr=this._dimensions[Gr];return Wr&&Wr.property},Yr.prototype.appendData=function(Gr){var Wr=this._provider,Zr=this.count();Wr.appendData(Gr);var Kr=Wr.count();return Wr.persistent||(Kr+=Zr),Zr<Kr&&this._initDataFromProvider(Zr,Kr,!0),[Zr,Kr]},Yr.prototype.appendValues=function(Gr,Wr){for(var Zr=this._chunks,Kr=this._dimensions,Jr=Kr.length,Qr=this._rawExtent,ti=this.count(),ei=ti+Math.max(Gr.length,Wr||0),ri=0;ri<Jr;ri++){var ii=Kr[ri];U2(Zr,ri,ii.type,ei,!0)}for(var ni=[],ai=ti;ai<ei;ai++)for(var oi=ai-ti,si=0;si<Jr;si++){var ii=Kr[si],li=K1.arrayRows.call(this,Gr[oi]||ni,ii.property,oi,si);Zr[si][ai]=li;var ui=Qr[si];li<ui[0]&&(ui[0]=li),li>ui[1]&&(ui[1]=li)}return this._rawCount=this._count=ei,{start:ti,end:ei}},Yr.prototype._initDataFromProvider=function(Gr,Wr,Zr){for(var Kr=this._provider,Jr=this._chunks,Qr=this._dimensions,ti=Qr.length,ei=this._rawExtent,ri=Oi(Qr,function(hi){return hi.property}),ii=0;ii<ti;ii++){var ni=Qr[ii];ei[ii]||(ei[ii]=up()),U2(Jr,ii,ni.type,Wr,Zr)}if(Kr.fillStorage)Kr.fillStorage(Gr,Wr,Jr,ei);else for(var ai=[],oi=Gr;oi<Wr;oi++){ai=Kr.getItem(oi,ai);for(var si=0;si<ti;si++){var li=Jr[si],ui=this._dimValueGetter(ai,ri[si],oi,si);li[oi]=ui;var fi=ei[si];ui<fi[0]&&(fi[0]=ui),ui>fi[1]&&(fi[1]=ui)}}!Kr.persistent&&Kr.clean&&Kr.clean(),this._rawCount=this._count=Wr,this._extent=[]},Yr.prototype.count=function(){return this._count},Yr.prototype.get=function(Gr,Wr){if(!(Wr>=0&&Wr<this._count))return NaN;var Zr=this._chunks[Gr];return Zr?Zr[this.getRawIndex(Wr)]:NaN},Yr.prototype.getValues=function(Gr,Wr){var Zr=[],Kr=[];if(Wr==null){Wr=Gr,Gr=[];for(var Jr=0;Jr<this._dimensions.length;Jr++)Kr.push(Jr)}else Kr=Gr;for(var Jr=0,Qr=Kr.length;Jr<Qr;Jr++)Zr.push(this.get(Kr[Jr],Wr));return Zr},Yr.prototype.getByRawIndex=function(Gr,Wr){if(!(Wr>=0&&Wr<this._rawCount))return NaN;var Zr=this._chunks[Gr];return Zr?Zr[Wr]:NaN},Yr.prototype.getSum=function(Gr){var Wr=this._chunks[Gr],Zr=0;if(Wr)for(var Kr=0,Jr=this.count();Kr<Jr;Kr++){var Qr=this.get(Gr,Kr);isNaN(Qr)||(Zr+=Qr)}return Zr},Yr.prototype.getMedian=function(Gr){var Wr=[];this.each([Gr],function(Jr){isNaN(Jr)||Wr.push(Jr)});var Zr=Wr.sort(function(Jr,Qr){return Jr-Qr}),Kr=this.count();return Kr===0?0:Kr%2===1?Zr[(Kr-1)/2]:(Zr[Kr/2]+Zr[Kr/2-1])/2},Yr.prototype.indexOfRawIndex=function(Gr){if(Gr>=this._rawCount||Gr<0)return-1;if(!this._indices)return Gr;var Wr=this._indices,Zr=Wr[Gr];if(Zr!=null&&Zr<this._count&&Zr===Gr)return Gr;for(var Kr=0,Jr=this._count-1;Kr<=Jr;){var Qr=(Kr+Jr)/2|0;if(Wr[Qr]<Gr)Kr=Qr+1;else if(Wr[Qr]>Gr)Jr=Qr-1;else return Qr}return-1},Yr.prototype.indicesOfNearest=function(Gr,Wr,Zr){var Kr=this._chunks,Jr=Kr[Gr],Qr=[];if(!Jr)return Qr;Zr==null&&(Zr=1/0);for(var ti=1/0,ei=-1,ri=0,ii=0,ni=this.count();ii<ni;ii++){var ai=this.getRawIndex(ii),oi=Wr-Jr[ai],si=Math.abs(oi);si<=Zr&&((si<ti||si===ti&&oi>=0&&ei<0)&&(ti=si,ei=oi,ri=0),oi===ei&&(Qr[ri++]=ii))}return Qr.length=ri,Qr},Yr.prototype.getIndices=function(){var Gr,Wr=this._indices;if(Wr){var Zr=Wr.constructor,Kr=this._count;if(Zr===Array){Gr=new Zr(Kr);for(var Jr=0;Jr<Kr;Jr++)Gr[Jr]=Wr[Jr]}else Gr=new Zr(Wr.buffer,0,Kr)}else{var Zr=Sv(this._rawCount);Gr=new Zr(this.count());for(var Jr=0;Jr<Gr.length;Jr++)Gr[Jr]=Jr}return Gr},Yr.prototype.filter=function(Gr,Wr){if(!this._count)return this;for(var Zr=this.clone(),Kr=Zr.count(),Jr=Sv(Zr._rawCount),Qr=new Jr(Kr),ti=[],ei=Gr.length,ri=0,ii=Gr[0],ni=Zr._chunks,ai=0;ai<Kr;ai++){var oi=void 0,si=Zr.getRawIndex(ai);if(ei===0)oi=Wr(ai);else if(ei===1){var li=ni[ii][si];oi=Wr(li,ai)}else{for(var ui=0;ui<ei;ui++)ti[ui]=ni[Gr[ui]][si];ti[ui]=ai,oi=Wr.apply(null,ti)}oi&&(Qr[ri++]=si)}return ri<Kr&&(Zr._indices=Qr),Zr._count=ri,Zr._extent=[],Zr._updateGetRawIdx(),Zr},Yr.prototype.selectRange=function(Gr){var Wr=this.clone(),Zr=Wr._count;if(!Zr)return this;var Kr=fn(Gr),Jr=Kr.length;if(!Jr)return this;var Qr=Wr.count(),ti=Sv(Wr._rawCount),ei=new ti(Qr),ri=0,ii=Kr[0],ni=Gr[ii][0],ai=Gr[ii][1],oi=Wr._chunks,si=!1;if(!Wr._indices){var li=0;if(Jr===1){for(var ui=oi[Kr[0]],fi=0;fi<Zr;fi++){var hi=ui[fi];(hi>=ni&&hi<=ai||isNaN(hi))&&(ei[ri++]=li),li++}si=!0}else if(Jr===2){for(var ui=oi[Kr[0]],ci=oi[Kr[1]],pi=Gr[Kr[1]][0],di=Gr[Kr[1]][1],fi=0;fi<Zr;fi++){var hi=ui[fi],vi=ci[fi];(hi>=ni&&hi<=ai||isNaN(hi))&&(vi>=pi&&vi<=di||isNaN(vi))&&(ei[ri++]=li),li++}si=!0}}if(!si)if(Jr===1)for(var fi=0;fi<Qr;fi++){var mi=Wr.getRawIndex(fi),hi=oi[Kr[0]][mi];(hi>=ni&&hi<=ai||isNaN(hi))&&(ei[ri++]=mi)}else for(var fi=0;fi<Qr;fi++){for(var gi=!0,mi=Wr.getRawIndex(fi),yi=0;yi<Jr;yi++){var Si=Kr[yi],hi=oi[Si][mi];(hi<Gr[Si][0]||hi>Gr[Si][1])&&(gi=!1)}gi&&(ei[ri++]=Wr.getRawIndex(fi))}return ri<Qr&&(Wr._indices=ei),Wr._count=ri,Wr._extent=[],Wr._updateGetRawIdx(),Wr},Yr.prototype.map=function(Gr,Wr){var Zr=this.clone(Gr);return this._updateDims(Zr,Gr,Wr),Zr},Yr.prototype.modify=function(Gr,Wr){this._updateDims(this,Gr,Wr)},Yr.prototype._updateDims=function(Gr,Wr,Zr){for(var Kr=Gr._chunks,Jr=[],Qr=Wr.length,ti=Gr.count(),ei=[],ri=Gr._rawExtent,ii=0;ii<Wr.length;ii++)ri[Wr[ii]]=up();for(var ni=0;ni<ti;ni++){for(var ai=Gr.getRawIndex(ni),oi=0;oi<Qr;oi++)ei[oi]=Kr[Wr[oi]][ai];ei[Qr]=ni;var si=Zr&&Zr.apply(null,ei);if(si!=null){typeof si!="object"&&(Jr[0]=si,si=Jr);for(var ii=0;ii<si.length;ii++){var li=Wr[ii],ui=si[ii],fi=ri[li],hi=Kr[li];hi&&(hi[ai]=ui),ui<fi[0]&&(fi[0]=ui),ui>fi[1]&&(fi[1]=ui)}}}},Yr.prototype.lttbDownSample=function(Gr,Wr){var Zr=this.clone([Gr],!0),Kr=Zr._chunks,Jr=Kr[Gr],Qr=this.count(),ti=0,ei=Math.floor(1/Wr),ri=this.getRawIndex(0),ii,ni,ai,oi=new(Sv(this._rawCount))(Math.min((Math.ceil(Qr/ei)+2)*2,Qr));oi[ti++]=ri;for(var si=1;si<Qr-1;si+=ei){for(var li=Math.min(si+ei,Qr-1),ui=Math.min(si+ei*2,Qr),fi=(ui+li)/2,hi=0,ci=li;ci<ui;ci++){var pi=this.getRawIndex(ci),di=Jr[pi];isNaN(di)||(hi+=di)}hi/=ui-li;var vi=si,mi=Math.min(si+ei,Qr),gi=si-1,yi=Jr[ri];ii=-1,ai=vi;for(var Si=-1,bi=0,ci=vi;ci<mi;ci++){var pi=this.getRawIndex(ci),di=Jr[pi];if(isNaN(di)){bi++,Si<0&&(Si=pi);continue}ni=Math.abs((gi-fi)*(di-yi)-(gi-ci)*(hi-yi)),ni>ii&&(ii=ni,ai=pi)}bi>0&&bi<mi-vi&&(oi[ti++]=Math.min(Si,ai),ai=Math.max(Si,ai)),oi[ti++]=ai,ri=ai}return oi[ti++]=this.getRawIndex(Qr-1),Zr._count=ti,Zr._indices=oi,Zr.getRawIndex=this._getRawIdx,Zr},Yr.prototype.downSample=function(Gr,Wr,Zr,Kr){for(var Jr=this.clone([Gr],!0),Qr=Jr._chunks,ti=[],ei=Math.floor(1/Wr),ri=Qr[Gr],ii=this.count(),ni=Jr._rawExtent[Gr]=up(),ai=new(Sv(this._rawCount))(Math.ceil(ii/ei)),oi=0,si=0;si<ii;si+=ei){ei>ii-si&&(ei=ii-si,ti.length=ei);for(var li=0;li<ei;li++){var ui=this.getRawIndex(si+li);ti[li]=ri[ui]}var fi=Zr(ti),hi=this.getRawIndex(Math.min(si+Kr(ti,fi)||0,ii-1));ri[hi]=fi,fi<ni[0]&&(ni[0]=fi),fi>ni[1]&&(ni[1]=fi),ai[oi++]=hi}return Jr._count=oi,Jr._indices=ai,Jr._updateGetRawIdx(),Jr},Yr.prototype.each=function(Gr,Wr){if(this._count)for(var Zr=Gr.length,Kr=this._chunks,Jr=0,Qr=this.count();Jr<Qr;Jr++){var ti=this.getRawIndex(Jr);switch(Zr){case 0:Wr(Jr);break;case 1:Wr(Kr[Gr[0]][ti],Jr);break;case 2:Wr(Kr[Gr[0]][ti],Kr[Gr[1]][ti],Jr);break;default:for(var ei=0,ri=[];ei<Zr;ei++)ri[ei]=Kr[Gr[ei]][ti];ri[ei]=Jr,Wr.apply(null,ri)}}},Yr.prototype.getDataExtent=function(Gr){var Wr=this._chunks[Gr],Zr=up();if(!Wr)return Zr;var Kr=this.count(),Jr=!this._indices,Qr;if(Jr)return this._rawExtent[Gr].slice();if(Qr=this._extent[Gr],Qr)return Qr.slice();Qr=Zr;for(var ti=Qr[0],ei=Qr[1],ri=0;ri<Kr;ri++){var ii=this.getRawIndex(ri),ni=Wr[ii];ni<ti&&(ti=ni),ni>ei&&(ei=ni)}return Qr=[ti,ei],this._extent[Gr]=Qr,Qr},Yr.prototype.getRawDataItem=function(Gr){var Wr=this.getRawIndex(Gr);if(this._provider.persistent)return this._provider.getItem(Wr);for(var Zr=[],Kr=this._chunks,Jr=0;Jr<Kr.length;Jr++)Zr.push(Kr[Jr][Wr]);return Zr},Yr.prototype.clone=function(Gr,Wr){var Zr=new Yr,Kr=this._chunks,Jr=Gr&&Ja(Gr,function(ti,ei){return ti[ei]=!0,ti},{});if(Jr)for(var Qr=0;Qr<Kr.length;Qr++)Zr._chunks[Qr]=Jr[Qr]?yX(Kr[Qr]):Kr[Qr];else Zr._chunks=Kr;return this._copyCommonProps(Zr),Wr||(Zr._indices=this._cloneIndices()),Zr._updateGetRawIdx(),Zr},Yr.prototype._copyCommonProps=function(Gr){Gr._count=this._count,Gr._rawCount=this._rawCount,Gr._provider=this._provider,Gr._dimensions=this._dimensions,Gr._extent=Ki(this._extent),Gr._rawExtent=Ki(this._rawExtent)},Yr.prototype._cloneIndices=function(){if(this._indices){var Gr=this._indices.constructor,Wr=void 0;if(Gr===Array){var Zr=this._indices.length;Wr=new Gr(Zr);for(var Kr=0;Kr<Zr;Kr++)Wr[Kr]=this._indices[Kr]}else Wr=new Gr(this._indices);return Wr}return null},Yr.prototype._getRawIdxIdentity=function(Gr){return Gr},Yr.prototype._getRawIdx=function(Gr){return Gr<this._count&&Gr>=0?this._indices[Gr]:-1},Yr.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},Yr.internalField=function(){function Gr(Wr,Zr,Kr,Jr){return ks(Wr[Jr],this._dimensions[Jr])}K1={arrayRows:Gr,objectRows:function(Wr,Zr,Kr,Jr){return ks(Wr[Zr],this._dimensions[Jr])},keyedColumns:Gr,original:function(Wr,Zr,Kr,Jr){var Qr=Wr&&(Wr.value==null?Wr:Wr.value);return ks(Qr instanceof Array?Qr[Jr]:Qr,this._dimensions[Jr])},typedArray:function(Wr,Zr,Kr,Jr){return Wr[Jr]}}}(),Yr}(),wv=xX;var n0=function(){function Yr(Gr){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=Gr}return Yr.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},Yr.prototype._setLocalSource=function(Gr,Wr){this._sourceList=Gr,this._upstreamSignList=Wr,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},Yr.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},Yr.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},Yr.prototype._createSource=function(){this._setLocalSource([],[]);var Gr=this._sourceHost,Wr=this._getUpstreamSourceManagers(),Zr=!!Wr.length,Kr,Jr;if(i0(Gr)){var Qr=Gr,ti=void 0,ei=void 0,ri=void 0;if(Zr){var ii=Wr[0];ii.prepareSource(),ri=ii.getSource(),ti=ri.data,ei=ri.sourceFormat,Jr=[ii._getVersionSign()]}else ti=Qr.get("data",!0),ei=Ta(ti)?hs:Za,Jr=[];var ni=this._getSourceMetaRawOption()||{},ai=ri&&ri.metaRawOption||{},oi=on(ni.seriesLayoutBy,ai.seriesLayoutBy)||null,si=on(ni.sourceHeader,ai.sourceHeader),li=on(ni.dimensions,ai.dimensions),ui=oi!==ai.seriesLayoutBy||!!si!=!!ai.sourceHeader||li;Kr=ui?[bv(ti,{seriesLayoutBy:oi,sourceHeader:si,dimensions:li},ei)]:[]}else{var fi=Gr;if(Zr){var hi=this._applyTransform(Wr);Kr=hi.sourceList,Jr=hi.upstreamSignList}else{var ci=fi.get("source",!0);Kr=[bv(ci,this._getSourceMetaRawOption(),null)],Jr=[]}}this._setLocalSource(Kr,Jr)},Yr.prototype._applyTransform=function(Gr){var Wr=this._sourceHost,Zr=Wr.get("transform",!0),Kr=Wr.get("fromTransformResult",!0);if(Kr!=null){var Jr="";Gr.length!==1&&H2(Jr)}var Qr,ti=[],ei=[];return _i(Gr,function(ri){ri.prepareSource();var ii=ri.getSource(Kr||0),ni="";Kr!=null&&!ii&&H2(ni),ti.push(ii),ei.push(ri._getVersionSign())}),Zr?Qr=V2(Zr,ti,{datasetIndex:Wr.componentIndex}):Kr!=null&&(Qr=[E2(ti[0])]),{sourceList:Qr,upstreamSignList:ei}},Yr.prototype._isDirty=function(){if(this._dirty)return!0;for(var Gr=this._getUpstreamSourceManagers(),Wr=0;Wr<Gr.length;Wr++){var Zr=Gr[Wr];if(Zr._isDirty()||this._upstreamSignList[Wr]!==Zr._getVersionSign())return!0}},Yr.prototype.getSource=function(Gr){Gr=Gr||0;var Wr=this._sourceList[Gr];if(!Wr){var Zr=this._getUpstreamSourceManagers();return Zr[0]&&Zr[0].getSource(Gr)}return Wr},Yr.prototype.getSharedDataStore=function(Gr){var Wr=Gr.makeStoreSchema();return this._innerGetDataStore(Wr.dimensions,Gr.source,Wr.hash)},Yr.prototype._innerGetDataStore=function(Gr,Wr,Zr){var Kr=0,Jr=this._storeList,Qr=Jr[Kr];Qr||(Qr=Jr[Kr]={});var ti=Qr[Zr];if(!ti){var ei=this._getUpstreamSourceManagers()[0];i0(this._sourceHost)&&ei?ti=ei._innerGetDataStore(Gr,Wr,Zr):(ti=new wv,ti.initData(new Qy(Wr,Gr.length),Gr)),Qr[Zr]=ti}return ti},Yr.prototype._getUpstreamSourceManagers=function(){var Gr=this._sourceHost;if(i0(Gr)){var Wr=Yy(Gr);return Wr?[Wr.getSourceManager()]:[]}else return Oi(l2(Gr),function(Zr){return Zr.getSourceManager()})},Yr.prototype._getSourceMetaRawOption=function(){var Gr=this._sourceHost,Wr,Zr,Kr;if(i0(Gr))Wr=Gr.get("seriesLayoutBy",!0),Zr=Gr.get("sourceHeader",!0),Kr=Gr.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var Jr=Gr;Wr=Jr.get("seriesLayoutBy",!0),Zr=Jr.get("sourceHeader",!0),Kr=Jr.get("dimensions",!0)}return{seriesLayoutBy:Wr,sourceHeader:Zr,dimensions:Kr}},Yr}();function J1(Yr){var Gr=Yr.option.transform;Gr&&$f(Yr.option.transform)}function i0(Yr){return Yr.mainType==="series"}function H2(Yr){throw new Error(Yr)}var W2="line-height:1";function Y2(Yr,Gr){var Wr=Yr.color||"#6e7079",Zr=Yr.fontSize||12,Kr=Yr.fontWeight||"400",Jr=Yr.color||"#464646",Qr=Yr.fontSize||14,ti=Yr.fontWeight||"900";return Gr==="html"?{nameStyle:"font-size:"+Qa(Zr+"")+"px;color:"+Qa(Wr)+";font-weight:"+Qa(Kr+""),valueStyle:"font-size:"+Qa(Qr+"")+"px;color:"+Qa(Jr)+";font-weight:"+Qa(ti+"")}:{nameStyle:{fontSize:Zr,fill:Wr,fontWeight:Kr},valueStyle:{fontSize:Qr,fill:Jr,fontWeight:ti}}}var _X=[0,10,20,30],bX=["",`
`,`

`,`


`];function Jn(Yr,Gr){return Gr.type=Yr,Gr}function Q1(Yr){return Yr.type==="section"}function X2(Yr){return Q1(Yr)?SX:wX}function q2(Yr){if(Q1(Yr)){var Gr=0,Wr=Yr.blocks.length,Zr=Wr>1||Wr>0&&!Yr.noHeader;return _i(Yr.blocks,function(Kr){var Jr=q2(Kr);Jr>=Gr&&(Gr=Jr+ +(Zr&&(!Jr||Q1(Kr)&&!Kr.noHeader)))}),Gr}return 0}function SX(Yr,Gr,Wr,Zr){var Kr=Gr.noHeader,Jr=CX(q2(Gr)),Qr=[],ti=Gr.blocks||[];ea(!ti||Ri(ti)),ti=ti||[];var ei=Yr.orderMode;if(Gr.sortBlocks&&ei){ti=ti.slice();var ri={valueAsc:"asc",valueDesc:"desc"};if($i(ri,ei)){var ii=new e0(ri[ei],null);ti.sort(function(si,li){return ii.evaluate(si.sortParam,li.sortParam)})}else ei==="seriesDesc"&&ti.reverse()}_i(ti,function(si,li){var ui=Gr.valueFormatter,fi=X2(si)(ui?ki(ki({},Yr),{valueFormatter:ui}):Yr,si,li>0?Jr.html:0,Zr);fi!=null&&Qr.push(fi)});var ni=Yr.renderMode==="richText"?Qr.join(Jr.richText):tw(Qr.join(""),Kr?Wr:Jr.html);if(Kr)return ni;var ai=By(Gr.header,"ordinal",Yr.useUTC),oi=Y2(Zr,Yr.renderMode).nameStyle;return Yr.renderMode==="richText"?Z2(Yr,ai,oi)+Jr.richText+ni:tw('<div style="'+oi+";"+W2+';">'+Qa(ai)+"</div>"+ni,Wr)}function wX(Yr,Gr,Wr,Zr){var Kr=Yr.renderMode,Jr=Gr.noName,Qr=Gr.noValue,ti=!Gr.markerType,ei=Gr.name,ri=Yr.useUTC,ii=Gr.valueFormatter||Yr.valueFormatter||function(pi){return pi=Ri(pi)?pi:[pi],Oi(pi,function(di,vi){return By(di,Ri(oi)?oi[vi]:oi,ri)})};if(!(Jr&&Qr)){var ni=ti?"":Yr.markupStyleCreator.makeTooltipMarker(Gr.markerType,Gr.markerColor||"#333",Kr),ai=Jr?"":By(ei,"ordinal",ri),oi=Gr.valueType,si=Qr?[]:ii(Gr.value,Gr.dataIndex),li=!ti||!Jr,ui=!ti&&Jr,fi=Y2(Zr,Kr),hi=fi.nameStyle,ci=fi.valueStyle;return Kr==="richText"?(ti?"":ni)+(Jr?"":Z2(Yr,ai,hi))+(Qr?"":MX(Yr,si,li,ui,ci)):tw((ti?"":ni)+(Jr?"":TX(ai,!ti,hi))+(Qr?"":AX(si,li,ui,ci)),Wr)}}function ew(Yr,Gr,Wr,Zr,Kr,Jr){if(Yr){var Qr=X2(Yr),ti={useUTC:Kr,renderMode:Wr,orderMode:Zr,markupStyleCreator:Gr,valueFormatter:Yr.valueFormatter};return Qr(ti,Yr,0,Jr)}}function CX(Yr){return{html:_X[Yr],richText:bX[Yr]}}function tw(Yr,Gr){var Wr='<div style="clear:both"></div>',Zr="margin: "+Gr+"px 0 0";return'<div style="'+Zr+";"+W2+';">'+Yr+Wr+"</div>"}function TX(Yr,Gr,Wr){var Zr=Gr?"margin-left:2px":"";return'<span style="'+Wr+";"+Zr+'">'+Qa(Yr)+"</span>"}function AX(Yr,Gr,Wr,Zr){var Kr=Wr?"10px":"20px",Jr=Gr?"float:right;margin-left:"+Kr:"";return Yr=Ri(Yr)?Yr:[Yr],'<span style="'+Jr+";"+Zr+'">'+Oi(Yr,function(Qr){return Qa(Qr)}).join("&nbsp;&nbsp;")+"</span>"}function Z2(Yr,Gr,Wr){return Yr.markupStyleCreator.wrapRichTextStyle(Gr,Wr)}function MX(Yr,Gr,Wr,Zr,Kr){var Jr=[Kr],Qr=Zr?10:20;return Wr&&Jr.push({padding:[0,0,0,Qr],align:"right"}),Yr.markupStyleCreator.wrapRichTextStyle(Ri(Gr)?Gr.join("  "):Gr,Jr)}function a0(Yr,Gr){var Wr=Yr.getData().getItemVisual(Gr,"style"),Zr=Wr[Yr.visualDrawType];return nl(Zr)}function o0(Yr,Gr){var Wr=Yr.get("padding");return Wr??(Gr==="richText"?[8,10]:10)}var s0=function(){function Yr(){this.richTextStyles={},this._nextStyleNameId=ey()}return Yr.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},Yr.prototype.makeTooltipMarker=function(Gr,Wr,Zr){var Kr=Zr==="richText"?this._generateStyleName():null,Jr=e2({color:Wr,type:Gr,renderMode:Zr,markerId:Kr});return Ni(Jr)?Jr:(this.richTextStyles[Kr]=Jr.style,Jr.content)},Yr.prototype.wrapRichTextStyle=function(Gr,Wr){var Zr={};Ri(Wr)?_i(Wr,function(Jr){return ki(Zr,Jr)}):ki(Zr,Wr);var Kr=this._generateStyleName();return this.richTextStyles[Kr]=Zr,"{"+Kr+"|"+Gr+"}"},Yr}();function l0(Yr){var Gr=Yr.series,Wr=Yr.dataIndex,Zr=Yr.multipleSeries,Kr=Gr.getData(),Jr=Kr.mapDimensionsAll("defaultedTooltip"),Qr=Jr.length,ti=Gr.getRawValue(Wr),ei=Ri(ti),ri=a0(Gr,Wr),ii,ni,ai,oi;if(Qr>1||ei&&!Qr){var si=PX(ti,Gr,Wr,Jr,ri);ii=si.inlineValues,ni=si.inlineValueTypes,ai=si.blocks,oi=si.inlineValues[0]}else if(Qr){var li=Kr.getDimensionInfo(Jr[0]);oi=ii=bu(Kr,Wr,Jr[0]),ni=li.type}else oi=ii=ei?ti[0]:ti;var ui=Fc(Gr),fi=ui&&Gr.name||"",hi=Kr.getName(Wr),ci=Zr?fi:hi;return Jn("section",{header:fi,noHeader:Zr||!ui,sortParam:oi,blocks:[Jn("nameValue",{markerType:"item",markerColor:ri,name:ci,noName:!Va(ci),value:ii,valueType:ni,dataIndex:Wr})].concat(ai||[])})}function PX(Yr,Gr,Wr,Zr,Kr){var Jr=Gr.getData(),Qr=Ja(Yr,function(ni,ai,oi){var si=Jr.getDimensionInfo(oi);return ni=ni||si&&si.tooltip!==!1&&si.displayName!=null},!1),ti=[],ei=[],ri=[];Zr.length?_i(Zr,function(ni){ii(bu(Jr,Wr,ni),ni)}):_i(Yr,ii);function ii(ni,ai){var oi=Jr.getDimensionInfo(ai);!oi||oi.otherDims.tooltip===!1||(Qr?ri.push(Jn("nameValue",{markerType:"subItem",markerColor:Kr,name:oi.displayName,value:ni,valueType:oi.type})):(ti.push(ni),ei.push(oi.type)))}return{inlineValues:ti,inlineValueTypes:ei,blocks:ri}}var uf=ln();function u0(Yr,Gr){return Yr.getName(Gr)||Yr.getId(Gr)}var Cv="__universalTransitionEnabled",f0=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr._selectedDataIndicesMap={},Wr}return Gr.prototype.init=function(Wr,Zr,Kr){this.seriesIndex=this.componentIndex,this.dataTask=lf({count:DX,reset:IX}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(Wr,Kr);var Jr=uf(this).sourceManager=new n0(this);Jr.prepareSource();var Qr=this.getInitialData(Wr,Kr);K2(Qr,this),this.dataTask.context.data=Qr,uf(this).dataBeforeProcessed=Qr,j2(this),this._initSelectedMapFromData(Qr)},Gr.prototype.mergeDefaultAndTheme=function(Wr,Zr){var Kr=sf(this),Jr=Kr?Is(Wr):{},Qr=this.subType;_n.hasClass(Qr)&&(Qr+="Series"),un(Wr,Zr.getTheme().get(this.subType)),un(Wr,this.getDefaultOption()),ls(Wr,"label",["show"]),this.fillDataTextStyle(Wr.data),Kr&&Yo(Wr,Jr,Kr)},Gr.prototype.mergeOption=function(Wr,Zr){Wr=un(this.option,Wr,!0),this.fillDataTextStyle(Wr.data);var Kr=sf(this);Kr&&Yo(this.option,Wr,Kr);var Jr=uf(this).sourceManager;Jr.dirty(),Jr.prepareSource();var Qr=this.getInitialData(Wr,Zr);K2(Qr,this),this.dataTask.dirty(),this.dataTask.context.data=Qr,uf(this).dataBeforeProcessed=Qr,j2(this),this._initSelectedMapFromData(Qr)},Gr.prototype.fillDataTextStyle=function(Wr){if(Wr&&!Ta(Wr))for(var Zr=["show"],Kr=0;Kr<Wr.length;Kr++)Wr[Kr]&&Wr[Kr].label&&ls(Wr[Kr],"label",Zr)},Gr.prototype.getInitialData=function(Wr,Zr){},Gr.prototype.appendData=function(Wr){var Zr=this.getRawData();Zr.appendData(Wr.data)},Gr.prototype.getData=function(Wr){var Zr=rw(this);if(Zr){var Kr=Zr.context.data;return Wr==null?Kr:Kr.getLinkedData(Wr)}else return uf(this).data},Gr.prototype.getAllData=function(){var Wr=this.getData();return Wr&&Wr.getLinkedDataAll?Wr.getLinkedDataAll():[{data:Wr}]},Gr.prototype.setData=function(Wr){var Zr=rw(this);if(Zr){var Kr=Zr.context;Kr.outputData=Wr,Zr!==this.dataTask&&(Kr.data=Wr)}uf(this).data=Wr},Gr.prototype.getEncode=function(){var Wr=this.get("encode",!0);if(Wr)return Hi(Wr)},Gr.prototype.getSourceManager=function(){return uf(this).sourceManager},Gr.prototype.getSource=function(){return this.getSourceManager().getSource()},Gr.prototype.getRawData=function(){return uf(this).dataBeforeProcessed},Gr.prototype.getColorBy=function(){var Wr=this.get("colorBy");return Wr||"series"},Gr.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},Gr.prototype.getBaseAxis=function(){var Wr=this.coordinateSystem;return Wr&&Wr.getBaseAxis&&Wr.getBaseAxis()},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){return l0({series:this,dataIndex:Wr,multipleSeries:Zr})},Gr.prototype.isAnimationEnabled=function(){var Wr=this.ecModel;if(Cn.node&&!(Wr&&Wr.ssr))return!1;var Zr=this.getShallow("animation");return Zr&&this.getData().count()>this.getShallow("animationThreshold")&&(Zr=!1),!!Zr},Gr.prototype.restoreData=function(){this.dataTask.dirty()},Gr.prototype.getColorFromPalette=function(Wr,Zr,Kr){var Jr=this.ecModel,Qr=vv.prototype.getColorFromPalette.call(this,Wr,Zr,Kr);return Qr||(Qr=Jr.getColorFromPalette(Wr,Zr,Kr)),Qr},Gr.prototype.coordDimToDataDim=function(Wr){return this.getRawData().mapDimensionsAll(Wr)},Gr.prototype.getProgressive=function(){return this.get("progressive")},Gr.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},Gr.prototype.select=function(Wr,Zr){this._innerSelect(this.getData(Zr),Wr)},Gr.prototype.unselect=function(Wr,Zr){var Kr=this.option.selectedMap;if(Kr){var Jr=this.option.selectedMode,Qr=this.getData(Zr);if(Jr==="series"||Kr==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var ti=0;ti<Wr.length;ti++){var ei=Wr[ti],ri=u0(Qr,ei);Kr[ri]=!1,this._selectedDataIndicesMap[ri]=-1}}},Gr.prototype.toggleSelect=function(Wr,Zr){for(var Kr=[],Jr=0;Jr<Wr.length;Jr++)Kr[0]=Wr[Jr],this.isSelected(Wr[Jr],Zr)?this.unselect(Kr,Zr):this.select(Kr,Zr)},Gr.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var Wr=this._selectedDataIndicesMap,Zr=fn(Wr),Kr=[],Jr=0;Jr<Zr.length;Jr++){var Qr=Wr[Zr[Jr]];Qr>=0&&Kr.push(Qr)}return Kr},Gr.prototype.isSelected=function(Wr,Zr){var Kr=this.option.selectedMap;if(!Kr)return!1;var Jr=this.getData(Zr);return(Kr==="all"||Kr[u0(Jr,Wr)])&&!Jr.getItemModel(Wr).get(["select","disabled"])},Gr.prototype.isUniversalTransitionEnabled=function(){if(this[Cv])return!0;var Wr=this.option.universalTransition;return Wr?Wr===!0?!0:Wr&&Wr.enabled:!1},Gr.prototype._innerSelect=function(Wr,Zr){var Kr,Jr,Qr=this.option,ti=Qr.selectedMode,ei=Zr.length;if(!(!ti||!ei)){if(ti==="series")Qr.selectedMap="all";else if(ti==="multiple"){qi(Qr.selectedMap)||(Qr.selectedMap={});for(var ri=Qr.selectedMap,ii=0;ii<ei;ii++){var ni=Zr[ii],ai=u0(Wr,ni);ri[ai]=!0,this._selectedDataIndicesMap[ai]=Wr.getRawIndex(ni)}}else if(ti==="single"||ti===!0){var oi=Zr[ei-1],ai=u0(Wr,oi);Qr.selectedMap=(Kr={},Kr[ai]=!0,Kr),this._selectedDataIndicesMap=(Jr={},Jr[ai]=Wr.getRawIndex(oi),Jr)}}},Gr.prototype._initSelectedMapFromData=function(Wr){if(!this.option.selectedMap){var Zr=[];Wr.hasItemOption&&Wr.each(function(Kr){var Jr=Wr.getRawDataItem(Kr);Jr&&Jr.selected&&Zr.push(Kr)}),Zr.length>0&&this._innerSelect(Wr,Zr)}},Gr.registerClass=function(Wr){return _n.registerClass(Wr)},Gr.protoInitialize=function(){var Wr=Gr.prototype;Wr.type="series.__base__",Wr.seriesIndex=0,Wr.ignoreStyleOnData=!1,Wr.hasSymbolVisual=!1,Wr.defaultSymbol="circle",Wr.visualStyleAccessPath="itemStyle",Wr.visualDrawType="fill"}(),Gr}(_n);Gn(f0,lp);Gn(f0,vv);ny(f0,_n);function j2(Yr){var Gr=Yr.name;Fc(Yr)||(Yr.name=EX(Yr)||Gr)}function EX(Yr){var Gr=Yr.getRawData(),Wr=Gr.mapDimensionsAll("seriesName"),Zr=[];return _i(Wr,function(Kr){var Jr=Gr.getDimensionInfo(Kr);Jr.displayName&&Zr.push(Jr.displayName)}),Zr.join(" ")}function DX(Yr){return Yr.model.getRawData().count()}function IX(Yr){var Gr=Yr.model;return Gr.setData(Gr.getRawData().cloneShallow()),LX}function LX(Yr,Gr){Gr.outputData&&Yr.end>Gr.outputData.count()&&Gr.model.getRawData().cloneShallow(Gr.outputData)}function K2(Yr,Gr){_i(Jf(Yr.CHANGABLE_METHODS,Yr.DOWNSAMPLE_METHODS),function(Wr){Yr.wrapMethod(Wr,en(kX,Gr))})}function kX(Yr,Gr){var Wr=rw(Yr);return Wr&&Wr.setOutputEnd((Gr||this).count()),Gr}function rw(Yr){var Gr=(Yr.ecModel||{}).scheduler,Wr=Gr&&Gr.getPipeline(Yr.uid);if(Wr){var Zr=Wr.currentTask;if(Zr){var Kr=Zr.agentStubMap;Kr&&(Zr=Kr.get(Yr.uid))}return Zr}}var Pn=f0;var iw=function(){function Yr(){this.group=new Zi,this.uid=Ds("viewComponent")}return Yr.prototype.init=function(Gr,Wr){},Yr.prototype.render=function(Gr,Wr,Zr,Kr){},Yr.prototype.dispose=function(Gr,Wr){},Yr.prototype.updateView=function(Gr,Wr,Zr,Kr){},Yr.prototype.updateLayout=function(Gr,Wr,Zr,Kr){},Yr.prototype.updateVisual=function(Gr,Wr,Zr,Kr){},Yr.prototype.toggleBlurSeries=function(Gr,Wr,Zr){},Yr.prototype.eachRendered=function(Gr){var Wr=this.group;Wr&&Wr.traverse(Gr)},Yr}();Vc(iw);$u(iw);var Dn=iw;function cs(){var Yr=ln();return function(Gr){var Wr=Yr(Gr),Zr=Gr.pipelineContext,Kr=!!Wr.large,Jr=!!Wr.progressiveRender,Qr=Wr.large=!!(Zr&&Zr.large),ti=Wr.progressiveRender=!!(Zr&&Zr.progressiveRender);return(Kr!==Qr||Jr!==ti)&&"reset"}}var Q2=ln(),RX=cs(),nw=function(){function Yr(){this.group=new Zi,this.uid=Ds("viewChart"),this.renderTask=lf({plan:OX,reset:zX}),this.renderTask.context={view:this}}return Yr.prototype.init=function(Gr,Wr){},Yr.prototype.render=function(Gr,Wr,Zr,Kr){},Yr.prototype.highlight=function(Gr,Wr,Zr,Kr){var Jr=Gr.getData(Kr&&Kr.dataType);Jr&&J2(Jr,Kr,"emphasis")},Yr.prototype.downplay=function(Gr,Wr,Zr,Kr){var Jr=Gr.getData(Kr&&Kr.dataType);Jr&&J2(Jr,Kr,"normal")},Yr.prototype.remove=function(Gr,Wr){this.group.removeAll()},Yr.prototype.dispose=function(Gr,Wr){},Yr.prototype.updateView=function(Gr,Wr,Zr,Kr){this.render(Gr,Wr,Zr,Kr)},Yr.prototype.updateLayout=function(Gr,Wr,Zr,Kr){this.render(Gr,Wr,Zr,Kr)},Yr.prototype.updateVisual=function(Gr,Wr,Zr,Kr){this.render(Gr,Wr,Zr,Kr)},Yr.prototype.eachRendered=function(Gr){Co(this.group,Gr)},Yr.markUpdateMethod=function(Gr,Wr){Q2(Gr).updateMethod=Wr},Yr.protoInitialize=function(){var Gr=Yr.prototype;Gr.type="chart"}(),Yr}();function $2(Yr,Gr,Wr){Yr&&af(Yr)&&(Gr==="emphasis"?ho:co)(Yr,Wr)}function J2(Yr,Gr,Wr){var Zr=As(Yr,Gr),Kr=Gr&&Gr.highlightKey!=null?QL(Gr.highlightKey):null;Zr!=null?_i(En(Zr),function(Jr){$2(Yr.getItemGraphicEl(Jr),Wr,Kr)}):Yr.eachItemGraphicEl(function(Jr){$2(Jr,Wr,Kr)})}Vc(nw,["dispose"]);$u(nw);function OX(Yr){return RX(Yr.model)}function zX(Yr){var Gr=Yr.model,Wr=Yr.ecModel,Zr=Yr.api,Kr=Yr.payload,Jr=Gr.pipelineContext.progressiveRender,Qr=Yr.view,ti=Kr&&Q2(Kr).updateMethod,ei=Jr?"incrementalPrepareRender":ti&&Qr[ti]?ti:"render";return ei!=="render"&&Qr[ei](Gr,Wr,Zr,Kr),NX[ei]}var NX={incrementalPrepareRender:{progress:function(Yr,Gr){Gr.view.incrementalRender(Yr,Gr.model,Gr.ecModel,Gr.api,Gr.payload)}},render:{forceFirstProgress:!0,progress:function(Yr,Gr){Gr.view.render(Gr.model,Gr.ecModel,Gr.api,Gr.payload)}}},An=nw;var h0="\0__throttleOriginMethod",tR="\0__throttleRate",eR="\0__throttleType";function Tv(Yr,Gr,Wr){var Zr,Kr=0,Jr=0,Qr=null,ti,ei,ri,ii;Gr=Gr||0;function ni(){Jr=new Date().getTime(),Qr=null,Yr.apply(ei,ri||[])}var ai=function(){for(var oi=[],si=0;si<arguments.length;si++)oi[si]=arguments[si];Zr=new Date().getTime(),ei=this,ri=oi;var li=ii||Gr,ui=ii||Wr;ii=null,ti=Zr-(ui?Kr:Jr)-li,clearTimeout(Qr),ui?Qr=setTimeout(ni,li):ti>=0?ni():Qr=setTimeout(ni,-ti),Kr=Zr};return ai.clear=function(){Qr&&(clearTimeout(Qr),Qr=null)},ai.debounceNextCall=function(oi){ii=oi},ai}function Rs(Yr,Gr,Wr,Zr){var Kr=Yr[Gr];if(Kr){var Jr=Kr[h0]||Kr,Qr=Kr[eR],ti=Kr[tR];if(ti!==Wr||Qr!==Zr){if(Wr==null||!Zr)return Yr[Gr]=Jr;Kr=Yr[Gr]=Tv(Jr,Wr,Zr==="debounce"),Kr[h0]=Jr,Kr[eR]=Zr,Kr[tR]=Wr}return Kr}}function Su(Yr,Gr){var Wr=Yr[Gr];Wr&&Wr[h0]&&(Wr.clear&&Wr.clear(),Yr[Gr]=Wr[h0])}var rR=ln(),iR={itemStyle:Uo(v1,!0),lineStyle:Uo(d1,!0)},FX={lineStyle:"stroke",itemStyle:"fill"};function nR(Yr,Gr){var Wr=Yr.visualStyleMapper||iR[Gr];return Wr||(console.warn("Unknown style type '"+Gr+"'."),iR.itemStyle)}function aR(Yr,Gr){var Wr=Yr.visualDrawType||FX[Gr];return Wr||(console.warn("Unknown style type '"+Gr+"'."),"fill")}var oR={createOnAllSeries:!0,performRawSeries:!0,reset:function(Yr,Gr){var Wr=Yr.getData(),Zr=Yr.visualStyleAccessPath||"itemStyle",Kr=Yr.getModel(Zr),Jr=nR(Yr,Zr),Qr=Jr(Kr),ti=Kr.getShallow("decal");ti&&(Wr.setVisual("decal",ti),ti.dirty=!0);var ei=aR(Yr,Zr),ri=Qr[ei],ii=Wi(ri)?ri:null,ni=Qr.fill==="auto"||Qr.stroke==="auto";if(!Qr[ei]||ii||ni){var ai=Yr.getColorFromPalette(Yr.name,null,Gr.getSeriesCount());Qr[ei]||(Qr[ei]=ai,Wr.setVisual("colorFromPalette",!0)),Qr.fill=Qr.fill==="auto"||Wi(Qr.fill)?ai:Qr.fill,Qr.stroke=Qr.stroke==="auto"||Wi(Qr.stroke)?ai:Qr.stroke}if(Wr.setVisual("style",Qr),Wr.setVisual("drawType",ei),!Gr.isSeriesFiltered(Yr)&&ii)return Wr.setVisual("colorFromPalette",!1),{dataEach:function(oi,si){var li=Yr.getDataParams(si),ui=ki({},Qr);ui[ei]=ii(li),oi.setItemVisual(si,"style",ui)}}}},Av=new Mn,sR={createOnAllSeries:!0,performRawSeries:!0,reset:function(Yr,Gr){if(!(Yr.ignoreStyleOnData||Gr.isSeriesFiltered(Yr))){var Wr=Yr.getData(),Zr=Yr.visualStyleAccessPath||"itemStyle",Kr=nR(Yr,Zr),Jr=Wr.getVisual("drawType");return{dataEach:Wr.hasItemOption?function(Qr,ti){var ei=Qr.getRawDataItem(ti);if(ei&&ei[Zr]){Av.option=ei[Zr];var ri=Kr(Av),ii=Qr.ensureUniqueItemVisual(ti,"style");ki(ii,ri),Av.option.decal&&(Qr.setItemVisual(ti,"decal",Av.option.decal),Av.option.decal.dirty=!0),Jr in ri&&Qr.setItemVisual(ti,"colorFromPalette",!1)}}:null}}}},lR={performRawSeries:!0,overallReset:function(Yr){var Gr=Hi();Yr.eachSeries(function(Wr){var Zr=Wr.getColorBy();if(!Wr.isColorBySeries()){var Kr=Wr.type+"-"+Zr,Jr=Gr.get(Kr);Jr||(Jr={},Gr.set(Kr,Jr)),rR(Wr).scope=Jr}}),Yr.eachSeries(function(Wr){if(!(Wr.isColorBySeries()||Yr.isSeriesFiltered(Wr))){var Zr=Wr.getRawData(),Kr={},Jr=Wr.getData(),Qr=rR(Wr).scope,ti=Wr.visualStyleAccessPath||"itemStyle",ei=aR(Wr,ti);Jr.each(function(ri){var ii=Jr.getRawIndex(ri);Kr[ii]=ri}),Zr.each(function(ri){var ii=Kr[ri],ni=Jr.getItemVisual(ii,"colorFromPalette");if(ni){var ai=Jr.ensureUniqueItemVisual(ii,"style"),oi=Zr.getName(ri)||ri+"",si=Zr.count();ai[ei]=Wr.getColorFromPalette(oi,Qr,si)}})}})}};var p0=Math.PI;function aw(Yr,Gr){Gr=Gr||{},Yi(Gr,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var Wr=new Zi,Zr=new mn({style:{fill:Gr.maskColor},zlevel:Gr.zlevel,z:1e4});Wr.add(Zr);var Kr=new xn({style:{text:Gr.text,fill:Gr.textColor,fontSize:Gr.fontSize,fontWeight:Gr.fontWeight,fontStyle:Gr.fontStyle,fontFamily:Gr.fontFamily},zlevel:Gr.zlevel,z:10001}),Jr=new mn({style:{fill:"none"},textContent:Kr,textConfig:{position:"right",distance:10},zlevel:Gr.zlevel,z:10001});Wr.add(Jr);var Qr;return Gr.showSpinner&&(Qr=new nv({shape:{startAngle:-p0/2,endAngle:-p0/2+.1,r:Gr.spinnerRadius},style:{stroke:Gr.color,lineCap:"round",lineWidth:Gr.lineWidth},zlevel:Gr.zlevel,z:10001}),Qr.animateShape(!0).when(1e3,{endAngle:p0*3/2}).start("circularInOut"),Qr.animateShape(!0).when(1e3,{startAngle:p0*3/2}).delay(300).start("circularInOut"),Wr.add(Qr)),Wr.resize=function(){var ti=Kr.getBoundingRect().width,ei=Gr.showSpinner?Gr.spinnerRadius:0,ri=(Yr.getWidth()-ei*2-(Gr.showSpinner&&ti?10:0)-ti)/2-(Gr.showSpinner&&ti?0:5+ti/2)+(Gr.showSpinner?0:ti/2)+(ti?0:ei),ii=Yr.getHeight()/2;Gr.showSpinner&&Qr.setShape({cx:ri,cy:ii}),Jr.setShape({x:ri-ei,y:ii-ei,width:ei*2,height:ei*2}),Zr.setShape({x:0,y:0,width:Yr.getWidth(),height:Yr.getHeight()})},Wr.resize(),Wr}var VX=function(){function Yr(Gr,Wr,Zr,Kr){this._stageTaskMap=Hi(),this.ecInstance=Gr,this.api=Wr,Zr=this._dataProcessorHandlers=Zr.slice(),Kr=this._visualHandlers=Kr.slice(),this._allHandlers=Zr.concat(Kr)}return Yr.prototype.restoreData=function(Gr,Wr){Gr.restoreData(Wr),this._stageTaskMap.each(function(Zr){var Kr=Zr.overallTask;Kr&&Kr.dirty()})},Yr.prototype.getPerformArgs=function(Gr,Wr){if(Gr.__pipeline){var Zr=this._pipelineMap.get(Gr.__pipeline.id),Kr=Zr.context,Jr=!Wr&&Zr.progressiveEnabled&&(!Kr||Kr.progressiveRender)&&Gr.__idxInPipeline>Zr.blockIndex,Qr=Jr?Zr.step:null,ti=Kr&&Kr.modDataCount,ei=ti!=null?Math.ceil(ti/Qr):null;return{step:Qr,modBy:ei,modDataCount:ti}}},Yr.prototype.getPipeline=function(Gr){return this._pipelineMap.get(Gr)},Yr.prototype.updateStreamModes=function(Gr,Wr){var Zr=this._pipelineMap.get(Gr.uid),Kr=Gr.getData(),Jr=Kr.count(),Qr=Zr.progressiveEnabled&&Wr.incrementalPrepareRender&&Jr>=Zr.threshold,ti=Gr.get("large")&&Jr>=Gr.get("largeThreshold"),ei=Gr.get("progressiveChunkMode")==="mod"?Jr:null;Gr.pipelineContext=Zr.context={progressiveRender:Qr,modDataCount:ei,large:ti}},Yr.prototype.restorePipelines=function(Gr){var Wr=this,Zr=Wr._pipelineMap=Hi();Gr.eachSeries(function(Kr){var Jr=Kr.getProgressive(),Qr=Kr.uid;Zr.set(Qr,{id:Qr,head:null,tail:null,threshold:Kr.getProgressiveThreshold(),progressiveEnabled:Jr&&!(Kr.preventIncremental&&Kr.preventIncremental()),blockIndex:-1,step:Math.round(Jr||700),count:0}),Wr._pipe(Kr,Kr.dataTask)})},Yr.prototype.prepareStageTasks=function(){var Gr=this._stageTaskMap,Wr=this.api.getModel(),Zr=this.api;_i(this._allHandlers,function(Kr){var Jr=Gr.get(Kr.uid)||Gr.set(Kr.uid,{}),Qr="";ea(!(Kr.reset&&Kr.overallReset),Qr),Kr.reset&&this._createSeriesStageTask(Kr,Jr,Wr,Zr),Kr.overallReset&&this._createOverallStageTask(Kr,Jr,Wr,Zr)},this)},Yr.prototype.prepareView=function(Gr,Wr,Zr,Kr){var Jr=Gr.renderTask,Qr=Jr.context;Qr.model=Wr,Qr.ecModel=Zr,Qr.api=Kr,Jr.__block=!Gr.incrementalPrepareRender,this._pipe(Wr,Jr)},Yr.prototype.performDataProcessorTasks=function(Gr,Wr){this._performStageTasks(this._dataProcessorHandlers,Gr,Wr,{block:!0})},Yr.prototype.performVisualTasks=function(Gr,Wr,Zr){this._performStageTasks(this._visualHandlers,Gr,Wr,Zr)},Yr.prototype._performStageTasks=function(Gr,Wr,Zr,Kr){Kr=Kr||{};var Jr=!1,Qr=this;_i(Gr,function(ei,ri){if(!(Kr.visualType&&Kr.visualType!==ei.visualType)){var ii=Qr._stageTaskMap.get(ei.uid),ni=ii.seriesTaskMap,ai=ii.overallTask;if(ai){var oi,si=ai.agentStubMap;si.each(function(ui){ti(Kr,ui)&&(ui.dirty(),oi=!0)}),oi&&ai.dirty(),Qr.updatePayload(ai,Zr);var li=Qr.getPerformArgs(ai,Kr.block);si.each(function(ui){ui.perform(li)}),ai.perform(li)&&(Jr=!0)}else ni&&ni.each(function(ui,fi){ti(Kr,ui)&&ui.dirty();var hi=Qr.getPerformArgs(ui,Kr.block);hi.skip=!ei.performRawSeries&&Wr.isSeriesFiltered(ui.context.model),Qr.updatePayload(ui,Zr),ui.perform(hi)&&(Jr=!0)})}});function ti(ei,ri){return ei.setDirty&&(!ei.dirtyMap||ei.dirtyMap.get(ri.__pipeline.id))}this.unfinished=Jr||this.unfinished},Yr.prototype.performSeriesTasks=function(Gr){var Wr;Gr.eachSeries(function(Zr){Wr=Zr.dataTask.perform()||Wr}),this.unfinished=Wr||this.unfinished},Yr.prototype.plan=function(){this._pipelineMap.each(function(Gr){var Wr=Gr.tail;do{if(Wr.__block){Gr.blockIndex=Wr.__idxInPipeline;break}Wr=Wr.getUpstream()}while(Wr)})},Yr.prototype.updatePayload=function(Gr,Wr){Wr!=="remain"&&(Gr.context.payload=Wr)},Yr.prototype._createSeriesStageTask=function(Gr,Wr,Zr,Kr){var Jr=this,Qr=Wr.seriesTaskMap,ti=Wr.seriesTaskMap=Hi(),ei=Gr.seriesType,ri=Gr.getTargetSeries;Gr.createOnAllSeries?Zr.eachRawSeries(ii):ei?Zr.eachRawSeriesByType(ei,ii):ri&&ri(Zr,Kr).each(ii);function ii(ni){var ai=ni.uid,oi=ti.set(ai,Qr&&Qr.get(ai)||lf({plan:WX,reset:YX,count:qX}));oi.context={model:ni,ecModel:Zr,api:Kr,useClearVisual:Gr.isVisual&&!Gr.isLayout,plan:Gr.plan,reset:Gr.reset,scheduler:Jr},Jr._pipe(ni,oi)}},Yr.prototype._createOverallStageTask=function(Gr,Wr,Zr,Kr){var Jr=this,Qr=Wr.overallTask=Wr.overallTask||lf({reset:BX});Qr.context={ecModel:Zr,api:Kr,overallReset:Gr.overallReset,scheduler:Jr};var ti=Qr.agentStubMap,ei=Qr.agentStubMap=Hi(),ri=Gr.seriesType,ii=Gr.getTargetSeries,ni=!0,ai=!1,oi="";ea(!Gr.createOnAllSeries,oi),ri?Zr.eachRawSeriesByType(ri,si):ii?ii(Zr,Kr).each(si):(ni=!1,_i(Zr.getSeries(),si));function si(li){var ui=li.uid,fi=ei.set(ui,ti&&ti.get(ui)||(ai=!0,lf({reset:UX,onDirty:HX})));fi.context={model:li,overallProgress:ni},fi.agent=Qr,fi.__block=ni,Jr._pipe(li,fi)}ai&&Qr.dirty()},Yr.prototype._pipe=function(Gr,Wr){var Zr=Gr.uid,Kr=this._pipelineMap.get(Zr);!Kr.head&&(Kr.head=Wr),Kr.tail&&Kr.tail.pipe(Wr),Kr.tail=Wr,Wr.__idxInPipeline=Kr.count++,Wr.__pipeline=Kr},Yr.wrapStageHandler=function(Gr,Wr){return Wi(Gr)&&(Gr={overallReset:Gr,seriesType:ZX(Gr)}),Gr.uid=Ds("stageHandler"),Wr&&(Gr.visualType=Wr),Gr},Yr}();function BX(Yr){Yr.overallReset(Yr.ecModel,Yr.api,Yr.payload)}function UX(Yr){return Yr.overallProgress&&GX}function GX(){this.agent.dirty(),this.getDownstream().dirty()}function HX(){this.agent&&this.agent.dirty()}function WX(Yr){return Yr.plan?Yr.plan(Yr.model,Yr.ecModel,Yr.api,Yr.payload):null}function YX(Yr){Yr.useClearVisual&&Yr.data.clearAllVisual();var Gr=Yr.resetDefines=En(Yr.reset(Yr.model,Yr.ecModel,Yr.api,Yr.payload));return Gr.length>1?Oi(Gr,function(Wr,Zr){return uR(Zr)}):XX}var XX=uR(0);function uR(Yr){return function(Gr,Wr){var Zr=Wr.data,Kr=Wr.resetDefines[Yr];if(Kr&&Kr.dataEach)for(var Jr=Gr.start;Jr<Gr.end;Jr++)Kr.dataEach(Zr,Jr);else Kr&&Kr.progress&&Kr.progress(Gr,Zr)}}function qX(Yr){return Yr.data.count()}function ZX(Yr){d0=null;try{Yr(Mv,fR)}catch{}return d0}var Mv={},fR={},d0;hR(Mv,Zy);hR(fR,jy);Mv.eachSeriesByType=Mv.eachRawSeriesByType=function(Yr){d0=Yr};Mv.eachComponent=function(Yr){Yr.mainType==="series"&&Yr.subType&&(d0=Yr.subType)};function hR(Yr,Gr){for(var Wr in Gr.prototype)Yr[Wr]=qn}var ow=VX;var cR=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],pR={color:cR,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],cR]};var To="#B9B8CE",dR="#100C2A",v0=function(){return{axisLine:{lineStyle:{color:To}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},vR=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],mR={darkMode:!0,color:vR,backgroundColor:dR,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:To}},textStyle:{color:To},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:To}},dataZoom:{borderColor:"#71708A",textStyle:{color:To},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:To}},timeline:{lineStyle:{color:To},label:{color:To},controlStyle:{color:To,borderColor:To}},calendar:{itemStyle:{color:dR},dayLabel:{color:To},monthLabel:{color:To},yearLabel:{color:To}},timeAxis:v0(),logAxis:v0(),valueAxis:v0(),categoryAxis:v0(),line:{symbol:"circle"},graph:{color:vR},gauge:{title:{color:To},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:To},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};mR.categoryAxis.splitLine.show=!1;var gR=mR;var yR=function(){function Yr(){}return Yr.prototype.normalizeQuery=function(Gr){var Wr={},Zr={},Kr={};if(Ni(Gr)){var Jr=Bo(Gr);Wr.mainType=Jr.main||null,Wr.subType=Jr.sub||null}else{var Qr=["Index","Name","Id"],ti={name:1,dataIndex:1,dataType:1};_i(Gr,function(ei,ri){for(var ii=!1,ni=0;ni<Qr.length;ni++){var ai=Qr[ni],oi=ri.lastIndexOf(ai);if(oi>0&&oi===ri.length-ai.length){var si=ri.slice(0,oi);si!=="data"&&(Wr.mainType=si,Wr[ai.toLowerCase()]=ei,ii=!0)}}ti.hasOwnProperty(ri)&&(Zr[ri]=ei,ii=!0),ii||(Kr[ri]=ei)})}return{cptQuery:Wr,dataQuery:Zr,otherQuery:Kr}},Yr.prototype.filter=function(Gr,Wr){var Zr=this.eventInfo;if(!Zr)return!0;var Kr=Zr.targetEl,Jr=Zr.packedEvent,Qr=Zr.model,ti=Zr.view;if(!Qr||!ti)return!0;var ei=Wr.cptQuery,ri=Wr.dataQuery;return ii(ei,Qr,"mainType")&&ii(ei,Qr,"subType")&&ii(ei,Qr,"index","componentIndex")&&ii(ei,Qr,"name")&&ii(ei,Qr,"id")&&ii(ri,Jr,"name")&&ii(ri,Jr,"dataIndex")&&ii(ri,Jr,"dataType")&&(!ti.filterForExposedEvent||ti.filterForExposedEvent(Gr,Wr.otherQuery,Kr,Jr));function ii(ni,ai,oi,si){return ni[oi]==null||ai[si||oi]===ni[oi]}},Yr.prototype.afterTrigger=function(){this.eventInfo=null},Yr}();var sw=["symbol","symbolSize","symbolRotate","symbolOffset"],xR=sw.concat(["symbolKeepAspect"]),_R={createOnAllSeries:!0,performRawSeries:!0,reset:function(Yr,Gr){var Wr=Yr.getData();if(Yr.legendIcon&&Wr.setVisual("legendIcon",Yr.legendIcon),!Yr.hasSymbolVisual)return;for(var Zr={},Kr={},Jr=!1,Qr=0;Qr<sw.length;Qr++){var ti=sw[Qr],ei=Yr.get(ti);Wi(ei)?(Jr=!0,Kr[ti]=ei):Zr[ti]=ei}if(Zr.symbol=Zr.symbol||Yr.defaultSymbol,Wr.setVisual(ki({legendIcon:Yr.legendIcon||Zr.symbol,symbolKeepAspect:Yr.get("symbolKeepAspect")},Zr)),Gr.isSeriesFiltered(Yr))return;var ri=fn(Kr);function ii(ni,ai){for(var oi=Yr.getRawValue(ai),si=Yr.getDataParams(ai),li=0;li<ri.length;li++){var ui=ri[li];ni.setItemVisual(ai,ui,Kr[ui](oi,si))}}return{dataEach:Jr?ii:null}}},bR={createOnAllSeries:!0,performRawSeries:!0,reset:function(Yr,Gr){if(!Yr.hasSymbolVisual||Gr.isSeriesFiltered(Yr))return;var Wr=Yr.getData();function Zr(Kr,Jr){for(var Qr=Kr.getItemModel(Jr),ti=0;ti<xR.length;ti++){var ei=xR[ti],ri=Qr.getShallow(ei,!0);ri!=null&&Kr.setItemVisual(Jr,ei,ri)}}return{dataEach:Wr.hasItemOption?Zr:null}}};function Pv(Yr,Gr,Wr){switch(Wr){case"color":var Zr=Yr.getItemVisual(Gr,"style");return Zr[Yr.getVisual("drawType")];case"opacity":return Yr.getItemVisual(Gr,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return Yr.getItemVisual(Gr,Wr);default:}}function Ol(Yr,Gr){switch(Gr){case"color":var Wr=Yr.getVisual("style");return Wr[Yr.getVisual("drawType")];case"opacity":return Yr.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return Yr.getVisual(Gr);default:}}function lw(Yr,Gr,Wr,Zr){switch(Wr){case"color":var Kr=Yr.ensureUniqueItemVisual(Gr,"style");Kr[Yr.getVisual("drawType")]=Zr,Yr.setItemVisual(Gr,"colorFromPalette",!1);break;case"opacity":Yr.ensureUniqueItemVisual(Gr,"style").opacity=Zr;break;case"symbol":case"symbolSize":case"liftZ":Yr.setItemVisual(Gr,Wr,Zr);break;default:}}function m0(Yr,Gr){function Wr(Zr,Kr){var Jr=[];return Zr.eachComponent({mainType:"series",subType:Yr,query:Kr},function(Qr){Jr.push(Qr.seriesIndex)}),Jr}_i([[Yr+"ToggleSelect","toggleSelect"],[Yr+"Select","select"],[Yr+"UnSelect","unselect"]],function(Zr){Gr(Zr[0],function(Kr,Jr,Qr){Kr=ki({},Kr),Qr.dispatchAction(ki(Kr,{type:Zr[1],seriesIndex:Wr(Jr,Kr)}))})})}function fp(Yr,Gr,Wr,Zr,Kr){var Jr=Yr+Gr;Wr.isSilent(Jr)||Zr.eachComponent({mainType:"series",subType:"pie"},function(Qr){for(var ti=Qr.seriesIndex,ei=Qr.option.selectedMap,ri=Kr.selected,ii=0;ii<ri.length;ii++)if(ri[ii].seriesIndex===ti){var ni=Qr.getData(),ai=As(ni,Kr.fromActionPayload);Wr.trigger(Jr,{type:Jr,seriesId:Qr.id,name:Ri(ai)?ni.getName(ai[0]):ni.getName(ai),selected:Ni(ei)?ei:ki({},ei)})}})}function SR(Yr,Gr,Wr){Yr.on("selectchanged",function(Zr){var Kr=Wr.getModel();Zr.isFromClick?(fp("map","selectchanged",Gr,Kr,Zr),fp("pie","selectchanged",Gr,Kr,Zr)):Zr.fromAction==="select"?(fp("map","selected",Gr,Kr,Zr),fp("pie","selected",Gr,Kr,Zr)):Zr.fromAction==="unselect"&&(fp("map","unselected",Gr,Kr,Zr),fp("pie","unselected",Gr,Kr,Zr))})}function sl(Yr,Gr,Wr){for(var Zr;Yr&&!(Gr(Yr)&&(Zr=Yr,Wr));)Yr=Yr.__hostTarget||Yr.parent;return Zr}var jX=Math.round(Math.random()*9),KX=typeof Object.defineProperty=="function",$X=function(){function Yr(){this._id="__ec_inner_"+jX++}return Yr.prototype.get=function(Gr){return this._guard(Gr)[this._id]},Yr.prototype.set=function(Gr,Wr){var Zr=this._guard(Gr);return KX?Object.defineProperty(Zr,this._id,{value:Wr,enumerable:!1,configurable:!0}):Zr[this._id]=Wr,this},Yr.prototype.delete=function(Gr){return this.has(Gr)?(delete this._guard(Gr)[this._id],!0):!1},Yr.prototype.has=function(Gr){return!!this._guard(Gr)[this._id]},Yr.prototype._guard=function(Gr){if(Gr!==Object(Gr))throw TypeError("Value of WeakMap is not a non-null object.");return Gr},Yr}(),wR=$X;var JX=an.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Yr,Gr){var Wr=Gr.cx,Zr=Gr.cy,Kr=Gr.width/2,Jr=Gr.height/2;Yr.moveTo(Wr,Zr-Jr),Yr.lineTo(Wr+Kr,Zr+Jr),Yr.lineTo(Wr-Kr,Zr+Jr),Yr.closePath()}}),QX=an.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Yr,Gr){var Wr=Gr.cx,Zr=Gr.cy,Kr=Gr.width/2,Jr=Gr.height/2;Yr.moveTo(Wr,Zr-Jr),Yr.lineTo(Wr+Kr,Zr),Yr.lineTo(Wr,Zr+Jr),Yr.lineTo(Wr-Kr,Zr),Yr.closePath()}}),t7=an.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(Yr,Gr){var Wr=Gr.x,Zr=Gr.y,Kr=Gr.width/5*3,Jr=Math.max(Kr,Gr.height),Qr=Kr/2,ti=Qr*Qr/(Jr-Qr),ei=Zr-Jr+Qr+ti,ri=Math.asin(ti/Qr),ii=Math.cos(ri)*Qr,ni=Math.sin(ri),ai=Math.cos(ri),oi=Qr*.6,si=Qr*.7;Yr.moveTo(Wr-ii,ei+ti),Yr.arc(Wr,ei,Qr,Math.PI-ri,Math.PI*2+ri),Yr.bezierCurveTo(Wr+ii-ni*oi,ei+ti+ai*oi,Wr,Zr-si,Wr,Zr),Yr.bezierCurveTo(Wr,Zr-si,Wr-ii+ni*oi,ei+ti+ai*oi,Wr-ii,ei+ti),Yr.closePath()}}),e7=an.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(Yr,Gr){var Wr=Gr.height,Zr=Gr.width,Kr=Gr.x,Jr=Gr.y,Qr=Zr/3*2;Yr.moveTo(Kr,Jr),Yr.lineTo(Kr+Qr,Jr+Wr),Yr.lineTo(Kr,Jr+Wr/4*3),Yr.lineTo(Kr-Qr,Jr+Wr),Yr.lineTo(Kr,Jr),Yr.closePath()}}),r7={line:sa,rect:mn,roundRect:mn,square:mn,circle:wo,diamond:QX,pin:t7,arrow:e7,triangle:JX},i7={line:function(Yr,Gr,Wr,Zr,Kr){Kr.x1=Yr,Kr.y1=Gr+Zr/2,Kr.x2=Yr+Wr,Kr.y2=Gr+Zr/2},rect:function(Yr,Gr,Wr,Zr,Kr){Kr.x=Yr,Kr.y=Gr,Kr.width=Wr,Kr.height=Zr},roundRect:function(Yr,Gr,Wr,Zr,Kr){Kr.x=Yr,Kr.y=Gr,Kr.width=Wr,Kr.height=Zr,Kr.r=Math.min(Wr,Zr)/4},square:function(Yr,Gr,Wr,Zr,Kr){var Jr=Math.min(Wr,Zr);Kr.x=Yr,Kr.y=Gr,Kr.width=Jr,Kr.height=Jr},circle:function(Yr,Gr,Wr,Zr,Kr){Kr.cx=Yr+Wr/2,Kr.cy=Gr+Zr/2,Kr.r=Math.min(Wr,Zr)/2},diamond:function(Yr,Gr,Wr,Zr,Kr){Kr.cx=Yr+Wr/2,Kr.cy=Gr+Zr/2,Kr.width=Wr,Kr.height=Zr},pin:function(Yr,Gr,Wr,Zr,Kr){Kr.x=Yr+Wr/2,Kr.y=Gr+Zr/2,Kr.width=Wr,Kr.height=Zr},arrow:function(Yr,Gr,Wr,Zr,Kr){Kr.x=Yr+Wr/2,Kr.y=Gr+Zr/2,Kr.width=Wr,Kr.height=Zr},triangle:function(Yr,Gr,Wr,Zr,Kr){Kr.cx=Yr+Wr/2,Kr.cy=Gr+Zr/2,Kr.width=Wr,Kr.height=Zr}},Ev={};_i(r7,function(Yr,Gr){Ev[Gr]=new Yr});var n7=an.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(Yr,Gr,Wr){var Zr=vh(Yr,Gr,Wr),Kr=this.shape;return Kr&&Kr.symbolType==="pin"&&Gr.position==="inside"&&(Zr.y=Wr.y+Wr.height*.4),Zr},buildPath:function(Yr,Gr,Wr){var Zr=Gr.symbolType;if(Zr!=="none"){var Kr=Ev[Zr];Kr||(Zr="rect",Kr=Ev[Zr]),i7[Zr](Gr.x,Gr.y,Gr.width,Gr.height,Kr.shape),Kr.buildPath(Yr,Kr.shape,Wr)}}});function a7(Yr,Gr){if(this.type!=="image"){var Wr=this.style;this.__isEmptyBrush?(Wr.stroke=Yr,Wr.fill=Gr||"#fff",Wr.lineWidth=2):this.shape.symbolType==="line"?Wr.stroke=Yr:Wr.fill=Yr,this.markRedraw()}}function Bn(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Yr.indexOf("empty")===0;ti&&(Yr=Yr.substr(5,1).toLowerCase()+Yr.substr(6));var ei;return Yr.indexOf("image://")===0?ei=u1(Yr.slice(8),new rn(Gr,Wr,Zr,Kr),Qr?"center":"cover"):Yr.indexOf("path://")===0?ei=$c(Yr.slice(7),{},new rn(Gr,Wr,Zr,Kr),Qr?"center":"cover"):ei=new n7({shape:{symbolType:Yr,x:Gr,y:Wr,width:Zr,height:Kr}}),ei.__isEmptyBrush=ti,ei.setColor=a7,Jr&&ei.setColor(Jr),ei}function ll(Yr){return Ri(Yr)||(Yr=[+Yr,+Yr]),[Yr[0]||0,Yr[1]||0]}function ps(Yr,Gr){if(Yr!=null)return Ri(Yr)||(Yr=[Yr,Yr]),[Ui(Yr[0],Gr[0])||0,Ui(on(Yr[1],Yr[0]),Gr[1])||0]}function Hh(Yr){return isFinite(Yr)}function o7(Yr,Gr,Wr){var Zr=Gr.x==null?0:Gr.x,Kr=Gr.x2==null?1:Gr.x2,Jr=Gr.y==null?0:Gr.y,Qr=Gr.y2==null?0:Gr.y2;Gr.global||(Zr=Zr*Wr.width+Wr.x,Kr=Kr*Wr.width+Wr.x,Jr=Jr*Wr.height+Wr.y,Qr=Qr*Wr.height+Wr.y),Zr=Hh(Zr)?Zr:0,Kr=Hh(Kr)?Kr:1,Jr=Hh(Jr)?Jr:0,Qr=Hh(Qr)?Qr:0;var ti=Yr.createLinearGradient(Zr,Jr,Kr,Qr);return ti}function s7(Yr,Gr,Wr){var Zr=Wr.width,Kr=Wr.height,Jr=Math.min(Zr,Kr),Qr=Gr.x==null?.5:Gr.x,ti=Gr.y==null?.5:Gr.y,ei=Gr.r==null?.5:Gr.r;Gr.global||(Qr=Qr*Zr+Wr.x,ti=ti*Kr+Wr.y,ei=ei*Jr),Qr=Hh(Qr)?Qr:.5,ti=Hh(ti)?ti:.5,ei=ei>=0&&Hh(ei)?ei:.5;var ri=Yr.createRadialGradient(Qr,ti,0,Qr,ti,ei);return ri}function Dv(Yr,Gr,Wr){for(var Zr=Gr.type==="radial"?s7(Yr,Gr,Wr):o7(Yr,Gr,Wr),Kr=Gr.colorStops,Jr=0;Jr<Kr.length;Jr++)Zr.addColorStop(Kr[Jr].offset,Kr[Jr].color);return Zr}function TR(Yr,Gr){if(Yr===Gr||!Yr&&!Gr)return!1;if(!Yr||!Gr||Yr.length!==Gr.length)return!0;for(var Wr=0;Wr<Yr.length;Wr++)if(Yr[Wr]!==Gr[Wr])return!0;return!1}function g0(Yr){return parseInt(Yr,10)}function ff(Yr,Gr,Wr){var Zr=["width","height"][Gr],Kr=["clientWidth","clientHeight"][Gr],Jr=["paddingLeft","paddingTop"][Gr],Qr=["paddingRight","paddingBottom"][Gr];if(Wr[Zr]!=null&&Wr[Zr]!=="auto")return parseFloat(Wr[Zr]);var ti=document.defaultView.getComputedStyle(Yr);return(Yr[Kr]||g0(ti[Zr])||g0(Yr.style[Zr]))-(g0(ti[Jr])||0)-(g0(ti[Qr])||0)|0}function l7(Yr,Gr){return!Yr||Yr==="solid"||!(Gr>0)?null:Yr==="dashed"?[4*Gr,2*Gr]:Yr==="dotted"?[Gr]:gn(Yr)?[Yr]:Ri(Yr)?Yr:null}function Iv(Yr){var Gr=Yr.style,Wr=Gr.lineDash&&Gr.lineWidth>0&&l7(Gr.lineDash,Gr.lineWidth),Zr=Gr.lineDashOffset;if(Wr){var Kr=Gr.strokeNoScale&&Yr.getLineScale?Yr.getLineScale():1;Kr&&Kr!==1&&(Wr=Oi(Wr,function(Jr){return Jr/Kr}),Zr/=Kr)}return[Wr,Zr]}var u7=new Ha(!0);function y0(Yr){var Gr=Yr.stroke;return!(Gr==null||Gr==="none"||!(Yr.lineWidth>0))}function AR(Yr){return typeof Yr=="string"&&Yr!=="none"}function x0(Yr){var Gr=Yr.fill;return Gr!=null&&Gr!=="none"}function MR(Yr,Gr){if(Gr.fillOpacity!=null&&Gr.fillOpacity!==1){var Wr=Yr.globalAlpha;Yr.globalAlpha=Gr.fillOpacity*Gr.opacity,Yr.fill(),Yr.globalAlpha=Wr}else Yr.fill()}function PR(Yr,Gr){if(Gr.strokeOpacity!=null&&Gr.strokeOpacity!==1){var Wr=Yr.globalAlpha;Yr.globalAlpha=Gr.strokeOpacity*Gr.opacity,Yr.stroke(),Yr.globalAlpha=Wr}else Yr.stroke()}function _0(Yr,Gr,Wr){var Zr=Yd(Gr.image,Gr.__image,Wr);if(Bc(Zr)){var Kr=Yr.createPattern(Zr,Gr.repeat||"repeat");if(typeof DOMMatrix=="function"&&Kr&&Kr.setTransform){var Jr=new DOMMatrix;Jr.translateSelf(Gr.x||0,Gr.y||0),Jr.rotateSelf(0,0,(Gr.rotation||0)*wc),Jr.scaleSelf(Gr.scaleX||1,Gr.scaleY||1),Kr.setTransform(Jr)}return Kr}}function f7(Yr,Gr,Wr,Zr){var Kr,Jr=y0(Wr),Qr=x0(Wr),ti=Wr.strokePercent,ei=ti<1,ri=!Gr.path;(!Gr.silent||ei)&&ri&&Gr.createPathProxy();var ii=Gr.path||u7,ni=Gr.__dirty;if(!Zr){var ai=Wr.fill,oi=Wr.stroke,si=Qr&&!!ai.colorStops,li=Jr&&!!oi.colorStops,ui=Qr&&!!ai.image,fi=Jr&&!!oi.image,hi=void 0,ci=void 0,pi=void 0,di=void 0,vi=void 0;(si||li)&&(vi=Gr.getBoundingRect()),si&&(hi=ni?Dv(Yr,ai,vi):Gr.__canvasFillGradient,Gr.__canvasFillGradient=hi),li&&(ci=ni?Dv(Yr,oi,vi):Gr.__canvasStrokeGradient,Gr.__canvasStrokeGradient=ci),ui&&(pi=ni||!Gr.__canvasFillPattern?_0(Yr,ai,Gr):Gr.__canvasFillPattern,Gr.__canvasFillPattern=pi),fi&&(di=ni||!Gr.__canvasStrokePattern?_0(Yr,oi,Gr):Gr.__canvasStrokePattern,Gr.__canvasStrokePattern=pi),si?Yr.fillStyle=hi:ui&&(pi?Yr.fillStyle=pi:Qr=!1),li?Yr.strokeStyle=ci:fi&&(di?Yr.strokeStyle=di:Jr=!1)}var mi=Gr.getGlobalScale();ii.setScale(mi[0],mi[1],Gr.segmentIgnoreThreshold);var gi,yi;Yr.setLineDash&&Wr.lineDash&&(Kr=Iv(Gr),gi=Kr[0],yi=Kr[1]);var Si=!0;(ri||ni&Hu)&&(ii.setDPR(Yr.dpr),ei?ii.setContext(null):(ii.setContext(Yr),Si=!1),ii.reset(),Gr.buildPath(ii,Gr.shape,Zr),ii.toStatic(),Gr.pathUpdated()),Si&&ii.rebuildPath(Yr,ei?ti:1),gi&&(Yr.setLineDash(gi),Yr.lineDashOffset=yi),Zr||(Wr.strokeFirst?(Jr&&PR(Yr,Wr),Qr&&MR(Yr,Wr)):(Qr&&MR(Yr,Wr),Jr&&PR(Yr,Wr))),gi&&Yr.setLineDash([])}function h7(Yr,Gr,Wr){var Zr=Gr.__image=Yd(Wr.image,Gr.__image,Gr,Gr.onload);if(!(!Zr||!Bc(Zr))){var Kr=Wr.x||0,Jr=Wr.y||0,Qr=Gr.getWidth(),ti=Gr.getHeight(),ei=Zr.width/Zr.height;if(Qr==null&&ti!=null?Qr=ti*ei:ti==null&&Qr!=null?ti=Qr/ei:Qr==null&&ti==null&&(Qr=Zr.width,ti=Zr.height),Wr.sWidth&&Wr.sHeight){var ri=Wr.sx||0,ii=Wr.sy||0;Yr.drawImage(Zr,ri,ii,Wr.sWidth,Wr.sHeight,Kr,Jr,Qr,ti)}else if(Wr.sx&&Wr.sy){var ri=Wr.sx,ii=Wr.sy,ni=Qr-ri,ai=ti-ii;Yr.drawImage(Zr,ri,ii,ni,ai,Kr,Jr,Qr,ti)}else Yr.drawImage(Zr,Kr,Jr,Qr,ti)}}function c7(Yr,Gr,Wr){var Zr,Kr=Wr.text;if(Kr!=null&&(Kr+=""),Kr){Yr.font=Wr.font||is,Yr.textAlign=Wr.textAlign,Yr.textBaseline=Wr.textBaseline;var Jr=void 0,Qr=void 0;Yr.setLineDash&&Wr.lineDash&&(Zr=Iv(Gr),Jr=Zr[0],Qr=Zr[1]),Jr&&(Yr.setLineDash(Jr),Yr.lineDashOffset=Qr),Wr.strokeFirst?(y0(Wr)&&Yr.strokeText(Kr,Wr.x,Wr.y),x0(Wr)&&Yr.fillText(Kr,Wr.x,Wr.y)):(x0(Wr)&&Yr.fillText(Kr,Wr.x,Wr.y),y0(Wr)&&Yr.strokeText(Kr,Wr.x,Wr.y)),Jr&&Yr.setLineDash([])}}var ER=["shadowBlur","shadowOffsetX","shadowOffsetY"],DR=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function zR(Yr,Gr,Wr,Zr,Kr){var Jr=!1;if(!Zr&&(Wr=Wr||{},Gr===Wr))return!1;if(Zr||Gr.opacity!==Wr.opacity){qo(Yr,Kr),Jr=!0;var Qr=Math.max(Math.min(Gr.opacity,1),0);Yr.globalAlpha=isNaN(Qr)?Al.opacity:Qr}(Zr||Gr.blend!==Wr.blend)&&(Jr||(qo(Yr,Kr),Jr=!0),Yr.globalCompositeOperation=Gr.blend||Al.blend);for(var ti=0;ti<ER.length;ti++){var ei=ER[ti];(Zr||Gr[ei]!==Wr[ei])&&(Jr||(qo(Yr,Kr),Jr=!0),Yr[ei]=Yr.dpr*(Gr[ei]||0))}return(Zr||Gr.shadowColor!==Wr.shadowColor)&&(Jr||(qo(Yr,Kr),Jr=!0),Yr.shadowColor=Gr.shadowColor||Al.shadowColor),Jr}function IR(Yr,Gr,Wr,Zr,Kr){var Jr=Lv(Gr,Kr.inHover),Qr=Zr?null:Wr&&Lv(Wr,Kr.inHover)||{};if(Jr===Qr)return!1;var ti=zR(Yr,Jr,Qr,Zr,Kr);if((Zr||Jr.fill!==Qr.fill)&&(ti||(qo(Yr,Kr),ti=!0),AR(Jr.fill)&&(Yr.fillStyle=Jr.fill)),(Zr||Jr.stroke!==Qr.stroke)&&(ti||(qo(Yr,Kr),ti=!0),AR(Jr.stroke)&&(Yr.strokeStyle=Jr.stroke)),(Zr||Jr.opacity!==Qr.opacity)&&(ti||(qo(Yr,Kr),ti=!0),Yr.globalAlpha=Jr.opacity==null?1:Jr.opacity),Gr.hasStroke()){var ei=Jr.lineWidth,ri=ei/(Jr.strokeNoScale&&Gr.getLineScale?Gr.getLineScale():1);Yr.lineWidth!==ri&&(ti||(qo(Yr,Kr),ti=!0),Yr.lineWidth=ri)}for(var ii=0;ii<DR.length;ii++){var ni=DR[ii],ai=ni[0];(Zr||Jr[ai]!==Qr[ai])&&(ti||(qo(Yr,Kr),ti=!0),Yr[ai]=Jr[ai]||ni[1])}return ti}function p7(Yr,Gr,Wr,Zr,Kr){return zR(Yr,Lv(Gr,Kr.inHover),Wr&&Lv(Wr,Kr.inHover),Zr,Kr)}function NR(Yr,Gr){var Wr=Gr.transform,Zr=Yr.dpr||1;Wr?Yr.setTransform(Zr*Wr[0],Zr*Wr[1],Zr*Wr[2],Zr*Wr[3],Zr*Wr[4],Zr*Wr[5]):Yr.setTransform(Zr,0,0,Zr,0,0)}function d7(Yr,Gr,Wr){for(var Zr=!1,Kr=0;Kr<Yr.length;Kr++){var Jr=Yr[Kr];Zr=Zr||Jr.isZeroArea(),NR(Gr,Jr),Gr.beginPath(),Jr.buildPath(Gr,Jr.shape),Gr.clip()}Wr.allClipped=Zr}function v7(Yr,Gr){return Yr&&Gr?Yr[0]!==Gr[0]||Yr[1]!==Gr[1]||Yr[2]!==Gr[2]||Yr[3]!==Gr[3]||Yr[4]!==Gr[4]||Yr[5]!==Gr[5]:!(!Yr&&!Gr)}var LR=1,kR=2,RR=3,OR=4;function m7(Yr){var Gr=x0(Yr),Wr=y0(Yr);return!(Yr.lineDash||!(+Gr^+Wr)||Gr&&typeof Yr.fill!="string"||Wr&&typeof Yr.stroke!="string"||Yr.strokePercent<1||Yr.strokeOpacity<1||Yr.fillOpacity<1)}function qo(Yr,Gr){Gr.batchFill&&Yr.fill(),Gr.batchStroke&&Yr.stroke(),Gr.batchFill="",Gr.batchStroke=""}function Lv(Yr,Gr){return Gr&&Yr.__hoverStyle||Yr.style}function b0(Yr,Gr){hf(Yr,Gr,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function hf(Yr,Gr,Wr,Zr){var Kr=Gr.transform;if(!Gr.shouldBePainted(Wr.viewWidth,Wr.viewHeight,!1,!1)){Gr.__dirty&=~Ra,Gr.__isRendered=!1;return}var Jr=Gr.__clipPaths,Qr=Wr.prevElClipPaths,ti=!1,ei=!1;if((!Qr||TR(Jr,Qr))&&(Qr&&Qr.length&&(qo(Yr,Wr),Yr.restore(),ei=ti=!0,Wr.prevElClipPaths=null,Wr.allClipped=!1,Wr.prevEl=null),Jr&&Jr.length&&(qo(Yr,Wr),Yr.save(),d7(Jr,Yr,Wr),ti=!0),Wr.prevElClipPaths=Jr),Wr.allClipped){Gr.__isRendered=!1;return}Gr.beforeBrush&&Gr.beforeBrush(),Gr.innerBeforeBrush();var ri=Wr.prevEl;ri||(ei=ti=!0);var ii=Gr instanceof an&&Gr.autoBatch&&m7(Gr.style);ti||v7(Kr,ri.transform)?(qo(Yr,Wr),NR(Yr,Gr)):ii||qo(Yr,Wr);var ni=Lv(Gr,Wr.inHover);Gr instanceof an?(Wr.lastDrawType!==LR&&(ei=!0,Wr.lastDrawType=LR),IR(Yr,Gr,ri,ei,Wr),(!ii||!Wr.batchFill&&!Wr.batchStroke)&&Yr.beginPath(),f7(Yr,Gr,ni,ii),ii&&(Wr.batchFill=ni.fill||"",Wr.batchStroke=ni.stroke||"")):Gr instanceof su?(Wr.lastDrawType!==RR&&(ei=!0,Wr.lastDrawType=RR),IR(Yr,Gr,ri,ei,Wr),c7(Yr,Gr,ni)):Gr instanceof Kn?(Wr.lastDrawType!==kR&&(ei=!0,Wr.lastDrawType=kR),p7(Yr,Gr,ri,ei,Wr),h7(Yr,Gr,ni)):Gr.getTemporalDisplayables&&(Wr.lastDrawType!==OR&&(ei=!0,Wr.lastDrawType=OR),g7(Yr,Gr,Wr)),ii&&Zr&&qo(Yr,Wr),Gr.innerAfterBrush(),Gr.afterBrush&&Gr.afterBrush(),Wr.prevEl=Gr,Gr.__dirty=0,Gr.__isRendered=!0}function g7(Yr,Gr,Wr){var Zr=Gr.getDisplayables(),Kr=Gr.getTemporalDisplayables();Yr.save();var Jr={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:Wr.viewWidth,viewHeight:Wr.viewHeight,inHover:Wr.inHover},Qr,ti;for(Qr=Gr.getCursor(),ti=Zr.length;Qr<ti;Qr++){var ei=Zr[Qr];ei.beforeBrush&&ei.beforeBrush(),ei.innerBeforeBrush(),hf(Yr,ei,Jr,Qr===ti-1),ei.innerAfterBrush(),ei.afterBrush&&ei.afterBrush(),Jr.prevEl=ei}for(var ri=0,ii=Kr.length;ri<ii;ri++){var ei=Kr[ri];ei.beforeBrush&&ei.beforeBrush(),ei.innerBeforeBrush(),hf(Yr,ei,Jr,ri===ii-1),ei.innerAfterBrush(),ei.afterBrush&&ei.afterBrush(),Jr.prevEl=ei}Gr.clearTemporalDisplayables(),Gr.notClear=!0,Yr.restore()}var uw=new wR,FR=new nu(100),VR=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ul(Yr,Gr){if(Yr==="none")return null;var Wr=Gr.getDevicePixelRatio(),Zr=Gr.getZr(),Kr=Zr.painter.type==="svg";Yr.dirty&&uw.delete(Yr);var Jr=uw.get(Yr);if(Jr)return Jr;var Qr=Yi(Yr,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});Qr.backgroundColor==="none"&&(Qr.backgroundColor=null);var ti={repeat:"repeat"};return ei(ti),ti.rotation=Qr.rotation,ti.scaleX=ti.scaleY=Kr?1:1/Wr,uw.set(Yr,ti),Yr.dirty=!1,ti;function ei(ri){for(var ii=[Wr],ni=!0,ai=0;ai<VR.length;++ai){var oi=Qr[VR[ai]];if(oi!=null&&!Ri(oi)&&!Ni(oi)&&!gn(oi)&&typeof oi!="boolean"){ni=!1;break}ii.push(oi)}var si;if(ni){si=ii.join(",")+(Kr?"-svg":"");var li=FR.get(si);li&&(Kr?ri.svgElement=li:ri.image=li)}var ui=UR(Qr.dashArrayX),fi=y7(Qr.dashArrayY),hi=BR(Qr.symbol),ci=x7(ui),pi=GR(fi),di=!Kr&&fo.createCanvas(),vi=Kr&&{tag:"g",attrs:{},key:"dcl",children:[]},mi=yi(),gi;di&&(di.width=mi.width*Wr,di.height=mi.height*Wr,gi=di.getContext("2d")),Si(),ni&&FR.put(si,di||vi),ri.image=di,ri.svgElement=vi,ri.svgWidth=mi.width,ri.svgHeight=mi.height;function yi(){for(var bi=1,Ti=0,Ai=ci.length;Ti<Ai;++Ti)bi=TS(bi,ci[Ti]);for(var Ei=1,Ti=0,Ai=hi.length;Ti<Ai;++Ti)Ei=TS(Ei,hi[Ti].length);bi*=Ei;var Mi=pi*ci.length*hi.length;if(0)var wi;return{width:Math.max(1,Math.min(bi,Qr.maxTileWidth)),height:Math.max(1,Math.min(Mi,Qr.maxTileHeight))}}function Si(){gi&&(gi.clearRect(0,0,di.width,di.height),Qr.backgroundColor&&(gi.fillStyle=Qr.backgroundColor,gi.fillRect(0,0,di.width,di.height)));for(var bi=0,Ti=0;Ti<fi.length;++Ti)bi+=fi[Ti];if(bi<=0)return;for(var Ai=-pi,Ei=0,Mi=0,wi=0;Ai<mi.height;){if(Ei%2===0){for(var Pi=Mi/2%hi.length,xi=0,Ci=0,Li=0;xi<mi.width*2;){for(var Ii=0,Ti=0;Ti<ui[wi].length;++Ti)Ii+=ui[wi][Ti];if(Ii<=0)break;if(Ci%2===0){var zi=(1-Qr.symbolSize)*.5,Bi=xi+ui[wi][Ci]*zi,Vi=Ai+fi[Ei]*zi,ji=ui[wi][Ci]*Qr.symbolSize,tn=fi[Ei]*Qr.symbolSize,hn=Li/2%hi[Pi].length;nn(Bi,Vi,ji,tn,hi[Pi][hn])}xi+=ui[wi][Ci],++Li,++Ci,Ci===ui[wi].length&&(Ci=0)}++wi,wi===ui.length&&(wi=0)}Ai+=fi[Ei],++Mi,++Ei,Ei===fi.length&&(Ei=0)}function nn(dn,cn,Ji,vn,pn){var Xi=Kr?1:Wr,Nn=Bn(pn,dn*Xi,cn*Xi,Ji*Xi,vn*Xi,Qr.color,Qr.symbolKeepAspect);if(Kr){var Wn=Zr.painter.renderOneToVNode(Nn);Wn&&vi.children.push(Wn)}else b0(gi,Nn)}}}}function BR(Yr){if(!Yr||Yr.length===0)return[["rect"]];if(Ni(Yr))return[[Yr]];for(var Gr=!0,Wr=0;Wr<Yr.length;++Wr)if(!Ni(Yr[Wr])){Gr=!1;break}if(Gr)return BR([Yr]);for(var Zr=[],Wr=0;Wr<Yr.length;++Wr)Ni(Yr[Wr])?Zr.push([Yr[Wr]]):Zr.push(Yr[Wr]);return Zr}function UR(Yr){if(!Yr||Yr.length===0)return[[0,0]];if(gn(Yr)){var Gr=Math.ceil(Yr);return[[Gr,Gr]]}for(var Wr=!0,Zr=0;Zr<Yr.length;++Zr)if(!gn(Yr[Zr])){Wr=!1;break}if(Wr)return UR([Yr]);for(var Kr=[],Zr=0;Zr<Yr.length;++Zr)if(gn(Yr[Zr])){var Gr=Math.ceil(Yr[Zr]);Kr.push([Gr,Gr])}else{var Gr=Oi(Yr[Zr],function(ti){return Math.ceil(ti)});Gr.length%2===1?Kr.push(Gr.concat(Gr)):Kr.push(Gr)}return Kr}function y7(Yr){if(!Yr||typeof Yr=="object"&&Yr.length===0)return[0,0];if(gn(Yr)){var Gr=Math.ceil(Yr);return[Gr,Gr]}var Wr=Oi(Yr,function(Zr){return Math.ceil(Zr)});return Yr.length%2?Wr.concat(Wr):Wr}function x7(Yr){return Oi(Yr,function(Gr){return GR(Gr)})}function GR(Yr){for(var Gr=0,Wr=0;Wr<Yr.length;++Wr)Gr+=Yr[Wr];return Yr.length%2===1?Gr*2:Gr}function fw(Yr,Gr){Yr.eachRawSeries(function(Wr){if(!Yr.isSeriesFiltered(Wr)){var Zr=Wr.getData();Zr.hasItemVisual()&&Zr.each(function(Qr){var ti=Zr.getItemVisual(Qr,"decal");if(ti){var ei=Zr.ensureUniqueItemVisual(Qr,"style");ei.decal=ul(ti,Gr)}});var Kr=Zr.getVisual("decal");if(Kr){var Jr=Zr.getVisual("style");Jr.decal=ul(Kr,Gr)}}})}var _7=new Ia,fl=_7;var HR={};function WR(Yr,Gr){HR[Yr]=Gr}function YR(Yr){return HR[Yr]}var b7=1,S7=800,w7=900,C7=1e3,T7=2e3,A7=5e3,eO=1e3,M7=1100,Sw=2e3,rO=3e3,P7=4e3,A0=4500,E7=4600,D7=5e3,I7=6e3,iO=7e3,nO={PROCESSOR:{FILTER:C7,SERIES_FILTER:S7,STATISTIC:A7},VISUAL:{LAYOUT:eO,PROGRESSIVE_LAYOUT:M7,GLOBAL:Sw,CHART:rO,POST_CHART_LAYOUT:E7,COMPONENT:P7,BRUSH:D7,CHART_ITEM:A0,ARIA:I7,DECAL:iO}},yo="__flagInMainProcess",Zo="__pendingUpdate",hw="__needsUpdateStatus",XR=/^[a-zA-Z0-9_]+$/,cw="__connectUpdateStatus",qR=0,L7=1,k7=2;function aO(Yr){return function(){for(var Gr=[],Wr=0;Wr<arguments.length;Wr++)Gr[Wr]=arguments[Wr];if(this.isDisposed()){this.id;return}return sO(this,Yr,Gr)}}function oO(Yr){return function(){for(var Gr=[],Wr=0;Wr<arguments.length;Wr++)Gr[Wr]=arguments[Wr];return sO(this,Yr,Gr)}}function sO(Yr,Gr,Wr){return Wr[0]=Wr[0]&&Wr[0].toLowerCase(),Ia.prototype[Gr].apply(Yr,Wr)}var lO=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr}(Ia),uO=lO.prototype;uO.on=oO("on");uO.off=oO("off");var hp,pw,S0,cf,dw,vw,mw,kv,Rv,ZR,jR,gw,KR,w0,$R,R7,Os,JR,O7=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this,new yR)||this;Jr._chartsViews=[],Jr._chartsMap={},Jr._componentsViews=[],Jr._componentsMap={},Jr._pendingActions=[],Kr=Kr||{},Ni(Zr)&&(Zr=fO[Zr]),Jr._dom=Wr;var Qr="canvas",ti="auto",ei=!1;if(0)var ri;Kr.ssr&&EI(function(oi){var si=Qi(oi),li=si.dataIndex;if(li!=null){var ui=Hi();return ui.set("series_index",si.seriesIndex),ui.set("data_index",li),si.ssrType&&ui.set("ssr_type",si.ssrType),ui}});var ii=Jr._zr=bS(Wr,{renderer:Kr.renderer||Qr,devicePixelRatio:Kr.devicePixelRatio,width:Kr.width,height:Kr.height,ssr:Kr.ssr,useDirtyRect:on(Kr.useDirtyRect,ei),useCoarsePointer:on(Kr.useCoarsePointer,ti),pointerSize:Kr.pointerSize});Jr._ssr=Kr.ssr,Jr._throttledZrFlush=Tv(Gi(ii.flush,ii),17),Zr=Ki(Zr),Zr&&Ky(Zr,!0),Jr._theme=Zr,Jr._locale=Xk(Kr.locale||Ry),Jr._coordSysMgr=new xu;var ni=Jr._api=$R(Jr);function ai(oi,si){return oi.__prio-si.__prio}return ih(T0,ai),ih(xw,ai),Jr._scheduler=new ow(Jr,ni,xw,T0),Jr._messageCenter=new lO,Jr._initEvents(),Jr.resize=Gi(Jr.resize,Jr),ii.animation.on("frame",Jr._onframe,Jr),ZR(ii,Jr),jR(ii,Jr),$f(Jr),Jr}return Gr.prototype._onframe=function(){if(!this._disposed){JR(this);var Wr=this._scheduler;if(this[Zo]){var Zr=this[Zo].silent;this[yo]=!0;try{hp(this),cf.update.call(this,null,this[Zo].updateParams)}catch(ei){throw this[yo]=!1,this[Zo]=null,ei}this._zr.flush(),this[yo]=!1,this[Zo]=null,kv.call(this,Zr),Rv.call(this,Zr)}else if(Wr.unfinished){var Kr=b7,Jr=this._model,Qr=this._api;Wr.unfinished=!1;do{var ti=+new Date;Wr.performSeriesTasks(Jr),Wr.performDataProcessorTasks(Jr),vw(this,Jr),Wr.performVisualTasks(Jr),w0(this,this._model,Qr,"remain",{}),Kr-=+new Date-ti}while(Kr>0&&Wr.unfinished);Wr.unfinished||this._zr.flush()}}},Gr.prototype.getDom=function(){return this._dom},Gr.prototype.getId=function(){return this.id},Gr.prototype.getZr=function(){return this._zr},Gr.prototype.isSSR=function(){return this._ssr},Gr.prototype.setOption=function(Wr,Zr,Kr){if(!this[yo]){if(this._disposed){this.id;return}var Jr,Qr,ti;if(qi(Zr)&&(Kr=Zr.lazyUpdate,Jr=Zr.silent,Qr=Zr.replaceMerge,ti=Zr.transition,Zr=Zr.notMerge),this[yo]=!0,!this._model||Zr){var ei=new _2(this._api),ri=this._theme,ii=this._model=new Zy;ii.scheduler=this._scheduler,ii.ssr=this._ssr,ii.init(null,null,null,ri,this._locale,ei)}this._model.setOption(Wr,{replaceMerge:Qr},_w);var ni={seriesTransition:ti,optionChanged:!0};if(Kr)this[Zo]={silent:Jr,updateParams:ni},this[yo]=!1,this.getZr().wakeUp();else{try{hp(this),cf.update.call(this,null,ni)}catch(ai){throw this[Zo]=null,this[yo]=!1,ai}this._ssr||this._zr.flush(),this[Zo]=null,this[yo]=!1,kv.call(this,Jr),Rv.call(this,Jr)}}},Gr.prototype.setTheme=function(){},Gr.prototype.getModel=function(){return this._model},Gr.prototype.getOption=function(){return this._model&&this._model.getOption()},Gr.prototype.getWidth=function(){return this._zr.getWidth()},Gr.prototype.getHeight=function(){return this._zr.getHeight()},Gr.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Cn.hasGlobalWindow&&window.devicePixelRatio||1},Gr.prototype.getRenderedCanvas=function(Wr){return this.renderToCanvas(Wr)},Gr.prototype.renderToCanvas=function(Wr){Wr=Wr||{};var Zr=this._zr.painter;return Zr.getRenderedCanvas({backgroundColor:Wr.backgroundColor||this._model.get("backgroundColor"),pixelRatio:Wr.pixelRatio||this.getDevicePixelRatio()})},Gr.prototype.renderToSVGString=function(Wr){Wr=Wr||{};var Zr=this._zr.painter;return Zr.renderToString({useViewBox:Wr.useViewBox})},Gr.prototype.getSvgDataURL=function(){if(Cn.svgSupported){var Wr=this._zr,Zr=Wr.storage.getDisplayList();return _i(Zr,function(Kr){Kr.stopAnimation(null,!0)}),Wr.painter.toDataURL()}},Gr.prototype.getDataURL=function(Wr){if(this._disposed){this.id;return}Wr=Wr||{};var Zr=Wr.excludeComponents,Kr=this._model,Jr=[],Qr=this;_i(Zr,function(ei){Kr.eachComponent({mainType:ei},function(ri){var ii=Qr._componentsMap[ri.__viewId];ii.group.ignore||(Jr.push(ii),ii.group.ignore=!0)})});var ti=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(Wr).toDataURL("image/"+(Wr&&Wr.type||"png"));return _i(Jr,function(ei){ei.group.ignore=!1}),ti},Gr.prototype.getConnectedDataURL=function(Wr){if(this._disposed){this.id;return}var Zr=Wr.type==="svg",Kr=this.group,Jr=Math.min,Qr=Math.max,ti=1/0;if(QR[Kr]){var ei=ti,ri=ti,ii=-ti,ni=-ti,ai=[],oi=Wr&&Wr.pixelRatio||this.getDevicePixelRatio();_i(yw,function(ci,pi){if(ci.group===Kr){var di=Zr?ci.getZr().painter.getSvgDom().innerHTML:ci.renderToCanvas(Ki(Wr)),vi=ci.getDom().getBoundingClientRect();ei=Jr(vi.left,ei),ri=Jr(vi.top,ri),ii=Qr(vi.right,ii),ni=Qr(vi.bottom,ni),ai.push({dom:di,left:vi.left,top:vi.top})}}),ei*=oi,ri*=oi,ii*=oi,ni*=oi;var si=ii-ei,li=ni-ri,ui=fo.createCanvas(),fi=bS(ui,{renderer:Zr?"svg":"canvas"});if(fi.resize({width:si,height:li}),Zr){var hi="";return _i(ai,function(ci){var pi=ci.left-ei,di=ci.top-ri;hi+='<g transform="translate('+pi+","+di+')">'+ci.dom+"</g>"}),fi.painter.getSvgRoot().innerHTML=hi,Wr.connectedBackgroundColor&&fi.painter.setBackgroundColor(Wr.connectedBackgroundColor),fi.refreshImmediately(),fi.painter.toDataURL()}else return Wr.connectedBackgroundColor&&fi.add(new mn({shape:{x:0,y:0,width:si,height:li},style:{fill:Wr.connectedBackgroundColor}})),_i(ai,function(ci){var pi=new Kn({style:{x:ci.left*oi-ei,y:ci.top*oi-ri,image:ci.dom}});fi.add(pi)}),fi.refreshImmediately(),ui.toDataURL("image/"+(Wr&&Wr.type||"png"))}else return this.getDataURL(Wr)},Gr.prototype.convertToPixel=function(Wr,Zr){return dw(this,"convertToPixel",Wr,Zr)},Gr.prototype.convertFromPixel=function(Wr,Zr){return dw(this,"convertFromPixel",Wr,Zr)},Gr.prototype.containPixel=function(Wr,Zr){if(this._disposed){this.id;return}var Kr=this._model,Jr,Qr=ju(Kr,Wr);return _i(Qr,function(ti,ei){ei.indexOf("Models")>=0&&_i(ti,function(ri){var ii=ri.coordinateSystem;if(ii&&ii.containPoint)Jr=Jr||!!ii.containPoint(Zr);else if(ei==="seriesModels"){var ni=this._chartsMap[ri.__viewId];ni&&ni.containPoint&&(Jr=Jr||ni.containPoint(Zr,ri))}},this)},this),!!Jr},Gr.prototype.getVisual=function(Wr,Zr){var Kr=this._model,Jr=ju(Kr,Wr,{defaultMainType:"series"}),Qr=Jr.seriesModel,ti=Qr.getData(),ei=Jr.hasOwnProperty("dataIndexInside")?Jr.dataIndexInside:Jr.hasOwnProperty("dataIndex")?ti.indexOfRawIndex(Jr.dataIndex):null;return ei!=null?Pv(ti,ei,Zr):Ol(ti,Zr)},Gr.prototype.getViewOfComponentModel=function(Wr){return this._componentsMap[Wr.__viewId]},Gr.prototype.getViewOfSeriesModel=function(Wr){return this._chartsMap[Wr.__viewId]},Gr.prototype._initEvents=function(){var Wr=this;_i(z7,function(Zr){var Kr=function(Jr){var Qr=Wr.getModel(),ti=Jr.target,ei,ri=Zr==="globalout";if(ri?ei={}:ti&&sl(ti,function(si){var li=Qi(si);if(li&&li.dataIndex!=null){var ui=li.dataModel||Qr.getSeriesByIndex(li.seriesIndex);return ei=ui&&ui.getDataParams(li.dataIndex,li.dataType,ti)||{},!0}else if(li.eventData)return ei=ki({},li.eventData),!0},!0),ei){var ii=ei.componentType,ni=ei.componentIndex;(ii==="markLine"||ii==="markPoint"||ii==="markArea")&&(ii="series",ni=ei.seriesIndex);var ai=ii&&ni!=null&&Qr.getComponent(ii,ni),oi=ai&&Wr[ai.mainType==="series"?"_chartsMap":"_componentsMap"][ai.__viewId];ei.event=Jr,ei.type=Zr,Wr._$eventProcessor.eventInfo={targetEl:ti,packedEvent:ei,model:ai,view:oi},Wr.trigger(Zr,ei)}};Kr.zrEventfulCallAtLast=!0,Wr._zr.on(Zr,Kr,Wr)}),_i(Ov,function(Zr,Kr){Wr._messageCenter.on(Kr,function(Jr){this.trigger(Kr,Jr)},Wr)}),_i(["selectchanged"],function(Zr){Wr._messageCenter.on(Zr,function(Kr){this.trigger(Zr,Kr)},Wr)}),SR(this._messageCenter,this,this._api)},Gr.prototype.isDisposed=function(){return this._disposed},Gr.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},Gr.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var Wr=this.getDom();Wr&&qI(this.getDom(),N7,"");var Zr=this,Kr=Zr._api,Jr=Zr._model;_i(Zr._componentsViews,function(Qr){Qr.dispose(Jr,Kr)}),_i(Zr._chartsViews,function(Qr){Qr.dispose(Jr,Kr)}),Zr._zr.dispose(),Zr._dom=Zr._model=Zr._chartsMap=Zr._componentsMap=Zr._chartsViews=Zr._componentsViews=Zr._scheduler=Zr._api=Zr._zr=Zr._throttledZrFlush=Zr._theme=Zr._coordSysMgr=Zr._messageCenter=null,delete yw[Zr.id]},Gr.prototype.resize=function(Wr){if(!this[yo]){if(this._disposed){this.id;return}this._zr.resize(Wr);var Zr=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!Zr){var Kr=Zr.resetOption("media"),Jr=Wr&&Wr.silent;this[Zo]&&(Jr==null&&(Jr=this[Zo].silent),Kr=!0,this[Zo]=null),this[yo]=!0;try{Kr&&hp(this),cf.update.call(this,{type:"resize",animation:ki({duration:0},Wr&&Wr.animation)})}catch(Qr){throw this[yo]=!1,Qr}this[yo]=!1,kv.call(this,Jr),Rv.call(this,Jr)}}},Gr.prototype.showLoading=function(Wr,Zr){if(this._disposed){this.id;return}if(qi(Wr)&&(Zr=Wr,Wr=""),Wr=Wr||"default",this.hideLoading(),!!bw[Wr]){var Kr=bw[Wr](this._api,Zr),Jr=this._zr;this._loadingFX=Kr,Jr.add(Kr)}},Gr.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Gr.prototype.makeActionFromEvent=function(Wr){var Zr=ki({},Wr);return Zr.type=Ov[Wr.type],Zr},Gr.prototype.dispatchAction=function(Wr,Zr){if(this._disposed){this.id;return}if(qi(Zr)||(Zr={silent:!!Zr}),!!C0[Wr.type]&&this._model){if(this[yo]){this._pendingActions.push(Wr);return}var Kr=Zr.silent;mw.call(this,Wr,Kr);var Jr=Zr.flush;Jr?this._zr.flush():Jr!==!1&&Cn.browser.weChat&&this._throttledZrFlush(),kv.call(this,Kr),Rv.call(this,Kr)}},Gr.prototype.updateLabelLayout=function(){fl.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Gr.prototype.appendData=function(Wr){if(this._disposed){this.id;return}var Zr=Wr.seriesIndex,Kr=this.getModel(),Jr=Kr.getSeriesByIndex(Zr);Jr.appendData(Wr),this._scheduler.unfinished=!0,this.getZr().wakeUp()},Gr.internalField=function(){hp=function(ni){var ai=ni._scheduler;ai.restorePipelines(ni._model),ai.prepareStageTasks(),pw(ni,!0),pw(ni,!1),ai.plan()},pw=function(ni,ai){for(var oi=ni._model,si=ni._scheduler,li=ai?ni._componentsViews:ni._chartsViews,ui=ai?ni._componentsMap:ni._chartsMap,fi=ni._zr,hi=ni._api,ci=0;ci<li.length;ci++)li[ci].__alive=!1;ai?oi.eachComponent(function(vi,mi){vi!=="series"&&pi(mi)}):oi.eachSeries(pi);function pi(vi){var mi=vi.__requireNewView;vi.__requireNewView=!1;var gi="_ec_"+vi.id+"_"+vi.type,yi=!mi&&ui[gi];if(!yi){var Si=Bo(vi.type),bi=ai?Dn.getClass(Si.main,Si.sub):An.getClass(Si.sub);yi=new bi,yi.init(oi,hi),ui[gi]=yi,li.push(yi),fi.add(yi.group)}vi.__viewId=yi.__id=gi,yi.__alive=!0,yi.__model=vi,yi.group.__ecComponentInfo={mainType:vi.mainType,index:vi.componentIndex},!ai&&si.prepareView(yi,vi,oi,hi)}for(var ci=0;ci<li.length;){var di=li[ci];di.__alive?ci++:(!ai&&di.renderTask.dispose(),fi.remove(di.group),di.dispose(oi,hi),li.splice(ci,1),ui[di.__id]===di&&delete ui[di.__id],di.__id=di.group.__ecComponentInfo=null)}},S0=function(ni,ai,oi,si,li){var ui=ni._model;if(ui.setUpdatePayload(oi),!si){_i([].concat(ni._componentsViews).concat(ni._chartsViews),di);return}var fi={};fi[si+"Id"]=oi[si+"Id"],fi[si+"Index"]=oi[si+"Index"],fi[si+"Name"]=oi[si+"Name"];var hi={mainType:si,query:fi};li&&(hi.subType=li);var ci=oi.excludeSeriesId,pi;ci!=null&&(pi=Hi(),_i(En(ci),function(vi){var mi=aa(vi,null);mi!=null&&pi.set(mi,!0)})),ui&&ui.eachComponent(hi,function(vi){var mi=pi&&pi.get(vi.id)!=null;if(!mi)if(e1(oi))if(vi instanceof Pn)oi.type===nf&&!oi.notBlur&&!vi.get(["emphasis","disabled"])&&qL(vi,oi,ni._api);else{var gi=dy(vi.mainType,vi.componentIndex,oi.name,ni._api),yi=gi.focusSelf,Si=gi.dispatchers;oi.type===nf&&yi&&!oi.notBlur&&hy(vi.mainType,vi.componentIndex,ni._api),Si&&_i(Si,function(bi){oi.type===nf?ho(bi):co(bi)})}else my(oi)&&vi instanceof Pn&&(KL(vi,oi,ni._api),t1(vi),Os(ni))},ni),ui&&ui.eachComponent(hi,function(vi){var mi=pi&&pi.get(vi.id)!=null;mi||di(ni[si==="series"?"_chartsMap":"_componentsMap"][vi.__viewId])},ni);function di(vi){vi&&vi.__alive&&vi[ai]&&vi[ai](vi.__model,ui,ni._api,oi)}},cf={prepareAndUpdate:function(ni){hp(this),cf.update.call(this,ni,{optionChanged:ni.newOption!=null})},update:function(ni,ai){var oi=this._model,si=this._api,li=this._zr,ui=this._coordSysMgr,fi=this._scheduler;if(oi){oi.setUpdatePayload(ni),fi.restoreData(oi,ni),fi.performSeriesTasks(oi),ui.create(oi,si),fi.performDataProcessorTasks(oi,ni),vw(this,oi),ui.update(oi,si),Wr(oi),fi.performVisualTasks(oi,ni),gw(this,oi,si,ni,ai);var hi=oi.get("backgroundColor")||"transparent",ci=oi.get("darkMode");li.setBackgroundColor(hi),ci!=null&&ci!=="auto"&&li.setDarkMode(ci),fl.trigger("afterupdate",oi,si)}},updateTransform:function(ni){var ai=this,oi=this._model,si=this._api;if(oi){oi.setUpdatePayload(ni);var li=[];oi.eachComponent(function(fi,hi){if(fi!=="series"){var ci=ai.getViewOfComponentModel(hi);if(ci&&ci.__alive)if(ci.updateTransform){var pi=ci.updateTransform(hi,oi,si,ni);pi&&pi.update&&li.push(ci)}else li.push(ci)}});var ui=Hi();oi.eachSeries(function(fi){var hi=ai._chartsMap[fi.__viewId];if(hi.updateTransform){var ci=hi.updateTransform(fi,oi,si,ni);ci&&ci.update&&ui.set(fi.uid,1)}else ui.set(fi.uid,1)}),Wr(oi),this._scheduler.performVisualTasks(oi,ni,{setDirty:!0,dirtyMap:ui}),w0(this,oi,si,ni,{},ui),fl.trigger("afterupdate",oi,si)}},updateView:function(ni){var ai=this._model;ai&&(ai.setUpdatePayload(ni),An.markUpdateMethod(ni,"updateView"),Wr(ai),this._scheduler.performVisualTasks(ai,ni,{setDirty:!0}),gw(this,ai,this._api,ni,{}),fl.trigger("afterupdate",ai,this._api))},updateVisual:function(ni){var ai=this,oi=this._model;oi&&(oi.setUpdatePayload(ni),oi.eachSeries(function(si){si.getData().clearAllVisual()}),An.markUpdateMethod(ni,"updateVisual"),Wr(oi),this._scheduler.performVisualTasks(oi,ni,{visualType:"visual",setDirty:!0}),oi.eachComponent(function(si,li){if(si!=="series"){var ui=ai.getViewOfComponentModel(li);ui&&ui.__alive&&ui.updateVisual(li,oi,ai._api,ni)}}),oi.eachSeries(function(si){var li=ai._chartsMap[si.__viewId];li.updateVisual(si,oi,ai._api,ni)}),fl.trigger("afterupdate",oi,this._api))},updateLayout:function(ni){cf.update.call(this,ni)}},dw=function(ni,ai,oi,si){if(ni._disposed){ni.id;return}for(var li=ni._model,ui=ni._coordSysMgr.getCoordinateSystems(),fi,hi=ju(li,oi),ci=0;ci<ui.length;ci++){var pi=ui[ci];if(pi[ai]&&(fi=pi[ai](li,hi,si))!=null)return fi}},vw=function(ni,ai){var oi=ni._chartsMap,si=ni._scheduler;ai.eachSeries(function(li){si.updateStreamModes(li,oi[li.__viewId])})},mw=function(ni,ai){var oi=this,si=this.getModel(),li=ni.type,ui=ni.escapeConnect,fi=C0[li],hi=fi.actionInfo,ci=(hi.update||"update").split(":"),pi=ci.pop(),di=ci[0]!=null&&Bo(ci[0]);this[yo]=!0;var vi=[ni],mi=!1;ni.batch&&(mi=!0,vi=Oi(ni.batch,function(Ei){return Ei=Yi(ki({},Ei),ni),Ei.batch=null,Ei}));var gi=[],yi,Si=my(ni),bi=e1(ni);if(bi&&QS(this._api),_i(vi,function(Ei){if(yi=fi.action(Ei,oi._model,oi._api),yi=yi||ki({},Ei),yi.type=hi.event||yi.type,gi.push(yi),bi){var Mi=Hd(ni),wi=Mi.queryOptionMap,Pi=Mi.mainTypeSpecified,xi=Pi?wi.keys()[0]:"series";S0(oi,pi,Ei,xi),Os(oi)}else Si?(S0(oi,pi,Ei,"series"),Os(oi)):di&&S0(oi,pi,Ei,di.main,di.sub)}),pi!=="none"&&!bi&&!Si&&!di)try{this[Zo]?(hp(this),cf.update.call(this,ni),this[Zo]=null):cf[pi].call(this,ni)}catch(Ei){throw this[yo]=!1,Ei}if(mi?yi={type:hi.event||li,escapeConnect:ui,batch:gi}:yi=gi[0],this[yo]=!1,!ai){var Ti=this._messageCenter;if(Ti.trigger(yi.type,yi),Si){var Ai={type:"selectchanged",escapeConnect:ui,selected:$L(si),isFromClick:ni.isFromClick||!1,fromAction:ni.type,fromActionPayload:ni};Ti.trigger(Ai.type,Ai)}}},kv=function(ni){for(var ai=this._pendingActions;ai.length;){var oi=ai.shift();mw.call(this,oi,ni)}},Rv=function(ni){!ni&&this.trigger("updated")},ZR=function(ni,ai){ni.on("rendered",function(oi){ai.trigger("rendered",oi),ni.animation.isFinished()&&!ai[Zo]&&!ai._scheduler.unfinished&&!ai._pendingActions.length&&ai.trigger("finished")})},jR=function(ni,ai){ni.on("mouseover",function(oi){var si=oi.target,li=sl(si,af);li&&(ZL(li,oi,ai._api),Os(ai))}).on("mouseout",function(oi){var si=oi.target,li=sl(si,af);li&&(jL(li,oi,ai._api),Os(ai))}).on("click",function(oi){var si=oi.target,li=sl(si,function(hi){return Qi(hi).dataIndex!=null},!0);if(li){var ui=li.selected?"unselect":"select",fi=Qi(li);ai._api.dispatchAction({type:ui,dataType:fi.dataType,dataIndexInside:fi.dataIndex,seriesIndex:fi.seriesIndex,isFromClick:!0})}})};function Wr(ni){ni.clearColorPalette(),ni.eachSeries(function(ai){ai.clearColorPalette()})}function Zr(ni){var ai=[],oi=[],si=!1;if(ni.eachComponent(function(hi,ci){var pi=ci.get("zlevel")||0,di=ci.get("z")||0,vi=ci.getZLevelKey();si=si||!!vi,(hi==="series"?oi:ai).push({zlevel:pi,z:di,idx:ci.componentIndex,type:hi,key:vi})}),si){var li=ai.concat(oi),ui,fi;ih(li,function(hi,ci){return hi.zlevel===ci.zlevel?hi.z-ci.z:hi.zlevel-ci.zlevel}),_i(li,function(hi){var ci=ni.getComponent(hi.type,hi.idx),pi=hi.zlevel,di=hi.key;ui!=null&&(pi=Math.max(ui,pi)),di?(pi===ui&&di!==fi&&pi++,fi=di):fi&&(pi===ui&&pi++,fi=""),ui=pi,ci.setZLevel(pi)})}}gw=function(ni,ai,oi,si,li){Zr(ai),KR(ni,ai,oi,si,li),_i(ni._chartsViews,function(ui){ui.__alive=!1}),w0(ni,ai,oi,si,li),_i(ni._chartsViews,function(ui){ui.__alive||ui.remove(ai,oi)})},KR=function(ni,ai,oi,si,li,ui){_i(ui||ni._componentsViews,function(fi){var hi=fi.__model;ri(hi,fi),fi.render(hi,ai,oi,si),ti(hi,fi),ii(hi,fi)})},w0=function(ni,ai,oi,si,li,ui){var fi=ni._scheduler;li=ki(li||{},{updatedSeries:ai.getSeries()}),fl.trigger("series:beforeupdate",ai,oi,li);var hi=!1;ai.eachSeries(function(ci){var pi=ni._chartsMap[ci.__viewId];pi.__alive=!0;var di=pi.renderTask;fi.updatePayload(di,si),ri(ci,pi),ui&&ui.get(ci.uid)&&di.dirty(),di.perform(fi.getPerformArgs(di))&&(hi=!0),pi.group.silent=!!ci.get("silent"),Qr(ci,pi),t1(ci)}),fi.unfinished=hi||fi.unfinished,fl.trigger("series:layoutlabels",ai,oi,li),fl.trigger("series:transition",ai,oi,li),ai.eachSeries(function(ci){var pi=ni._chartsMap[ci.__viewId];ti(ci,pi),ii(ci,pi)}),Jr(ni,ai),fl.trigger("series:afterupdate",ai,oi,li)},Os=function(ni){ni[hw]=!0,ni.getZr().wakeUp()},JR=function(ni){ni[hw]&&(ni.getZr().storage.traverse(function(ai){hu(ai)||Kr(ai)}),ni[hw]=!1)};function Kr(ni){for(var ai=[],oi=ni.currentStates,si=0;si<oi.length;si++){var li=oi[si];li==="emphasis"||li==="blur"||li==="select"||ai.push(li)}ni.selected&&ni.states.select&&ai.push("select"),ni.hoverState===Kd&&ni.states.emphasis?ai.push("emphasis"):ni.hoverState===Ah&&ni.states.blur&&ai.push("blur"),ni.useStates(ai)}function Jr(ni,ai){var oi=ni._zr,si=oi.storage,li=0;si.traverse(function(ui){ui.isGroup||li++}),li>ai.get("hoverLayerThreshold")&&!Cn.node&&!Cn.worker&&ai.eachSeries(function(ui){if(!ui.preventUsingHoverLayer){var fi=ni._chartsMap[ui.__viewId];fi.__alive&&fi.eachRendered(function(hi){hi.states.emphasis&&(hi.states.emphasis.hoverLayer=!0)})}})}function Qr(ni,ai){var oi=ni.get("blendMode")||null;ai.eachRendered(function(si){si.isGroup||(si.style.blend=oi)})}function ti(ni,ai){if(!ni.preventAutoZ){var oi=ni.get("z")||0,si=ni.get("zlevel")||0;ai.eachRendered(function(li){return ei(li,oi,si,-1/0),!0})}}function ei(ni,ai,oi,si){var li=ni.getTextContent(),ui=ni.getTextGuideLine(),fi=ni.isGroup;if(fi)for(var hi=ni.childrenRef(),ci=0;ci<hi.length;ci++)si=Math.max(ei(hi[ci],ai,oi,si),si);else ni.z=ai,ni.zlevel=oi,si=Math.max(ni.z2,si);if(li&&(li.z=ai,li.zlevel=oi,isFinite(si)&&(li.z2=si+2)),ui){var pi=ni.textGuideLineConfig;ui.z=ai,ui.zlevel=oi,isFinite(si)&&(ui.z2=si+(pi&&pi.showAbove?1:-1))}return si}function ri(ni,ai){ai.eachRendered(function(oi){if(!hu(oi)){var si=oi.getTextContent(),li=oi.getTextGuideLine();oi.stateTransition&&(oi.stateTransition=null),si&&si.stateTransition&&(si.stateTransition=null),li&&li.stateTransition&&(li.stateTransition=null),oi.hasState()?(oi.prevStates=oi.currentStates,oi.clearStates()):oi.prevStates&&(oi.prevStates=null)}})}function ii(ni,ai){var oi=ni.getModel("stateAnimation"),si=ni.isAnimationEnabled(),li=oi.get("duration"),ui=li>0?{duration:li,delay:oi.get("delay"),easing:oi.get("easing")}:null;ai.eachRendered(function(fi){if(fi.states&&fi.states.emphasis){if(hu(fi))return;if(fi instanceof an&&tk(fi),fi.__dirty){var hi=fi.prevStates;hi&&fi.useStates(hi)}if(si){fi.stateTransition=ui;var ci=fi.getTextContent(),pi=fi.getTextGuideLine();ci&&(ci.stateTransition=ui),pi&&(pi.stateTransition=ui)}fi.__dirty&&Kr(fi)}})}$R=function(ni){return new(function(ai){Di(oi,ai);function oi(){return ai!==null&&ai.apply(this,arguments)||this}return oi.prototype.getCoordinateSystems=function(){return ni._coordSysMgr.getCoordinateSystems()},oi.prototype.getComponentByElement=function(si){for(;si;){var li=si.__ecComponentInfo;if(li!=null)return ni._model.getComponent(li.mainType,li.index);si=si.parent}},oi.prototype.enterEmphasis=function(si,li){ho(si,li),Os(ni)},oi.prototype.leaveEmphasis=function(si,li){co(si,li),Os(ni)},oi.prototype.enterBlur=function(si){py(si),Os(ni)},oi.prototype.leaveBlur=function(si){Qd(si),Os(ni)},oi.prototype.enterSelect=function(si){$S(si),Os(ni)},oi.prototype.leaveSelect=function(si){JS(si),Os(ni)},oi.prototype.getModel=function(){return ni.getModel()},oi.prototype.getViewOfComponentModel=function(si){return ni.getViewOfComponentModel(si)},oi.prototype.getViewOfSeriesModel=function(si){return ni.getViewOfSeriesModel(si)},oi}(jy))(ni)},R7=function(ni){function ai(oi,si){for(var li=0;li<oi.length;li++){var ui=oi[li];ui[cw]=si}}_i(Ov,function(oi,si){ni._messageCenter.on(si,function(li){if(QR[ni.group]&&ni[cw]!==qR){if(li&&li.escapeConnect)return;var ui=ni.makeActionFromEvent(li),fi=[];_i(yw,function(hi){hi!==ni&&hi.group===ni.group&&fi.push(hi)}),ai(fi,qR),_i(fi,function(hi){hi[cw]!==L7&&hi.dispatchAction(ui)}),ai(fi,k7)}})})}}(),Gr}(Ia),ww=O7.prototype;ww.on=aO("on");ww.off=aO("off");ww.one=function(Yr,Gr,Wr){var Zr=this;function Kr(){for(var Jr=[],Qr=0;Qr<arguments.length;Qr++)Jr[Qr]=arguments[Qr];Gr&&Gr.apply&&Gr.apply(this,Jr),Zr.off(Yr,Kr)}this.on.call(this,Yr,Kr,Wr)};var z7=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var C0={},Ov={},xw=[],_w=[],T0=[],fO={},bw={},yw={},QR={},o0t=+new Date-0,s0t=+new Date-0,N7="_echarts_instance_";function hO(Yr,Gr){fO[Yr]=Gr}function Cw(Yr){sn(_w,Yr)<0&&_w.push(Yr)}function Tw(Yr,Gr){Aw(xw,Yr,Gr,T7)}function cO(Yr){M0("afterinit",Yr)}function pO(Yr){M0("afterupdate",Yr)}function M0(Yr,Gr){fl.on(Yr,Gr)}function Ao(Yr,Gr,Wr){Wi(Gr)&&(Wr=Gr,Gr="");var Zr=qi(Yr)?Yr.type:[Yr,Yr={event:Gr}][0];Yr.event=(Yr.event||Zr).toLowerCase(),Gr=Yr.event,!Ov[Gr]&&(ea(XR.test(Zr)&&XR.test(Gr)),C0[Zr]||(C0[Zr]={action:Wr,actionInfo:Yr}),Ov[Gr]=Zr)}function dO(Yr,Gr){xu.register(Yr,Gr)}function vO(Yr,Gr){Aw(T0,Yr,Gr,eO,"layout")}function pf(Yr,Gr){Aw(T0,Yr,Gr,rO,"visual")}var tO=[];function Aw(Yr,Gr,Wr,Zr,Kr){if((Wi(Gr)||qi(Gr))&&(Wr=Gr,Gr=Zr),!(sn(tO,Wr)>=0)){tO.push(Wr);var Jr=ow.wrapStageHandler(Wr,Kr);Jr.__prio=Gr,Jr.__raw=Wr,Yr.push(Jr)}}function Mw(Yr,Gr){bw[Yr]=Gr}function mO(Yr,Gr,Wr){var Zr=YR("registerMap");Zr&&Zr(Yr,Gr,Wr)}var gO=F2;pf(Sw,oR);pf(A0,sR);pf(A0,lR);pf(Sw,_R);pf(A0,bR);pf(iO,fw);Cw(Ky);Tw(w7,U1);Mw("default",aw);Ao({type:nf,event:nf,update:nf},qn);Ao({type:$d,event:$d,update:$d},qn);Ao({type:Wc,event:Wc,update:Wc},qn);Ao({type:Jd,event:Jd,update:Jd},qn);Ao({type:Yc,event:Yc,update:Yc},qn);hO("light",pR);hO("dark",gR);var yO=[],F7={registerPreprocessor:Cw,registerProcessor:Tw,registerPostInit:cO,registerPostUpdate:pO,registerUpdateLifecycle:M0,registerAction:Ao,registerCoordinateSystem:dO,registerLayout:vO,registerVisual:pf,registerTransform:gO,registerLoading:Mw,registerMap:mO,registerImpl:WR,PRIORITY:nO,ComponentModel:_n,ComponentView:Dn,SeriesModel:Pn,ChartView:An,registerComponentModel:function(Yr){_n.registerClass(Yr)},registerComponentView:function(Yr){Dn.registerClass(Yr)},registerSeriesModel:function(Yr){Pn.registerClass(Yr)},registerChartView:function(Yr){An.registerClass(Yr)},registerSubTypeDefaulter:function(Yr,Gr){_n.registerSubTypeDefaulter(Yr,Gr)},registerPainter:function(Yr,Gr){MI(Yr,Gr)}};function Sn(Yr){if(Ri(Yr)){_i(Yr,function(Gr){Sn(Gr)});return}sn(yO,Yr)>=0||(yO.push(Yr),Wi(Yr)&&(Yr={install:Yr}),Yr.install(F7))}function zv(Yr){return Yr==null?0:Yr.length||1}function xO(Yr){return Yr}var V7=function(){function Yr(Gr,Wr,Zr,Kr,Jr,Qr){this._old=Gr,this._new=Wr,this._oldKeyGetter=Zr||xO,this._newKeyGetter=Kr||xO,this.context=Jr,this._diffModeMultiple=Qr==="multiple"}return Yr.prototype.add=function(Gr){return this._add=Gr,this},Yr.prototype.update=function(Gr){return this._update=Gr,this},Yr.prototype.updateManyToOne=function(Gr){return this._updateManyToOne=Gr,this},Yr.prototype.updateOneToMany=function(Gr){return this._updateOneToMany=Gr,this},Yr.prototype.updateManyToMany=function(Gr){return this._updateManyToMany=Gr,this},Yr.prototype.remove=function(Gr){return this._remove=Gr,this},Yr.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},Yr.prototype._executeOneToOne=function(){var Gr=this._old,Wr=this._new,Zr={},Kr=new Array(Gr.length),Jr=new Array(Wr.length);this._initIndexMap(Gr,null,Kr,"_oldKeyGetter"),this._initIndexMap(Wr,Zr,Jr,"_newKeyGetter");for(var Qr=0;Qr<Gr.length;Qr++){var ti=Kr[Qr],ei=Zr[ti],ri=zv(ei);if(ri>1){var ii=ei.shift();ei.length===1&&(Zr[ti]=ei[0]),this._update&&this._update(ii,Qr)}else ri===1?(Zr[ti]=null,this._update&&this._update(ei,Qr)):this._remove&&this._remove(Qr)}this._performRestAdd(Jr,Zr)},Yr.prototype._executeMultiple=function(){var Gr=this._old,Wr=this._new,Zr={},Kr={},Jr=[],Qr=[];this._initIndexMap(Gr,Zr,Jr,"_oldKeyGetter"),this._initIndexMap(Wr,Kr,Qr,"_newKeyGetter");for(var ti=0;ti<Jr.length;ti++){var ei=Jr[ti],ri=Zr[ei],ii=Kr[ei],ni=zv(ri),ai=zv(ii);if(ni>1&&ai===1)this._updateManyToOne&&this._updateManyToOne(ii,ri),Kr[ei]=null;else if(ni===1&&ai>1)this._updateOneToMany&&this._updateOneToMany(ii,ri),Kr[ei]=null;else if(ni===1&&ai===1)this._update&&this._update(ii,ri),Kr[ei]=null;else if(ni>1&&ai>1)this._updateManyToMany&&this._updateManyToMany(ii,ri),Kr[ei]=null;else if(ni>1)for(var oi=0;oi<ni;oi++)this._remove&&this._remove(ri[oi]);else this._remove&&this._remove(ri)}this._performRestAdd(Qr,Kr)},Yr.prototype._performRestAdd=function(Gr,Wr){for(var Zr=0;Zr<Gr.length;Zr++){var Kr=Gr[Zr],Jr=Wr[Kr],Qr=zv(Jr);if(Qr>1)for(var ti=0;ti<Qr;ti++)this._add&&this._add(Jr[ti]);else Qr===1&&this._add&&this._add(Jr);Wr[Kr]=null}},Yr.prototype._initIndexMap=function(Gr,Wr,Zr,Kr){for(var Jr=this._diffModeMultiple,Qr=0;Qr<Gr.length;Qr++){var ti="_ec_"+this[Kr](Gr[Qr],Qr);if(Jr||(Zr[Qr]=ti),!!Wr){var ei=Wr[ti],ri=zv(ei);ri===0?(Wr[ti]=Qr,Jr&&Zr.push(ti)):ri===1?Wr[ti]=[ei,Qr]:ei.push(Qr)}}},Yr}(),oo=V7;var B7=function(){function Yr(Gr,Wr){this._encode=Gr,this._schema=Wr}return Yr.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},Yr.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},Yr}();function _O(Yr,Gr){var Wr={},Zr=Wr.encode={},Kr=Hi(),Jr=[],Qr=[],ti={};_i(Yr.dimensions,function(ai){var oi=Yr.getDimensionInfo(ai),si=oi.coordDim;if(si){var li=oi.coordDimIndex;Pw(Zr,si)[li]=ai,oi.isExtraCoord||(Kr.set(si,1),U7(oi.type)&&(Jr[0]=ai),Pw(ti,si)[li]=Yr.getDimensionIndex(oi.name)),oi.defaultTooltip&&Qr.push(ai)}Hy.each(function(ui,fi){var hi=Pw(Zr,fi),ci=oi.otherDims[fi];ci!=null&&ci!==!1&&(hi[ci]=oi.name)})});var ei=[],ri={};Kr.each(function(ai,oi){var si=Zr[oi];ri[oi]=si[0],ei=ei.concat(si)}),Wr.dataDimsOnCoord=ei,Wr.dataDimIndicesOnCoord=Oi(ei,function(ai){return Yr.getDimensionInfo(ai).storeDimIndex}),Wr.encodeFirstDimNotExtra=ri;var ii=Zr.label;ii&&ii.length&&(Jr=ii.slice());var ni=Zr.tooltip;return ni&&ni.length?Qr=ni.slice():Qr.length||(Qr=Jr.slice()),Zr.defaultedLabel=Jr,Zr.defaultedTooltip=Qr,Wr.userOutput=new B7(ti,Gr),Wr}function Pw(Yr,Gr){return Yr.hasOwnProperty(Gr)||(Yr[Gr]=[]),Yr[Gr]}function Wh(Yr){return Yr==="category"?"ordinal":Yr==="time"?"time":"float"}function U7(Yr){return!(Yr==="ordinal"||Yr==="time")}var G7=function(){function Yr(Gr){this.otherDims={},Gr!=null&&ki(this,Gr)}return Yr}(),cp=G7;var H7=ln(),W7={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Ew=function(){function Yr(Gr){this.dimensions=Gr.dimensions,this._dimOmitted=Gr.dimensionOmitted,this.source=Gr.source,this._fullDimCount=Gr.fullDimensionCount,this._updateDimOmitted(Gr.dimensionOmitted)}return Yr.prototype.isDimensionOmitted=function(){return this._dimOmitted},Yr.prototype._updateDimOmitted=function(Gr){this._dimOmitted=Gr,Gr&&(this._dimNameMap||(this._dimNameMap=Iw(this.source)))},Yr.prototype.getSourceDimensionIndex=function(Gr){return on(this._dimNameMap.get(Gr),-1)},Yr.prototype.getSourceDimension=function(Gr){var Wr=this.source.dimensionsDefine;if(Wr)return Wr[Gr]},Yr.prototype.makeStoreSchema=function(){for(var Gr=this._fullDimCount,Wr=Jy(this.source),Zr=!Lw(Gr),Kr="",Jr=[],Qr=0,ti=0;Qr<Gr;Qr++){var ei=void 0,ri=void 0,ii=void 0,ni=this.dimensions[ti];if(ni&&ni.storeDimIndex===Qr)ei=Wr?ni.name:null,ri=ni.type,ii=ni.ordinalMeta,ti++;else{var ai=this.getSourceDimension(Qr);ai&&(ei=Wr?ai.name:null,ri=ai.type)}Jr.push({property:ei,type:ri,ordinalMeta:ii}),Wr&&ei!=null&&(!ni||!ni.isCalculationCoord)&&(Kr+=Zr?ei.replace(/\`/g,"`1").replace(/\$/g,"`2"):ei),Kr+="$",Kr+=W7[ri]||"f",ii&&(Kr+=ii.uid),Kr+="$"}var oi=this.source,si=[oi.seriesLayoutBy,oi.startIndex,Kr].join("$$");return{dimensions:Jr,hash:si}},Yr.prototype.makeOutputDimensionNames=function(){for(var Gr=[],Wr=0,Zr=0;Wr<this._fullDimCount;Wr++){var Kr=void 0,Jr=this.dimensions[Zr];if(Jr&&Jr.storeDimIndex===Wr)Jr.isCalculationCoord||(Kr=Jr.name),Zr++;else{var Qr=this.getSourceDimension(Wr);Qr&&(Kr=Qr.name)}Gr.push(Kr)}return Gr},Yr.prototype.appendCalculationDimension=function(Gr){this.dimensions.push(Gr),Gr.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Yr}();function E0(Yr){return Yr instanceof Ew}function Dw(Yr){for(var Gr=Hi(),Wr=0;Wr<(Yr||[]).length;Wr++){var Zr=Yr[Wr],Kr=qi(Zr)?Zr.name:Zr;Kr!=null&&Gr.get(Kr)==null&&Gr.set(Kr,Wr)}return Gr}function Iw(Yr){var Gr=H7(Yr);return Gr.dimNameMap||(Gr.dimNameMap=Dw(Yr.dimensionsDefine))}function Lw(Yr){return Yr>30}var Nv=qi,df=Oi,Y7=typeof Int32Array>"u"?Array:Int32Array,X7="e\0\0",bO=-1,q7=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Z7=["_approximateExtent"],SO,D0,Fv,Vv,kw,I0,Rw,j7=function(){function Yr(Gr,Wr){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var Zr,Kr=!1;E0(Gr)?(Zr=Gr.dimensions,this._dimOmitted=Gr.isDimensionOmitted(),this._schema=Gr):(Kr=!0,Zr=Gr),Zr=Zr||["x","y"];for(var Jr={},Qr=[],ti={},ei=!1,ri={},ii=0;ii<Zr.length;ii++){var ni=Zr[ii],ai=Ni(ni)?new cp({name:ni}):ni instanceof cp?ni:new cp(ni),oi=ai.name;ai.type=ai.type||"float",ai.coordDim||(ai.coordDim=oi,ai.coordDimIndex=0);var si=ai.otherDims=ai.otherDims||{};Qr.push(oi),Jr[oi]=ai,ri[oi]!=null&&(ei=!0),ai.createInvertedIndices&&(ti[oi]=[]),si.itemName===0&&(this._nameDimIdx=ii),si.itemId===0&&(this._idDimIdx=ii),Kr&&(ai.storeDimIndex=ii)}if(this.dimensions=Qr,this._dimInfos=Jr,this._initGetDimensionInfo(ei),this.hostModel=Wr,this._invertedIndicesMap=ti,this._dimOmitted){var li=this._dimIdxToName=Hi();_i(Qr,function(ui){li.set(Jr[ui].storeDimIndex,ui)})}}return Yr.prototype.getDimension=function(Gr){var Wr=this._recognizeDimIndex(Gr);if(Wr==null)return Gr;if(Wr=Gr,!this._dimOmitted)return this.dimensions[Wr];var Zr=this._dimIdxToName.get(Wr);if(Zr!=null)return Zr;var Kr=this._schema.getSourceDimension(Wr);if(Kr)return Kr.name},Yr.prototype.getDimensionIndex=function(Gr){var Wr=this._recognizeDimIndex(Gr);if(Wr!=null)return Wr;if(Gr==null)return-1;var Zr=this._getDimInfo(Gr);return Zr?Zr.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(Gr):-1},Yr.prototype._recognizeDimIndex=function(Gr){if(gn(Gr)||Gr!=null&&!isNaN(Gr)&&!this._getDimInfo(Gr)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(Gr)<0))return+Gr},Yr.prototype._getStoreDimIndex=function(Gr){var Wr=this.getDimensionIndex(Gr);return Wr},Yr.prototype.getDimensionInfo=function(Gr){return this._getDimInfo(this.getDimension(Gr))},Yr.prototype._initGetDimensionInfo=function(Gr){var Wr=this._dimInfos;this._getDimInfo=Gr?function(Zr){return Wr.hasOwnProperty(Zr)?Wr[Zr]:void 0}:function(Zr){return Wr[Zr]}},Yr.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},Yr.prototype.mapDimension=function(Gr,Wr){var Zr=this._dimSummary;if(Wr==null)return Zr.encodeFirstDimNotExtra[Gr];var Kr=Zr.encode[Gr];return Kr?Kr[Wr]:null},Yr.prototype.mapDimensionsAll=function(Gr){var Wr=this._dimSummary,Zr=Wr.encode[Gr];return(Zr||[]).slice()},Yr.prototype.getStore=function(){return this._store},Yr.prototype.initData=function(Gr,Wr,Zr){var Kr=this,Jr;if(Gr instanceof wv&&(Jr=Gr),!Jr){var Qr=this.dimensions,ti=op(Gr)||va(Gr)?new Qy(Gr,Qr.length):Gr;Jr=new wv;var ei=df(Qr,function(ri){return{type:Kr._dimInfos[ri].type,property:ri}});Jr.initData(ti,ei,Zr)}this._store=Jr,this._nameList=(Wr||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,Jr.count()),this._dimSummary=_O(this,this._schema),this.userOutput=this._dimSummary.userOutput},Yr.prototype.appendData=function(Gr){var Wr=this._store.appendData(Gr);this._doInit(Wr[0],Wr[1])},Yr.prototype.appendValues=function(Gr,Wr){var Zr=this._store.appendValues(Gr,Wr.length),Kr=Zr.start,Jr=Zr.end,Qr=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),Wr)for(var ti=Kr;ti<Jr;ti++){var ei=ti-Kr;this._nameList[ti]=Wr[ei],Qr&&Rw(this,ti)}},Yr.prototype._updateOrdinalMeta=function(){for(var Gr=this._store,Wr=this.dimensions,Zr=0;Zr<Wr.length;Zr++){var Kr=this._dimInfos[Wr[Zr]];Kr.ordinalMeta&&Gr.collectOrdinalMeta(Kr.storeDimIndex,Kr.ordinalMeta)}},Yr.prototype._shouldMakeIdFromName=function(){var Gr=this._store.getProvider();return this._idDimIdx==null&&Gr.getSource().sourceFormat!==hs&&!Gr.fillStorage},Yr.prototype._doInit=function(Gr,Wr){if(!(Gr>=Wr)){var Zr=this._store,Kr=Zr.getProvider();this._updateOrdinalMeta();var Jr=this._nameList,Qr=this._idList,ti=Kr.getSource().sourceFormat,ei=ti===Za;if(ei&&!Kr.pure)for(var ri=[],ii=Gr;ii<Wr;ii++){var ni=Kr.getItem(ii,ri);if(!this.hasItemOption&&UI(ni)&&(this.hasItemOption=!0),ni){var ai=ni.name;Jr[ii]==null&&ai!=null&&(Jr[ii]=aa(ai,null));var oi=ni.id;Qr[ii]==null&&oi!=null&&(Qr[ii]=aa(oi,null))}}if(this._shouldMakeIdFromName())for(var ii=Gr;ii<Wr;ii++)Rw(this,ii);SO(this)}},Yr.prototype.getApproximateExtent=function(Gr){return this._approximateExtent[Gr]||this._store.getDataExtent(this._getStoreDimIndex(Gr))},Yr.prototype.setApproximateExtent=function(Gr,Wr){Wr=this.getDimension(Wr),this._approximateExtent[Wr]=Gr.slice()},Yr.prototype.getCalculationInfo=function(Gr){return this._calculationInfo[Gr]},Yr.prototype.setCalculationInfo=function(Gr,Wr){Nv(Gr)?ki(this._calculationInfo,Gr):this._calculationInfo[Gr]=Wr},Yr.prototype.getName=function(Gr){var Wr=this.getRawIndex(Gr),Zr=this._nameList[Wr];return Zr==null&&this._nameDimIdx!=null&&(Zr=Fv(this,this._nameDimIdx,Wr)),Zr==null&&(Zr=""),Zr},Yr.prototype._getCategory=function(Gr,Wr){var Zr=this._store.get(Gr,Wr),Kr=this._store.getOrdinalMeta(Gr);return Kr?Kr.categories[Zr]:Zr},Yr.prototype.getId=function(Gr){return D0(this,this.getRawIndex(Gr))},Yr.prototype.count=function(){return this._store.count()},Yr.prototype.get=function(Gr,Wr){var Zr=this._store,Kr=this._dimInfos[Gr];if(Kr)return Zr.get(Kr.storeDimIndex,Wr)},Yr.prototype.getByRawIndex=function(Gr,Wr){var Zr=this._store,Kr=this._dimInfos[Gr];if(Kr)return Zr.getByRawIndex(Kr.storeDimIndex,Wr)},Yr.prototype.getIndices=function(){return this._store.getIndices()},Yr.prototype.getDataExtent=function(Gr){return this._store.getDataExtent(this._getStoreDimIndex(Gr))},Yr.prototype.getSum=function(Gr){return this._store.getSum(this._getStoreDimIndex(Gr))},Yr.prototype.getMedian=function(Gr){return this._store.getMedian(this._getStoreDimIndex(Gr))},Yr.prototype.getValues=function(Gr,Wr){var Zr=this,Kr=this._store;return Ri(Gr)?Kr.getValues(df(Gr,function(Jr){return Zr._getStoreDimIndex(Jr)}),Wr):Kr.getValues(Gr)},Yr.prototype.hasValue=function(Gr){for(var Wr=this._dimSummary.dataDimIndicesOnCoord,Zr=0,Kr=Wr.length;Zr<Kr;Zr++)if(isNaN(this._store.get(Wr[Zr],Gr)))return!1;return!0},Yr.prototype.indexOfName=function(Gr){for(var Wr=0,Zr=this._store.count();Wr<Zr;Wr++)if(this.getName(Wr)===Gr)return Wr;return-1},Yr.prototype.getRawIndex=function(Gr){return this._store.getRawIndex(Gr)},Yr.prototype.indexOfRawIndex=function(Gr){return this._store.indexOfRawIndex(Gr)},Yr.prototype.rawIndexOf=function(Gr,Wr){var Zr=Gr&&this._invertedIndicesMap[Gr],Kr=Zr[Wr];return Kr==null||isNaN(Kr)?bO:Kr},Yr.prototype.indicesOfNearest=function(Gr,Wr,Zr){return this._store.indicesOfNearest(this._getStoreDimIndex(Gr),Wr,Zr)},Yr.prototype.each=function(Gr,Wr,Zr){"use strict";Wi(Gr)&&(Zr=Wr,Wr=Gr,Gr=[]);var Kr=Zr||this,Jr=df(Vv(Gr),this._getStoreDimIndex,this);this._store.each(Jr,Kr?Gi(Wr,Kr):Wr)},Yr.prototype.filterSelf=function(Gr,Wr,Zr){"use strict";Wi(Gr)&&(Zr=Wr,Wr=Gr,Gr=[]);var Kr=Zr||this,Jr=df(Vv(Gr),this._getStoreDimIndex,this);return this._store=this._store.filter(Jr,Kr?Gi(Wr,Kr):Wr),this},Yr.prototype.selectRange=function(Gr){"use strict";var Wr=this,Zr={},Kr=fn(Gr),Jr=[];return _i(Kr,function(Qr){var ti=Wr._getStoreDimIndex(Qr);Zr[ti]=Gr[Qr],Jr.push(ti)}),this._store=this._store.selectRange(Zr),this},Yr.prototype.mapArray=function(Gr,Wr,Zr){"use strict";Wi(Gr)&&(Zr=Wr,Wr=Gr,Gr=[]),Zr=Zr||this;var Kr=[];return this.each(Gr,function(){Kr.push(Wr&&Wr.apply(this,arguments))},Zr),Kr},Yr.prototype.map=function(Gr,Wr,Zr,Kr){"use strict";var Jr=Zr||Kr||this,Qr=df(Vv(Gr),this._getStoreDimIndex,this),ti=I0(this);return ti._store=this._store.map(Qr,Jr?Gi(Wr,Jr):Wr),ti},Yr.prototype.modify=function(Gr,Wr,Zr,Kr){var Jr=this,Qr=Zr||Kr||this,ti=df(Vv(Gr),this._getStoreDimIndex,this);this._store.modify(ti,Qr?Gi(Wr,Qr):Wr)},Yr.prototype.downSample=function(Gr,Wr,Zr,Kr){var Jr=I0(this);return Jr._store=this._store.downSample(this._getStoreDimIndex(Gr),Wr,Zr,Kr),Jr},Yr.prototype.lttbDownSample=function(Gr,Wr){var Zr=I0(this);return Zr._store=this._store.lttbDownSample(this._getStoreDimIndex(Gr),Wr),Zr},Yr.prototype.getRawDataItem=function(Gr){return this._store.getRawDataItem(Gr)},Yr.prototype.getItemModel=function(Gr){var Wr=this.hostModel,Zr=this.getRawDataItem(Gr);return new Mn(Zr,Wr,Wr&&Wr.ecModel)},Yr.prototype.diff=function(Gr){var Wr=this;return new oo(Gr?Gr.getStore().getIndices():[],this.getStore().getIndices(),function(Zr){return D0(Gr,Zr)},function(Zr){return D0(Wr,Zr)})},Yr.prototype.getVisual=function(Gr){var Wr=this._visual;return Wr&&Wr[Gr]},Yr.prototype.setVisual=function(Gr,Wr){this._visual=this._visual||{},Nv(Gr)?ki(this._visual,Gr):this._visual[Gr]=Wr},Yr.prototype.getItemVisual=function(Gr,Wr){var Zr=this._itemVisuals[Gr],Kr=Zr&&Zr[Wr];return Kr??this.getVisual(Wr)},Yr.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},Yr.prototype.ensureUniqueItemVisual=function(Gr,Wr){var Zr=this._itemVisuals,Kr=Zr[Gr];Kr||(Kr=Zr[Gr]={});var Jr=Kr[Wr];return Jr==null&&(Jr=this.getVisual(Wr),Ri(Jr)?Jr=Jr.slice():Nv(Jr)&&(Jr=ki({},Jr)),Kr[Wr]=Jr),Jr},Yr.prototype.setItemVisual=function(Gr,Wr,Zr){var Kr=this._itemVisuals[Gr]||{};this._itemVisuals[Gr]=Kr,Nv(Wr)?ki(Kr,Wr):Kr[Wr]=Zr},Yr.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},Yr.prototype.setLayout=function(Gr,Wr){Nv(Gr)?ki(this._layout,Gr):this._layout[Gr]=Wr},Yr.prototype.getLayout=function(Gr){return this._layout[Gr]},Yr.prototype.getItemLayout=function(Gr){return this._itemLayouts[Gr]},Yr.prototype.setItemLayout=function(Gr,Wr,Zr){this._itemLayouts[Gr]=Zr?ki(this._itemLayouts[Gr]||{},Wr):Wr},Yr.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},Yr.prototype.setItemGraphicEl=function(Gr,Wr){var Zr=this.hostModel&&this.hostModel.seriesIndex;jd(Zr,this.dataType,Gr,Wr),this._graphicEls[Gr]=Wr},Yr.prototype.getItemGraphicEl=function(Gr){return this._graphicEls[Gr]},Yr.prototype.eachItemGraphicEl=function(Gr,Wr){_i(this._graphicEls,function(Zr,Kr){Zr&&Gr&&Gr.call(Wr,Zr,Kr)})},Yr.prototype.cloneShallow=function(Gr){return Gr||(Gr=new Yr(this._schema?this._schema:df(this.dimensions,this._getDimInfo,this),this.hostModel)),kw(Gr,this),Gr._store=this._store,Gr},Yr.prototype.wrapMethod=function(Gr,Wr){var Zr=this[Gr];Wi(Zr)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(Gr),this[Gr]=function(){var Kr=Zr.apply(this,arguments);return Wr.apply(this,[Kr].concat(pg(arguments)))})},Yr.internalField=function(){SO=function(Gr){var Wr=Gr._invertedIndicesMap;_i(Wr,function(Zr,Kr){var Jr=Gr._dimInfos[Kr],Qr=Jr.ordinalMeta,ti=Gr._store;if(Qr){Zr=Wr[Kr]=new Y7(Qr.categories.length);for(var ei=0;ei<Zr.length;ei++)Zr[ei]=bO;for(var ei=0;ei<ti.count();ei++)Zr[ti.get(Jr.storeDimIndex,ei)]=ei}})},Fv=function(Gr,Wr,Zr){return aa(Gr._getCategory(Wr,Zr),null)},D0=function(Gr,Wr){var Zr=Gr._idList[Wr];return Zr==null&&Gr._idDimIdx!=null&&(Zr=Fv(Gr,Gr._idDimIdx,Wr)),Zr==null&&(Zr=X7+Wr),Zr},Vv=function(Gr){return Ri(Gr)||(Gr=Gr!=null?[Gr]:[]),Gr},I0=function(Gr){var Wr=new Yr(Gr._schema?Gr._schema:df(Gr.dimensions,Gr._getDimInfo,Gr),Gr.hostModel);return kw(Wr,Gr),Wr},kw=function(Gr,Wr){_i(q7.concat(Wr.__wrappedMethods||[]),function(Zr){Wr.hasOwnProperty(Zr)&&(Gr[Zr]=Wr[Zr])}),Gr.__wrappedMethods=Wr.__wrappedMethods,_i(Z7,function(Zr){Gr[Zr]=Ki(Wr[Zr])}),Gr._calculationInfo=ki({},Wr._calculationInfo)},Rw=function(Gr,Wr){var Zr=Gr._nameList,Kr=Gr._idList,Jr=Gr._nameDimIdx,Qr=Gr._idDimIdx,ti=Zr[Wr],ei=Kr[Wr];if(ti==null&&Jr!=null&&(Zr[Wr]=ti=Fv(Gr,Jr,Wr)),ei==null&&Qr!=null&&(Kr[Wr]=ei=Fv(Gr,Qr,Wr)),ei==null&&ti!=null){var ri=Gr._nameRepeatCount,ii=ri[ti]=(ri[ti]||0)+1;ei=ti,ii>1&&(ei+="__ec__"+ii),Kr[Wr]=ei}}}(),Yr}(),ha=j7;function hl(Yr,Gr){op(Yr)||(Yr=sp(Yr)),Gr=Gr||{};var Wr=Gr.coordDimensions||[],Zr=Gr.dimensionsDefine||Yr.dimensionsDefine||[],Kr=Hi(),Jr=[],Qr=$7(Yr,Wr,Zr,Gr.dimensionsCount),ti=Gr.canOmitUnusedDimensions&&Lw(Qr),ei=Zr===Yr.dimensionsDefine,ri=ei?Iw(Yr):Dw(Zr),ii=Gr.encodeDefine;!ii&&Gr.encodeDefaulter&&(ii=Gr.encodeDefaulter(Yr,Qr));for(var ni=Hi(ii),ai=new $1(Qr),oi=0;oi<ai.length;oi++)ai[oi]=-1;function si(yi){var Si=ai[yi];if(Si<0){var bi=Zr[yi],Ti=qi(bi)?bi:{name:bi},Ai=new cp,Ei=Ti.name;Ei!=null&&ri.get(Ei)!=null&&(Ai.name=Ai.displayName=Ei),Ti.type!=null&&(Ai.type=Ti.type),Ti.displayName!=null&&(Ai.displayName=Ti.displayName);var Mi=Jr.length;return ai[yi]=Mi,Ai.storeDimIndex=yi,Jr.push(Ai),Ai}return Jr[Si]}if(!ti)for(var oi=0;oi<Qr;oi++)si(oi);ni.each(function(yi,Si){var bi=En(yi).slice();if(bi.length===1&&!Ni(bi[0])&&bi[0]<0){ni.set(Si,!1);return}var Ti=ni.set(Si,[]);_i(bi,function(Ai,Ei){var Mi=Ni(Ai)?ri.get(Ai):Ai;Mi!=null&&Mi<Qr&&(Ti[Ei]=Mi,ui(si(Mi),Si,Ei))})});var li=0;_i(Wr,function(yi){var Si,bi,Ti,Ai;if(Ni(yi))Si=yi,Ai={};else{Ai=yi,Si=Ai.name;var Ei=Ai.ordinalMeta;Ai.ordinalMeta=null,Ai=ki({},Ai),Ai.ordinalMeta=Ei,bi=Ai.dimsDef,Ti=Ai.otherDims,Ai.name=Ai.coordDim=Ai.coordDimIndex=Ai.dimsDef=Ai.otherDims=null}var Mi=ni.get(Si);if(Mi!==!1){if(Mi=En(Mi),!Mi.length)for(var wi=0;wi<(bi&&bi.length||1);wi++){for(;li<Qr&&si(li).coordDim!=null;)li++;li<Qr&&Mi.push(li++)}_i(Mi,function(Pi,xi){var Ci=si(Pi);if(ei&&Ai.type!=null&&(Ci.type=Ai.type),ui(Yi(Ci,Ai),Si,xi),Ci.name==null&&bi){var Li=bi[xi];!qi(Li)&&(Li={name:Li}),Ci.name=Ci.displayName=Li.name,Ci.defaultTooltip=Li.defaultTooltip}Ti&&Yi(Ci.otherDims,Ti)})}});function ui(yi,Si,bi){Hy.get(Si)!=null?yi.otherDims[Si]=bi:(yi.coordDim=Si,yi.coordDimIndex=bi,Kr.set(Si,!0))}var fi=Gr.generateCoord,hi=Gr.generateCoordCount,ci=hi!=null;hi=fi?hi||1:0;var pi=fi||"value";function di(yi){yi.name==null&&(yi.name=yi.coordDim)}if(ti)_i(Jr,function(yi){di(yi)}),Jr.sort(function(yi,Si){return yi.storeDimIndex-Si.storeDimIndex});else for(var vi=0;vi<Qr;vi++){var mi=si(vi),gi=mi.coordDim;gi==null&&(mi.coordDim=J7(pi,Kr,ci),mi.coordDimIndex=0,(!fi||hi<=0)&&(mi.isExtraCoord=!0),hi--),di(mi),mi.type==null&&(Xy(Yr,vi)===Wa.Must||mi.isExtraCoord&&(mi.otherDims.itemName!=null||mi.otherDims.seriesName!=null))&&(mi.type="ordinal")}return K7(Jr),new Ew({source:Yr,dimensions:Jr,fullDimensionCount:Qr,dimensionOmitted:ti})}function K7(Yr){for(var Gr=Hi(),Wr=0;Wr<Yr.length;Wr++){var Zr=Yr[Wr],Kr=Zr.name,Jr=Gr.get(Kr)||0;Jr>0&&(Zr.name=Kr+(Jr-1)),Jr++,Gr.set(Kr,Jr)}}function $7(Yr,Gr,Wr,Zr){var Kr=Math.max(Yr.dimensionsDetectedCount||1,Gr.length,Wr.length,Zr||0);return _i(Gr,function(Jr){var Qr;qi(Jr)&&(Qr=Jr.dimsDef)&&(Kr=Math.max(Kr,Qr.length))}),Kr}function J7(Yr,Gr,Wr){if(Wr||Gr.hasKey(Yr)){for(var Zr=0;Gr.hasKey(Yr+Zr);)Zr++;Yr+=Zr}return Gr.set(Yr,!0),Yr}var Q7=function(){function Yr(Gr){this.coordSysDims=[],this.axisMap=Hi(),this.categoryAxisMap=Hi(),this.coordSysName=Gr}return Yr}();function wO(Yr){var Gr=Yr.get("coordinateSystem"),Wr=new Q7(Gr),Zr=tq[Gr];if(Zr)return Zr(Yr,Wr,Wr.axisMap,Wr.categoryAxisMap),Wr}var tq={cartesian2d:function(Yr,Gr,Wr,Zr){var Kr=Yr.getReferringComponents("xAxis",Yn).models[0],Jr=Yr.getReferringComponents("yAxis",Yn).models[0];Gr.coordSysDims=["x","y"],Wr.set("x",Kr),Wr.set("y",Jr),pp(Kr)&&(Zr.set("x",Kr),Gr.firstCategoryDimIndex=0),pp(Jr)&&(Zr.set("y",Jr),Gr.firstCategoryDimIndex==null&&(Gr.firstCategoryDimIndex=1))},singleAxis:function(Yr,Gr,Wr,Zr){var Kr=Yr.getReferringComponents("singleAxis",Yn).models[0];Gr.coordSysDims=["single"],Wr.set("single",Kr),pp(Kr)&&(Zr.set("single",Kr),Gr.firstCategoryDimIndex=0)},polar:function(Yr,Gr,Wr,Zr){var Kr=Yr.getReferringComponents("polar",Yn).models[0],Jr=Kr.findAxisModel("radiusAxis"),Qr=Kr.findAxisModel("angleAxis");Gr.coordSysDims=["radius","angle"],Wr.set("radius",Jr),Wr.set("angle",Qr),pp(Jr)&&(Zr.set("radius",Jr),Gr.firstCategoryDimIndex=0),pp(Qr)&&(Zr.set("angle",Qr),Gr.firstCategoryDimIndex==null&&(Gr.firstCategoryDimIndex=1))},geo:function(Yr,Gr,Wr,Zr){Gr.coordSysDims=["lng","lat"]},parallel:function(Yr,Gr,Wr,Zr){var Kr=Yr.ecModel,Jr=Kr.getComponent("parallel",Yr.get("parallelIndex")),Qr=Gr.coordSysDims=Jr.dimensions.slice();_i(Jr.parallelAxisIndex,function(ti,ei){var ri=Kr.getComponent("parallelAxis",ti),ii=Qr[ei];Wr.set(ii,ri),pp(ri)&&(Zr.set(ii,ri),Gr.firstCategoryDimIndex==null&&(Gr.firstCategoryDimIndex=ei))})}};function pp(Yr){return Yr.get("type")==="category"}function CO(Yr,Gr,Wr){Wr=Wr||{};var Zr=Wr.byIndex,Kr=Wr.stackedCoordDimension,Jr,Qr,ti;eq(Gr)?Jr=Gr:(Qr=Gr.schema,Jr=Qr.dimensions,ti=Gr.store);var ei=!!(Yr&&Yr.get("stack")),ri,ii,ni,ai;if(_i(Jr,function(hi,ci){Ni(hi)&&(Jr[ci]=hi={name:hi}),ei&&!hi.isExtraCoord&&(!Zr&&!ri&&hi.ordinalMeta&&(ri=hi),!ii&&hi.type!=="ordinal"&&hi.type!=="time"&&(!Kr||Kr===hi.coordDim)&&(ii=hi))}),ii&&!Zr&&!ri&&(Zr=!0),ii){ni="__\0ecstackresult_"+Yr.id,ai="__\0ecstackedover_"+Yr.id,ri&&(ri.createInvertedIndices=!0);var oi=ii.coordDim,si=ii.type,li=0;_i(Jr,function(hi){hi.coordDim===oi&&li++});var ui={name:ni,coordDim:oi,coordDimIndex:li,type:si,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Jr.length},fi={name:ai,coordDim:ai,coordDimIndex:li+1,type:si,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Jr.length+1};Qr?(ti&&(ui.storeDimIndex=ti.ensureCalculationDimension(ai,si),fi.storeDimIndex=ti.ensureCalculationDimension(ni,si)),Qr.appendCalculationDimension(ui),Qr.appendCalculationDimension(fi)):(Jr.push(ui),Jr.push(fi))}return{stackedDimension:ii&&ii.name,stackedByDimension:ri&&ri.name,isStackedByIndex:Zr,stackedOverDimension:ai,stackResultDimension:ni}}function eq(Yr){return!E0(Yr.schema)}function ds(Yr,Gr){return!!Gr&&Gr===Yr.getCalculationInfo("stackedDimension")}function L0(Yr,Gr){return ds(Yr,Gr)?Yr.getCalculationInfo("stackResultDimension"):Gr}function rq(Yr,Gr){var Wr=Yr.get("coordinateSystem"),Zr=xu.get(Wr),Kr;return Gr&&Gr.coordSysDims&&(Kr=Oi(Gr.coordSysDims,function(Jr){var Qr={name:Jr},ti=Gr.axisMap.get(Jr);if(ti){var ei=ti.get("type");Qr.type=Wh(ei)}return Qr})),Kr||(Kr=Zr&&(Zr.getDimensionsInfo?Zr.getDimensionsInfo():Zr.dimensions.slice())||["x","y"]),Kr}function iq(Yr,Gr,Wr){var Zr,Kr;return Wr&&_i(Yr,function(Jr,Qr){var ti=Jr.coordDim,ei=Wr.categoryAxisMap.get(ti);ei&&(Zr==null&&(Zr=Qr),Jr.ordinalMeta=ei.getOrdinalMeta(),Gr&&(Jr.createInvertedIndices=!0)),Jr.otherDims.itemName!=null&&(Kr=!0)}),!Kr&&Zr!=null&&(Yr[Zr].otherDims.itemName=0),Zr}function nq(Yr,Gr,Wr){Wr=Wr||{};var Zr=Gr.getSourceManager(),Kr,Jr=!1;Yr?(Jr=!0,Kr=sp(Yr)):(Kr=Zr.getSource(),Jr=Kr.sourceFormat===Za);var Qr=wO(Gr),ti=rq(Gr,Qr),ei=Wr.useEncodeDefaulter,ri=Wi(ei)?ei:ei?en(Wy,ti,Gr):null,ii={coordDimensions:ti,generateCoord:Wr.generateCoord,encodeDefine:Gr.getEncode(),encodeDefaulter:ri,canOmitUnusedDimensions:!Jr},ni=hl(Kr,ii),ai=iq(ni.dimensions,Wr.createInvertedIndices,Qr),oi=Jr?null:Zr.getSharedDataStore(ni),si=CO(Gr,{schema:ni,store:oi}),li=new ha(ni,Gr);li.setCalculationInfo(si);var ui=ai!=null&&aq(Kr)?function(fi,hi,ci,pi){return pi===ai?ci:this.defaultDimValueGetter(fi,hi,ci,pi)}:null;return li.hasItemOption=!1,li.initData(Jr?Kr:oi,null,ui),li}function aq(Yr){if(Yr.sourceFormat===Za){var Gr=oq(Yr.data||[]);return!Ri($s(Gr))}}function oq(Yr){for(var Gr=0;Gr<Yr.length&&Yr[Gr]==null;)Gr++;return Yr[Gr]}var ja=nq;var TO=function(){function Yr(Gr){this._setting=Gr||{},this._extent=[1/0,-1/0]}return Yr.prototype.getSetting=function(Gr){return this._setting[Gr]},Yr.prototype.unionExtent=function(Gr){var Wr=this._extent;Gr[0]<Wr[0]&&(Wr[0]=Gr[0]),Gr[1]>Wr[1]&&(Wr[1]=Gr[1])},Yr.prototype.unionExtentFromData=function(Gr,Wr){this.unionExtent(Gr.getApproximateExtent(Wr))},Yr.prototype.getExtent=function(){return this._extent.slice()},Yr.prototype.setExtent=function(Gr,Wr){var Zr=this._extent;isNaN(Gr)||(Zr[0]=Gr),isNaN(Wr)||(Zr[1]=Wr)},Yr.prototype.isInExtentRange=function(Gr){return this._extent[0]<=Gr&&this._extent[1]>=Gr},Yr.prototype.isBlank=function(){return this._isBlank},Yr.prototype.setBlank=function(Gr){this._isBlank=Gr},Yr}();$u(TO);var jo=TO;var sq=0,lq=function(){function Yr(Gr){this.categories=Gr.categories||[],this._needCollect=Gr.needCollect,this._deduplication=Gr.deduplication,this.uid=++sq}return Yr.createByAxisModel=function(Gr){var Wr=Gr.option,Zr=Wr.data,Kr=Zr&&Oi(Zr,uq);return new Yr({categories:Kr,needCollect:!Kr,deduplication:Wr.dedplication!==!1})},Yr.prototype.getOrdinal=function(Gr){return this._getOrCreateMap().get(Gr)},Yr.prototype.parseAndCollect=function(Gr){var Wr,Zr=this._needCollect;if(!Ni(Gr)&&!Zr)return Gr;if(Zr&&!this._deduplication)return Wr=this.categories.length,this.categories[Wr]=Gr,Wr;var Kr=this._getOrCreateMap();return Wr=Kr.get(Gr),Wr==null&&(Zr?(Wr=this.categories.length,this.categories[Wr]=Gr,Kr.set(Gr,Wr)):Wr=NaN),Wr},Yr.prototype._getOrCreateMap=function(){return this._map||(this._map=Hi(this.categories))},Yr}();function uq(Yr){return qi(Yr)&&Yr.value!=null?Yr.value:Yr+""}var Bv=lq;function Uv(Yr){return Yr.type==="interval"||Yr.type==="log"}function MO(Yr,Gr,Wr,Zr){var Kr={},Jr=Yr[1]-Yr[0],Qr=Kr.interval=Qg(Jr/Gr,!0);Wr!=null&&Qr<Wr&&(Qr=Kr.interval=Wr),Zr!=null&&Qr>Zr&&(Qr=Kr.interval=Zr);var ti=Kr.intervalPrecision=Ow(Qr),ei=Kr.niceTickExtent=[Zn(Math.ceil(Yr[0]/Qr)*Qr,ti),Zn(Math.floor(Yr[1]/Qr)*Qr,ti)];return fq(ei,Yr),Kr}function k0(Yr){var Gr=Math.pow(10,Jg(Yr)),Wr=Yr/Gr;return Wr?Wr===2?Wr=3:Wr===3?Wr=5:Wr*=2:Wr=1,Zn(Wr*Gr)}function Ow(Yr){return _o(Yr)+2}function AO(Yr,Gr,Wr){Yr[Gr]=Math.max(Math.min(Yr[Gr],Wr[1]),Wr[0])}function fq(Yr,Gr){!isFinite(Yr[0])&&(Yr[0]=Gr[0]),!isFinite(Yr[1])&&(Yr[1]=Gr[1]),AO(Yr,0,Gr),AO(Yr,1,Gr),Yr[0]>Yr[1]&&(Yr[0]=Yr[1])}function vf(Yr,Gr){return Yr>=Gr[0]&&Yr<=Gr[1]}function mf(Yr,Gr){return Gr[1]===Gr[0]?.5:(Yr-Gr[0])/(Gr[1]-Gr[0])}function gf(Yr,Gr){return Yr*(Gr[1]-Gr[0])+Gr[0]}var PO=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;Zr.type="ordinal";var Kr=Zr.getSetting("ordinalMeta");return Kr||(Kr=new Bv({})),Ri(Kr)&&(Kr=new Bv({categories:Oi(Kr,function(Jr){return qi(Jr)?Jr.value:Jr})})),Zr._ordinalMeta=Kr,Zr._extent=Zr.getSetting("extent")||[0,Kr.categories.length-1],Zr}return Gr.prototype.parse=function(Wr){return Wr==null?NaN:Ni(Wr)?this._ordinalMeta.getOrdinal(Wr):Math.round(Wr)},Gr.prototype.contain=function(Wr){return Wr=this.parse(Wr),vf(Wr,this._extent)&&this._ordinalMeta.categories[Wr]!=null},Gr.prototype.normalize=function(Wr){return Wr=this._getTickNumber(this.parse(Wr)),mf(Wr,this._extent)},Gr.prototype.scale=function(Wr){return Wr=Math.round(gf(Wr,this._extent)),this.getRawOrdinalNumber(Wr)},Gr.prototype.getTicks=function(){for(var Wr=[],Zr=this._extent,Kr=Zr[0];Kr<=Zr[1];)Wr.push({value:Kr}),Kr++;return Wr},Gr.prototype.getMinorTicks=function(Wr){},Gr.prototype.setSortInfo=function(Wr){if(Wr==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var Zr=Wr.ordinalNumbers,Kr=this._ordinalNumbersByTick=[],Jr=this._ticksByOrdinalNumber=[],Qr=0,ti=this._ordinalMeta.categories.length,ei=Math.min(ti,Zr.length);Qr<ei;++Qr){var ri=Zr[Qr];Kr[Qr]=ri,Jr[ri]=Qr}for(var ii=0;Qr<ti;++Qr){for(;Jr[ii]!=null;)ii++;Kr.push(ii),Jr[ii]=Qr}},Gr.prototype._getTickNumber=function(Wr){var Zr=this._ticksByOrdinalNumber;return Zr&&Wr>=0&&Wr<Zr.length?Zr[Wr]:Wr},Gr.prototype.getRawOrdinalNumber=function(Wr){var Zr=this._ordinalNumbersByTick;return Zr&&Wr>=0&&Wr<Zr.length?Zr[Wr]:Wr},Gr.prototype.getLabel=function(Wr){if(!this.isBlank()){var Zr=this.getRawOrdinalNumber(Wr.value),Kr=this._ordinalMeta.categories[Zr];return Kr==null?"":Kr+""}},Gr.prototype.count=function(){return this._extent[1]-this._extent[0]+1},Gr.prototype.unionExtentFromData=function(Wr,Zr){this.unionExtent(Wr.getApproximateExtent(Zr))},Gr.prototype.isInExtentRange=function(Wr){return Wr=this._getTickNumber(Wr),this._extent[0]<=Wr&&this._extent[1]>=Wr},Gr.prototype.getOrdinalMeta=function(){return this._ordinalMeta},Gr.prototype.calcNiceTicks=function(){},Gr.prototype.calcNiceExtent=function(){},Gr.type="ordinal",Gr}(jo);jo.registerClass(PO);var Gv=PO;var Yh=Zn,EO=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="interval",Wr._interval=0,Wr._intervalPrecision=2,Wr}return Gr.prototype.parse=function(Wr){return Wr},Gr.prototype.contain=function(Wr){return vf(Wr,this._extent)},Gr.prototype.normalize=function(Wr){return mf(Wr,this._extent)},Gr.prototype.scale=function(Wr){return gf(Wr,this._extent)},Gr.prototype.setExtent=function(Wr,Zr){var Kr=this._extent;isNaN(Wr)||(Kr[0]=parseFloat(Wr)),isNaN(Zr)||(Kr[1]=parseFloat(Zr))},Gr.prototype.unionExtent=function(Wr){var Zr=this._extent;Wr[0]<Zr[0]&&(Zr[0]=Wr[0]),Wr[1]>Zr[1]&&(Zr[1]=Wr[1]),this.setExtent(Zr[0],Zr[1])},Gr.prototype.getInterval=function(){return this._interval},Gr.prototype.setInterval=function(Wr){this._interval=Wr,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ow(Wr)},Gr.prototype.getTicks=function(Wr){var Zr=this._interval,Kr=this._extent,Jr=this._niceExtent,Qr=this._intervalPrecision,ti=[];if(!Zr)return ti;var ei=1e4;Kr[0]<Jr[0]&&(Wr?ti.push({value:Yh(Jr[0]-Zr,Qr)}):ti.push({value:Kr[0]}));for(var ri=Jr[0];ri<=Jr[1]&&(ti.push({value:ri}),ri=Yh(ri+Zr,Qr),ri!==ti[ti.length-1].value);)if(ti.length>ei)return[];var ii=ti.length?ti[ti.length-1].value:Jr[1];return Kr[1]>ii&&(Wr?ti.push({value:Yh(ii+Zr,Qr)}):ti.push({value:Kr[1]})),ti},Gr.prototype.getMinorTicks=function(Wr){for(var Zr=this.getTicks(!0),Kr=[],Jr=this.getExtent(),Qr=1;Qr<Zr.length;Qr++){for(var ti=Zr[Qr],ei=Zr[Qr-1],ri=0,ii=[],ni=ti.value-ei.value,ai=ni/Wr;ri<Wr-1;){var oi=Yh(ei.value+(ri+1)*ai);oi>Jr[0]&&oi<Jr[1]&&ii.push(oi),ri++}Kr.push(ii)}return Kr},Gr.prototype.getLabel=function(Wr,Zr){if(Wr==null)return"";var Kr=Zr&&Zr.precision;Kr==null?Kr=_o(Wr.value)||0:Kr==="auto"&&(Kr=this._intervalPrecision);var Jr=Yh(Wr.value,Kr,!0);return I1(Jr)},Gr.prototype.calcNiceTicks=function(Wr,Zr,Kr){Wr=Wr||5;var Jr=this._extent,Qr=Jr[1]-Jr[0];if(isFinite(Qr)){Qr<0&&(Qr=-Qr,Jr.reverse());var ti=MO(Jr,Wr,Zr,Kr);this._intervalPrecision=ti.intervalPrecision,this._interval=ti.interval,this._niceExtent=ti.niceTickExtent}},Gr.prototype.calcNiceExtent=function(Wr){var Zr=this._extent;if(Zr[0]===Zr[1])if(Zr[0]!==0){var Kr=Math.abs(Zr[0]);Wr.fixMax||(Zr[1]+=Kr/2),Zr[0]-=Kr/2}else Zr[1]=1;var Jr=Zr[1]-Zr[0];isFinite(Jr)||(Zr[0]=0,Zr[1]=1),this.calcNiceTicks(Wr.splitNumber,Wr.minInterval,Wr.maxInterval);var Qr=this._interval;Wr.fixMin||(Zr[0]=Yh(Math.floor(Zr[0]/Qr)*Qr)),Wr.fixMax||(Zr[1]=Yh(Math.ceil(Zr[1]/Qr)*Qr))},Gr.prototype.setNiceExtent=function(Wr,Zr){this._niceExtent=[Wr,Zr]},Gr.type="interval",Gr}(jo);jo.registerClass(EO);var Ko=EO;var DO=typeof Float32Array<"u",hq=DO?Float32Array:Array;function Mo(Yr){return Ri(Yr)?DO?new Float32Array(Yr):Yr:new hq(Yr)}var zw="__ec_stack_";function Nw(Yr){return Yr.get("stack")||zw+Yr.seriesIndex}function Fw(Yr){return Yr.dim+Yr.index}function IO(Yr){var Gr=[],Wr=Yr.axis,Zr="axis0";if(Wr.type==="category"){for(var Kr=Wr.getBandWidth(),Jr=0;Jr<Yr.count;Jr++)Gr.push(Yi({bandWidth:Kr,axisKey:Zr,stackId:zw+Jr},Yr));for(var Qr=LO(Gr),ti=[],Jr=0;Jr<Yr.count;Jr++){var ei=Qr[Zr][zw+Jr];ei.offsetCenter=ei.offset+ei.width/2,ti.push(ei)}return ti}}function Vw(Yr,Gr){var Wr=[];return Gr.eachSeriesByType(Yr,function(Zr){RO(Zr)&&Wr.push(Zr)}),Wr}function cq(Yr){var Gr={};_i(Yr,function(ei){var ri=ei.coordinateSystem,ii=ri.getBaseAxis();if(!(ii.type!=="time"&&ii.type!=="value"))for(var ni=ei.getData(),ai=ii.dim+"_"+ii.index,oi=ni.getDimensionIndex(ni.mapDimension(ii.dim)),si=ni.getStore(),li=0,ui=si.count();li<ui;++li){var fi=si.get(oi,li);Gr[ai]?Gr[ai].push(fi):Gr[ai]=[fi]}});var Wr={};for(var Zr in Gr)if(Gr.hasOwnProperty(Zr)){var Kr=Gr[Zr];if(Kr){Kr.sort(function(ei,ri){return ei-ri});for(var Jr=null,Qr=1;Qr<Kr.length;++Qr){var ti=Kr[Qr]-Kr[Qr-1];ti>0&&(Jr=Jr===null?ti:Math.min(Jr,ti))}Wr[Zr]=Jr}}return Wr}function Bw(Yr){var Gr=cq(Yr),Wr=[];return _i(Yr,function(Zr){var Kr=Zr.coordinateSystem,Jr=Kr.getBaseAxis(),Qr=Jr.getExtent(),ti;if(Jr.type==="category")ti=Jr.getBandWidth();else if(Jr.type==="value"||Jr.type==="time"){var ei=Jr.dim+"_"+Jr.index,ri=Gr[ei],ii=Math.abs(Qr[1]-Qr[0]),ni=Jr.scale.getExtent(),ai=Math.abs(ni[1]-ni[0]);ti=ri?ii/ai*ri:ii}else{var oi=Zr.getData();ti=Math.abs(Qr[1]-Qr[0])/oi.count()}var si=Ui(Zr.get("barWidth"),ti),li=Ui(Zr.get("barMaxWidth"),ti),ui=Ui(Zr.get("barMinWidth")||(OO(Zr)?.5:1),ti),fi=Zr.get("barGap"),hi=Zr.get("barCategoryGap");Wr.push({bandWidth:ti,barWidth:si,barMaxWidth:li,barMinWidth:ui,barGap:fi,barCategoryGap:hi,axisKey:Fw(Jr),stackId:Nw(Zr)})}),LO(Wr)}function LO(Yr){var Gr={};_i(Yr,function(Zr,Kr){var Jr=Zr.axisKey,Qr=Zr.bandWidth,ti=Gr[Jr]||{bandWidth:Qr,remainedWidth:Qr,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},ei=ti.stacks;Gr[Jr]=ti;var ri=Zr.stackId;ei[ri]||ti.autoWidthCount++,ei[ri]=ei[ri]||{width:0,maxWidth:0};var ii=Zr.barWidth;ii&&!ei[ri].width&&(ei[ri].width=ii,ii=Math.min(ti.remainedWidth,ii),ti.remainedWidth-=ii);var ni=Zr.barMaxWidth;ni&&(ei[ri].maxWidth=ni);var ai=Zr.barMinWidth;ai&&(ei[ri].minWidth=ai);var oi=Zr.barGap;oi!=null&&(ti.gap=oi);var si=Zr.barCategoryGap;si!=null&&(ti.categoryGap=si)});var Wr={};return _i(Gr,function(Zr,Kr){Wr[Kr]={};var Jr=Zr.stacks,Qr=Zr.bandWidth,ti=Zr.categoryGap;if(ti==null){var ei=fn(Jr).length;ti=Math.max(35-ei*4,15)+"%"}var ri=Ui(ti,Qr),ii=Ui(Zr.gap,1),ni=Zr.remainedWidth,ai=Zr.autoWidthCount,oi=(ni-ri)/(ai+(ai-1)*ii);oi=Math.max(oi,0),_i(Jr,function(fi){var hi=fi.maxWidth,ci=fi.minWidth;if(fi.width){var pi=fi.width;hi&&(pi=Math.min(pi,hi)),ci&&(pi=Math.max(pi,ci)),fi.width=pi,ni-=pi+ii*pi,ai--}else{var pi=oi;hi&&hi<pi&&(pi=Math.min(hi,ni)),ci&&ci>pi&&(pi=ci),pi!==oi&&(fi.width=pi,ni-=pi+ii*pi,ai--)}}),oi=(ni-ri)/(ai+(ai-1)*ii),oi=Math.max(oi,0);var si=0,li;_i(Jr,function(fi,hi){fi.width||(fi.width=oi),li=fi,si+=fi.width*(1+ii)}),li&&(si-=li.width*ii);var ui=-si/2;_i(Jr,function(fi,hi){Wr[Kr][hi]=Wr[Kr][hi]||{bandWidth:Qr,offset:ui,width:fi.width},ui+=fi.width*(1+ii)})}),Wr}function kO(Yr,Gr,Wr){if(Yr&&Gr){var Zr=Yr[Fw(Gr)];return Zr!=null&&Wr!=null?Zr[Nw(Wr)]:Zr}}function O0(Yr,Gr){var Wr=Vw(Yr,Gr),Zr=Bw(Wr);_i(Wr,function(Kr){var Jr=Kr.getData(),Qr=Kr.coordinateSystem,ti=Qr.getBaseAxis(),ei=Nw(Kr),ri=Zr[Fw(ti)][ei],ii=ri.offset,ni=ri.width;Jr.setLayout({bandWidth:ri.bandWidth,offset:ii,size:ni})})}function z0(Yr){return{seriesType:Yr,plan:cs(),reset:function(Gr){if(RO(Gr)){var Wr=Gr.getData(),Zr=Gr.coordinateSystem,Kr=Zr.getBaseAxis(),Jr=Zr.getOtherAxis(Kr),Qr=Wr.getDimensionIndex(Wr.mapDimension(Jr.dim)),ti=Wr.getDimensionIndex(Wr.mapDimension(Kr.dim)),ei=Gr.get("showBackground",!0),ri=Wr.mapDimension(Jr.dim),ii=Wr.getCalculationInfo("stackResultDimension"),ni=ds(Wr,ri)&&!!Wr.getCalculationInfo("stackedOnSeries"),ai=Jr.isHorizontal(),oi=pq(Kr,Jr),si=OO(Gr),li=Gr.get("barMinHeight")||0,ui=ii&&Wr.getDimensionIndex(ii),fi=Wr.getLayout("size"),hi=Wr.getLayout("offset");return{progress:function(ci,pi){for(var di=ci.count,vi=si&&Mo(di*3),mi=si&&ei&&Mo(di*3),gi=si&&Mo(di),yi=Zr.master.getRect(),Si=ai?yi.width:yi.height,bi,Ti=pi.getStore(),Ai=0;(bi=ci.next())!=null;){var Ei=Ti.get(ni?ui:Qr,bi),Mi=Ti.get(ti,bi),wi=oi,Pi=void 0;ni&&(Pi=+Ei-Ti.get(Qr,bi));var xi=void 0,Ci=void 0,Li=void 0,Ii=void 0;if(ai){var zi=Zr.dataToPoint([Ei,Mi]);if(ni){var Bi=Zr.dataToPoint([Pi,Mi]);wi=Bi[0]}xi=wi,Ci=zi[1]+hi,Li=zi[0]-wi,Ii=fi,Math.abs(Li)<li&&(Li=(Li<0?-1:1)*li)}else{var zi=Zr.dataToPoint([Mi,Ei]);if(ni){var Bi=Zr.dataToPoint([Mi,Pi]);wi=Bi[1]}xi=zi[0]+hi,Ci=wi,Li=fi,Ii=zi[1]-wi,Math.abs(Ii)<li&&(Ii=(Ii<=0?-1:1)*li)}si?(vi[Ai]=xi,vi[Ai+1]=Ci,vi[Ai+2]=ai?Li:Ii,mi&&(mi[Ai]=ai?yi.x:xi,mi[Ai+1]=ai?Ci:yi.y,mi[Ai+2]=Si),gi[bi]=bi):pi.setItemLayout(bi,{x:xi,y:Ci,width:Li,height:Ii}),Ai+=3}si&&pi.setLayout({largePoints:vi,largeDataIndices:gi,largeBackgroundPoints:mi,valueAxisHorizontal:ai})}}}}}}function RO(Yr){return Yr.coordinateSystem&&Yr.coordinateSystem.type==="cartesian2d"}function OO(Yr){return Yr.pipelineContext&&Yr.pipelineContext.large}function pq(Yr,Gr){return Gr.toGlobalCoord(Gr.dataToCoord(Gr.type==="log"?1:0))}var dq=function(Yr,Gr,Wr,Zr){for(;Wr<Zr;){var Kr=Wr+Zr>>>1;Yr[Kr][1]<Gr?Wr=Kr+1:Zr=Kr}return Wr},NO=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="time",Zr}return Gr.prototype.getLabel=function(Wr){var Zr=this.getSetting("useUTC");return Nh(Wr.value,b1[jk(zh(this._minLevelUnit))]||b1.second,Zr,this.getSetting("locale"))},Gr.prototype.getFormattedLabel=function(Wr,Zr,Kr){var Jr=this.getSetting("useUTC"),Qr=this.getSetting("locale");return Kk(Wr,Zr,Kr,Qr,Jr)},Gr.prototype.getTicks=function(){var Wr=this._interval,Zr=this._extent,Kr=[];if(!Wr)return Kr;Kr.push({value:Zr[0],level:0});var Jr=this.getSetting("useUTC"),Qr=bq(this._minLevelUnit,this._approxInterval,Jr,Zr);return Kr=Kr.concat(Qr),Kr.push({value:Zr[1],level:0}),Kr},Gr.prototype.calcNiceExtent=function(Wr){var Zr=this._extent;if(Zr[0]===Zr[1]&&(Zr[0]-=us,Zr[1]+=us),Zr[1]===-1/0&&Zr[0]===1/0){var Kr=new Date;Zr[1]=+new Date(Kr.getFullYear(),Kr.getMonth(),Kr.getDate()),Zr[0]=Zr[1]-us}this.calcNiceTicks(Wr.splitNumber,Wr.minInterval,Wr.maxInterval)},Gr.prototype.calcNiceTicks=function(Wr,Zr,Kr){Wr=Wr||10;var Jr=this._extent,Qr=Jr[1]-Jr[0];this._approxInterval=Qr/Wr,Zr!=null&&this._approxInterval<Zr&&(this._approxInterval=Zr),Kr!=null&&this._approxInterval>Kr&&(this._approxInterval=Kr);var ti=N0.length,ei=Math.min(dq(N0,this._approxInterval,0,ti),ti-1);this._interval=N0[ei][1],this._minLevelUnit=N0[Math.max(ei-1,0)][0]},Gr.prototype.parse=function(Wr){return gn(Wr)?Wr:+bo(Wr)},Gr.prototype.contain=function(Wr){return vf(this.parse(Wr),this._extent)},Gr.prototype.normalize=function(Wr){return mf(this.parse(Wr),this._extent)},Gr.prototype.scale=function(Wr){return gf(Wr,this._extent)},Gr.type="time",Gr}(Ko),N0=[["second",zy],["minute",Ny],["hour",rp],["quarter-day",rp*6],["half-day",rp*12],["day",us*1.2],["half-week",us*3.5],["week",us*7],["month",us*31],["quarter",us*95],["half-year",_1/2],["year",_1]];function vq(Yr,Gr,Wr,Zr){var Kr=bo(Gr),Jr=bo(Wr),Qr=function(si){return w1(Kr,si,Zr)===w1(Jr,si,Zr)},ti=function(){return Qr("year")},ei=function(){return ti()&&Qr("month")},ri=function(){return ei()&&Qr("day")},ii=function(){return ri()&&Qr("hour")},ni=function(){return ii()&&Qr("minute")},ai=function(){return ni()&&Qr("second")},oi=function(){return ai()&&Qr("millisecond")};switch(Yr){case"year":return ti();case"month":return ei();case"day":return ri();case"hour":return ii();case"minute":return ni();case"second":return ai();case"millisecond":return oi()}}function mq(Yr,Gr){return Yr/=us,Yr>16?16:Yr>7.5?7:Yr>3.5?4:Yr>1.5?2:1}function gq(Yr){var Gr=30*us;return Yr/=Gr,Yr>6?6:Yr>3?3:Yr>2?2:1}function yq(Yr){return Yr/=rp,Yr>12?12:Yr>6?6:Yr>3.5?4:Yr>2?2:1}function zO(Yr,Gr){return Yr/=Gr?Ny:zy,Yr>30?30:Yr>20?20:Yr>15?15:Yr>10?10:Yr>5?5:Yr>2?2:1}function xq(Yr){return Qg(Yr,!0)}function _q(Yr,Gr,Wr){var Zr=new Date(Yr);switch(zh(Gr)){case"year":case"month":Zr[C1(Wr)](0);case"day":Zr[T1(Wr)](1);case"hour":Zr[A1(Wr)](0);case"minute":Zr[M1(Wr)](0);case"second":Zr[P1(Wr)](0),Zr[E1(Wr)](0)}return Zr.getTime()}function bq(Yr,Gr,Wr,Zr){var Kr=1e4,Jr=S1,Qr=0;function ti(Si,bi,Ti,Ai,Ei,Mi,wi){for(var Pi=new Date(bi),xi=bi,Ci=Pi[Ai]();xi<Ti&&xi<=Zr[1];)wi.push({value:xi}),Ci+=Si,Pi[Ei](Ci),xi=Pi.getTime();wi.push({value:xi,notAdd:!0})}function ei(Si,bi,Ti){var Ai=[],Ei=!bi.length;if(!vq(zh(Si),Zr[0],Zr[1],Wr)){Ei&&(bi=[{value:_q(new Date(Zr[0]),Si,Wr)},{value:Zr[1]}]);for(var Mi=0;Mi<bi.length-1;Mi++){var wi=bi[Mi].value,Pi=bi[Mi+1].value;if(wi!==Pi){var xi=void 0,Ci=void 0,Li=void 0,Ii=!1;switch(Si){case"year":xi=Math.max(1,Math.round(Gr/us/365)),Ci=Fy(Wr),Li=Jk(Wr);break;case"half-year":case"quarter":case"month":xi=gq(Gr),Ci=Oh(Wr),Li=C1(Wr);break;case"week":case"half-week":case"day":xi=mq(Gr,31),Ci=fv(Wr),Li=T1(Wr),Ii=!0;break;case"half-day":case"quarter-day":case"hour":xi=yq(Gr),Ci=ep(Wr),Li=A1(Wr);break;case"minute":xi=zO(Gr,!0),Ci=hv(Wr),Li=M1(Wr);break;case"second":xi=zO(Gr,!1),Ci=cv(Wr),Li=P1(Wr);break;case"millisecond":xi=xq(Gr),Ci=pv(Wr),Li=E1(Wr);break}ti(xi,wi,Pi,Ci,Li,Ii,Ai),Si==="year"&&Ti.length>1&&Mi===0&&Ti.unshift({value:Ti[0].value-xi})}}for(var Mi=0;Mi<Ai.length;Mi++)Ti.push(Ai[Mi]);return Ai}}for(var ri=[],ii=[],ni=0,ai=0,oi=0;oi<Jr.length&&Qr++<Kr;++oi){var si=zh(Jr[oi]);if(Zk(Jr[oi])){ei(Jr[oi],ri[ri.length-1]||[],ii);var li=Jr[oi+1]?zh(Jr[oi+1]):null;if(si!==li){if(ii.length){ai=ni,ii.sort(function(Si,bi){return Si.value-bi.value});for(var ui=[],fi=0;fi<ii.length;++fi){var hi=ii[fi].value;(fi===0||ii[fi-1].value!==hi)&&(ui.push(ii[fi]),hi>=Zr[0]&&hi<=Zr[1]&&ni++)}var ci=(Zr[1]-Zr[0])/Gr;if(ni>ci*1.5&&ai>ci/1.5||(ri.push(ui),ni>ci||Yr===Jr[oi]))break}ii=[]}}}for(var pi=Tn(Oi(ri,function(Si){return Tn(Si,function(bi){return bi.value>=Zr[0]&&bi.value<=Zr[1]&&!bi.notAdd})}),function(Si){return Si.length>0}),di=[],vi=pi.length-1,oi=0;oi<pi.length;++oi)for(var mi=pi[oi],gi=0;gi<mi.length;++gi)di.push({value:mi[gi].value,level:vi-oi});di.sort(function(Si,bi){return Si.value-bi.value});for(var yi=[],oi=0;oi<di.length;++oi)(oi===0||di[oi].value!==di[oi-1].value)&&yi.push(di[oi]);return yi}jo.registerClass(NO);var F0=NO;var FO=jo.prototype,Hv=Ko.prototype,Sq=Zn,wq=Math.floor,Cq=Math.ceil,V0=Math.pow,cl=Math.log,Uw=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="log",Wr.base=10,Wr._originalScale=new Ko,Wr._interval=0,Wr}return Gr.prototype.getTicks=function(Wr){var Zr=this._originalScale,Kr=this._extent,Jr=Zr.getExtent(),Qr=Hv.getTicks.call(this,Wr);return Oi(Qr,function(ti){var ei=ti.value,ri=Zn(V0(this.base,ei));return ri=ei===Kr[0]&&this._fixMin?B0(ri,Jr[0]):ri,ri=ei===Kr[1]&&this._fixMax?B0(ri,Jr[1]):ri,{value:ri}},this)},Gr.prototype.setExtent=function(Wr,Zr){var Kr=cl(this.base);Wr=cl(Math.max(0,Wr))/Kr,Zr=cl(Math.max(0,Zr))/Kr,Hv.setExtent.call(this,Wr,Zr)},Gr.prototype.getExtent=function(){var Wr=this.base,Zr=FO.getExtent.call(this);Zr[0]=V0(Wr,Zr[0]),Zr[1]=V0(Wr,Zr[1]);var Kr=this._originalScale,Jr=Kr.getExtent();return this._fixMin&&(Zr[0]=B0(Zr[0],Jr[0])),this._fixMax&&(Zr[1]=B0(Zr[1],Jr[1])),Zr},Gr.prototype.unionExtent=function(Wr){this._originalScale.unionExtent(Wr);var Zr=this.base;Wr[0]=cl(Wr[0])/cl(Zr),Wr[1]=cl(Wr[1])/cl(Zr),FO.unionExtent.call(this,Wr)},Gr.prototype.unionExtentFromData=function(Wr,Zr){this.unionExtent(Wr.getApproximateExtent(Zr))},Gr.prototype.calcNiceTicks=function(Wr){Wr=Wr||10;var Zr=this._extent,Kr=Zr[1]-Zr[0];if(!(Kr===1/0||Kr<=0)){var Jr=RI(Kr),Qr=Wr/Kr*Jr;for(Qr<=.5&&(Jr*=10);!isNaN(Jr)&&Math.abs(Jr)<1&&Math.abs(Jr)>0;)Jr*=10;var ti=[Zn(Cq(Zr[0]/Jr)*Jr),Zn(wq(Zr[1]/Jr)*Jr)];this._interval=Jr,this._niceExtent=ti}},Gr.prototype.calcNiceExtent=function(Wr){Hv.calcNiceExtent.call(this,Wr),this._fixMin=Wr.fixMin,this._fixMax=Wr.fixMax},Gr.prototype.parse=function(Wr){return Wr},Gr.prototype.contain=function(Wr){return Wr=cl(Wr)/cl(this.base),vf(Wr,this._extent)},Gr.prototype.normalize=function(Wr){return Wr=cl(Wr)/cl(this.base),mf(Wr,this._extent)},Gr.prototype.scale=function(Wr){return Wr=gf(Wr,this._extent),V0(this.base,Wr)},Gr.type="log",Gr}(jo),VO=Uw.prototype;VO.getMinorTicks=Hv.getMinorTicks;VO.getLabel=Hv.getLabel;function B0(Yr,Gr){return Sq(Yr,_o(Gr))}jo.registerClass(Uw);var BO=Uw;var Tq=function(){function Yr(Gr,Wr,Zr){this._prepareParams(Gr,Wr,Zr)}return Yr.prototype._prepareParams=function(Gr,Wr,Zr){Zr[1]<Zr[0]&&(Zr=[NaN,NaN]),this._dataMin=Zr[0],this._dataMax=Zr[1];var Kr=this._isOrdinal=Gr.type==="ordinal";this._needCrossZero=Gr.type==="interval"&&Wr.getNeedCrossZero&&Wr.getNeedCrossZero();var Jr=this._modelMinRaw=Wr.get("min",!0);Wi(Jr)?this._modelMinNum=U0(Gr,Jr({min:Zr[0],max:Zr[1]})):Jr!=="dataMin"&&(this._modelMinNum=U0(Gr,Jr));var Qr=this._modelMaxRaw=Wr.get("max",!0);if(Wi(Qr)?this._modelMaxNum=U0(Gr,Qr({min:Zr[0],max:Zr[1]})):Qr!=="dataMax"&&(this._modelMaxNum=U0(Gr,Qr)),Kr)this._axisDataLen=Wr.getCategories().length;else{var ti=Wr.get("boundaryGap"),ei=Ri(ti)?ti:[ti||0,ti||0];typeof ei[0]=="boolean"||typeof ei[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[eo(ei[0],1),eo(ei[1],1)]}},Yr.prototype.calculate=function(){var Gr=this._isOrdinal,Wr=this._dataMin,Zr=this._dataMax,Kr=this._axisDataLen,Jr=this._boundaryGapInner,Qr=Gr?null:Zr-Wr||Math.abs(Wr),ti=this._modelMinRaw==="dataMin"?Wr:this._modelMinNum,ei=this._modelMaxRaw==="dataMax"?Zr:this._modelMaxNum,ri=ti!=null,ii=ei!=null;ti==null&&(ti=Gr?Kr?0:NaN:Wr-Jr[0]*Qr),ei==null&&(ei=Gr?Kr?Kr-1:NaN:Zr+Jr[1]*Qr),(ti==null||!isFinite(ti))&&(ti=NaN),(ei==null||!isFinite(ei))&&(ei=NaN);var ni=Bu(ti)||Bu(ei)||Gr&&!Kr;this._needCrossZero&&(ti>0&&ei>0&&!ri&&(ti=0),ti<0&&ei<0&&!ii&&(ei=0));var ai=this._determinedMin,oi=this._determinedMax;return ai!=null&&(ti=ai,ri=!0),oi!=null&&(ei=oi,ii=!0),{min:ti,max:ei,minFixed:ri,maxFixed:ii,isBlank:ni}},Yr.prototype.modifyDataMinMax=function(Gr,Wr){this[Mq[Gr]]=Wr},Yr.prototype.setDeterminedMinMax=function(Gr,Wr){var Zr=Aq[Gr];this[Zr]=Wr},Yr.prototype.freeze=function(){this.frozen=!0},Yr}();var Aq={min:"_determinedMin",max:"_determinedMax"},Mq={min:"_dataMin",max:"_dataMax"};function G0(Yr,Gr,Wr){var Zr=Yr.rawExtentInfo;return Zr||(Zr=new Tq(Yr,Gr,Wr),Yr.rawExtentInfo=Zr,Zr)}function U0(Yr,Gr){return Gr==null?null:Bu(Gr)?NaN:Yr.parse(Gr)}function Gw(Yr,Gr){var Wr=Yr.type,Zr=G0(Yr,Gr,Yr.getExtent()).calculate();Yr.setBlank(Zr.isBlank);var Kr=Zr.min,Jr=Zr.max,Qr=Gr.ecModel;if(Qr&&Wr==="time"){var ti=Vw("bar",Qr),ei=!1;if(_i(ti,function(ni){ei=ei||ni.getBaseAxis()===Gr.axis}),ei){var ri=Bw(ti),ii=Pq(Kr,Jr,Gr,ri);Kr=ii.min,Jr=ii.max}}return{extent:[Kr,Jr],fixMin:Zr.minFixed,fixMax:Zr.maxFixed}}function Pq(Yr,Gr,Wr,Zr){var Kr=Wr.axis.getExtent(),Jr=Kr[1]-Kr[0],Qr=kO(Zr,Wr.axis);if(Qr===void 0)return{min:Yr,max:Gr};var ti=1/0;_i(Qr,function(oi){ti=Math.min(oi.offset,ti)});var ei=-1/0;_i(Qr,function(oi){ei=Math.max(oi.offset+oi.width,ei)}),ti=Math.abs(ti),ei=Math.abs(ei);var ri=ti+ei,ii=Gr-Yr,ni=1-(ti+ei)/Jr,ai=ii/ni-ii;return Gr+=ai*(ei/ri),Yr-=ai*(ti/ri),{min:Yr,max:Gr}}function zl(Yr,Gr){var Wr=Gr,Zr=Gw(Yr,Wr),Kr=Zr.extent,Jr=Wr.get("splitNumber");Yr instanceof BO&&(Yr.base=Wr.get("logBase"));var Qr=Yr.type,ti=Wr.get("interval"),ei=Qr==="interval"||Qr==="time";Yr.setExtent(Kr[0],Kr[1]),Yr.calcNiceExtent({splitNumber:Jr,fixMin:Zr.fixMin,fixMax:Zr.fixMax,minInterval:ei?Wr.get("minInterval"):null,maxInterval:ei?Wr.get("maxInterval"):null}),ti!=null&&Yr.setInterval&&Yr.setInterval(ti)}function yf(Yr,Gr){if(Gr=Gr||Yr.get("type"),Gr)switch(Gr){case"category":return new Gv({ordinalMeta:Yr.getOrdinalMeta?Yr.getOrdinalMeta():Yr.getCategories(),extent:[1/0,-1/0]});case"time":return new F0({locale:Yr.ecModel.getLocaleModel(),useUTC:Yr.ecModel.get("useUTC")});default:return new(jo.getClass(Gr)||Ko)}}function UO(Yr){var Gr=Yr.scale.getExtent(),Wr=Gr[0],Zr=Gr[1];return!(Wr>0&&Zr>0||Wr<0&&Zr<0)}function dp(Yr){var Gr=Yr.getLabelModel().get("formatter"),Wr=Yr.type==="category"?Yr.scale.getExtent()[0]:null;return Yr.scale.type==="time"?function(Zr){return function(Kr,Jr){return Yr.scale.getFormattedLabel(Kr,Jr,Zr)}}(Gr):Ni(Gr)?function(Zr){return function(Kr){var Jr=Yr.scale.getLabel(Kr),Qr=Zr.replace("{value}",Jr??"");return Qr}}(Gr):Wi(Gr)?function(Zr){return function(Kr,Jr){return Wr!=null&&(Jr=Kr.value-Wr),Zr(Wv(Yr,Kr),Jr,Kr.level!=null?{level:Kr.level}:null)}}(Gr):function(Zr){return Yr.scale.getLabel(Zr)}}function Wv(Yr,Gr){return Yr.type==="category"?Yr.scale.getLabel(Gr):Gr.value}function GO(Yr){var Gr=Yr.model,Wr=Yr.scale;if(!(!Gr.get(["axisLabel","show"])||Wr.isBlank())){var Zr,Kr,Jr=Wr.getExtent();Wr instanceof Gv?Kr=Wr.count():(Zr=Wr.getTicks(),Kr=Zr.length);var Qr=Yr.getLabelModel(),ti=dp(Yr),ei,ri=1;Kr>40&&(ri=Math.ceil(Kr/40));for(var ii=0;ii<Kr;ii+=ri){var ni=Zr?Zr[ii]:{value:Jr[0]+ii},ai=ti(ni,ii),oi=Qr.getTextRect(ai),si=Eq(oi,Qr.get("rotate")||0);ei?ei.union(si):ei=si}return ei}}function Eq(Yr,Gr){var Wr=Gr*Math.PI/180,Zr=Yr.width,Kr=Yr.height,Jr=Zr*Math.abs(Math.cos(Wr))+Math.abs(Kr*Math.sin(Wr)),Qr=Zr*Math.abs(Math.sin(Wr))+Math.abs(Kr*Math.cos(Wr)),ti=new rn(Yr.x,Yr.y,Jr,Qr);return ti}function H0(Yr){var Gr=Yr.get("interval");return Gr??"auto"}function W0(Yr){return Yr.type==="category"&&H0(Yr.getLabelModel())===0}function vp(Yr,Gr){var Wr={};return _i(Yr.mapDimensionsAll(Gr),function(Zr){Wr[L0(Yr,Zr)]=!0}),fn(Wr)}function HO(Yr,Gr,Wr){Gr&&_i(vp(Gr,Wr),function(Zr){var Kr=Gr.getApproximateExtent(Zr);Kr[0]<Yr[0]&&(Yr[0]=Kr[0]),Kr[1]>Yr[1]&&(Yr[1]=Kr[1])})}var Nl=function(){function Yr(){}return Yr.prototype.getNeedCrossZero=function(){var Gr=this.option;return!Gr.scale},Yr.prototype.getCoordSysModel=function(){},Yr}();var Dq=1e-8;function WO(Yr,Gr){return Math.abs(Yr-Gr)<Dq}function wu(Yr,Gr,Wr){var Zr=0,Kr=Yr[0];if(!Kr)return!1;for(var Jr=1;Jr<Yr.length;Jr++){var Qr=Yr[Jr];Zr+=Ms(Kr[0],Kr[1],Qr[0],Qr[1],Gr,Wr),Kr=Qr}var ti=Yr[0];return(!WO(Kr[0],ti[0])||!WO(Kr[1],ti[1]))&&(Zr+=Ms(Kr[0],Kr[1],ti[0],ti[1],Gr,Wr)),Zr!==0}var Iq=[];function Hw(Yr,Gr){for(var Wr=0;Wr<Yr.length;Wr++)ma(Yr[Wr],Yr[Wr],Gr)}function XO(Yr,Gr,Wr,Zr){for(var Kr=0;Kr<Yr.length;Kr++){var Jr=Yr[Kr];Zr&&(Jr=Zr.project(Jr)),Jr&&isFinite(Jr[0])&&isFinite(Jr[1])&&(ns(Gr,Gr,Jr),as(Wr,Wr,Jr))}}function Lq(Yr){for(var Gr=0,Wr=0,Zr=0,Kr=Yr.length,Jr=Yr[Kr-1][0],Qr=Yr[Kr-1][1],ti=0;ti<Kr;ti++){var ei=Yr[ti][0],ri=Yr[ti][1],ii=Jr*ri-ei*Qr;Gr+=ii,Wr+=(Jr+ei)*ii,Zr+=(Qr+ri)*ii,Jr=ei,Qr=ri}return Gr?[Wr/Gr/3,Zr/Gr/3,Gr]:[Yr[0][0]||0,Yr[0][1]||0]}var qO=function(){function Yr(Gr){this.name=Gr}return Yr.prototype.setCenter=function(Gr){this._center=Gr},Yr.prototype.getCenter=function(){var Gr=this._center;return Gr||(Gr=this._center=this.calcCenter()),Gr},Yr}();var Ww=function(){function Yr(Gr,Wr){this.type="polygon",this.exterior=Gr,this.interiors=Wr}return Yr}();var Yw=function(){function Yr(Gr){this.type="linestring",this.points=Gr}return Yr}();var X0=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this,Wr)||this;return Jr.type="geoJSON",Jr.geometries=Zr,Jr._center=Kr&&[Kr[0],Kr[1]],Jr}return Gr.prototype.calcCenter=function(){for(var Wr=this.geometries,Zr,Kr=0,Jr=0;Jr<Wr.length;Jr++){var Qr=Wr[Jr],ti=Qr.exterior,ei=ti&&ti.length;ei>Kr&&(Zr=Qr,Kr=ei)}if(Zr)return Lq(Zr.exterior);var ri=this.getBoundingRect();return[ri.x+ri.width/2,ri.y+ri.height/2]},Gr.prototype.getBoundingRect=function(Wr){var Zr=this._rect;if(Zr&&!Wr)return Zr;var Kr=[1/0,1/0],Jr=[-1/0,-1/0],Qr=this.geometries;return _i(Qr,function(ti){ti.type==="polygon"?XO(ti.exterior,Kr,Jr,Wr):_i(ti.points,function(ei){XO(ei,Kr,Jr,Wr)})}),isFinite(Kr[0])&&isFinite(Kr[1])&&isFinite(Jr[0])&&isFinite(Jr[1])||(Kr[0]=Kr[1]=Jr[0]=Jr[1]=0),Zr=new rn(Kr[0],Kr[1],Jr[0]-Kr[0],Jr[1]-Kr[1]),Wr||(this._rect=Zr),Zr},Gr.prototype.contain=function(Wr){var Zr=this.getBoundingRect(),Kr=this.geometries;if(!Zr.contain(Wr[0],Wr[1]))return!1;t:for(var Jr=0,Qr=Kr.length;Jr<Qr;Jr++){var ti=Kr[Jr];if(ti.type==="polygon"){var ei=ti.exterior,ri=ti.interiors;if(wu(ei,Wr[0],Wr[1])){for(var ii=0;ii<(ri?ri.length:0);ii++)if(wu(ri[ii],Wr[0],Wr[1]))continue t;return!0}}}return!1},Gr.prototype.transformTo=function(Wr,Zr,Kr,Jr){var Qr=this.getBoundingRect(),ti=Qr.width/Qr.height;Kr?Jr||(Jr=Kr/ti):Kr=ti*Jr;for(var ei=new rn(Wr,Zr,Kr,Jr),ri=Qr.calculateTransform(ei),ii=this.geometries,ni=0;ni<ii.length;ni++){var ai=ii[ni];ai.type==="polygon"?(Hw(ai.exterior,ri),_i(ai.interiors,function(oi){Hw(oi,ri)})):_i(ai.points,function(oi){Hw(oi,ri)})}Qr=this._rect,Qr.copy(ei),this._center=[Qr.x+Qr.width/2,Qr.y+Qr.height/2]},Gr.prototype.cloneShallow=function(Wr){Wr==null&&(Wr=this.name);var Zr=new Gr(Wr,this.geometries,this._center);return Zr._rect=this._rect,Zr.transformTo=null,Zr},Gr}(qO);var ZO=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr){var Kr=Yr.call(this,Wr)||this;return Kr.type="geoSVG",Kr._elOnlyForCalculate=Zr,Kr}return Gr.prototype.calcCenter=function(){for(var Wr=this._elOnlyForCalculate,Zr=Wr.getBoundingRect(),Kr=[Zr.x+Zr.width/2,Zr.y+Zr.height/2],Jr=Gu(Iq),Qr=Wr;Qr&&!Qr.isGeoSVGGraphicRoot;)Oo(Jr,Qr.getLocalTransform(),Jr),Qr=Qr.parent;return _s(Jr,Jr),ma(Kr,Kr,Jr),Kr},Gr}(qO);function kq(Yr){if(!Yr.UTF8Encoding)return Yr;var Gr=Yr,Wr=Gr.UTF8Scale;Wr==null&&(Wr=1024);var Zr=Gr.features;return _i(Zr,function(Kr){var Jr=Kr.geometry,Qr=Jr.encodeOffsets,ti=Jr.coordinates;if(Qr)switch(Jr.type){case"LineString":Jr.coordinates=jO(ti,Qr,Wr);break;case"Polygon":Xw(ti,Qr,Wr);break;case"MultiLineString":Xw(ti,Qr,Wr);break;case"MultiPolygon":_i(ti,function(ei,ri){return Xw(ei,Qr[ri],Wr)})}}),Gr.UTF8Encoding=!1,Gr}function Xw(Yr,Gr,Wr){for(var Zr=0;Zr<Yr.length;Zr++)Yr[Zr]=jO(Yr[Zr],Gr[Zr],Wr)}function jO(Yr,Gr,Wr){for(var Zr=[],Kr=Gr[0],Jr=Gr[1],Qr=0;Qr<Yr.length;Qr+=2){var ti=Yr.charCodeAt(Qr)-64,ei=Yr.charCodeAt(Qr+1)-64;ti=ti>>1^-(ti&1),ei=ei>>1^-(ei&1),ti+=Kr,ei+=Jr,Kr=ti,Jr=ei,Zr.push([ti/Wr,ei/Wr])}return Zr}function qw(Yr,Gr){return Yr=kq(Yr),Oi(Tn(Yr.features,function(Wr){return Wr.geometry&&Wr.properties&&Wr.geometry.coordinates.length>0}),function(Wr){var Zr=Wr.properties,Kr=Wr.geometry,Jr=[];switch(Kr.type){case"Polygon":var Qr=Kr.coordinates;Jr.push(new Ww(Qr[0],Qr.slice(1)));break;case"MultiPolygon":_i(Kr.coordinates,function(ei){ei[0]&&Jr.push(new Ww(ei[0],ei.slice(1)))});break;case"LineString":Jr.push(new Yw([Kr.coordinates]));break;case"MultiLineString":Jr.push(new Yw(Kr.coordinates))}var ti=new X0(Zr[Gr||"name"],Jr,Zr.cp);return ti.properties=Zr,ti})}var Yv=ln();function KO(Yr){return Yr.type==="category"?Rq(Yr):zq(Yr)}function $O(Yr,Gr){return Yr.type==="category"?Oq(Yr,Gr):{ticks:Oi(Yr.scale.getTicks(),function(Wr){return Wr.value})}}function Rq(Yr){var Gr=Yr.getLabelModel(),Wr=JO(Yr,Gr);return!Gr.get("show")||Yr.scale.isBlank()?{labels:[],labelCategoryInterval:Wr.labelCategoryInterval}:Wr}function JO(Yr,Gr){var Wr=QO(Yr,"labels"),Zr=H0(Gr),Kr=tz(Wr,Zr);if(Kr)return Kr;var Jr,Qr;return Wi(Zr)?Jr=nz(Yr,Zr):(Qr=Zr==="auto"?Nq(Yr):Zr,Jr=iz(Yr,Qr)),ez(Wr,Zr,{labels:Jr,labelCategoryInterval:Qr})}function Oq(Yr,Gr){var Wr=QO(Yr,"ticks"),Zr=H0(Gr),Kr=tz(Wr,Zr);if(Kr)return Kr;var Jr,Qr;if((!Gr.get("show")||Yr.scale.isBlank())&&(Jr=[]),Wi(Zr))Jr=nz(Yr,Zr,!0);else if(Zr==="auto"){var ti=JO(Yr,Yr.getLabelModel());Qr=ti.labelCategoryInterval,Jr=Oi(ti.labels,function(ei){return ei.tickValue})}else Qr=Zr,Jr=iz(Yr,Qr,!0);return ez(Wr,Zr,{ticks:Jr,tickCategoryInterval:Qr})}function zq(Yr){var Gr=Yr.scale.getTicks(),Wr=dp(Yr);return{labels:Oi(Gr,function(Zr,Kr){return{level:Zr.level,formattedLabel:Wr(Zr,Kr),rawLabel:Yr.scale.getLabel(Zr),tickValue:Zr.value}})}}function QO(Yr,Gr){return Yv(Yr)[Gr]||(Yv(Yr)[Gr]=[])}function tz(Yr,Gr){for(var Wr=0;Wr<Yr.length;Wr++)if(Yr[Wr].key===Gr)return Yr[Wr].value}function ez(Yr,Gr,Wr){return Yr.push({key:Gr,value:Wr}),Wr}function Nq(Yr){var Gr=Yv(Yr).autoInterval;return Gr??(Yv(Yr).autoInterval=Yr.calculateCategoryInterval())}function rz(Yr){var Gr=Fq(Yr),Wr=dp(Yr),Zr=(Gr.axisRotate-Gr.labelRotate)/180*Math.PI,Kr=Yr.scale,Jr=Kr.getExtent(),Qr=Kr.count();if(Jr[1]-Jr[0]<1)return 0;var ti=1;Qr>40&&(ti=Math.max(1,Math.floor(Qr/40)));for(var ei=Jr[0],ri=Yr.dataToCoord(ei+1)-Yr.dataToCoord(ei),ii=Math.abs(ri*Math.cos(Zr)),ni=Math.abs(ri*Math.sin(Zr)),ai=0,oi=0;ei<=Jr[1];ei+=ti){var si=0,li=0,ui=Tl(Wr({value:ei}),Gr.font,"center","top");si=ui.width*1.3,li=ui.height*1.3,ai=Math.max(ai,si,7),oi=Math.max(oi,li,7)}var fi=ai/ii,hi=oi/ni;isNaN(fi)&&(fi=1/0),isNaN(hi)&&(hi=1/0);var ci=Math.max(0,Math.floor(Math.min(fi,hi))),pi=Yv(Yr.model),di=Yr.getExtent(),vi=pi.lastAutoInterval,mi=pi.lastTickCount;return vi!=null&&mi!=null&&Math.abs(vi-ci)<=1&&Math.abs(mi-Qr)<=1&&vi>ci&&pi.axisExtent0===di[0]&&pi.axisExtent1===di[1]?ci=vi:(pi.lastTickCount=Qr,pi.lastAutoInterval=ci,pi.axisExtent0=di[0],pi.axisExtent1=di[1]),ci}function Fq(Yr){var Gr=Yr.getLabelModel();return{axisRotate:Yr.getRotate?Yr.getRotate():Yr.isHorizontal&&!Yr.isHorizontal()?90:0,labelRotate:Gr.get("rotate")||0,font:Gr.getFont()}}function iz(Yr,Gr,Wr){var Zr=dp(Yr),Kr=Yr.scale,Jr=Kr.getExtent(),Qr=Yr.getLabelModel(),ti=[],ei=Math.max((Gr||0)+1,1),ri=Jr[0],ii=Kr.count();ri!==0&&ei>1&&ii/ei>2&&(ri=Math.round(Math.ceil(ri/ei)*ei));var ni=W0(Yr),ai=Qr.get("showMinLabel")||ni,oi=Qr.get("showMaxLabel")||ni;ai&&ri!==Jr[0]&&li(Jr[0]);for(var si=ri;si<=Jr[1];si+=ei)li(si);oi&&si-ei!==Jr[1]&&li(Jr[1]);function li(ui){var fi={value:ui};ti.push(Wr?ui:{formattedLabel:Zr(fi),rawLabel:Kr.getLabel(fi),tickValue:ui})}return ti}function nz(Yr,Gr,Wr){var Zr=Yr.scale,Kr=dp(Yr),Jr=[];return _i(Zr.getTicks(),function(Qr){var ti=Zr.getLabel(Qr),ei=Qr.value;Gr(Qr.value,ti)&&Jr.push(Wr?ei:{formattedLabel:Kr(Qr),rawLabel:ti,tickValue:ei})}),Jr}var az=[0,1],Vq=function(){function Yr(Gr,Wr,Zr){this.onBand=!1,this.inverse=!1,this.dim=Gr,this.scale=Wr,this._extent=Zr||[0,0]}return Yr.prototype.contain=function(Gr){var Wr=this._extent,Zr=Math.min(Wr[0],Wr[1]),Kr=Math.max(Wr[0],Wr[1]);return Gr>=Zr&&Gr<=Kr},Yr.prototype.containData=function(Gr){return this.scale.contain(Gr)},Yr.prototype.getExtent=function(){return this._extent.slice()},Yr.prototype.getPixelPrecision=function(Gr){return $g(Gr||this.scale.getExtent(),this._extent)},Yr.prototype.setExtent=function(Gr,Wr){var Zr=this._extent;Zr[0]=Gr,Zr[1]=Wr},Yr.prototype.dataToCoord=function(Gr,Wr){var Zr=this._extent,Kr=this.scale;return Gr=Kr.normalize(Gr),this.onBand&&Kr.type==="ordinal"&&(Zr=Zr.slice(),oz(Zr,Kr.count())),kn(Gr,az,Zr,Wr)},Yr.prototype.coordToData=function(Gr,Wr){var Zr=this._extent,Kr=this.scale;this.onBand&&Kr.type==="ordinal"&&(Zr=Zr.slice(),oz(Zr,Kr.count()));var Jr=kn(Gr,Zr,az,Wr);return this.scale.scale(Jr)},Yr.prototype.pointToData=function(Gr,Wr){},Yr.prototype.getTicksCoords=function(Gr){Gr=Gr||{};var Wr=Gr.tickModel||this.getTickModel(),Zr=$O(this,Wr),Kr=Zr.ticks,Jr=Oi(Kr,function(ti){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(ti):ti),tickValue:ti}},this),Qr=Wr.get("alignWithLabel");return Bq(this,Jr,Qr,Gr.clamp),Jr},Yr.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var Gr=this.model.getModel("minorTick"),Wr=Gr.get("splitNumber");Wr>0&&Wr<100||(Wr=5);var Zr=this.scale.getMinorTicks(Wr),Kr=Oi(Zr,function(Jr){return Oi(Jr,function(Qr){return{coord:this.dataToCoord(Qr),tickValue:Qr}},this)},this);return Kr},Yr.prototype.getViewLabels=function(){return KO(this).labels},Yr.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Yr.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Yr.prototype.getBandWidth=function(){var Gr=this._extent,Wr=this.scale.getExtent(),Zr=Wr[1]-Wr[0]+(this.onBand?1:0);Zr===0&&(Zr=1);var Kr=Math.abs(Gr[1]-Gr[0]);return Math.abs(Kr)/Zr},Yr.prototype.calculateCategoryInterval=function(){return rz(this)},Yr}();function oz(Yr,Gr){var Wr=Yr[1]-Yr[0],Zr=Gr,Kr=Wr/Zr/2;Yr[0]+=Kr,Yr[1]-=Kr}function Bq(Yr,Gr,Wr,Zr){var Kr=Gr.length;if(!Yr.onBand||Wr||!Kr)return;var Jr=Yr.getExtent(),Qr,ti;if(Kr===1)Gr[0].coord=Jr[0],Qr=Gr[1]={coord:Jr[1]};else{var ei=Gr[Kr-1].tickValue-Gr[0].tickValue,ri=(Gr[Kr-1].coord-Gr[0].coord)/ei;_i(Gr,function(oi){oi.coord-=ri/2});var ii=Yr.scale.getExtent();ti=1+ii[1]-Gr[Kr-1].tickValue,Qr={coord:Gr[Kr-1].coord+ri*ti},Gr.push(Qr)}var ni=Jr[0]>Jr[1];ai(Gr[0].coord,Jr[0])&&(Zr?Gr[0].coord=Jr[0]:Gr.shift()),Zr&&ai(Jr[0],Gr[0].coord)&&Gr.unshift({coord:Jr[0]}),ai(Jr[1],Qr.coord)&&(Zr?Qr.coord=Jr[1]:Gr.pop()),Zr&&ai(Qr.coord,Jr[1])&&Gr.push({coord:Jr[1]});function ai(oi,si){return oi=Zn(oi),si=Zn(si),ni?oi>si:oi<si}}var Ka=Vq;var Xv=Math.PI*2,Xh=Ha.CMD,Uq=["top","right","bottom","left"];function Gq(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.width,Qr=Wr.height;switch(Yr){case"top":Zr.set(Wr.x+Jr/2,Wr.y-Gr),Kr.set(0,-1);break;case"bottom":Zr.set(Wr.x+Jr/2,Wr.y+Qr+Gr),Kr.set(0,1);break;case"left":Zr.set(Wr.x-Gr,Wr.y+Qr/2),Kr.set(-1,0);break;case"right":Zr.set(Wr.x+Jr+Gr,Wr.y+Qr/2),Kr.set(1,0);break}}function Hq(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){Qr-=Yr,ti-=Gr;var ri=Math.sqrt(Qr*Qr+ti*ti);Qr/=ri,ti/=ri;var ii=Qr*Wr+Yr,ni=ti*Wr+Gr;if(Math.abs(Zr-Kr)%Xv<1e-4)return ei[0]=ii,ei[1]=ni,ri-Wr;if(Jr){var ai=Zr;Zr=ro(Kr),Kr=ro(ai)}else Zr=ro(Zr),Kr=ro(Kr);Zr>Kr&&(Kr+=Xv);var oi=Math.atan2(ti,Qr);if(oi<0&&(oi+=Xv),oi>=Zr&&oi<=Kr||oi+Xv>=Zr&&oi+Xv<=Kr)return ei[0]=ii,ei[1]=ni,ri-Wr;var si=Wr*Math.cos(Zr)+Yr,li=Wr*Math.sin(Zr)+Gr,ui=Wr*Math.cos(Kr)+Yr,fi=Wr*Math.sin(Kr)+Gr,hi=(si-Qr)*(si-Qr)+(li-ti)*(li-ti),ci=(ui-Qr)*(ui-Qr)+(fi-ti)*(fi-ti);return hi<ci?(ei[0]=si,ei[1]=li,Math.sqrt(hi)):(ei[0]=ui,ei[1]=fi,Math.sqrt(ci))}function q0(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Kr-Yr,ri=Jr-Gr,ii=Wr-Yr,ni=Zr-Gr,ai=Math.sqrt(ii*ii+ni*ni);ii/=ai,ni/=ai;var oi=ei*ii+ri*ni,si=oi/ai;ti&&(si=Math.min(Math.max(si,0),1)),si*=ai;var li=Qr[0]=Yr+si*ii,ui=Qr[1]=Gr+si*ni;return Math.sqrt((li-Kr)*(li-Kr)+(ui-Jr)*(ui-Jr))}function sz(Yr,Gr,Wr,Zr,Kr,Jr,Qr){Wr<0&&(Yr=Yr+Wr,Wr=-Wr),Zr<0&&(Gr=Gr+Zr,Zr=-Zr);var ti=Yr+Wr,ei=Gr+Zr,ri=Qr[0]=Math.min(Math.max(Kr,Yr),ti),ii=Qr[1]=Math.min(Math.max(Jr,Gr),ei);return Math.sqrt((ri-Kr)*(ri-Kr)+(ii-Jr)*(ii-Jr))}var pl=[];function Wq(Yr,Gr,Wr){var Zr=sz(Gr.x,Gr.y,Gr.width,Gr.height,Yr.x,Yr.y,pl);return Wr.set(pl[0],pl[1]),Zr}function Yq(Yr,Gr,Wr){for(var Zr=0,Kr=0,Jr=0,Qr=0,ti,ei,ri=1/0,ii=Gr.data,ni=Yr.x,ai=Yr.y,oi=0;oi<ii.length;){var si=ii[oi++];oi===1&&(Zr=ii[oi],Kr=ii[oi+1],Jr=Zr,Qr=Kr);var li=ri;switch(si){case Xh.M:Jr=ii[oi++],Qr=ii[oi++],Zr=Jr,Kr=Qr;break;case Xh.L:li=q0(Zr,Kr,ii[oi],ii[oi+1],ni,ai,pl,!0),Zr=ii[oi++],Kr=ii[oi++];break;case Xh.C:li=Pg(Zr,Kr,ii[oi++],ii[oi++],ii[oi++],ii[oi++],ii[oi],ii[oi+1],ni,ai,pl),Zr=ii[oi++],Kr=ii[oi++];break;case Xh.Q:li=Dg(Zr,Kr,ii[oi++],ii[oi++],ii[oi],ii[oi+1],ni,ai,pl),Zr=ii[oi++],Kr=ii[oi++];break;case Xh.A:var ui=ii[oi++],fi=ii[oi++],hi=ii[oi++],ci=ii[oi++],pi=ii[oi++],di=ii[oi++];oi+=1;var vi=!!(1-ii[oi++]);ti=Math.cos(pi)*hi+ui,ei=Math.sin(pi)*ci+fi,oi<=1&&(Jr=ti,Qr=ei);var mi=(ni-ui)*ci/hi+ui;li=Hq(ui,fi,ci,pi,pi+di,vi,mi,ai,pl),Zr=Math.cos(pi+di)*hi+ui,Kr=Math.sin(pi+di)*ci+fi;break;case Xh.R:Jr=Zr=ii[oi++],Qr=Kr=ii[oi++];var gi=ii[oi++],yi=ii[oi++];li=sz(Jr,Qr,gi,yi,ni,ai,pl);break;case Xh.Z:li=q0(Zr,Kr,Jr,Qr,ni,ai,pl,!0),Zr=Jr,Kr=Qr;break}li<ri&&(ri=li,Wr.set(pl[0],pl[1]))}return ri}var dl=new wn,oa=new wn,Pa=new wn,Vl=new wn,Fl=new wn;function jw(Yr,Gr){if(Yr){var Wr=Yr.getTextGuideLine(),Zr=Yr.getTextContent();if(Zr&&Wr){var Kr=Yr.textGuideLineConfig||{},Jr=[[0,0],[0,0],[0,0]],Qr=Kr.candidates||Uq,ti=Zr.getBoundingRect().clone();ti.applyTransform(Zr.getComputedTransform());var ei=1/0,ri=Kr.anchor,ii=Yr.getComputedTransform(),ni=ii&&_s([],ii),ai=Gr.get("length2")||0;ri&&Pa.copy(ri);for(var oi=0;oi<Qr.length;oi++){var si=Qr[oi];Gq(si,0,ti,dl,Vl),wn.scaleAndAdd(oa,dl,Vl,ai),oa.transform(ni);var li=Yr.getBoundingRect(),ui=ri?ri.distance(oa):Yr instanceof an?Yq(oa,Yr.path,Pa):Wq(oa,li,Pa);ui<ei&&(ei=ui,oa.transform(ii),Pa.transform(ii),Pa.toArray(Jr[0]),oa.toArray(Jr[1]),dl.toArray(Jr[2]))}Kw(Jr,Gr.get("minTurnAngle")),Wr.setShape({points:Jr})}}}var Z0=[],Po=new wn;function Kw(Yr,Gr){if(Gr<=180&&Gr>0){Gr=Gr/180*Math.PI,dl.fromArray(Yr[0]),oa.fromArray(Yr[1]),Pa.fromArray(Yr[2]),wn.sub(Vl,dl,oa),wn.sub(Fl,Pa,oa);var Wr=Vl.len(),Zr=Fl.len();if(!(Wr<.001||Zr<.001)){Vl.scale(1/Wr),Fl.scale(1/Zr);var Kr=Vl.dot(Fl),Jr=Math.cos(Gr);if(Jr<Kr){var Qr=q0(oa.x,oa.y,Pa.x,Pa.y,dl.x,dl.y,Z0,!1);Po.fromArray(Z0),Po.scaleAndAdd(Fl,Qr/Math.tan(Math.PI-Gr));var ti=Pa.x!==oa.x?(Po.x-oa.x)/(Pa.x-oa.x):(Po.y-oa.y)/(Pa.y-oa.y);if(isNaN(ti))return;ti<0?wn.copy(Po,oa):ti>1&&wn.copy(Po,Pa),Po.toArray(Yr[1])}}}}function lz(Yr,Gr,Wr){if(Wr<=180&&Wr>0){Wr=Wr/180*Math.PI,dl.fromArray(Yr[0]),oa.fromArray(Yr[1]),Pa.fromArray(Yr[2]),wn.sub(Vl,oa,dl),wn.sub(Fl,Pa,oa);var Zr=Vl.len(),Kr=Fl.len();if(!(Zr<.001||Kr<.001)){Vl.scale(1/Zr),Fl.scale(1/Kr);var Jr=Vl.dot(Gr),Qr=Math.cos(Wr);if(Jr<Qr){var ti=q0(oa.x,oa.y,Pa.x,Pa.y,dl.x,dl.y,Z0,!1);Po.fromArray(Z0);var ei=Math.PI/2,ri=Math.acos(Fl.dot(Gr)),ii=ei+ri-Wr;if(ii>=ei)wn.copy(Po,Pa);else{Po.scaleAndAdd(Fl,ti/Math.tan(Math.PI/2-ii));var ni=Pa.x!==oa.x?(Po.x-oa.x)/(Pa.x-oa.x):(Po.y-oa.y)/(Pa.y-oa.y);if(isNaN(ni))return;ni<0?wn.copy(Po,oa):ni>1&&wn.copy(Po,Pa)}Po.toArray(Yr[1])}}}}function Zw(Yr,Gr,Wr,Zr){var Kr=Wr==="normal",Jr=Kr?Yr:Yr.ensureState(Wr);Jr.ignore=Gr;var Qr=Zr.get("smooth");Qr&&Qr===!0&&(Qr=.3),Jr.shape=Jr.shape||{},Qr>0&&(Jr.shape.smooth=Qr);var ti=Zr.getModel("lineStyle").getLineStyle();Kr?Yr.useStyle(ti):Jr.style=ti}function Xq(Yr,Gr){var Wr=Gr.smooth,Zr=Gr.points;if(Zr)if(Yr.moveTo(Zr[0][0],Zr[0][1]),Wr>0&&Zr.length>=3){var Kr=xs(Zr[0],Zr[1]),Jr=xs(Zr[1],Zr[2]);if(!Kr||!Jr){Yr.lineTo(Zr[1][0],Zr[1][1]),Yr.lineTo(Zr[2][0],Zr[2][1]);return}var Qr=Math.min(Kr,Jr)*Wr,ti=Tc([],Zr[1],Zr[0],Qr/Kr),ei=Tc([],Zr[1],Zr[2],Qr/Jr),ri=Tc([],ti,ei,.5);Yr.bezierCurveTo(ti[0],ti[1],ti[0],ti[1],ri[0],ri[1]),Yr.bezierCurveTo(ei[0],ei[1],ei[0],ei[1],Zr[2][0],Zr[2][1])}else for(var ii=1;ii<Zr.length;ii++)Yr.lineTo(Zr[ii][0],Zr[ii][1])}function mp(Yr,Gr,Wr){var Zr=Yr.getTextGuideLine(),Kr=Yr.getTextContent();if(!Kr){Zr&&Yr.removeTextGuideLine();return}for(var Jr=Gr.normal,Qr=Jr.get("show"),ti=Kr.ignore,ei=0;ei<rf.length;ei++){var ri=rf[ei],ii=Gr[ri],ni=ri==="normal";if(ii){var ai=ii.get("show"),oi=ni?ti:on(Kr.states[ri]&&Kr.states[ri].ignore,ti);if(oi||!on(ai,Qr)){var si=ni?Zr:Zr&&Zr.states[ri];si&&(si.ignore=!0),Zr&&Zw(Zr,!0,ri,ii);continue}Zr||(Zr=new la,Yr.setTextGuideLine(Zr),!ni&&(ti||!Qr)&&Zw(Zr,!0,"normal",Gr.normal),Yr.stateProxy&&(Zr.stateProxy=Yr.stateProxy)),Zw(Zr,!1,ri,ii)}}if(Zr){Yi(Zr.style,Wr),Zr.style.fill=null;var li=Jr.get("showAbove"),ui=Yr.textGuideLineConfig=Yr.textGuideLineConfig||{};ui.showAbove=li||!1,Zr.buildPath=Xq}}function gp(Yr,Gr){Gr=Gr||"labelLine";for(var Wr={normal:Yr.getModel(Gr)},Zr=0;Zr<za.length;Zr++){var Kr=za[Zr];Wr[Kr]=Yr.getModel([Kr,Gr])}return Wr}function j0(Yr){for(var Gr=[],Wr=0;Wr<Yr.length;Wr++){var Zr=Yr[Wr];if(!Zr.defaultAttr.ignore){var Kr=Zr.label,Jr=Kr.getComputedTransform(),Qr=Kr.getBoundingRect(),ti=!Jr||Jr[1]<1e-5&&Jr[2]<1e-5,ei=Kr.style.margin||0,ri=Qr.clone();ri.applyTransform(Jr),ri.x-=ei/2,ri.y-=ei/2,ri.width+=ei,ri.height+=ei;var ii=ti?new Kc(Qr,Jr):null;Gr.push({label:Kr,labelLine:Zr.labelLine,rect:ri,localRect:Qr,obb:ii,priority:Zr.priority,defaultAttr:Zr.defaultAttr,layoutOption:Zr.computedLayoutOption,axisAligned:ti,transform:Jr})}}return Gr}function uz(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Yr.length;if(Qr<2)return;Yr.sort(function(yi,Si){return yi.rect[Gr]-Si.rect[Gr]});for(var ti=0,ei,ri=!1,ii=[],ni=0,ai=0;ai<Qr;ai++){var oi=Yr[ai],si=oi.rect;ei=si[Gr]-ti,ei<0&&(si[Gr]-=ei,oi.label[Gr]-=ei,ri=!0);var li=Math.max(-ei,0);ii.push(li),ni+=li,ti=si[Gr]+si[Wr]}ni>0&&Jr&&vi(-ni/Qr,0,Qr);var ui=Yr[0],fi=Yr[Qr-1],hi,ci;pi(),hi<0&&mi(-hi,.8),ci<0&&mi(ci,.8),pi(),di(hi,ci,1),di(ci,hi,-1),pi(),hi<0&&gi(-hi),ci<0&&gi(ci);function pi(){hi=ui.rect[Gr]-Zr,ci=Kr-fi.rect[Gr]-fi.rect[Wr]}function di(yi,Si,bi){if(yi<0){var Ti=Math.min(Si,-yi);if(Ti>0){vi(Ti*bi,0,Qr);var Ai=Ti+yi;Ai<0&&mi(-Ai*bi,1)}else mi(-yi*bi,1)}}function vi(yi,Si,bi){yi!==0&&(ri=!0);for(var Ti=Si;Ti<bi;Ti++){var Ai=Yr[Ti],Ei=Ai.rect;Ei[Gr]+=yi,Ai.label[Gr]+=yi}}function mi(yi,Si){for(var bi=[],Ti=0,Ai=1;Ai<Qr;Ai++){var Ei=Yr[Ai-1].rect,Mi=Math.max(Yr[Ai].rect[Gr]-Ei[Gr]-Ei[Wr],0);bi.push(Mi),Ti+=Mi}if(Ti){var wi=Math.min(Math.abs(yi)/Ti,Si);if(yi>0)for(var Ai=0;Ai<Qr-1;Ai++){var Pi=bi[Ai]*wi;vi(Pi,0,Ai+1)}else for(var Ai=Qr-1;Ai>0;Ai--){var Pi=bi[Ai-1]*wi;vi(-Pi,Ai,Qr)}}}function gi(yi){var Si=yi<0?-1:1;yi=Math.abs(yi);for(var bi=Math.ceil(yi/(Qr-1)),Ti=0;Ti<Qr-1;Ti++)if(Si>0?vi(bi,0,Ti+1):vi(-bi,Qr-Ti-1,Qr),yi-=bi,yi<=0)return}return ri}function fz(Yr,Gr,Wr,Zr){return uz(Yr,"x","width",Gr,Wr,Zr)}function K0(Yr,Gr,Wr,Zr){return uz(Yr,"y","height",Gr,Wr,Zr)}function $0(Yr){var Gr=[];Yr.sort(function(li,ui){return ui.priority-li.priority});var Wr=new rn(0,0,0,0);function Zr(li){if(!li.ignore){var ui=li.ensureState("emphasis");ui.ignore==null&&(ui.ignore=!1)}li.ignore=!0}for(var Kr=0;Kr<Yr.length;Kr++){var Jr=Yr[Kr],Qr=Jr.axisAligned,ti=Jr.localRect,ei=Jr.transform,ri=Jr.label,ii=Jr.labelLine;Wr.copy(Jr.rect),Wr.width-=.1,Wr.height-=.1,Wr.x+=.05,Wr.y+=.05;for(var ni=Jr.obb,ai=!1,oi=0;oi<Gr.length;oi++){var si=Gr[oi];if(Wr.intersect(si.rect)){if(Qr&&si.axisAligned){ai=!0;break}if(si.obb||(si.obb=new Kc(si.localRect,si.transform)),ni||(ni=new Kc(ti,ei)),ni.intersect(si.obb)){ai=!0;break}}}ai?(Zr(ri),ii&&Zr(ii)):(ri.attr("ignore",Jr.defaultAttr.ignore),ii&&ii.attr("ignore",Jr.defaultAttr.labelGuideIgnore),Gr.push(Jr))}}function qq(Yr){if(Yr){for(var Gr=[],Wr=0;Wr<Yr.length;Wr++)Gr.push(Yr[Wr].slice());return Gr}}function Zq(Yr,Gr){var Wr=Yr.label,Zr=Gr&&Gr.getTextGuideLine();return{dataIndex:Yr.dataIndex,dataType:Yr.dataType,seriesIndex:Yr.seriesModel.seriesIndex,text:Yr.label.style.text,rect:Yr.hostRect,labelRect:Yr.rect,align:Wr.style.align,verticalAlign:Wr.style.verticalAlign,labelLinePoints:qq(Zr&&Zr.shape.points)}}var hz=["align","verticalAlign","width","height","fontSize"],Eo=new No,$w=ln(),jq=ln();function J0(Yr,Gr,Wr){for(var Zr=0;Zr<Wr.length;Zr++){var Kr=Wr[Zr];Gr[Kr]!=null&&(Yr[Kr]=Gr[Kr])}}var Q0=["x","y","rotation"],Kq=function(){function Yr(){this._labelList=[],this._chartViewList=[]}return Yr.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Yr.prototype._addLabel=function(Gr,Wr,Zr,Kr,Jr){var Qr=Kr.style,ti=Kr.__hostTarget,ei=ti.textConfig||{},ri=Kr.getComputedTransform(),ii=Kr.getBoundingRect().plain();rn.applyTransform(ii,ii,ri),ri?Eo.setLocalTransform(ri):(Eo.x=Eo.y=Eo.rotation=Eo.originX=Eo.originY=0,Eo.scaleX=Eo.scaleY=1),Eo.rotation=ro(Eo.rotation);var ni=Kr.__hostTarget,ai;if(ni){ai=ni.getBoundingRect().plain();var oi=ni.getComputedTransform();rn.applyTransform(ai,ai,oi)}var si=ai&&ni.getTextGuideLine();this._labelList.push({label:Kr,labelLine:si,seriesModel:Zr,dataIndex:Gr,dataType:Wr,layoutOption:Jr,computedLayoutOption:null,rect:ii,hostRect:ai,priority:ai?ai.width*ai.height:0,defaultAttr:{ignore:Kr.ignore,labelGuideIgnore:si&&si.ignore,x:Eo.x,y:Eo.y,scaleX:Eo.scaleX,scaleY:Eo.scaleY,rotation:Eo.rotation,style:{x:Qr.x,y:Qr.y,align:Qr.align,verticalAlign:Qr.verticalAlign,width:Qr.width,height:Qr.height,fontSize:Qr.fontSize},cursor:Kr.cursor,attachedPos:ei.position,attachedRot:ei.rotation}})},Yr.prototype.addLabelsOfSeries=function(Gr){var Wr=this;this._chartViewList.push(Gr);var Zr=Gr.__model,Kr=Zr.get("labelLayout");(Wi(Kr)||fn(Kr).length)&&Gr.group.traverse(function(Jr){if(Jr.ignore)return!0;var Qr=Jr.getTextContent(),ti=Qi(Jr);Qr&&!Qr.disableLabelLayout&&Wr._addLabel(ti.dataIndex,ti.dataType,Zr,Qr,Kr)})},Yr.prototype.updateLayoutConfig=function(Gr){var Wr=Gr.getWidth(),Zr=Gr.getHeight();function Kr(ci,pi){return function(){jw(ci,pi)}}for(var Jr=0;Jr<this._labelList.length;Jr++){var Qr=this._labelList[Jr],ti=Qr.label,ei=ti.__hostTarget,ri=Qr.defaultAttr,ii=void 0;Wi(Qr.layoutOption)?ii=Qr.layoutOption(Zq(Qr,ei)):ii=Qr.layoutOption,ii=ii||{},Qr.computedLayoutOption=ii;var ni=Math.PI/180;ei&&ei.setTextConfig({local:!1,position:ii.x!=null||ii.y!=null?null:ri.attachedPos,rotation:ii.rotate!=null?ii.rotate*ni:ri.attachedRot,offset:[ii.dx||0,ii.dy||0]});var ai=!1;if(ii.x!=null?(ti.x=Ui(ii.x,Wr),ti.setStyle("x",0),ai=!0):(ti.x=ri.x,ti.setStyle("x",ri.style.x)),ii.y!=null?(ti.y=Ui(ii.y,Zr),ti.setStyle("y",0),ai=!0):(ti.y=ri.y,ti.setStyle("y",ri.style.y)),ii.labelLinePoints){var oi=ei.getTextGuideLine();oi&&(oi.setShape({points:ii.labelLinePoints}),ai=!1)}var si=$w(ti);si.needsUpdateLabelLine=ai,ti.rotation=ii.rotate!=null?ii.rotate*ni:ri.rotation,ti.scaleX=ri.scaleX,ti.scaleY=ri.scaleY;for(var li=0;li<hz.length;li++){var ui=hz[li];ti.setStyle(ui,ii[ui]!=null?ii[ui]:ri.style[ui])}if(ii.draggable){if(ti.draggable=!0,ti.cursor="move",ei){var fi=Qr.seriesModel;if(Qr.dataIndex!=null){var hi=Qr.seriesModel.getData(Qr.dataType);fi=hi.getItemModel(Qr.dataIndex)}ti.on("drag",Kr(ei,fi.getModel("labelLine")))}}else ti.off("drag"),ti.cursor=ri.cursor}},Yr.prototype.layout=function(Gr){var Wr=Gr.getWidth(),Zr=Gr.getHeight(),Kr=j0(this._labelList),Jr=Tn(Kr,function(ei){return ei.layoutOption.moveOverlap==="shiftX"}),Qr=Tn(Kr,function(ei){return ei.layoutOption.moveOverlap==="shiftY"});fz(Jr,0,Wr),K0(Qr,0,Zr);var ti=Tn(Kr,function(ei){return ei.layoutOption.hideOverlap});$0(ti)},Yr.prototype.processLabelsOverall=function(){var Gr=this;_i(this._chartViewList,function(Wr){var Zr=Wr.__model,Kr=Wr.ignoreLabelLineUpdate,Jr=Zr.isAnimationEnabled();Wr.group.traverse(function(Qr){if(Qr.ignore&&!Qr.forceLabelAnimation)return!0;var ti=!Kr,ei=Qr.getTextContent();!ti&&ei&&(ti=$w(ei).needsUpdateLabelLine),ti&&Gr._updateLabelLine(Qr,Zr),Jr&&Gr._animateLabels(Qr,Zr)})})},Yr.prototype._updateLabelLine=function(Gr,Wr){var Zr=Gr.getTextContent(),Kr=Qi(Gr),Jr=Kr.dataIndex;if(Zr&&Jr!=null){var Qr=Wr.getData(Kr.dataType),ti=Qr.getItemModel(Jr),ei={},ri=Qr.getItemVisual(Jr,"style");if(ri){var ii=Qr.getVisual("drawType");ei.stroke=ri[ii]}var ni=ti.getModel("labelLine");mp(Gr,gp(ti),ei),jw(Gr,ni)}},Yr.prototype._animateLabels=function(Gr,Wr){var Zr=Gr.getTextContent(),Kr=Gr.getTextGuideLine();if(Zr&&(Gr.forceLabelAnimation||!Zr.ignore&&!Zr.invisible&&!Gr.disableLabelAnimation&&!hu(Gr))){var Jr=$w(Zr),Qr=Jr.oldLayout,ti=Qi(Gr),ei=ti.dataIndex,ri={x:Zr.x,y:Zr.y,rotation:Zr.rotation},ii=Wr.getData(ti.dataType);if(Qr){Zr.attr(Qr);var ai=Gr.prevStates;ai&&(sn(ai,"select")>=0&&Zr.attr(Jr.oldLayoutSelect),sn(ai,"emphasis")>=0&&Zr.attr(Jr.oldLayoutEmphasis)),bn(Zr,ri,Wr,ei)}else if(Zr.attr(ri),!mu(Zr).valueAnimation){var ni=on(Zr.style.opacity,1);Zr.style.opacity=0,Ln(Zr,{style:{opacity:ni}},Wr,ei)}if(Jr.oldLayout=ri,Zr.states.select){var oi=Jr.oldLayoutSelect={};J0(oi,ri,Q0),J0(oi,Zr.states.select,Q0)}if(Zr.states.emphasis){var si=Jr.oldLayoutEmphasis={};J0(si,ri,Q0),J0(si,Zr.states.emphasis,Q0)}Iy(Zr,ei,ii,Wr,Wr)}if(Kr&&!Kr.ignore&&!Kr.invisible){var Jr=jq(Kr),Qr=Jr.oldLayout,li={points:Kr.shape.points};Qr?(Kr.attr({shape:Qr}),bn(Kr,{shape:li},Wr)):(Kr.setShape(li),Kr.style.strokePercent=0,Ln(Kr,{style:{strokePercent:1}},Wr)),Jr.oldLayout=li}},Yr}(),cz=Kq;var Jw=ln();function Qw(Yr){Yr.registerUpdateLifecycle("series:beforeupdate",function(Gr,Wr,Zr){var Kr=Jw(Wr).labelManager;Kr||(Kr=Jw(Wr).labelManager=new cz),Kr.clearLabels()}),Yr.registerUpdateLifecycle("series:layoutlabels",function(Gr,Wr,Zr){var Kr=Jw(Wr).labelManager;Zr.updatedSeries.forEach(function(Jr){Kr.addLabelsOfSeries(Wr.getViewOfSeriesModel(Jr))}),Kr.updateLayoutConfig(Wr),Kr.layout(Wr),Kr.processLabelsOverall()})}var tC=Math.sin,eC=Math.cos,pz=Math.PI,qh=Math.PI*2,$q=180/pz,Jq=function(){function Yr(){}return Yr.prototype.reset=function(Gr){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,Gr||4)},Yr.prototype.moveTo=function(Gr,Wr){this._add("M",Gr,Wr)},Yr.prototype.lineTo=function(Gr,Wr){this._add("L",Gr,Wr)},Yr.prototype.bezierCurveTo=function(Gr,Wr,Zr,Kr,Jr,Qr){this._add("C",Gr,Wr,Zr,Kr,Jr,Qr)},Yr.prototype.quadraticCurveTo=function(Gr,Wr,Zr,Kr){this._add("Q",Gr,Wr,Zr,Kr)},Yr.prototype.arc=function(Gr,Wr,Zr,Kr,Jr,Qr){this.ellipse(Gr,Wr,Zr,Zr,0,Kr,Jr,Qr)},Yr.prototype.ellipse=function(Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=ti-Qr,ii=!ei,ni=Math.abs(ri),ai=Cl(ni-qh)||(ii?ri>=qh:-ri>=qh),oi=ri>0?ri%qh:ri%qh+qh,si=!1;ai?si=!0:Cl(ni)?si=!1:si=oi>=pz==!!ii;var li=Gr+Zr*eC(Qr),ui=Wr+Kr*tC(Qr);this._start&&this._add("M",li,ui);var fi=Math.round(Jr*$q);if(ai){var hi=1/this._p,ci=(ii?1:-1)*(qh-hi);this._add("A",Zr,Kr,fi,1,+ii,Gr+Zr*eC(Qr+ci),Wr+Kr*tC(Qr+ci)),hi>.01&&this._add("A",Zr,Kr,fi,0,+ii,li,ui)}else{var pi=Gr+Zr*eC(ti),di=Wr+Kr*tC(ti);this._add("A",Zr,Kr,fi,+si,+ii,pi,di)}},Yr.prototype.rect=function(Gr,Wr,Zr,Kr){this._add("M",Gr,Wr),this._add("l",Zr,0),this._add("l",0,Kr),this._add("l",-Zr,0),this._add("Z")},Yr.prototype.closePath=function(){this._d.length>0&&this._add("Z")},Yr.prototype._add=function(Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){for(var ii=[],ni=this._p,ai=1;ai<arguments.length;ai++){var oi=arguments[ai];if(isNaN(oi)){this._invalid=!0;return}ii.push(Math.round(oi*ni)/ni)}this._d.push(Gr+ii.join(" ")),this._start=Gr==="Z"},Yr.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},Yr.prototype.getStr=function(){return this._str},Yr}(),tx=Jq;var qv="none",Qq=Math.round;function tZ(Yr){var Gr=Yr.fill;return Gr!=null&&Gr!==qv}function eZ(Yr){var Gr=Yr.stroke;return Gr!=null&&Gr!==qv}var rC=["lineCap","miterLimit","lineJoin"],rZ=Oi(rC,function(Yr){return"stroke-"+Yr.toLowerCase()});function iC(Yr,Gr,Wr,Zr){var Kr=Gr.opacity==null?1:Gr.opacity;if(Wr instanceof Kn){Yr("opacity",Kr);return}if(tZ(Gr)){var Jr=Zu(Gr.fill);Yr("fill",Jr.color);var Qr=Gr.fillOpacity!=null?Gr.fillOpacity*Jr.opacity*Kr:Jr.opacity*Kr;(Zr||Qr<1)&&Yr("fill-opacity",Qr)}else Yr("fill",qv);if(eZ(Gr)){var ti=Zu(Gr.stroke);Yr("stroke",ti.color);var ei=Gr.strokeNoScale?Wr.getLineScale():1,ri=ei?(Gr.lineWidth||0)/ei:0,ii=Gr.strokeOpacity!=null?Gr.strokeOpacity*ti.opacity*Kr:ti.opacity*Kr,ni=Gr.strokeFirst;if((Zr||ri!==1)&&Yr("stroke-width",ri),(Zr||ni)&&Yr("paint-order",ni?"stroke":"fill"),(Zr||ii<1)&&Yr("stroke-opacity",ii),Gr.lineDash){var ai=Iv(Wr),oi=ai[0],si=ai[1];oi&&(si=Qq(si||0),Yr("stroke-dasharray",oi.join(",")),(si||Zr)&&Yr("stroke-dashoffset",si))}else Zr&&Yr("stroke-dasharray",qv);for(var li=0;li<rC.length;li++){var ui=rC[li];if(Zr||Gr[ui]!==Uc[ui]){var fi=Gr[ui]||Uc[ui];fi&&Yr(rZ[li],fi)}}}else Zr&&Yr("stroke",qv)}var dz="http://www.w3.org/2000/svg",nC="http://www.w3.org/1999/xlink",vz="http://www.w3.org/2000/xmlns/",mz="http://www.w3.org/XML/1998/namespace",aC="ecmeta_";function ex(Yr){return document.createElementNS(dz,Yr)}function Ea(Yr,Gr,Wr,Zr,Kr){return{tag:Yr,attrs:Wr||{},children:Zr,text:Kr,key:Gr}}function iZ(Yr,Gr){var Wr=[];if(Gr)for(var Zr in Gr){var Kr=Gr[Zr],Jr=Zr;Kr!==!1&&(Kr!==!0&&Kr!=null&&(Jr+='="'+Kr+'"'),Wr.push(Jr))}return"<"+Yr+" "+Wr.join(" ")+">"}function nZ(Yr){return"</"+Yr+">"}function Zv(Yr,Gr){Gr=Gr||{};var Wr=Gr.newline?`
`:"";function Zr(Kr){var Jr=Kr.children,Qr=Kr.tag,ti=Kr.attrs,ei=Kr.text;return iZ(Qr,ti)+(Qr!=="style"?Qa(ei):ei||"")+(Jr?""+Wr+Oi(Jr,function(ri){return Zr(ri)}).join(Wr)+Wr:"")+nZ(Qr)}return Zr(Yr)}function gz(Yr,Gr,Wr){Wr=Wr||{};var Zr=Wr.newline?`
`:"",Kr=" {"+Zr,Jr=Zr+"}",Qr=Oi(fn(Yr),function(ei){return ei+Kr+Oi(fn(Yr[ei]),function(ri){return ri+":"+Yr[ei][ri]+";"}).join(Zr)+Jr}).join(Zr),ti=Oi(fn(Gr),function(ei){return"@keyframes "+ei+Kr+Oi(fn(Gr[ei]),function(ri){return ri+Kr+Oi(fn(Gr[ei][ri]),function(ii){var ni=Gr[ei][ri][ii];return ii==="d"&&(ni='path("'+ni+'")'),ii+":"+ni+";"}).join(Zr)+Jr}).join(Zr)+Jr}).join(Zr);return!Qr&&!ti?"":["<![CDATA[",Qr,ti,"]]>"].join(Zr)}function jv(Yr){return{zrId:Yr,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function oC(Yr,Gr,Wr,Zr){return Ea("svg","root",{width:Yr,height:Gr,xmlns:dz,"xmlns:xlink":nC,version:"1.1",baseProfile:"full",viewBox:Zr?"0 0 "+Yr+" "+Gr:!1},Wr)}var aZ=0;function rx(){return aZ++}var yz={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Zh="transform-origin";function oZ(Yr,Gr,Wr){var Zr=ki({},Yr.shape);ki(Zr,Gr),Yr.buildPath(Wr,Zr);var Kr=new tx;return Kr.reset(Bg(Yr)),Wr.rebuildPath(Kr,1),Kr.generateStr(),Kr.getStr()}function sZ(Yr,Gr){var Wr=Gr.originX,Zr=Gr.originY;(Wr||Zr)&&(Yr[Zh]=Wr+"px "+Zr+"px")}var lZ={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function _z(Yr,Gr){var Wr=Gr.zrId+"-ani-"+Gr.cssAnimIdx++;return Gr.cssAnims[Wr]=Yr,Wr}function uZ(Yr,Gr,Wr){var Zr=Yr.shape.paths,Kr={},Jr,Qr;if(_i(Zr,function(ei){var ri=jv(Wr.zrId);ri.animation=!0,Kv(ei,{},ri,!0);var ii=ri.cssAnims,ni=ri.cssNodes,ai=fn(ii),oi=ai.length;if(oi){Qr=ai[oi-1];var si=ii[Qr];for(var li in si){var ui=si[li];Kr[li]=Kr[li]||{d:""},Kr[li].d+=ui.d||""}for(var fi in ni){var hi=ni[fi].animation;hi.indexOf(Qr)>=0&&(Jr=hi)}}}),!!Jr){Gr.d=!1;var ti=_z(Kr,Wr);return Jr.replace(Qr,ti)}}function xz(Yr){return Ni(Yr)?yz[Yr]?"cubic-bezier("+yz[Yr]+")":Dc(Yr)?Yr:"":""}function Kv(Yr,Gr,Wr,Zr){var Kr=Yr.animators,Jr=Kr.length,Qr=[];if(Yr instanceof jc){var ti=uZ(Yr,Gr,Wr);if(ti)Qr.push(ti);else if(!Jr)return}else if(!Jr)return;for(var ei={},ri=0;ri<Jr;ri++){var ii=Kr[ri],ni=[ii.getMaxTime()/1e3+"s"],ai=xz(ii.getClip().easing),oi=ii.getDelay();ai?ni.push(ai):ni.push("linear"),oi&&ni.push(oi/1e3+"s"),ii.getLoop()&&ni.push("infinite");var si=ni.join(" ");ei[si]=ei[si]||[si,[]],ei[si][1].push(ii)}function li(hi){var ci=hi[1],pi=ci.length,di={},vi={},mi={},gi="animation-timing-function";function yi(nn,dn,cn){for(var Ji=nn.getTracks(),vn=nn.getMaxTime(),pn=0;pn<Ji.length;pn++){var Xi=Ji[pn];if(Xi.needsAnimate()){var Nn=Xi.keyframes,Wn=Xi.propName;if(cn&&(Wn=cn(Wn)),Wn)for(var Fn=0;Fn<Nn.length;Fn++){var Qn=Nn[Fn],$n=Math.round(Qn.time/vn*100)+"%",$a=xz(Qn.easing),xa=Qn.rawValue;(Ni(xa)||gn(xa))&&(dn[$n]=dn[$n]||{},dn[$n][Wn]=Qn.rawValue,$a&&(dn[$n][gi]=$a))}}}}for(var Si=0;Si<pi;Si++){var bi=ci[Si],Ti=bi.targetName;Ti?Ti==="shape"&&yi(bi,vi):!Zr&&yi(bi,di)}for(var Ai in di){var Ei={};dS(Ei,Yr),ki(Ei,di[Ai]);var Mi=Ug(Ei),wi=di[Ai][gi];mi[Ai]=Mi?{transform:Mi}:{},sZ(mi[Ai],Ei),wi&&(mi[Ai][gi]=wi)}var Pi,xi=!0;for(var Ai in vi){mi[Ai]=mi[Ai]||{};var Ci=!Pi,wi=vi[Ai][gi];Ci&&(Pi=new Ha);var Li=Pi.len();Pi.reset(),mi[Ai].d=oZ(Yr,vi[Ai],Pi);var Ii=Pi.len();if(!Ci&&Li!==Ii){xi=!1;break}wi&&(mi[Ai][gi]=wi)}if(!xi)for(var Ai in mi)delete mi[Ai].d;if(!Zr)for(var Si=0;Si<pi;Si++){var bi=ci[Si],Ti=bi.targetName;Ti==="style"&&yi(bi,mi,function(Ji){return lZ[Ji]})}for(var zi=fn(mi),Bi=!0,Vi,Si=1;Si<zi.length;Si++){var ji=zi[Si-1],tn=zi[Si];if(mi[ji][Zh]!==mi[tn][Zh]){Bi=!1;break}Vi=mi[ji][Zh]}if(Bi&&Vi){for(var Ai in mi)mi[Ai][Zh]&&delete mi[Ai][Zh];Gr[Zh]=Vi}if(Tn(zi,function(nn){return fn(mi[nn]).length>0}).length){var hn=_z(mi,Wr);return hn+" "+hi[0]+" both"}}for(var ui in ei){var ti=li(ei[ui]);ti&&Qr.push(ti)}if(Qr.length){var fi=Wr.zrId+"-cls-"+rx();Wr.cssNodes["."+fi]={animation:Qr.join(",")},Gr.class=fi}}function Sz(Yr,Gr,Wr){if(!Yr.ignore)if(Yr.isSilent()){var Zr={"pointer-events":"none"};bz(Zr,Gr,Wr,!0)}else{var Kr=Yr.states.emphasis&&Yr.states.emphasis.style?Yr.states.emphasis.style:{},Jr=Kr.fill;if(!Jr){var Qr=Yr.style&&Yr.style.fill,ti=Yr.states.select&&Yr.states.select.style&&Yr.states.select.style.fill,ei=Yr.currentStates.indexOf("select")>=0&&ti||Qr;ei&&(Jr=Ld(ei))}var ri=Kr.lineWidth;if(ri){var ii=!Kr.strokeNoScale&&Yr.transform?Yr.transform[0]:1;ri=ri/ii}var Zr={cursor:"pointer"};Jr&&(Zr.fill=Jr),Kr.stroke&&(Zr.stroke=Kr.stroke),ri&&(Zr["stroke-width"]=ri),bz(Zr,Gr,Wr,!0)}}function bz(Yr,Gr,Wr,Zr){var Kr=JSON.stringify(Yr),Jr=Wr.cssStyleCache[Kr];Jr||(Jr=Wr.zrId+"-cls-"+rx(),Wr.cssStyleCache[Kr]=Jr,Wr.cssNodes["."+Jr+(Zr?":hover":"")]=Yr),Gr.class=Gr.class?Gr.class+" "+Jr:Jr}var $v=Math.round;function Az(Yr){return Yr&&Ni(Yr.src)}function Mz(Yr){return Yr&&Wi(Yr.toDataURL)}function sC(Yr,Gr,Wr,Zr){iC(function(Kr,Jr){var Qr=Kr==="fill"||Kr==="stroke";Qr&&Vg(Jr)?hC(Gr,Yr,Kr,Zr):Qr&&kd(Jr)?cC(Wr,Yr,Kr,Zr):Qr&&Jr==="none"?Yr[Kr]="transparent":Yr[Kr]=Jr},Gr,Wr,!1),mZ(Wr,Yr,Zr)}function lC(Yr,Gr){var Wr=PI(Gr);Wr&&(Wr.each(function(Zr,Kr){Zr!=null&&(Yr[(aC+Kr).toLowerCase()]=Zr+"")}),Gr.isSilent()&&(Yr[aC+"silent"]="true"))}function wz(Yr){return Cl(Yr[0]-1)&&Cl(Yr[1])&&Cl(Yr[2])&&Cl(Yr[3]-1)}function fZ(Yr){return Cl(Yr[4])&&Cl(Yr[5])}function uC(Yr,Gr,Wr){if(Gr&&!(fZ(Gr)&&wz(Gr))){var Zr=Wr?10:1e4;Yr.transform=wz(Gr)?"translate("+$v(Gr[4]*Zr)/Zr+" "+$v(Gr[5]*Zr)/Zr+")":rI(Gr)}}function Cz(Yr,Gr,Wr){for(var Zr=Yr.points,Kr=[],Jr=0;Jr<Zr.length;Jr++)Kr.push($v(Zr[Jr][0]*Wr)/Wr),Kr.push($v(Zr[Jr][1]*Wr)/Wr);Gr.points=Kr.join(" ")}function Tz(Yr){return!Yr.smooth}function hZ(Yr){var Gr=Oi(Yr,function(Wr){return typeof Wr=="string"?[Wr,Wr]:Wr});return function(Wr,Zr,Kr){for(var Jr=0;Jr<Gr.length;Jr++){var Qr=Gr[Jr],ti=Wr[Qr[0]];ti!=null&&(Zr[Qr[1]]=$v(ti*Kr)/Kr)}}}var cZ={circle:[hZ(["cx","cy","r"])],polyline:[Cz,Tz],polygon:[Cz,Tz]};function pZ(Yr){for(var Gr=Yr.animators,Wr=0;Wr<Gr.length;Wr++)if(Gr[Wr].targetName==="shape")return!0;return!1}function Pz(Yr,Gr){var Wr=Yr.style,Zr=Yr.shape,Kr=cZ[Yr.type],Jr={},Qr=Gr.animation,ti="path",ei=Yr.style.strokePercent,ri=Gr.compress&&Bg(Yr)||4;if(Kr&&!Gr.willUpdate&&!(Kr[1]&&!Kr[1](Zr))&&!(Qr&&pZ(Yr))&&!(ei<1)){ti=Yr.type;var ii=Math.pow(10,ri);Kr[0](Zr,Jr,ii)}else{var ni=!Yr.path||Yr.shapeChanged();Yr.path||Yr.createPathProxy();var ai=Yr.path;ni&&(ai.beginPath(),Yr.buildPath(ai,Yr.shape),Yr.pathUpdated());var oi=ai.getVersion(),si=Yr,li=si.__svgPathBuilder;(si.__svgPathVersion!==oi||!li||ei!==si.__svgPathStrokePercent)&&(li||(li=si.__svgPathBuilder=new tx),li.reset(ri),ai.rebuildPath(li,ei),li.generateStr(),si.__svgPathVersion=oi,si.__svgPathStrokePercent=ei),Jr.d=li.getStr()}return uC(Jr,Yr.transform),sC(Jr,Wr,Yr,Gr),lC(Jr,Yr),Gr.animation&&Kv(Yr,Jr,Gr),Gr.emphasis&&Sz(Yr,Jr,Gr),Ea(ti,Yr.id+"",Jr)}function dZ(Yr,Gr){var Wr=Yr.style,Zr=Wr.image;if(Zr&&!Ni(Zr)&&(Az(Zr)?Zr=Zr.src:Mz(Zr)&&(Zr=Zr.toDataURL())),!!Zr){var Kr=Wr.x||0,Jr=Wr.y||0,Qr=Wr.width,ti=Wr.height,ei={href:Zr,width:Qr,height:ti};return Kr&&(ei.x=Kr),Jr&&(ei.y=Jr),uC(ei,Yr.transform),sC(ei,Wr,Yr,Gr),lC(ei,Yr),Gr.animation&&Kv(Yr,ei,Gr),Ea("image",Yr.id+"",ei)}}function vZ(Yr,Gr){var Wr=Yr.style,Zr=Wr.text;if(Zr!=null&&(Zr+=""),!(!Zr||isNaN(Wr.x)||isNaN(Wr.y))){var Kr=Wr.font||is,Jr=Wr.x||0,Qr=nI(Wr.y||0,Oc(Kr),Wr.textBaseline),ti=iI[Wr.textAlign]||Wr.textAlign,ei={"dominant-baseline":"central","text-anchor":ti};if(YS(Wr)){var ri="",ii=Wr.fontStyle,ni=WS(Wr.fontSize);if(!parseFloat(ni))return;var ai=Wr.fontFamily||Rb,oi=Wr.fontWeight;ri+="font-size:"+ni+";font-family:"+ai+";",ii&&ii!=="normal"&&(ri+="font-style:"+ii+";"),oi&&oi!=="normal"&&(ri+="font-weight:"+oi+";"),ei.style=ri}else ei.style="font: "+Kr;return Zr.match(/\s/)&&(ei["xml:space"]="preserve"),Jr&&(ei.x=Jr),Qr&&(ei.y=Qr),uC(ei,Yr.transform),sC(ei,Wr,Yr,Gr),lC(ei,Yr),Gr.animation&&Kv(Yr,ei,Gr),Ea("text",Yr.id+"",ei,void 0,Zr)}}function fC(Yr,Gr){if(Yr instanceof an)return Pz(Yr,Gr);if(Yr instanceof Kn)return dZ(Yr,Gr);if(Yr instanceof su)return vZ(Yr,Gr)}function mZ(Yr,Gr,Wr){var Zr=Yr.style;if(aI(Zr)){var Kr=oI(Yr),Jr=Wr.shadowCache,Qr=Jr[Kr];if(!Qr){var ti=Yr.getGlobalScale(),ei=ti[0],ri=ti[1];if(!ei||!ri)return;var ii=Zr.shadowOffsetX||0,ni=Zr.shadowOffsetY||0,ai=Zr.shadowBlur,oi=Zu(Zr.shadowColor),si=oi.opacity,li=oi.color,ui=ai/2/ei,fi=ai/2/ri,hi=ui+" "+fi;Qr=Wr.zrId+"-s"+Wr.shadowIdx++,Wr.defs[Qr]=Ea("filter",Qr,{id:Qr,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Ea("feDropShadow","",{dx:ii/ei,dy:ni/ri,stdDeviation:hi,"flood-color":li,"flood-opacity":si})]),Jr[Kr]=Qr}Gr.filter=Rd(Qr)}}function hC(Yr,Gr,Wr,Zr){var Kr=Yr[Wr],Jr,Qr={gradientUnits:Kr.global?"userSpaceOnUse":"objectBoundingBox"};if(Ng(Kr))Jr="linearGradient",Qr.x1=Kr.x,Qr.y1=Kr.y,Qr.x2=Kr.x2,Qr.y2=Kr.y2;else if(Fg(Kr))Jr="radialGradient",Qr.cx=on(Kr.x,.5),Qr.cy=on(Kr.y,.5),Qr.r=on(Kr.r,.5);else return;for(var ti=Kr.colorStops,ei=[],ri=0,ii=ti.length;ri<ii;++ri){var ni=zg(ti[ri].offset)*100+"%",ai=ti[ri].color,oi=Zu(ai),si=oi.color,li=oi.opacity,ui={offset:ni};ui["stop-color"]=si,li<1&&(ui["stop-opacity"]=li),ei.push(Ea("stop",ri+"",ui))}var fi=Ea(Jr,"",Qr,ei),hi=Zv(fi),ci=Zr.gradientCache,pi=ci[hi];pi||(pi=Zr.zrId+"-g"+Zr.gradientIdx++,ci[hi]=pi,Qr.id=pi,Zr.defs[pi]=Ea(Jr,pi,Qr,ei)),Gr[Wr]=Rd(pi)}function cC(Yr,Gr,Wr,Zr){var Kr=Yr.style[Wr],Jr=Yr.getBoundingRect(),Qr={},ti=Kr.repeat,ei=ti==="no-repeat",ri=ti==="repeat-x",ii=ti==="repeat-y",ni;if(eS(Kr)){var ai=Kr.imageWidth,oi=Kr.imageHeight,si=void 0,li=Kr.image;if(Ni(li)?si=li:Az(li)?si=li.src:Mz(li)&&(si=li.toDataURL()),typeof Image>"u"){var ui="Image width/height must been given explictly in svg-ssr renderer.";ea(ai,ui),ea(oi,ui)}else if(ai==null||oi==null){var fi=function(Si,bi){if(Si){var Ti=Si.elm,Ai=ai||bi.width,Ei=oi||bi.height;Si.tag==="pattern"&&(ri?(Ei=1,Ai/=Jr.width):ii&&(Ai=1,Ei/=Jr.height)),Si.attrs.width=Ai,Si.attrs.height=Ei,Ti&&(Ti.setAttribute("width",Ai),Ti.setAttribute("height",Ei))}},hi=Yd(si,null,Yr,function(Si){ei||fi(vi,Si),fi(ni,Si)});hi&&hi.width&&hi.height&&(ai=ai||hi.width,oi=oi||hi.height)}ni=Ea("image","img",{href:si,width:ai,height:oi}),Qr.width=ai,Qr.height=oi}else Kr.svgElement&&(ni=Ki(Kr.svgElement),Qr.width=Kr.svgWidth,Qr.height=Kr.svgHeight);if(ni){var ci,pi;ei?ci=pi=1:ri?(pi=1,ci=Qr.width/Jr.width):ii?(ci=1,pi=Qr.height/Jr.height):Qr.patternUnits="userSpaceOnUse",ci!=null&&!isNaN(ci)&&(Qr.width=ci),pi!=null&&!isNaN(pi)&&(Qr.height=pi);var di=Ug(Kr);di&&(Qr.patternTransform=di);var vi=Ea("pattern","",Qr,[ni]),mi=Zv(vi),gi=Zr.patternCache,yi=gi[mi];yi||(yi=Zr.zrId+"-p"+Zr.patternIdx++,gi[mi]=yi,Qr.id=yi,vi=Zr.defs[yi]=Ea("pattern",yi,Qr,[ni])),Gr[Wr]=Rd(yi)}}function Ez(Yr,Gr,Wr){var Zr=Wr.clipPathCache,Kr=Wr.defs,Jr=Zr[Yr.id];if(!Jr){Jr=Wr.zrId+"-c"+Wr.clipPathIdx++;var Qr={id:Jr};Zr[Yr.id]=Jr,Kr[Jr]=Ea("clipPath",Jr,Qr,[Pz(Yr,Wr)])}Gr["clip-path"]=Rd(Jr)}function pC(Yr){return document.createTextNode(Yr)}function xf(Yr,Gr,Wr){Yr.insertBefore(Gr,Wr)}function dC(Yr,Gr){Yr.removeChild(Gr)}function vC(Yr,Gr){Yr.appendChild(Gr)}function mC(Yr){return Yr.parentNode}function gC(Yr){return Yr.nextSibling}function ix(Yr,Gr){Yr.textContent=Gr}var Dz=58,yZ=120,xZ=Ea("","");function yC(Yr){return Yr===void 0}function Bl(Yr){return Yr!==void 0}function _Z(Yr,Gr,Wr){for(var Zr={},Kr=Gr;Kr<=Wr;++Kr){var Jr=Yr[Kr].key;Jr!==void 0&&(Zr[Jr]=Kr)}return Zr}function Jv(Yr,Gr){var Wr=Yr.key===Gr.key,Zr=Yr.tag===Gr.tag;return Zr&&Wr}function Qv(Yr){var Gr,Wr=Yr.children,Zr=Yr.tag;if(Bl(Zr)){var Kr=Yr.elm=ex(Zr);if(ax(xZ,Yr),Ri(Wr))for(Gr=0;Gr<Wr.length;++Gr){var Jr=Wr[Gr];Jr!=null&&vC(Kr,Qv(Jr))}else Bl(Yr.text)&&!qi(Yr.text)&&vC(Kr,pC(Yr.text))}else Yr.elm=pC(Yr.text);return Yr.elm}function Iz(Yr,Gr,Wr,Zr,Kr){for(;Zr<=Kr;++Zr){var Jr=Wr[Zr];Jr!=null&&xf(Yr,Qv(Jr),Gr)}}function nx(Yr,Gr,Wr,Zr){for(;Wr<=Zr;++Wr){var Kr=Gr[Wr];if(Kr!=null)if(Bl(Kr.tag)){var Jr=mC(Kr.elm);dC(Jr,Kr.elm)}else dC(Yr,Kr.elm)}}function ax(Yr,Gr){var Wr,Zr=Gr.elm,Kr=Yr&&Yr.attrs||{},Jr=Gr.attrs||{};if(Kr!==Jr){for(Wr in Jr){var Qr=Jr[Wr],ti=Kr[Wr];ti!==Qr&&(Qr===!0?Zr.setAttribute(Wr,""):Qr===!1?Zr.removeAttribute(Wr):Wr==="style"?Zr.style.cssText=Qr:Wr.charCodeAt(0)!==yZ?Zr.setAttribute(Wr,Qr):Wr==="xmlns:xlink"||Wr==="xmlns"?Zr.setAttributeNS(vz,Wr,Qr):Wr.charCodeAt(3)===Dz?Zr.setAttributeNS(mz,Wr,Qr):Wr.charCodeAt(5)===Dz?Zr.setAttributeNS(nC,Wr,Qr):Zr.setAttribute(Wr,Qr))}for(Wr in Kr)Wr in Jr||Zr.removeAttribute(Wr)}}function bZ(Yr,Gr,Wr){for(var Zr=0,Kr=0,Jr=Gr.length-1,Qr=Gr[0],ti=Gr[Jr],ei=Wr.length-1,ri=Wr[0],ii=Wr[ei],ni,ai,oi,si;Zr<=Jr&&Kr<=ei;)Qr==null?Qr=Gr[++Zr]:ti==null?ti=Gr[--Jr]:ri==null?ri=Wr[++Kr]:ii==null?ii=Wr[--ei]:Jv(Qr,ri)?(yp(Qr,ri),Qr=Gr[++Zr],ri=Wr[++Kr]):Jv(ti,ii)?(yp(ti,ii),ti=Gr[--Jr],ii=Wr[--ei]):Jv(Qr,ii)?(yp(Qr,ii),xf(Yr,Qr.elm,gC(ti.elm)),Qr=Gr[++Zr],ii=Wr[--ei]):Jv(ti,ri)?(yp(ti,ri),xf(Yr,ti.elm,Qr.elm),ti=Gr[--Jr],ri=Wr[++Kr]):(yC(ni)&&(ni=_Z(Gr,Zr,Jr)),ai=ni[ri.key],yC(ai)?xf(Yr,Qv(ri),Qr.elm):(oi=Gr[ai],oi.tag!==ri.tag?xf(Yr,Qv(ri),Qr.elm):(yp(oi,ri),Gr[ai]=void 0,xf(Yr,oi.elm,Qr.elm))),ri=Wr[++Kr]);(Zr<=Jr||Kr<=ei)&&(Zr>Jr?(si=Wr[ei+1]==null?null:Wr[ei+1].elm,Iz(Yr,si,Wr,Kr,ei)):nx(Yr,Gr,Zr,Jr))}function yp(Yr,Gr){var Wr=Gr.elm=Yr.elm,Zr=Yr.children,Kr=Gr.children;Yr!==Gr&&(ax(Yr,Gr),yC(Gr.text)?Bl(Zr)&&Bl(Kr)?Zr!==Kr&&bZ(Wr,Zr,Kr):Bl(Kr)?(Bl(Yr.text)&&ix(Wr,""),Iz(Wr,null,Kr,0,Kr.length-1)):Bl(Zr)?nx(Wr,Zr,0,Zr.length-1):Bl(Yr.text)&&ix(Wr,""):Yr.text!==Gr.text&&(Bl(Zr)&&nx(Wr,Zr,0,Zr.length-1),ix(Wr,Gr.text)))}function xC(Yr,Gr){if(Jv(Yr,Gr))yp(Yr,Gr);else{var Wr=Yr.elm,Zr=mC(Wr);Qv(Gr),Zr!==null&&(xf(Zr,Gr.elm,gC(Wr)),nx(Zr,[Yr],0,0))}return Gr}var SZ=0,wZ=function(){function Yr(Gr,Wr,Zr){if(this.type="svg",this.refreshHover=Lz("refreshHover"),this.configLayer=Lz("configLayer"),this.storage=Wr,this._opts=Zr=ki({},Zr),this.root=Gr,this._id="zr"+SZ++,this._oldVNode=oC(Zr.width,Zr.height),Gr&&!Zr.ssr){var Kr=this._viewport=document.createElement("div");Kr.style.cssText="position:relative;overflow:hidden";var Jr=this._svgDom=this._oldVNode.elm=ex("svg");ax(null,this._oldVNode),Kr.appendChild(Jr),Gr.appendChild(Kr)}this.resize(Zr.width,Zr.height)}return Yr.prototype.getType=function(){return this.type},Yr.prototype.getViewportRoot=function(){return this._viewport},Yr.prototype.getViewportRootOffset=function(){var Gr=this.getViewportRoot();if(Gr)return{offsetLeft:Gr.offsetLeft||0,offsetTop:Gr.offsetTop||0}},Yr.prototype.getSvgDom=function(){return this._svgDom},Yr.prototype.refresh=function(){if(this.root){var Gr=this.renderToVNode({willUpdate:!0});Gr.attrs.style="position:absolute;left:0;top:0;user-select:none",xC(this._oldVNode,Gr),this._oldVNode=Gr}},Yr.prototype.renderOneToVNode=function(Gr){return fC(Gr,jv(this._id))},Yr.prototype.renderToVNode=function(Gr){Gr=Gr||{};var Wr=this.storage.getDisplayList(!0),Zr=this._width,Kr=this._height,Jr=jv(this._id);Jr.animation=Gr.animation,Jr.willUpdate=Gr.willUpdate,Jr.compress=Gr.compress,Jr.emphasis=Gr.emphasis;var Qr=[],ti=this._bgVNode=CZ(Zr,Kr,this._backgroundColor,Jr);ti&&Qr.push(ti);var ei=Gr.compress?null:this._mainVNode=Ea("g","main",{},[]);this._paintList(Wr,Jr,ei?ei.children:Qr),ei&&Qr.push(ei);var ri=Oi(fn(Jr.defs),function(ai){return Jr.defs[ai]});if(ri.length&&Qr.push(Ea("defs","defs",{},ri)),Gr.animation){var ii=gz(Jr.cssNodes,Jr.cssAnims,{newline:!0});if(ii){var ni=Ea("style","stl",{},[],ii);Qr.push(ni)}}return oC(Zr,Kr,Qr,Gr.useViewBox)},Yr.prototype.renderToString=function(Gr){return Gr=Gr||{},Zv(this.renderToVNode({animation:on(Gr.cssAnimation,!0),emphasis:on(Gr.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:on(Gr.useViewBox,!0)}),{newline:!0})},Yr.prototype.setBackgroundColor=function(Gr){this._backgroundColor=Gr},Yr.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},Yr.prototype._paintList=function(Gr,Wr,Zr){for(var Kr=Gr.length,Jr=[],Qr=0,ti,ei,ri=0,ii=0;ii<Kr;ii++){var ni=Gr[ii];if(!ni.invisible){var ai=ni.__clipPaths,oi=ai&&ai.length||0,si=ei&&ei.length||0,li=void 0;for(li=Math.max(oi-1,si-1);li>=0&&!(ai&&ei&&ai[li]===ei[li]);li--);for(var ui=si-1;ui>li;ui--)Qr--,ti=Jr[Qr-1];for(var fi=li+1;fi<oi;fi++){var hi={};Ez(ai[fi],hi,Wr);var ci=Ea("g","clip-g-"+ri++,hi,[]);(ti?ti.children:Zr).push(ci),Jr[Qr++]=ci,ti=ci}ei=ai;var pi=fC(ni,Wr);pi&&(ti?ti.children:Zr).push(pi)}}},Yr.prototype.resize=function(Gr,Wr){var Zr=this._opts,Kr=this.root,Jr=this._viewport;if(Gr!=null&&(Zr.width=Gr),Wr!=null&&(Zr.height=Wr),Kr&&Jr&&(Jr.style.display="none",Gr=ff(Kr,0,Zr),Wr=ff(Kr,1,Zr),Jr.style.display=""),this._width!==Gr||this._height!==Wr){if(this._width=Gr,this._height=Wr,Jr){var Qr=Jr.style;Qr.width=Gr+"px",Qr.height=Wr+"px"}if(kd(this._backgroundColor))this.refresh();else{var ti=this._svgDom;ti&&(ti.setAttribute("width",Gr),ti.setAttribute("height",Wr));var ei=this._bgVNode&&this._bgVNode.elm;ei&&(ei.setAttribute("width",Gr),ei.setAttribute("height",Wr))}}},Yr.prototype.getWidth=function(){return this._width},Yr.prototype.getHeight=function(){return this._height},Yr.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},Yr.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},Yr.prototype.toDataURL=function(Gr){var Wr=this.renderToString(),Zr="data:image/svg+xml;";return Gr?(Wr=sI(Wr),Wr&&Zr+"base64,"+Wr):Zr+"charset=UTF-8,"+encodeURIComponent(Wr)},Yr}();function Lz(Yr){return function(){}}function CZ(Yr,Gr,Wr,Zr){var Kr;if(Wr&&Wr!=="none")if(Kr=Ea("rect","bg",{width:Yr,height:Gr,x:"0",y:"0"}),Vg(Wr))hC({fill:Wr},Kr.attrs,"fill",Zr);else if(kd(Wr))cC({style:{fill:Wr},dirty:qn,getBoundingRect:function(){return{width:Yr,height:Gr}}},Kr.attrs,"fill",Zr);else{var Jr=Zu(Wr),Qr=Jr.color,ti=Jr.opacity;Kr.attrs.fill=Qr,ti<1&&(Kr.attrs["fill-opacity"]=ti)}return Kr}var kz=wZ;function _C(Yr){Yr.registerPainter("svg",kz)}function Rz(Yr,Gr,Wr){var Zr=fo.createCanvas(),Kr=Gr.getWidth(),Jr=Gr.getHeight(),Qr=Zr.style;return Qr&&(Qr.position="absolute",Qr.left="0",Qr.top="0",Qr.width=Kr+"px",Qr.height=Jr+"px",Zr.setAttribute("data-zr-dom-id",Yr)),Zr.width=Kr*Wr,Zr.height=Jr*Wr,Zr}var TZ=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this)||this;Jr.motionBlur=!1,Jr.lastFrameAlpha=.7,Jr.dpr=1,Jr.virtual=!1,Jr.config={},Jr.incremental=!1,Jr.zlevel=0,Jr.maxRepaintRectCount=5,Jr.__dirty=!0,Jr.__firstTimePaint=!0,Jr.__used=!1,Jr.__drawIndex=0,Jr.__startIndex=0,Jr.__endIndex=0,Jr.__prevStartIndex=null,Jr.__prevEndIndex=null;var Qr;Kr=Kr||hh,typeof Wr=="string"?Qr=Rz(Wr,Zr,Kr):qi(Wr)&&(Qr=Wr,Wr=Qr.id),Jr.id=Wr,Jr.dom=Qr;var ti=Qr.style;return ti&&(dg(Qr),Qr.onselectstart=function(){return!1},ti.padding="0",ti.margin="0",ti.borderWidth="0"),Jr.painter=Zr,Jr.dpr=Kr,Jr}return Gr.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Gr.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Gr.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Gr.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Gr.prototype.createBackBuffer=function(){var Wr=this.dpr;this.domBack=Rz("back-"+this.id,this.painter,Wr),this.ctxBack=this.domBack.getContext("2d"),Wr!==1&&this.ctxBack.scale(Wr,Wr)},Gr.prototype.createRepaintRects=function(Wr,Zr,Kr,Jr){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var Qr=[],ti=this.maxRepaintRectCount,ei=!1,ri=new rn(0,0,0,0);function ii(hi){if(!(!hi.isFinite()||hi.isZero()))if(Qr.length===0){var ci=new rn(0,0,0,0);ci.copy(hi),Qr.push(ci)}else{for(var pi=!1,di=1/0,vi=0,mi=0;mi<Qr.length;++mi){var gi=Qr[mi];if(gi.intersect(hi)){var yi=new rn(0,0,0,0);yi.copy(gi),yi.union(hi),Qr[mi]=yi,pi=!0;break}else if(ei){ri.copy(hi),ri.union(gi);var Si=hi.width*hi.height,bi=gi.width*gi.height,Ti=ri.width*ri.height,Ai=Ti-Si-bi;Ai<di&&(di=Ai,vi=mi)}}if(ei&&(Qr[vi].union(hi),pi=!0),!pi){var ci=new rn(0,0,0,0);ci.copy(hi),Qr.push(ci)}ei||(ei=Qr.length>=ti)}}for(var ni=this.__startIndex;ni<this.__endIndex;++ni){var ai=Wr[ni];if(ai){var oi=ai.shouldBePainted(Kr,Jr,!0,!0),si=ai.__isRendered&&(ai.__dirty&Ra||!oi)?ai.getPrevPaintRect():null;si&&ii(si);var li=oi&&(ai.__dirty&Ra||!ai.__isRendered)?ai.getPaintRect():null;li&&ii(li)}}for(var ni=this.__prevStartIndex;ni<this.__prevEndIndex;++ni){var ai=Zr[ni],oi=ai&&ai.shouldBePainted(Kr,Jr,!0,!0);if(ai&&(!oi||!ai.__zr)&&ai.__isRendered){var si=ai.getPrevPaintRect();si&&ii(si)}}var ui;do{ui=!1;for(var ni=0;ni<Qr.length;){if(Qr[ni].isZero()){Qr.splice(ni,1);continue}for(var fi=ni+1;fi<Qr.length;)Qr[ni].intersect(Qr[fi])?(ui=!0,Qr[ni].union(Qr[fi]),Qr.splice(fi,1)):fi++;ni++}}while(ui);return this._paintRects=Qr,Qr},Gr.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Gr.prototype.resize=function(Wr,Zr){var Kr=this.dpr,Jr=this.dom,Qr=Jr.style,ti=this.domBack;Qr&&(Qr.width=Wr+"px",Qr.height=Zr+"px"),Jr.width=Wr*Kr,Jr.height=Zr*Kr,ti&&(ti.width=Wr*Kr,ti.height=Zr*Kr,Kr!==1&&this.ctxBack.scale(Kr,Kr))},Gr.prototype.clear=function(Wr,Zr,Kr){var Jr=this.dom,Qr=this.ctx,ti=Jr.width,ei=Jr.height;Zr=Zr||this.clearColor;var ri=this.motionBlur&&!Wr,ii=this.lastFrameAlpha,ni=this.dpr,ai=this;ri&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(Jr,0,0,ti/ni,ei/ni));var oi=this.domBack;function si(li,ui,fi,hi){if(Qr.clearRect(li,ui,fi,hi),Zr&&Zr!=="transparent"){var ci=void 0;if(Vu(Zr)){var pi=Zr.global||Zr.__width===fi&&Zr.__height===hi;ci=pi&&Zr.__canvasGradient||Dv(Qr,Zr,{x:0,y:0,width:fi,height:hi}),Zr.__canvasGradient=ci,Zr.__width=fi,Zr.__height=hi}else yD(Zr)&&(Zr.scaleX=Zr.scaleX||ni,Zr.scaleY=Zr.scaleY||ni,ci=_0(Qr,Zr,{dirty:function(){ai.setUnpainted(),ai.painter.refresh()}}));Qr.save(),Qr.fillStyle=ci||Zr,Qr.fillRect(li,ui,fi,hi),Qr.restore()}ri&&(Qr.save(),Qr.globalAlpha=ii,Qr.drawImage(oi,li,ui,fi,hi),Qr.restore())}!Kr||ri?si(0,0,ti,ei):Kr.length&&_i(Kr,function(li){si(li.x*ni,li.y*ni,li.width*ni,li.height*ni)})},Gr}(Ia),ox=TZ;var Oz=1e5,jh=314159,sx=.01,AZ=.001;function MZ(Yr){return Yr?Yr.__builtin__?!0:!(typeof Yr.resize!="function"||typeof Yr.refresh!="function"):!1}function PZ(Yr,Gr){var Wr=document.createElement("div");return Wr.style.cssText=["position:relative","width:"+Yr+"px","height:"+Gr+"px","padding:0","margin:0","border-width:0"].join(";")+";",Wr}var EZ=function(){function Yr(Gr,Wr,Zr,Kr){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var Jr=!Gr.nodeName||Gr.nodeName.toUpperCase()==="CANVAS";this._opts=Zr=ki({},Zr||{}),this.dpr=Zr.devicePixelRatio||hh,this._singleCanvas=Jr,this.root=Gr;var Qr=Gr.style;Qr&&(dg(Gr),Gr.innerHTML=""),this.storage=Wr;var ti=this._zlevelList;this._prevDisplayList=[];var ei=this._layers;if(Jr){var ii=Gr,ni=ii.width,ai=ii.height;Zr.width!=null&&(ni=Zr.width),Zr.height!=null&&(ai=Zr.height),this.dpr=Zr.devicePixelRatio||1,ii.width=ni*this.dpr,ii.height=ai*this.dpr,this._width=ni,this._height=ai;var oi=new ox(ii,this,this.dpr);oi.__builtin__=!0,oi.initContext(),ei[jh]=oi,oi.zlevel=jh,ti.push(jh),this._domRoot=Gr}else{this._width=ff(Gr,0,Zr),this._height=ff(Gr,1,Zr);var ri=this._domRoot=PZ(this._width,this._height);Gr.appendChild(ri)}}return Yr.prototype.getType=function(){return"canvas"},Yr.prototype.isSingleCanvas=function(){return this._singleCanvas},Yr.prototype.getViewportRoot=function(){return this._domRoot},Yr.prototype.getViewportRootOffset=function(){var Gr=this.getViewportRoot();if(Gr)return{offsetLeft:Gr.offsetLeft||0,offsetTop:Gr.offsetTop||0}},Yr.prototype.refresh=function(Gr){var Wr=this.storage.getDisplayList(!0),Zr=this._prevDisplayList,Kr=this._zlevelList;this._redrawId=Math.random(),this._paintList(Wr,Zr,Gr,this._redrawId);for(var Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr],ti=this._layers[Qr];if(!ti.__builtin__&&ti.refresh){var ei=Jr===0?this._backgroundColor:null;ti.refresh(ei)}}return this._opts.useDirtyRect&&(this._prevDisplayList=Wr.slice()),this},Yr.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},Yr.prototype._paintHoverList=function(Gr){var Wr=Gr.length,Zr=this._hoverlayer;if(Zr&&Zr.clear(),!!Wr){for(var Kr={inHover:!0,viewWidth:this._width,viewHeight:this._height},Jr,Qr=0;Qr<Wr;Qr++){var ti=Gr[Qr];ti.__inHover&&(Zr||(Zr=this._hoverlayer=this.getLayer(Oz)),Jr||(Jr=Zr.ctx,Jr.save()),hf(Jr,ti,Kr,Qr===Wr-1))}Jr&&Jr.restore()}},Yr.prototype.getHoverLayer=function(){return this.getLayer(Oz)},Yr.prototype.paintOne=function(Gr,Wr){b0(Gr,Wr)},Yr.prototype._paintList=function(Gr,Wr,Zr,Kr){if(this._redrawId===Kr){Zr=Zr||!1,this._updateLayerStatus(Gr);var Jr=this._doPaintList(Gr,Wr,Zr),Qr=Jr.finished,ti=Jr.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),ti&&this._paintHoverList(Gr),Qr)this.eachLayer(function(ri){ri.afterBrush&&ri.afterBrush()});else{var ei=this;Pd(function(){ei._paintList(Gr,Wr,Zr,Kr)})}}},Yr.prototype._compositeManually=function(){var Gr=this.getLayer(jh).ctx,Wr=this._domRoot.width,Zr=this._domRoot.height;Gr.clearRect(0,0,Wr,Zr),this.eachBuiltinLayer(function(Kr){Kr.virtual&&Gr.drawImage(Kr.dom,0,0,Wr,Zr)})},Yr.prototype._doPaintList=function(Gr,Wr,Zr){for(var Kr=this,Jr=[],Qr=this._opts.useDirtyRect,ti=0;ti<this._zlevelList.length;ti++){var ei=this._zlevelList[ti],ri=this._layers[ei];ri.__builtin__&&ri!==this._hoverlayer&&(ri.__dirty||Zr)&&Jr.push(ri)}for(var ii=!0,ni=!1,ai=function(li){var ui=Jr[li],fi=ui.ctx,hi=Qr&&ui.createRepaintRects(Gr,Wr,oi._width,oi._height),ci=Zr?ui.__startIndex:ui.__drawIndex,pi=!Zr&&ui.incremental&&Date.now,di=pi&&Date.now(),vi=ui.zlevel===oi._zlevelList[0]?oi._backgroundColor:null;if(ui.__startIndex===ui.__endIndex)ui.clear(!1,vi,hi);else if(ci===ui.__startIndex){var mi=Gr[ci];(!mi.incremental||!mi.notClear||Zr)&&ui.clear(!1,vi,hi)}ci===-1&&(console.error("For some unknown reason. drawIndex is -1"),ci=ui.__startIndex);var gi,yi=function(Ai){var Ei={inHover:!1,allClipped:!1,prevEl:null,viewWidth:Kr._width,viewHeight:Kr._height};for(gi=ci;gi<ui.__endIndex;gi++){var Mi=Gr[gi];if(Mi.__inHover&&(ni=!0),Kr._doPaintEl(Mi,ui,Qr,Ai,Ei,gi===ui.__endIndex-1),pi){var wi=Date.now()-di;if(wi>15)break}}Ei.prevElClipPaths&&fi.restore()};if(hi)if(hi.length===0)gi=ui.__endIndex;else for(var Si=oi.dpr,bi=0;bi<hi.length;++bi){var Ti=hi[bi];fi.save(),fi.beginPath(),fi.rect(Ti.x*Si,Ti.y*Si,Ti.width*Si,Ti.height*Si),fi.clip(),yi(Ti),fi.restore()}else fi.save(),yi(),fi.restore();ui.__drawIndex=gi,ui.__drawIndex<ui.__endIndex&&(ii=!1)},oi=this,si=0;si<Jr.length;si++)ai(si);return Cn.wxa&&_i(this._layers,function(li){li&&li.ctx&&li.ctx.draw&&li.ctx.draw()}),{finished:ii,needsRefreshHover:ni}},Yr.prototype._doPaintEl=function(Gr,Wr,Zr,Kr,Jr,Qr){var ti=Wr.ctx;if(Zr){var ei=Gr.getPaintRect();(!Kr||ei&&ei.intersect(Kr))&&(hf(ti,Gr,Jr,Qr),Gr.setPrevPaintRect(ei))}else hf(ti,Gr,Jr,Qr)},Yr.prototype.getLayer=function(Gr,Wr){this._singleCanvas&&!this._needsManuallyCompositing&&(Gr=jh);var Zr=this._layers[Gr];return Zr||(Zr=new ox("zr_"+Gr,this,this.dpr),Zr.zlevel=Gr,Zr.__builtin__=!0,this._layerConfig[Gr]?un(Zr,this._layerConfig[Gr],!0):this._layerConfig[Gr-sx]&&un(Zr,this._layerConfig[Gr-sx],!0),Wr&&(Zr.virtual=Wr),this.insertLayer(Gr,Zr),Zr.initContext()),Zr},Yr.prototype.insertLayer=function(Gr,Wr){var Zr=this._layers,Kr=this._zlevelList,Jr=Kr.length,Qr=this._domRoot,ti=null,ei=-1;if(!Zr[Gr]&&MZ(Wr)){if(Jr>0&&Gr>Kr[0]){for(ei=0;ei<Jr-1&&!(Kr[ei]<Gr&&Kr[ei+1]>Gr);ei++);ti=Zr[Kr[ei]]}if(Kr.splice(ei+1,0,Gr),Zr[Gr]=Wr,!Wr.virtual)if(ti){var ri=ti.dom;ri.nextSibling?Qr.insertBefore(Wr.dom,ri.nextSibling):Qr.appendChild(Wr.dom)}else Qr.firstChild?Qr.insertBefore(Wr.dom,Qr.firstChild):Qr.appendChild(Wr.dom);Wr.painter||(Wr.painter=this)}},Yr.prototype.eachLayer=function(Gr,Wr){for(var Zr=this._zlevelList,Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Gr.call(Wr,this._layers[Jr],Jr)}},Yr.prototype.eachBuiltinLayer=function(Gr,Wr){for(var Zr=this._zlevelList,Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr],Qr=this._layers[Jr];Qr.__builtin__&&Gr.call(Wr,Qr,Jr)}},Yr.prototype.eachOtherLayer=function(Gr,Wr){for(var Zr=this._zlevelList,Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr],Qr=this._layers[Jr];Qr.__builtin__||Gr.call(Wr,Qr,Jr)}},Yr.prototype.getLayers=function(){return this._layers},Yr.prototype._updateLayerStatus=function(Gr){this.eachBuiltinLayer(function(ni,ai){ni.__dirty=ni.__used=!1});function Wr(ni){Jr&&(Jr.__endIndex!==ni&&(Jr.__dirty=!0),Jr.__endIndex=ni)}if(this._singleCanvas)for(var Zr=1;Zr<Gr.length;Zr++){var Kr=Gr[Zr];if(Kr.zlevel!==Gr[Zr-1].zlevel||Kr.incremental){this._needsManuallyCompositing=!0;break}}var Jr=null,Qr=0,ti,ei;for(ei=0;ei<Gr.length;ei++){var Kr=Gr[ei],ri=Kr.zlevel,ii=void 0;ti!==ri&&(ti=ri,Qr=0),Kr.incremental?(ii=this.getLayer(ri+AZ,this._needsManuallyCompositing),ii.incremental=!0,Qr=1):ii=this.getLayer(ri+(Qr>0?sx:0),this._needsManuallyCompositing),ii.__builtin__||Kf("ZLevel "+ri+" has been used by unkown layer "+ii.id),ii!==Jr&&(ii.__used=!0,ii.__startIndex!==ei&&(ii.__dirty=!0),ii.__startIndex=ei,ii.incremental?ii.__drawIndex=-1:ii.__drawIndex=ei,Wr(ei),Jr=ii),Kr.__dirty&Ra&&!Kr.__inHover&&(ii.__dirty=!0,ii.incremental&&ii.__drawIndex<0&&(ii.__drawIndex=ei))}Wr(ei),this.eachBuiltinLayer(function(ni,ai){!ni.__used&&ni.getElementCount()>0&&(ni.__dirty=!0,ni.__startIndex=ni.__endIndex=ni.__drawIndex=0),ni.__dirty&&ni.__drawIndex<0&&(ni.__drawIndex=ni.__startIndex)})},Yr.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},Yr.prototype._clearLayer=function(Gr){Gr.clear()},Yr.prototype.setBackgroundColor=function(Gr){this._backgroundColor=Gr,_i(this._layers,function(Wr){Wr.setUnpainted()})},Yr.prototype.configLayer=function(Gr,Wr){if(Wr){var Zr=this._layerConfig;Zr[Gr]?un(Zr[Gr],Wr,!0):Zr[Gr]=Wr;for(var Kr=0;Kr<this._zlevelList.length;Kr++){var Jr=this._zlevelList[Kr];if(Jr===Gr||Jr===Gr+sx){var Qr=this._layers[Jr];un(Qr,Zr[Gr],!0)}}}},Yr.prototype.delLayer=function(Gr){var Wr=this._layers,Zr=this._zlevelList,Kr=Wr[Gr];Kr&&(Kr.dom.parentNode.removeChild(Kr.dom),delete Wr[Gr],Zr.splice(sn(Zr,Gr),1))},Yr.prototype.resize=function(Gr,Wr){if(this._domRoot.style){var Zr=this._domRoot;Zr.style.display="none";var Kr=this._opts,Jr=this.root;if(Gr!=null&&(Kr.width=Gr),Wr!=null&&(Kr.height=Wr),Gr=ff(Jr,0,Kr),Wr=ff(Jr,1,Kr),Zr.style.display="",this._width!==Gr||Wr!==this._height){Zr.style.width=Gr+"px",Zr.style.height=Wr+"px";for(var Qr in this._layers)this._layers.hasOwnProperty(Qr)&&this._layers[Qr].resize(Gr,Wr);this.refresh(!0)}this._width=Gr,this._height=Wr}else{if(Gr==null||Wr==null)return;this._width=Gr,this._height=Wr,this.getLayer(jh).resize(Gr,Wr)}return this},Yr.prototype.clearLayer=function(Gr){var Wr=this._layers[Gr];Wr&&Wr.clear()},Yr.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},Yr.prototype.getRenderedCanvas=function(Gr){if(Gr=Gr||{},this._singleCanvas&&!this._compositeManually)return this._layers[jh].dom;var Wr=new ox("image",this,Gr.pixelRatio||this.dpr);Wr.initContext(),Wr.clear(!1,Gr.backgroundColor||this._backgroundColor);var Zr=Wr.ctx;if(Gr.pixelRatio<=this.dpr){this.refresh();var Kr=Wr.dom.width,Jr=Wr.dom.height;this.eachLayer(function(ni){ni.__builtin__?Zr.drawImage(ni.dom,0,0,Kr,Jr):ni.renderToCanvas&&(Zr.save(),ni.renderToCanvas(Zr),Zr.restore())})}else for(var Qr={inHover:!1,viewWidth:this._width,viewHeight:this._height},ti=this.storage.getDisplayList(!0),ei=0,ri=ti.length;ei<ri;ei++){var ii=ti[ei];hf(Zr,ii,Qr,ei===ri-1)}return Wr.dom},Yr.prototype.getWidth=function(){return this._width},Yr.prototype.getHeight=function(){return this._height},Yr}(),zz=EZ;function bC(Yr){Yr.registerPainter("canvas",zz)}var DZ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.hasSymbolVisual=!0,Wr}return Gr.prototype.getInitialData=function(Wr){if(0)var Zr;return ja(null,this,{useEncodeDefaulter:!0})},Gr.prototype.getLegendIcon=function(Wr){var Zr=new Zi,Kr=Bn("line",0,Wr.itemHeight/2,Wr.itemWidth,0,Wr.lineStyle.stroke,!1);Zr.add(Kr),Kr.setStyle(Wr.lineStyle);var Jr=this.getData().getVisual("symbol"),Qr=this.getData().getVisual("symbolRotate"),ti=Jr==="none"?"circle":Jr,ei=Wr.itemHeight*.8,ri=Bn(ti,(Wr.itemWidth-ei)/2,(Wr.itemHeight-ei)/2,ei,ei,Wr.itemStyle.fill);Zr.add(ri),ri.setStyle(Wr.itemStyle);var ii=Wr.iconRotate==="inherit"?Qr:Wr.iconRotate||0;return ri.rotation=ii*Math.PI/180,ri.setOrigin([Wr.itemWidth/2,Wr.itemHeight/2]),ti.indexOf("empty")>-1&&(ri.style.stroke=ri.style.fill,ri.style.fill="#fff",ri.style.lineWidth=2),Zr},Gr.type="series.line",Gr.dependencies=["grid","polar"],Gr.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},Gr}(Pn),Nz=DZ;function vl(Yr,Gr){var Wr=Yr.mapDimensionsAll("defaultedLabel"),Zr=Wr.length;if(Zr===1){var Kr=bu(Yr,Gr,Wr[0]);return Kr!=null?Kr+"":null}else if(Zr){for(var Jr=[],Qr=0;Qr<Wr.length;Qr++)Jr.push(bu(Yr,Gr,Wr[Qr]));return Jr.join(" ")}}function lx(Yr,Gr){var Wr=Yr.mapDimensionsAll("defaultedLabel");if(!Ri(Gr))return Gr+"";for(var Zr=[],Kr=0;Kr<Wr.length;Kr++){var Jr=Yr.getDimensionIndex(Wr[Kr]);Jr>=0&&Zr.push(Gr[Jr])}return Zr.join(" ")}var IZ=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr){var Qr=Yr.call(this)||this;return Qr.updateData(Wr,Zr,Kr,Jr),Qr}return Gr.prototype._createSymbol=function(Wr,Zr,Kr,Jr,Qr){this.removeAll();var ti=Bn(Wr,-1,-1,2,2,null,Qr);ti.attr({z2:100,culling:!0,scaleX:Jr[0]/2,scaleY:Jr[1]/2}),ti.drift=LZ,this._symbolType=Wr,this.add(ti)},Gr.prototype.stopSymbolAnimation=function(Wr){this.childAt(0).stopAnimation(null,Wr)},Gr.prototype.getSymbolType=function(){return this._symbolType},Gr.prototype.getSymbolPath=function(){return this.childAt(0)},Gr.prototype.highlight=function(){ho(this.childAt(0))},Gr.prototype.downplay=function(){co(this.childAt(0))},Gr.prototype.setZ=function(Wr,Zr){var Kr=this.childAt(0);Kr.zlevel=Wr,Kr.z=Zr},Gr.prototype.setDraggable=function(Wr,Zr){var Kr=this.childAt(0);Kr.draggable=Wr,Kr.cursor=!Zr&&Wr?"move":Kr.cursor},Gr.prototype.updateData=function(Wr,Zr,Kr,Jr){this.silent=!1;var Qr=Wr.getItemVisual(Zr,"symbol")||"circle",ti=Wr.hostModel,ei=Gr.getSymbolSize(Wr,Zr),ri=Qr!==this._symbolType,ii=Jr&&Jr.disableAnimation;if(ri){var ni=Wr.getItemVisual(Zr,"symbolKeepAspect");this._createSymbol(Qr,Wr,Zr,ei,ni)}else{var ai=this.childAt(0);ai.silent=!1;var oi={scaleX:ei[0]/2,scaleY:ei[1]/2};ii?ai.attr(oi):bn(ai,oi,ti,Zr),La(ai)}if(this._updateCommon(Wr,Zr,ei,Kr,Jr),ri){var ai=this.childAt(0);if(!ii){var oi={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:ai.style.opacity}};ai.scaleX=ai.scaleY=0,ai.style.opacity=0,Ln(ai,oi,ti,Zr)}}ii&&this.childAt(0).stopAnimation("leave")},Gr.prototype._updateCommon=function(Wr,Zr,Kr,Jr,Qr){var ti=this.childAt(0),ei=Wr.hostModel,ri,ii,ni,ai,oi,si,li,ui,fi;if(Jr&&(ri=Jr.emphasisItemStyle,ii=Jr.blurItemStyle,ni=Jr.selectItemStyle,ai=Jr.focus,oi=Jr.blurScope,li=Jr.labelStatesModels,ui=Jr.hoverScale,fi=Jr.cursorStyle,si=Jr.emphasisDisabled),!Jr||Wr.hasItemOption){var hi=Jr&&Jr.itemModel?Jr.itemModel:Wr.getItemModel(Zr),ci=hi.getModel("emphasis");ri=ci.getModel("itemStyle").getItemStyle(),ni=hi.getModel(["select","itemStyle"]).getItemStyle(),ii=hi.getModel(["blur","itemStyle"]).getItemStyle(),ai=ci.get("focus"),oi=ci.get("blurScope"),si=ci.get("disabled"),li=Hn(hi),ui=ci.getShallow("scale"),fi=hi.getShallow("cursor")}var pi=Wr.getItemVisual(Zr,"symbolRotate");ti.attr("rotation",(pi||0)*Math.PI/180||0);var di=ps(Wr.getItemVisual(Zr,"symbolOffset"),Kr);di&&(ti.x=di[0],ti.y=di[1]),fi&&ti.attr("cursor",fi);var vi=Wr.getItemVisual(Zr,"style"),mi=vi.fill;if(ti instanceof Kn){var gi=ti.style;ti.useStyle(ki({image:gi.image,x:gi.x,y:gi.y,width:gi.width,height:gi.height},vi))}else ti.__isEmptyBrush?ti.useStyle(ki({},vi)):ti.useStyle(vi),ti.style.decal=null,ti.setColor(mi,Qr&&Qr.symbolInnerColor),ti.style.strokeNoScale=!0;var yi=Wr.getItemVisual(Zr,"liftZ"),Si=this._z2;yi!=null?Si==null&&(this._z2=ti.z2,ti.z2+=yi):Si!=null&&(ti.z2=Si,this._z2=null);var bi=Qr&&Qr.useNameLabel;jn(ti,li,{labelFetcher:ei,labelDataIndex:Zr,defaultText:Ti,inheritColor:mi,defaultOpacity:vi.opacity});function Ti(Mi){return bi?Wr.getName(Mi):vl(Wr,Mi)}this._sizeX=Kr[0]/2,this._sizeY=Kr[1]/2;var Ai=ti.ensureState("emphasis");Ai.style=ri,ti.ensureState("select").style=ni,ti.ensureState("blur").style=ii;var Ei=ui==null||ui===!0?Math.max(1.1,3/this._sizeY):isFinite(ui)&&ui>0?+ui:1;Ai.scaleX=this._sizeX*Ei,Ai.scaleY=this._sizeY*Ei,this.setSymbolScale(1),In(this,ai,oi,si)},Gr.prototype.setSymbolScale=function(Wr){this.scaleX=this.scaleY=Wr},Gr.prototype.fadeOut=function(Wr,Zr,Kr){var Jr=this.childAt(0),Qr=Qi(this).dataIndex,ti=Kr&&Kr.animation;if(this.silent=Jr.silent=!0,Kr&&Kr.fadeLabel){var ei=Jr.getTextContent();ei&&Es(ei,{style:{opacity:0}},Zr,{dataIndex:Qr,removeOpt:ti,cb:function(){Jr.removeTextContent()}})}else Jr.removeTextContent();Es(Jr,{style:{opacity:0},scaleX:0,scaleY:0},Zr,{dataIndex:Qr,cb:Wr,removeOpt:ti})},Gr.getSymbolSize=function(Wr,Zr){return ll(Wr.getItemVisual(Zr,"symbolSize"))},Gr}(Zi);function LZ(Yr,Gr){this.parent.drift(Yr,Gr)}var Cu=IZ;function SC(Yr,Gr,Wr,Zr){return Gr&&!isNaN(Gr[0])&&!isNaN(Gr[1])&&!(Zr.isIgnore&&Zr.isIgnore(Wr))&&!(Zr.clipShape&&!Zr.clipShape.contain(Gr[0],Gr[1]))&&Yr.getItemVisual(Wr,"symbol")!=="none"}function Fz(Yr){return Yr!=null&&!qi(Yr)&&(Yr={isIgnore:Yr}),Yr||{}}function Vz(Yr){var Gr=Yr.hostModel,Wr=Gr.getModel("emphasis");return{emphasisItemStyle:Wr.getModel("itemStyle").getItemStyle(),blurItemStyle:Gr.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:Gr.getModel(["select","itemStyle"]).getItemStyle(),focus:Wr.get("focus"),blurScope:Wr.get("blurScope"),emphasisDisabled:Wr.get("disabled"),hoverScale:Wr.get("scale"),labelStatesModels:Hn(Gr),cursorStyle:Gr.get("cursor")}}var kZ=function(){function Yr(Gr){this.group=new Zi,this._SymbolCtor=Gr||Cu}return Yr.prototype.updateData=function(Gr,Wr){this._progressiveEls=null,Wr=Fz(Wr);var Zr=this.group,Kr=Gr.hostModel,Jr=this._data,Qr=this._SymbolCtor,ti=Wr.disableAnimation,ei=Vz(Gr),ri={disableAnimation:ti},ii=Wr.getSymbolPoint||function(ni){return Gr.getItemLayout(ni)};Jr||Zr.removeAll(),Gr.diff(Jr).add(function(ni){var ai=ii(ni);if(SC(Gr,ai,ni,Wr)){var oi=new Qr(Gr,ni,ei,ri);oi.setPosition(ai),Gr.setItemGraphicEl(ni,oi),Zr.add(oi)}}).update(function(ni,ai){var oi=Jr.getItemGraphicEl(ai),si=ii(ni);if(!SC(Gr,si,ni,Wr)){Zr.remove(oi);return}var li=Gr.getItemVisual(ni,"symbol")||"circle",ui=oi&&oi.getSymbolType&&oi.getSymbolType();if(!oi||ui&&ui!==li)Zr.remove(oi),oi=new Qr(Gr,ni,ei,ri),oi.setPosition(si);else{oi.updateData(Gr,ni,ei,ri);var fi={x:si[0],y:si[1]};ti?oi.attr(fi):bn(oi,fi,Kr)}Zr.add(oi),Gr.setItemGraphicEl(ni,oi)}).remove(function(ni){var ai=Jr.getItemGraphicEl(ni);ai&&ai.fadeOut(function(){Zr.remove(ai)},Kr)}).execute(),this._getSymbolPoint=ii,this._data=Gr},Yr.prototype.updateLayout=function(){var Gr=this,Wr=this._data;Wr&&Wr.eachItemGraphicEl(function(Zr,Kr){var Jr=Gr._getSymbolPoint(Kr);Zr.setPosition(Jr),Zr.markRedraw()})},Yr.prototype.incrementalPrepareUpdate=function(Gr){this._seriesScope=Vz(Gr),this._data=null,this.group.removeAll()},Yr.prototype.incrementalUpdate=function(Gr,Wr,Zr){this._progressiveEls=[],Zr=Fz(Zr);function Kr(ei){ei.isGroup||(ei.incremental=!0,ei.ensureState("emphasis").hoverLayer=!0)}for(var Jr=Gr.start;Jr<Gr.end;Jr++){var Qr=Wr.getItemLayout(Jr);if(SC(Wr,Qr,Jr,Zr)){var ti=new this._SymbolCtor(Wr,Jr,this._seriesScope);ti.traverse(Kr),ti.setPosition(Qr),this.group.add(ti),Wr.setItemGraphicEl(Jr,ti),this._progressiveEls.push(ti)}}},Yr.prototype.eachRendered=function(Gr){Co(this._progressiveEls||this.group,Gr)},Yr.prototype.remove=function(Gr){var Wr=this.group,Zr=this._data;Zr&&Gr?Zr.eachItemGraphicEl(function(Kr){Kr.fadeOut(function(){Wr.remove(Kr)},Zr.hostModel)}):Wr.removeAll()},Yr}(),Ul=kZ;function ux(Yr,Gr,Wr){var Zr=Yr.getBaseAxis(),Kr=Yr.getOtherAxis(Zr),Jr=RZ(Kr,Wr),Qr=Zr.dim,ti=Kr.dim,ei=Gr.mapDimension(ti),ri=Gr.mapDimension(Qr),ii=ti==="x"||ti==="radius"?1:0,ni=Oi(Yr.dimensions,function(si){return Gr.mapDimension(si)}),ai=!1,oi=Gr.getCalculationInfo("stackResultDimension");return ds(Gr,ni[0])&&(ai=!0,ni[0]=oi),ds(Gr,ni[1])&&(ai=!0,ni[1]=oi),{dataDimsForPoint:ni,valueStart:Jr,valueAxisDim:ti,baseAxisDim:Qr,stacked:!!ai,valueDim:ei,baseDim:ri,baseDataOffset:ii,stackedOverDimension:Gr.getCalculationInfo("stackedOverDimension")}}function RZ(Yr,Gr){var Wr=0,Zr=Yr.scale.getExtent();return Gr==="start"?Wr=Zr[0]:Gr==="end"?Wr=Zr[1]:gn(Gr)&&!isNaN(Gr)?Wr=Gr:Zr[0]>0?Wr=Zr[0]:Zr[1]<0&&(Wr=Zr[1]),Wr}function fx(Yr,Gr,Wr,Zr){var Kr=NaN;Yr.stacked&&(Kr=Wr.get(Wr.getCalculationInfo("stackedOverDimension"),Zr)),isNaN(Kr)&&(Kr=Yr.valueStart);var Jr=Yr.baseDataOffset,Qr=[];return Qr[Jr]=Wr.get(Yr.baseDim,Zr),Qr[1-Jr]=Kr,Gr.dataToPoint(Qr)}function OZ(Yr,Gr){var Wr=[];return Gr.diff(Yr).add(function(Zr){Wr.push({cmd:"+",idx:Zr})}).update(function(Zr,Kr){Wr.push({cmd:"=",idx:Kr,idx1:Zr})}).remove(function(Zr){Wr.push({cmd:"-",idx:Zr})}).execute(),Wr}function wC(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){for(var ei=OZ(Yr,Gr),ri=[],ii=[],ni=[],ai=[],oi=[],si=[],li=[],ui=ux(Kr,Gr,Qr),fi=Yr.getLayout("points")||[],hi=Gr.getLayout("points")||[],ci=0;ci<ei.length;ci++){var pi=ei[ci],di=!0,vi=void 0,mi=void 0;switch(pi.cmd){case"=":vi=pi.idx*2,mi=pi.idx1*2;var gi=fi[vi],yi=fi[vi+1],Si=hi[mi],bi=hi[mi+1];(isNaN(gi)||isNaN(yi))&&(gi=Si,yi=bi),ri.push(gi,yi),ii.push(Si,bi),ni.push(Wr[vi],Wr[vi+1]),ai.push(Zr[mi],Zr[mi+1]),li.push(Gr.getRawIndex(pi.idx1));break;case"+":var Ti=pi.idx,Ai=ui.dataDimsForPoint,Ei=Kr.dataToPoint([Gr.get(Ai[0],Ti),Gr.get(Ai[1],Ti)]);mi=Ti*2,ri.push(Ei[0],Ei[1]),ii.push(hi[mi],hi[mi+1]);var Mi=fx(ui,Kr,Gr,Ti);ni.push(Mi[0],Mi[1]),ai.push(Zr[mi],Zr[mi+1]),li.push(Gr.getRawIndex(Ti));break;case"-":di=!1}di&&(oi.push(pi),si.push(si.length))}si.sort(function(ji,tn){return li[ji]-li[tn]});for(var wi=ri.length,Pi=Mo(wi),xi=Mo(wi),Ci=Mo(wi),Li=Mo(wi),Ii=[],ci=0;ci<si.length;ci++){var zi=si[ci],Bi=ci*2,Vi=zi*2;Pi[Bi]=ri[Vi],Pi[Bi+1]=ri[Vi+1],xi[Bi]=ii[Vi],xi[Bi+1]=ii[Vi+1],Ci[Bi]=ni[Vi],Ci[Bi+1]=ni[Vi+1],Li[Bi]=ai[Vi],Li[Bi+1]=ai[Vi+1],Ii[ci]=oi[zi]}return{current:Pi,next:xi,stackedOnCurrent:Ci,stackedOnNext:Li,status:Ii}}var _f=Math.min,bf=Math.max;function Kh(Yr,Gr){return isNaN(Yr)||isNaN(Gr)}function CC(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){for(var ri,ii,ni,ai,oi,si,li=Wr,ui=0;ui<Zr;ui++){var fi=Gr[li*2],hi=Gr[li*2+1];if(li>=Kr||li<0)break;if(Kh(fi,hi)){if(ei){li+=Jr;continue}break}if(li===Wr)Yr[Jr>0?"moveTo":"lineTo"](fi,hi),ni=fi,ai=hi;else{var ci=fi-ri,pi=hi-ii;if(ci*ci+pi*pi<.5){li+=Jr;continue}if(Qr>0){for(var di=li+Jr,vi=Gr[di*2],mi=Gr[di*2+1];vi===fi&&mi===hi&&ui<Zr;)ui++,di+=Jr,li+=Jr,vi=Gr[di*2],mi=Gr[di*2+1],fi=Gr[li*2],hi=Gr[li*2+1],ci=fi-ri,pi=hi-ii;var gi=ui+1;if(ei)for(;Kh(vi,mi)&&gi<Zr;)gi++,di+=Jr,vi=Gr[di*2],mi=Gr[di*2+1];var yi=.5,Si=0,bi=0,Ti=void 0,Ai=void 0;if(gi>=Zr||Kh(vi,mi))oi=fi,si=hi;else{Si=vi-ri,bi=mi-ii;var Ei=fi-ri,Mi=vi-fi,wi=hi-ii,Pi=mi-hi,xi=void 0,Ci=void 0;if(ti==="x"){xi=Math.abs(Ei),Ci=Math.abs(Mi);var Li=Si>0?1:-1;oi=fi-Li*xi*Qr,si=hi,Ti=fi+Li*Ci*Qr,Ai=hi}else if(ti==="y"){xi=Math.abs(wi),Ci=Math.abs(Pi);var Ii=bi>0?1:-1;oi=fi,si=hi-Ii*xi*Qr,Ti=fi,Ai=hi+Ii*Ci*Qr}else xi=Math.sqrt(Ei*Ei+wi*wi),Ci=Math.sqrt(Mi*Mi+Pi*Pi),yi=Ci/(Ci+xi),oi=fi-Si*Qr*(1-yi),si=hi-bi*Qr*(1-yi),Ti=fi+Si*Qr*yi,Ai=hi+bi*Qr*yi,Ti=_f(Ti,bf(vi,fi)),Ai=_f(Ai,bf(mi,hi)),Ti=bf(Ti,_f(vi,fi)),Ai=bf(Ai,_f(mi,hi)),Si=Ti-fi,bi=Ai-hi,oi=fi-Si*xi/Ci,si=hi-bi*xi/Ci,oi=_f(oi,bf(ri,fi)),si=_f(si,bf(ii,hi)),oi=bf(oi,_f(ri,fi)),si=bf(si,_f(ii,hi)),Si=fi-oi,bi=hi-si,Ti=fi+Si*Ci/xi,Ai=hi+bi*Ci/xi}Yr.bezierCurveTo(ni,ai,oi,si,fi,hi),ni=Ti,ai=Ai}else Yr.lineTo(fi,hi)}ri=fi,ii=hi,li+=Jr}return ui}var Bz=function(){function Yr(){this.smooth=0,this.smoothConstraint=!0}return Yr}(),Uz=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="ec-polyline",Zr}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new Bz},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.points,Jr=0,Qr=Kr.length/2;if(Zr.connectNulls){for(;Qr>0&&Kh(Kr[Qr*2-2],Kr[Qr*2-1]);Qr--);for(;Jr<Qr&&Kh(Kr[Jr*2],Kr[Jr*2+1]);Jr++);}for(;Jr<Qr;)Jr+=CC(Wr,Kr,Jr,Qr,Qr,1,Zr.smooth,Zr.smoothMonotone,Zr.connectNulls)+1},Gr.prototype.getPointOn=function(Wr,Zr){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var Kr=this.path,Jr=Kr.data,Qr=Ha.CMD,ti,ei,ri=Zr==="x",ii=[],ni=0;ni<Jr.length;){var ai=Jr[ni++],oi=void 0,si=void 0,li=void 0,ui=void 0,fi=void 0,hi=void 0,ci=void 0;switch(ai){case Qr.M:ti=Jr[ni++],ei=Jr[ni++];break;case Qr.L:if(oi=Jr[ni++],si=Jr[ni++],ci=ri?(Wr-ti)/(oi-ti):(Wr-ei)/(si-ei),ci<=1&&ci>=0){var pi=ri?(si-ei)*ci+ei:(oi-ti)*ci+ti;return ri?[Wr,pi]:[pi,Wr]}ti=oi,ei=si;break;case Qr.C:oi=Jr[ni++],si=Jr[ni++],li=Jr[ni++],ui=Jr[ni++],fi=Jr[ni++],hi=Jr[ni++];var di=ri?ah(ti,oi,li,fi,Wr,ii):ah(ei,si,ui,hi,Wr,ii);if(di>0)for(var vi=0;vi<di;vi++){var mi=ii[vi];if(mi<=1&&mi>=0){var pi=ri?ga(ei,si,ui,hi,mi):ga(ti,oi,li,fi,mi);return ri?[Wr,pi]:[pi,Wr]}}ti=fi,ei=hi;break}}},Gr}(an);var zZ=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr}(Bz),hx=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="ec-polygon",Zr}return Gr.prototype.getDefaultShape=function(){return new zZ},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.points,Jr=Zr.stackedOnPoints,Qr=0,ti=Kr.length/2,ei=Zr.smoothMonotone;if(Zr.connectNulls){for(;ti>0&&Kh(Kr[ti*2-2],Kr[ti*2-1]);ti--);for(;Qr<ti&&Kh(Kr[Qr*2],Kr[Qr*2+1]);Qr++);}for(;Qr<ti;){var ri=CC(Wr,Kr,Qr,ti,ti,1,Zr.smooth,ei,Zr.connectNulls);CC(Wr,Jr,Qr+ri-1,ri,ti,-1,Zr.stackedOnSmooth,ei,Zr.connectNulls),Qr+=ri+1,Wr.closePath()}},Gr}(an);function TC(Yr,Gr,Wr,Zr,Kr){var Jr=Yr.getArea(),Qr=Jr.x,ti=Jr.y,ei=Jr.width,ri=Jr.height,ii=Wr.get(["lineStyle","width"])||2;Qr-=ii/2,ti-=ii/2,ei+=ii,ri+=ii,ei=Math.ceil(ei),Qr!==Math.floor(Qr)&&(Qr=Math.floor(Qr),ei++);var ni=new mn({shape:{x:Qr,y:ti,width:ei,height:ri}});if(Gr){var ai=Yr.getBaseAxis(),oi=ai.isHorizontal(),si=ai.inverse;oi?(si&&(ni.shape.x+=ei),ni.shape.width=0):(si||(ni.shape.y+=ri),ni.shape.height=0);var li=Wi(Kr)?function(ui){Kr(ui,ni)}:null;Ln(ni,{shape:{width:ei,height:ri,x:Qr,y:ti}},Wr,null,Zr,li)}return ni}function AC(Yr,Gr,Wr){var Zr=Yr.getArea(),Kr=Zn(Zr.r0,1),Jr=Zn(Zr.r,1),Qr=new Sa({shape:{cx:Zn(Yr.cx,1),cy:Zn(Yr.cy,1),r0:Kr,r:Jr,startAngle:Zr.startAngle,endAngle:Zr.endAngle,clockwise:Zr.clockwise}});if(Gr){var ti=Yr.getBaseAxis().dim==="angle";ti?Qr.shape.endAngle=Zr.startAngle:Qr.shape.r=Kr,Ln(Qr,{shape:{endAngle:Zr.endAngle,r:Jr}},Wr)}return Qr}function Gl(Yr,Gr,Wr,Zr,Kr){if(Yr){if(Yr.type==="polar")return AC(Yr,Gr,Wr);if(Yr.type==="cartesian2d")return TC(Yr,Gr,Wr,Zr,Kr)}else return null;return null}function zs(Yr,Gr){return Yr.type===Gr}function Gz(Yr,Gr){if(Yr.length===Gr.length){for(var Wr=0;Wr<Yr.length;Wr++)if(Yr[Wr]!==Gr[Wr])return;return!0}}function Hz(Yr){for(var Gr=1/0,Wr=1/0,Zr=-1/0,Kr=-1/0,Jr=0;Jr<Yr.length;){var Qr=Yr[Jr++],ti=Yr[Jr++];isNaN(Qr)||(Gr=Math.min(Qr,Gr),Zr=Math.max(Qr,Zr)),isNaN(ti)||(Wr=Math.min(ti,Wr),Kr=Math.max(ti,Kr))}return[[Gr,Wr],[Zr,Kr]]}function Wz(Yr,Gr){var Wr=Hz(Yr),Zr=Wr[0],Kr=Wr[1],Jr=Hz(Gr),Qr=Jr[0],ti=Jr[1];return Math.max(Math.abs(Zr[0]-Qr[0]),Math.abs(Zr[1]-Qr[1]),Math.abs(Kr[0]-ti[0]),Math.abs(Kr[1]-ti[1]))}function Yz(Yr){return gn(Yr)?Yr:Yr?.5:0}function NZ(Yr,Gr,Wr){if(!Wr.valueDim)return[];for(var Zr=Gr.count(),Kr=Mo(Zr*2),Jr=0;Jr<Zr;Jr++){var Qr=fx(Wr,Yr,Gr,Jr);Kr[Jr*2]=Qr[0],Kr[Jr*2+1]=Qr[1]}return Kr}function Sf(Yr,Gr,Wr,Zr){var Kr=Gr.getBaseAxis(),Jr=Kr.dim==="x"||Kr.dim==="radius"?0:1,Qr=[],ti=0,ei=[],ri=[],ii=[],ni=[];if(Zr){for(ti=0;ti<Yr.length;ti+=2)!isNaN(Yr[ti])&&!isNaN(Yr[ti+1])&&ni.push(Yr[ti],Yr[ti+1]);Yr=ni}for(ti=0;ti<Yr.length-2;ti+=2)switch(ii[0]=Yr[ti+2],ii[1]=Yr[ti+3],ri[0]=Yr[ti],ri[1]=Yr[ti+1],Qr.push(ri[0],ri[1]),Wr){case"end":ei[Jr]=ii[Jr],ei[1-Jr]=ri[1-Jr],Qr.push(ei[0],ei[1]);break;case"middle":var ai=(ri[Jr]+ii[Jr])/2,oi=[];ei[Jr]=oi[Jr]=ai,ei[1-Jr]=ri[1-Jr],oi[1-Jr]=ii[1-Jr],Qr.push(ei[0],ei[1]),Qr.push(oi[0],oi[1]);break;default:ei[Jr]=ri[Jr],ei[1-Jr]=ii[1-Jr],Qr.push(ei[0],ei[1])}return Qr.push(Yr[ti++],Yr[ti++]),Qr}function FZ(Yr,Gr){var Wr=[],Zr=Yr.length,Kr,Jr;function Qr(ii,ni,ai){var oi=ii.coord,si=(ai-oi)/(ni.coord-oi),li=tI(si,[ii.color,ni.color]);return{coord:ai,color:li}}for(var ti=0;ti<Zr;ti++){var ei=Yr[ti],ri=ei.coord;if(ri<0)Kr=ei;else if(ri>Gr){Jr?Wr.push(Qr(Jr,ei,Gr)):Kr&&Wr.push(Qr(Kr,ei,0),Qr(Kr,ei,Gr));break}else Kr&&(Wr.push(Qr(Kr,ei,0)),Kr=null),Wr.push(ei),Jr=ei}return Wr}function VZ(Yr,Gr,Wr){var Zr=Yr.getVisual("visualMeta");if(!(!Zr||!Zr.length||!Yr.count())&&Gr.type==="cartesian2d"){for(var Kr,Jr,Qr=Zr.length-1;Qr>=0;Qr--){var ti=Yr.getDimensionInfo(Zr[Qr].dimension);if(Kr=ti&&ti.coordDim,Kr==="x"||Kr==="y"){Jr=Zr[Qr];break}}if(Jr){var ei=Gr.getAxis(Kr),ri=Oi(Jr.stops,function(ci){return{coord:ei.toGlobalCoord(ei.dataToCoord(ci.value)),color:ci.color}}),ii=ri.length,ni=Jr.outerColors.slice();ii&&ri[0].coord>ri[ii-1].coord&&(ri.reverse(),ni.reverse());var ai=FZ(ri,Kr==="x"?Wr.getWidth():Wr.getHeight()),oi=ai.length;if(!oi&&ii)return ri[0].coord<0?ni[1]?ni[1]:ri[ii-1].color:ni[0]?ni[0]:ri[0].color;var si=10,li=ai[0].coord-si,ui=ai[oi-1].coord+si,fi=ui-li;if(fi<.001)return"transparent";_i(ai,function(ci){ci.offset=(ci.coord-li)/fi}),ai.push({offset:oi?ai[oi-1].offset:.5,color:ni[1]||"transparent"}),ai.unshift({offset:oi?ai[0].offset:.5,color:ni[0]||"transparent"});var hi=new kl(0,0,0,0,ai,!0);return hi[Kr]=li,hi[Kr+"2"]=ui,hi}}}function BZ(Yr,Gr,Wr){var Zr=Yr.get("showAllSymbol"),Kr=Zr==="auto";if(!(Zr&&!Kr)){var Jr=Wr.getAxesByScale("ordinal")[0];if(Jr&&!(Kr&&UZ(Jr,Gr))){var Qr=Gr.mapDimension(Jr.dim),ti={};return _i(Jr.getViewLabels(),function(ei){var ri=Jr.scale.getRawOrdinalNumber(ei.tickValue);ti[ri]=1}),function(ei){return!ti.hasOwnProperty(Gr.get(Qr,ei))}}}}function UZ(Yr,Gr){var Wr=Yr.getExtent(),Zr=Math.abs(Wr[1]-Wr[0])/Yr.scale.count();isNaN(Zr)&&(Zr=0);for(var Kr=Gr.count(),Jr=Math.max(1,Math.round(Kr/5)),Qr=0;Qr<Kr;Qr+=Jr)if(Cu.getSymbolSize(Gr,Qr)[Yr.isHorizontal()?1:0]*1.5>Zr)return!1;return!0}function GZ(Yr,Gr){return isNaN(Yr)||isNaN(Gr)}function HZ(Yr){for(var Gr=Yr.length/2;Gr>0&&GZ(Yr[Gr*2-2],Yr[Gr*2-1]);Gr--);return Gr-1}function Xz(Yr,Gr){return[Yr[Gr*2],Yr[Gr*2+1]]}function WZ(Yr,Gr,Wr){for(var Zr=Yr.length/2,Kr=Wr==="x"?0:1,Jr,Qr,ti=0,ei=-1,ri=0;ri<Zr;ri++)if(Qr=Yr[ri*2+Kr],!(isNaN(Qr)||isNaN(Yr[ri*2+1-Kr]))){if(ri===0){Jr=Qr;continue}if(Jr<=Gr&&Qr>=Gr||Jr>=Gr&&Qr<=Gr){ei=ri;break}ti=ri,Jr=Qr}return{range:[ti,ei],t:(Gr-Jr)/(Qr-Jr)}}function qz(Yr){if(Yr.get(["endLabel","show"]))return!0;for(var Gr=0;Gr<za.length;Gr++)if(Yr.get([za[Gr],"endLabel","show"]))return!0;return!1}function MC(Yr,Gr,Wr,Zr){if(zs(Gr,"cartesian2d")){var Kr=Zr.getModel("endLabel"),Jr=Kr.get("valueAnimation"),Qr=Zr.getData(),ti={lastFrameIndex:0},ei=qz(Zr)?function(oi,si){Yr._endLabelOnDuring(oi,si,Qr,ti,Jr,Kr,Gr)}:null,ri=Gr.getBaseAxis().isHorizontal(),ii=TC(Gr,Wr,Zr,function(){var oi=Yr._endLabel;oi&&Wr&&ti.originalX!=null&&oi.attr({x:ti.originalX,y:ti.originalY})},ei);if(!Zr.get("clip",!0)){var ni=ii.shape,ai=Math.max(ni.width,ni.height);ri?(ni.y-=ai,ni.height+=ai*2):(ni.x-=ai,ni.width+=ai*2)}return ei&&ei(1,ii),ii}else return AC(Gr,Wr,Zr)}function YZ(Yr,Gr){var Wr=Gr.getBaseAxis(),Zr=Wr.isHorizontal(),Kr=Wr.inverse,Jr=Zr?Kr?"right":"left":"center",Qr=Zr?"middle":Kr?"top":"bottom";return{normal:{align:Yr.get("align")||Jr,verticalAlign:Yr.get("verticalAlign")||Qr}}}var XZ=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.init=function(){var Wr=new Zi,Zr=new Ul;this.group.add(Zr.group),this._symbolDraw=Zr,this._lineGroup=Wr},Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this,Qr=Wr.coordinateSystem,ti=this.group,ei=Wr.getData(),ri=Wr.getModel("lineStyle"),ii=Wr.getModel("areaStyle"),ni=ei.getLayout("points")||[],ai=Qr.type==="polar",oi=this._coordSys,si=this._symbolDraw,li=this._polyline,ui=this._polygon,fi=this._lineGroup,hi=!Zr.ssr&&Wr.get("animation"),ci=!ii.isEmpty(),pi=ii.get("origin"),di=ux(Qr,ei,pi),vi=ci&&NZ(Qr,ei,di),mi=Wr.get("showSymbol"),gi=Wr.get("connectNulls"),yi=mi&&!ai&&BZ(Wr,ei,Qr),Si=this._data;Si&&Si.eachItemGraphicEl(function(tn,hn){tn.__temp&&(ti.remove(tn),Si.setItemGraphicEl(hn,null))}),mi||si.remove(),ti.add(fi);var bi=ai?!1:Wr.get("step"),Ti;Qr&&Qr.getArea&&Wr.get("clip",!0)&&(Ti=Qr.getArea(),Ti.width!=null?(Ti.x-=.1,Ti.y-=.1,Ti.width+=.2,Ti.height+=.2):Ti.r0&&(Ti.r0-=.5,Ti.r+=.5)),this._clipShapeForSymbol=Ti;var Ai=VZ(ei,Qr,Kr)||ei.getVisual("style")[ei.getVisual("drawType")];if(!(li&&oi.type===Qr.type&&bi===this._step))mi&&si.updateData(ei,{isIgnore:yi,clipShape:Ti,disableAnimation:!0,getSymbolPoint:function(tn){return[ni[tn*2],ni[tn*2+1]]}}),hi&&this._initSymbolLabelAnimation(ei,Qr,Ti),bi&&(ni=Sf(ni,Qr,bi,gi),vi&&(vi=Sf(vi,Qr,bi,gi))),li=this._newPolyline(ni),ci?ui=this._newPolygon(ni,vi):ui&&(fi.remove(ui),ui=this._polygon=null),ai||this._initOrUpdateEndLabel(Wr,Qr,nl(Ai)),fi.setClipPath(MC(this,Qr,!0,Wr));else{ci&&!ui?ui=this._newPolygon(ni,vi):ui&&!ci&&(fi.remove(ui),ui=this._polygon=null),ai||this._initOrUpdateEndLabel(Wr,Qr,nl(Ai));var Ei=fi.getClipPath();if(Ei){var Mi=MC(this,Qr,!1,Wr);Ln(Ei,{shape:Mi.shape},Wr)}else fi.setClipPath(MC(this,Qr,!0,Wr));mi&&si.updateData(ei,{isIgnore:yi,clipShape:Ti,disableAnimation:!0,getSymbolPoint:function(tn){return[ni[tn*2],ni[tn*2+1]]}}),(!Gz(this._stackedOnPoints,vi)||!Gz(this._points,ni))&&(hi?this._doUpdateAnimation(ei,vi,Qr,Kr,bi,pi,gi):(bi&&(ni=Sf(ni,Qr,bi,gi),vi&&(vi=Sf(vi,Qr,bi,gi))),li.setShape({points:ni}),ui&&ui.setShape({points:ni,stackedOnPoints:vi})))}var wi=Wr.getModel("emphasis"),Pi=wi.get("focus"),xi=wi.get("blurScope"),Ci=wi.get("disabled");if(li.useStyle(Yi(ri.getLineStyle(),{fill:"none",stroke:Ai,lineJoin:"bevel"})),ia(li,Wr,"lineStyle"),li.style.lineWidth>0&&Wr.get(["emphasis","lineStyle","width"])==="bolder"){var Li=li.getState("emphasis").style;Li.lineWidth=+li.style.lineWidth+1}Qi(li).seriesIndex=Wr.seriesIndex,In(li,Pi,xi,Ci);var Ii=Yz(Wr.get("smooth")),zi=Wr.get("smoothMonotone");if(li.setShape({smooth:Ii,smoothMonotone:zi,connectNulls:gi}),ui){var Bi=ei.getCalculationInfo("stackedOnSeries"),Vi=0;ui.useStyle(Yi(ii.getAreaStyle(),{fill:Ai,opacity:.7,lineJoin:"bevel",decal:ei.getVisual("style").decal})),Bi&&(Vi=Yz(Bi.get("smooth"))),ui.setShape({smooth:Ii,stackedOnSmooth:Vi,smoothMonotone:zi,connectNulls:gi}),ia(ui,Wr,"areaStyle"),Qi(ui).seriesIndex=Wr.seriesIndex,In(ui,Pi,xi,Ci)}var ji=function(tn){Jr._changePolyState(tn)};ei.eachItemGraphicEl(function(tn){tn&&(tn.onHoverStateChange=ji)}),this._polyline.onHoverStateChange=ji,this._data=ei,this._coordSys=Qr,this._stackedOnPoints=vi,this._points=ni,this._step=bi,this._valueOrigin=pi,Wr.get("triggerLineEvent")&&(this.packEventData(Wr,li),ui&&this.packEventData(Wr,ui))},Gr.prototype.packEventData=function(Wr,Zr){Qi(Zr).eventData={componentType:"series",componentSubType:"line",componentIndex:Wr.componentIndex,seriesIndex:Wr.seriesIndex,seriesName:Wr.name,seriesType:"line"}},Gr.prototype.highlight=function(Wr,Zr,Kr,Jr){var Qr=Wr.getData(),ti=As(Qr,Jr);if(this._changePolyState("emphasis"),!(ti instanceof Array)&&ti!=null&&ti>=0){var ei=Qr.getLayout("points"),ri=Qr.getItemGraphicEl(ti);if(!ri){var ii=ei[ti*2],ni=ei[ti*2+1];if(isNaN(ii)||isNaN(ni)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(ii,ni))return;var ai=Wr.get("zlevel")||0,oi=Wr.get("z")||0;ri=new Cu(Qr,ti),ri.x=ii,ri.y=ni,ri.setZ(ai,oi);var si=ri.getSymbolPath().getTextContent();si&&(si.zlevel=ai,si.z=oi,si.z2=this._polyline.z2+1),ri.__temp=!0,Qr.setItemGraphicEl(ti,ri),ri.stopSymbolAnimation(!0),this.group.add(ri)}ri.highlight()}else An.prototype.highlight.call(this,Wr,Zr,Kr,Jr)},Gr.prototype.downplay=function(Wr,Zr,Kr,Jr){var Qr=Wr.getData(),ti=As(Qr,Jr);if(this._changePolyState("normal"),ti!=null&&ti>=0){var ei=Qr.getItemGraphicEl(ti);ei&&(ei.__temp?(Qr.setItemGraphicEl(ti,null),this.group.remove(ei)):ei.downplay())}else An.prototype.downplay.call(this,Wr,Zr,Kr,Jr)},Gr.prototype._changePolyState=function(Wr){var Zr=this._polygon;Mh(this._polyline,Wr),Zr&&Mh(Zr,Wr)},Gr.prototype._newPolyline=function(Wr){var Zr=this._polyline;return Zr&&this._lineGroup.remove(Zr),Zr=new Uz({shape:{points:Wr},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(Zr),this._polyline=Zr,Zr},Gr.prototype._newPolygon=function(Wr,Zr){var Kr=this._polygon;return Kr&&this._lineGroup.remove(Kr),Kr=new hx({shape:{points:Wr,stackedOnPoints:Zr},segmentIgnoreThreshold:2}),this._lineGroup.add(Kr),this._polygon=Kr,Kr},Gr.prototype._initSymbolLabelAnimation=function(Wr,Zr,Kr){var Jr,Qr,ti=Zr.getBaseAxis(),ei=ti.inverse;Zr.type==="cartesian2d"?(Jr=ti.isHorizontal(),Qr=!1):Zr.type==="polar"&&(Jr=ti.dim==="angle",Qr=!0);var ri=Wr.hostModel,ii=ri.get("animationDuration");Wi(ii)&&(ii=ii(null));var ni=ri.get("animationDelay")||0,ai=Wi(ni)?ni(null):ni;Wr.eachItemGraphicEl(function(oi,si){var li=oi;if(li){var ui=[oi.x,oi.y],fi=void 0,hi=void 0,ci=void 0;if(Kr)if(Qr){var pi=Kr,di=Zr.pointToCoord(ui);Jr?(fi=pi.startAngle,hi=pi.endAngle,ci=-di[1]/180*Math.PI):(fi=pi.r0,hi=pi.r,ci=di[0])}else{var vi=Kr;Jr?(fi=vi.x,hi=vi.x+vi.width,ci=oi.x):(fi=vi.y+vi.height,hi=vi.y,ci=oi.y)}var mi=hi===fi?0:(ci-fi)/(hi-fi);ei&&(mi=1-mi);var gi=Wi(ni)?ni(si):ii*mi+ai,yi=li.getSymbolPath(),Si=yi.getTextContent();li.attr({scaleX:0,scaleY:0}),li.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:gi}),Si&&Si.animateFrom({style:{opacity:0}},{duration:300,delay:gi}),yi.disableLabelAnimation=!0}})},Gr.prototype._initOrUpdateEndLabel=function(Wr,Zr,Kr){var Jr=Wr.getModel("endLabel");if(qz(Wr)){var Qr=Wr.getData(),ti=this._polyline,ei=Qr.getLayout("points");if(!ei){ti.removeTextContent(),this._endLabel=null;return}var ri=this._endLabel;ri||(ri=this._endLabel=new xn({z2:200}),ri.ignoreClip=!0,ti.setTextContent(this._endLabel),ti.disableLabelAnimation=!0);var ii=HZ(ei);ii>=0&&(jn(ti,Hn(Wr,"endLabel"),{inheritColor:Kr,labelFetcher:Wr,labelDataIndex:ii,defaultText:function(ni,ai,oi){return oi!=null?lx(Qr,oi):vl(Qr,ni)},enableTextSetter:!0},YZ(Jr,Zr)),ti.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},Gr.prototype._endLabelOnDuring=function(Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=this._endLabel,ii=this._polyline;if(ri){Wr<1&&Jr.originalX==null&&(Jr.originalX=ri.x,Jr.originalY=ri.y);var ni=Kr.getLayout("points"),ai=Kr.hostModel,oi=ai.get("connectNulls"),si=ti.get("precision"),li=ti.get("distance")||0,ui=ei.getBaseAxis(),fi=ui.isHorizontal(),hi=ui.inverse,ci=Zr.shape,pi=hi?fi?ci.x:ci.y+ci.height:fi?ci.x+ci.width:ci.y,di=(fi?li:0)*(hi?-1:1),vi=(fi?0:-li)*(hi?-1:1),mi=fi?"x":"y",gi=WZ(ni,pi,mi),yi=gi.range,Si=yi[1]-yi[0],bi=void 0;if(Si>=1){if(Si>1&&!oi){var Ti=Xz(ni,yi[0]);ri.attr({x:Ti[0]+di,y:Ti[1]+vi}),Qr&&(bi=ai.getRawValue(yi[0]))}else{var Ti=ii.getPointOn(pi,mi);Ti&&ri.attr({x:Ti[0]+di,y:Ti[1]+vi});var Ai=ai.getRawValue(yi[0]),Ei=ai.getRawValue(yi[1]);Qr&&(bi=iy(Kr,si,Ai,Ei,gi.t))}Jr.lastFrameIndex=yi[0]}else{var Mi=Wr===1||Jr.lastFrameIndex>0?yi[0]:0,Ti=Xz(ni,Mi);Qr&&(bi=ai.getRawValue(Mi)),ri.attr({x:Ti[0]+di,y:Ti[1]+vi})}if(Qr){var wi=mu(ri);typeof wi.setLabelText=="function"&&wi.setLabelText(bi)}}},Gr.prototype._doUpdateAnimation=function(Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=this._polyline,ii=this._polygon,ni=Wr.hostModel,ai=wC(this._data,Wr,this._stackedOnPoints,Zr,this._coordSys,Kr,this._valueOrigin,ti),oi=ai.current,si=ai.stackedOnCurrent,li=ai.next,ui=ai.stackedOnNext;if(Qr&&(oi=Sf(ai.current,Kr,Qr,ei),si=Sf(ai.stackedOnCurrent,Kr,Qr,ei),li=Sf(ai.next,Kr,Qr,ei),ui=Sf(ai.stackedOnNext,Kr,Qr,ei)),Wz(oi,li)>3e3||ii&&Wz(si,ui)>3e3){ri.stopAnimation(),ri.setShape({points:li}),ii&&(ii.stopAnimation(),ii.setShape({points:li,stackedOnPoints:ui}));return}ri.shape.__points=ai.current,ri.shape.points=oi;var fi={shape:{points:li}};ai.current!==oi&&(fi.shape.__points=ai.next),ri.stopAnimation(),bn(ri,fi,ni),ii&&(ii.setShape({points:oi,stackedOnPoints:si}),ii.stopAnimation(),bn(ii,{shape:{stackedOnPoints:ui}},ni),ri.shape.points!==ii.shape.points&&(ii.shape.points=ri.shape.points));for(var hi=[],ci=ai.status,pi=0;pi<ci.length;pi++){var di=ci[pi].cmd;if(di==="="){var vi=Wr.getItemGraphicEl(ci[pi].idx1);vi&&hi.push({el:vi,ptIdx:pi})}}ri.animators&&ri.animators.length&&ri.animators[0].during(function(){ii&&ii.dirtyShape();for(var mi=ri.shape.__points,gi=0;gi<hi.length;gi++){var yi=hi[gi].el,Si=hi[gi].ptIdx*2;yi.x=mi[Si],yi.y=mi[Si+1],yi.markRedraw()}})},Gr.prototype.remove=function(Wr){var Zr=this.group,Kr=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),Kr&&Kr.eachItemGraphicEl(function(Jr,Qr){Jr.__temp&&(Zr.remove(Jr),Kr.setItemGraphicEl(Qr,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},Gr.type="line",Gr}(An),Zz=XZ;function ml(Yr,Gr){return{seriesType:Yr,plan:cs(),reset:function(Wr){var Zr=Wr.getData(),Kr=Wr.coordinateSystem,Jr=Wr.pipelineContext,Qr=Gr||Jr.large;if(Kr){var ti=Oi(Kr.dimensions,function(oi){return Zr.mapDimension(oi)}).slice(0,2),ei=ti.length,ri=Zr.getCalculationInfo("stackResultDimension");ds(Zr,ti[0])&&(ti[0]=ri),ds(Zr,ti[1])&&(ti[1]=ri);var ii=Zr.getStore(),ni=Zr.getDimensionIndex(ti[0]),ai=Zr.getDimensionIndex(ti[1]);return ei&&{progress:function(oi,si){for(var li=oi.end-oi.start,ui=Qr&&Mo(li*ei),fi=[],hi=[],ci=oi.start,pi=0;ci<oi.end;ci++){var di=void 0;if(ei===1){var vi=ii.get(ni,ci);di=Kr.dataToPoint(vi,null,hi)}else fi[0]=ii.get(ni,ci),fi[1]=ii.get(ai,ci),di=Kr.dataToPoint(fi,null,hi);Qr?(ui[pi++]=di[0],ui[pi++]=di[1]):si.setItemLayout(ci,di.slice())}Qr&&si.setLayout("points",ui)}}}}}}var qZ={average:function(Yr){for(var Gr=0,Wr=0,Zr=0;Zr<Yr.length;Zr++)isNaN(Yr[Zr])||(Gr+=Yr[Zr],Wr++);return Wr===0?NaN:Gr/Wr},sum:function(Yr){for(var Gr=0,Wr=0;Wr<Yr.length;Wr++)Gr+=Yr[Wr]||0;return Gr},max:function(Yr){for(var Gr=-1/0,Wr=0;Wr<Yr.length;Wr++)Yr[Wr]>Gr&&(Gr=Yr[Wr]);return isFinite(Gr)?Gr:NaN},min:function(Yr){for(var Gr=1/0,Wr=0;Wr<Yr.length;Wr++)Yr[Wr]<Gr&&(Gr=Yr[Wr]);return isFinite(Gr)?Gr:NaN},minmax:function(Yr){for(var Gr=-1/0,Wr=-1/0,Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr],Jr=Math.abs(Kr);Jr>Gr&&(Gr=Jr,Wr=Kr)}return isFinite(Wr)?Wr:NaN},nearest:function(Yr){return Yr[0]}},ZZ=function(Yr){return Math.round(Yr.length/2)};function tm(Yr){return{seriesType:Yr,reset:function(Gr,Wr,Zr){var Kr=Gr.getData(),Jr=Gr.get("sampling"),Qr=Gr.coordinateSystem,ti=Kr.count();if(ti>10&&Qr.type==="cartesian2d"&&Jr){var ei=Qr.getBaseAxis(),ri=Qr.getOtherAxis(ei),ii=ei.getExtent(),ni=Zr.getDevicePixelRatio(),ai=Math.abs(ii[1]-ii[0])*(ni||1),oi=Math.round(ti/ai);if(isFinite(oi)&&oi>1){Jr==="lttb"&&Gr.setData(Kr.lttbDownSample(Kr.mapDimension(ri.dim),1/oi));var si=void 0;Ni(Jr)?si=qZ[Jr]:Wi(Jr)&&(si=Jr),si&&Gr.setData(Kr.downSample(Kr.mapDimension(ri.dim),1/oi,si,ZZ))}}}}}function PC(Yr){Yr.registerChartView(Zz),Yr.registerSeriesModel(Nz),Yr.registerLayout(ml("line",!0)),Yr.registerVisual({seriesType:"line",reset:function(Gr){var Wr=Gr.getData(),Zr=Gr.getModel("lineStyle").getLineStyle();Zr&&!Zr.stroke&&(Zr.stroke=Wr.getVisual("style").fill),Wr.setVisual("legendLineStyle",Zr)}}),Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.STATISTIC,tm("line"))}var jz=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){return ja(null,this,{useEncodeDefaulter:!0})},Gr.prototype.getMarkerPosition=function(Wr,Zr,Kr){var Jr=this.coordinateSystem;if(Jr&&Jr.clampData){var Qr=Jr.clampData(Wr),ti=Jr.dataToPoint(Qr);if(Kr)_i(Jr.getAxes(),function(ai,oi){if(ai.type==="category"&&Zr!=null){var si=ai.getTicksCoords(),li=ai.getTickModel().get("alignWithLabel"),ui=Qr[oi],fi=Zr[oi]==="x1"||Zr[oi]==="y1";if(fi&&!li&&(ui+=1),si.length<2)return;if(si.length===2){ti[oi]=ai.toGlobalCoord(ai.getExtent()[fi?1:0]);return}for(var hi=void 0,ci=void 0,pi=1,di=0;di<si.length;di++){var vi=si[di].coord,mi=di===si.length-1?si[di-1].tickValue+pi:si[di].tickValue;if(mi===ui){ci=vi;break}else if(mi<ui)hi=vi;else if(hi!=null&&mi>ui){ci=(vi+hi)/2;break}di===1&&(pi=mi-si[0].tickValue)}ci==null&&(hi?hi&&(ci=si[si.length-1].coord):ci=si[0].coord),ti[oi]=ai.toGlobalCoord(ci)}});else{var ei=this.getData(),ri=ei.getLayout("offset"),ii=ei.getLayout("size"),ni=Jr.getBaseAxis().isHorizontal()?0:1;ti[ni]+=ri+ii/2}return ti}return[NaN,NaN]},Gr.type="series.__base_bar__",Gr.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},Gr}(Pn);Pn.registerClass(jz);var xp=jz;var jZ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.getInitialData=function(){return ja(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},Gr.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},Gr.prototype.getProgressiveThreshold=function(){var Wr=this.get("progressiveThreshold"),Zr=this.get("largeThreshold");return Zr>Wr&&(Wr=Zr),Wr},Gr.prototype.brushSelector=function(Wr,Zr,Kr){return Kr.rect(Zr.getItemLayout(Wr))},Gr.type="series.bar",Gr.dependencies=["grid","polar"],Gr.defaultOption=mo(xp.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),Gr}(xp),Kz=jZ;var KZ=function(){function Yr(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Yr}(),$Z=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="sausage",Zr}return Gr.prototype.getDefaultShape=function(){return new KZ},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.cx,Jr=Zr.cy,Qr=Math.max(Zr.r0||0,0),ti=Math.max(Zr.r,0),ei=(ti-Qr)*.5,ri=Qr+ei,ii=Zr.startAngle,ni=Zr.endAngle,ai=Zr.clockwise,oi=Math.PI*2,si=ai?ni-ii<oi:ii-ni<oi;si||(ii=ni-(ai?oi:-oi));var li=Math.cos(ii),ui=Math.sin(ii),fi=Math.cos(ni),hi=Math.sin(ni);si?(Wr.moveTo(li*Qr+Kr,ui*Qr+Jr),Wr.arc(li*ri+Kr,ui*ri+Jr,ei,-Math.PI+ii,ii,!ai)):Wr.moveTo(li*ti+Kr,ui*ti+Jr),Wr.arc(Kr,Jr,ti,ii,ni,!ai),Wr.arc(fi*ri+Kr,hi*ri+Jr,ei,ni-Math.PI*2,ni-Math.PI,!ai),Qr!==0&&Wr.arc(Kr,Jr,Qr,ni,ii,ai)},Gr}(an),_p=$Z;function $z(Yr,Gr){Gr=Gr||{};var Wr=Gr.isRoundCap;return function(Zr,Kr,Jr){var Qr=Kr.position;if(!Qr||Qr instanceof Array)return vh(Zr,Kr,Jr);var ti=Yr(Qr),ei=Kr.distance!=null?Kr.distance:5,ri=this.shape,ii=ri.cx,ni=ri.cy,ai=ri.r,oi=ri.r0,si=(ai+oi)/2,li=ri.startAngle,ui=ri.endAngle,fi=(li+ui)/2,hi=Wr?Math.abs(ai-oi)/2:0,ci=Math.cos,pi=Math.sin,di=ii+ai*ci(li),vi=ni+ai*pi(li),mi="left",gi="top";switch(ti){case"startArc":di=ii+(oi-ei)*ci(fi),vi=ni+(oi-ei)*pi(fi),mi="center",gi="top";break;case"insideStartArc":di=ii+(oi+ei)*ci(fi),vi=ni+(oi+ei)*pi(fi),mi="center",gi="bottom";break;case"startAngle":di=ii+si*ci(li)+cx(li,ei+hi,!1),vi=ni+si*pi(li)+px(li,ei+hi,!1),mi="right",gi="middle";break;case"insideStartAngle":di=ii+si*ci(li)+cx(li,-ei+hi,!1),vi=ni+si*pi(li)+px(li,-ei+hi,!1),mi="left",gi="middle";break;case"middle":di=ii+si*ci(fi),vi=ni+si*pi(fi),mi="center",gi="middle";break;case"endArc":di=ii+(ai+ei)*ci(fi),vi=ni+(ai+ei)*pi(fi),mi="center",gi="bottom";break;case"insideEndArc":di=ii+(ai-ei)*ci(fi),vi=ni+(ai-ei)*pi(fi),mi="center",gi="top";break;case"endAngle":di=ii+si*ci(ui)+cx(ui,ei+hi,!0),vi=ni+si*pi(ui)+px(ui,ei+hi,!0),mi="left",gi="middle";break;case"insideEndAngle":di=ii+si*ci(ui)+cx(ui,-ei+hi,!0),vi=ni+si*pi(ui)+px(ui,-ei+hi,!0),mi="right",gi="middle";break;default:return vh(Zr,Kr,Jr)}return Zr=Zr||{},Zr.x=di,Zr.y=vi,Zr.align=mi,Zr.verticalAlign=gi,Zr}}function Jz(Yr,Gr,Wr,Zr){if(gn(Zr)){Yr.setTextConfig({rotation:Zr});return}else if(Ri(Gr)){Yr.setTextConfig({rotation:0});return}var Kr=Yr.shape,Jr=Kr.clockwise?Kr.startAngle:Kr.endAngle,Qr=Kr.clockwise?Kr.endAngle:Kr.startAngle,ti=(Jr+Qr)/2,ei,ri=Wr(Gr);switch(ri){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":ei=ti;break;case"startAngle":case"insideStartAngle":ei=Jr;break;case"endAngle":case"insideEndAngle":ei=Qr;break;default:Yr.setTextConfig({rotation:0});return}var ii=Math.PI*1.5-ei;ri==="middle"&&ii>Math.PI/2&&ii<Math.PI*1.5&&(ii-=Math.PI),Yr.setTextConfig({rotation:ii})}function cx(Yr,Gr,Wr){return Gr*Math.sin(Yr)*(Wr?-1:1)}function px(Yr,Gr,Wr){return Gr*Math.cos(Yr)*(Wr?1:-1)}function Hl(Yr,Gr,Wr){var Zr=Yr.get("borderRadius");if(Zr==null)return Wr?{cornerRadius:0}:null;Ri(Zr)||(Zr=[Zr,Zr,Zr,Zr]);var Kr=Math.abs(Gr.r||0-Gr.r0||0);return{cornerRadius:Oi(Zr,function(Jr){return eo(Jr,Kr)})}}var EC=Math.max,DC=Math.min;function JZ(Yr,Gr){var Wr=Yr.getArea&&Yr.getArea();if(zs(Yr,"cartesian2d")){var Zr=Yr.getBaseAxis();if(Zr.type!=="category"||!Zr.onBand){var Kr=Gr.getLayout("bandWidth");Zr.isHorizontal()?(Wr.x-=Kr,Wr.width+=Kr*2):(Wr.y-=Kr,Wr.height+=Kr*2)}}return Wr}var QZ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr.call(this)||this;return Wr.type=Gr.type,Wr._isFirstFrame=!0,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){this._model=Wr,this._removeOnRenderedListener(Kr),this._updateDrawMode(Wr);var Qr=Wr.get("coordinateSystem");(Qr==="cartesian2d"||Qr==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(Wr,Zr,Kr):this._renderNormal(Wr,Zr,Kr,Jr))},Gr.prototype.incrementalPrepareRender=function(Wr){this._clear(),this._updateDrawMode(Wr),this._updateLargeClip(Wr)},Gr.prototype.incrementalRender=function(Wr,Zr){this._progressiveEls=[],this._incrementalRenderLarge(Wr,Zr)},Gr.prototype.eachRendered=function(Wr){Co(this._progressiveEls||this.group,Wr)},Gr.prototype._updateDrawMode=function(Wr){var Zr=Wr.pipelineContext.large;(this._isLargeDraw==null||Zr!==this._isLargeDraw)&&(this._isLargeDraw=Zr,this._clear())},Gr.prototype._renderNormal=function(Wr,Zr,Kr,Jr){var Qr=this.group,ti=Wr.getData(),ei=this._data,ri=Wr.coordinateSystem,ii=ri.getBaseAxis(),ni;ri.type==="cartesian2d"?ni=ii.isHorizontal():ri.type==="polar"&&(ni=ii.dim==="angle");var ai=Wr.isAnimationEnabled()?Wr:null,oi=tj(Wr,ri);oi&&this._enableRealtimeSort(oi,ti,Kr);var si=Wr.get("clip",!0)||oi,li=JZ(ri,ti);Qr.removeClipPath();var ui=Wr.get("roundCap",!0),fi=Wr.get("showBackground",!0),hi=Wr.getModel("backgroundStyle"),ci=hi.get("borderRadius")||0,pi=[],di=this._backgroundEls,vi=Jr&&Jr.isInitSort,mi=Jr&&Jr.type==="changeAxisOrder";function gi(bi){var Ti=dx[ri.type](ti,bi),Ai=sj(ri,ni,Ti);return Ai.useStyle(hi.getItemStyle()),ri.type==="cartesian2d"?Ai.setShape("r",ci):Ai.setShape("cornerRadius",ci),pi[bi]=Ai,Ai}ti.diff(ei).add(function(bi){var Ti=ti.getItemModel(bi),Ai=dx[ri.type](ti,bi,Ti);if(fi&&gi(bi),!(!ti.hasValue(bi)||!iN[ri.type](Ai))){var Ei=!1;si&&(Ei=Qz[ri.type](li,Ai));var Mi=tN[ri.type](Wr,ti,bi,Ai,ni,ai,ii.model,!1,ui);oi&&(Mi.forceLabelAnimation=!0),nN(Mi,ti,bi,Ti,Ai,Wr,ni,ri.type==="polar"),vi?Mi.attr({shape:Ai}):oi?eN(oi,ai,Mi,Ai,bi,ni,!1,!1):Ln(Mi,{shape:Ai},Wr,bi),ti.setItemGraphicEl(bi,Mi),Qr.add(Mi),Mi.ignore=Ei}}).update(function(bi,Ti){var Ai=ti.getItemModel(bi),Ei=dx[ri.type](ti,bi,Ai);if(fi){var Mi=void 0;di.length===0?Mi=gi(Ti):(Mi=di[Ti],Mi.useStyle(hi.getItemStyle()),ri.type==="cartesian2d"?Mi.setShape("r",ci):Mi.setShape("cornerRadius",ci),pi[bi]=Mi);var wi=dx[ri.type](ti,bi),Pi=uN(ni,wi,ri);bn(Mi,{shape:Pi},ai,bi)}var xi=ei.getItemGraphicEl(Ti);if(!ti.hasValue(bi)||!iN[ri.type](Ei)){Qr.remove(xi);return}var Ci=!1;if(si&&(Ci=Qz[ri.type](li,Ei),Ci&&Qr.remove(xi)),xi?La(xi):xi=tN[ri.type](Wr,ti,bi,Ei,ni,ai,ii.model,!!xi,ui),oi&&(xi.forceLabelAnimation=!0),mi){var Li=xi.getTextContent();if(Li){var Ii=mu(Li);Ii.prevValue!=null&&(Ii.prevValue=Ii.value)}}else nN(xi,ti,bi,Ai,Ei,Wr,ni,ri.type==="polar");vi?xi.attr({shape:Ei}):oi?eN(oi,ai,xi,Ei,bi,ni,!0,mi):bn(xi,{shape:Ei},Wr,bi,null),ti.setItemGraphicEl(bi,xi),xi.ignore=Ci,Qr.add(xi)}).remove(function(bi){var Ti=ei.getItemGraphicEl(bi);Ti&&cu(Ti,Wr,bi)}).execute();var yi=this._backgroundGroup||(this._backgroundGroup=new Zi);yi.removeAll();for(var Si=0;Si<pi.length;++Si)yi.add(pi[Si]);Qr.add(yi),this._backgroundEls=pi,this._data=ti},Gr.prototype._renderLarge=function(Wr,Zr,Kr){this._clear(),oN(Wr,this.group),this._updateLargeClip(Wr)},Gr.prototype._incrementalRenderLarge=function(Wr,Zr){this._removeBackground(),oN(Zr,this.group,this._progressiveEls,!0)},Gr.prototype._updateLargeClip=function(Wr){var Zr=Wr.get("clip",!0)&&Gl(Wr.coordinateSystem,!1,Wr),Kr=this.group;Zr?Kr.setClipPath(Zr):Kr.removeClipPath()},Gr.prototype._enableRealtimeSort=function(Wr,Zr,Kr){var Jr=this;if(Zr.count()){var Qr=Wr.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(Zr,Wr,Kr),this._isFirstFrame=!1;else{var ti=function(ei){var ri=Zr.getItemGraphicEl(ei),ii=ri&&ri.shape;return ii&&Math.abs(Qr.isHorizontal()?ii.height:ii.width)||0};this._onRendered=function(){Jr._updateSortWithinSameData(Zr,ti,Qr,Kr)},Kr.getZr().on("rendered",this._onRendered)}}},Gr.prototype._dataSort=function(Wr,Zr,Kr){var Jr=[];return Wr.each(Wr.mapDimension(Zr.dim),function(Qr,ti){var ei=Kr(ti);ei=ei??NaN,Jr.push({dataIndex:ti,mappedValue:ei,ordinalNumber:Qr})}),Jr.sort(function(Qr,ti){return ti.mappedValue-Qr.mappedValue}),{ordinalNumbers:Oi(Jr,function(Qr){return Qr.ordinalNumber})}},Gr.prototype._isOrderChangedWithinSameData=function(Wr,Zr,Kr){for(var Jr=Kr.scale,Qr=Wr.mapDimension(Kr.dim),ti=Number.MAX_VALUE,ei=0,ri=Jr.getOrdinalMeta().categories.length;ei<ri;++ei){var ii=Wr.rawIndexOf(Qr,Jr.getRawOrdinalNumber(ei)),ni=ii<0?Number.MIN_VALUE:Zr(Wr.indexOfRawIndex(ii));if(ni>ti)return!0;ti=ni}return!1},Gr.prototype._isOrderDifferentInView=function(Wr,Zr){for(var Kr=Zr.scale,Jr=Kr.getExtent(),Qr=Math.max(0,Jr[0]),ti=Math.min(Jr[1],Kr.getOrdinalMeta().categories.length-1);Qr<=ti;++Qr)if(Wr.ordinalNumbers[Qr]!==Kr.getRawOrdinalNumber(Qr))return!0},Gr.prototype._updateSortWithinSameData=function(Wr,Zr,Kr,Jr){if(this._isOrderChangedWithinSameData(Wr,Zr,Kr)){var Qr=this._dataSort(Wr,Kr,Zr);this._isOrderDifferentInView(Qr,Kr)&&(this._removeOnRenderedListener(Jr),Jr.dispatchAction({type:"changeAxisOrder",componentType:Kr.dim+"Axis",axisId:Kr.index,sortInfo:Qr}))}},Gr.prototype._dispatchInitSort=function(Wr,Zr,Kr){var Jr=Zr.baseAxis,Qr=this._dataSort(Wr,Jr,function(ti){return Wr.get(Wr.mapDimension(Zr.otherAxis.dim),ti)});Kr.dispatchAction({type:"changeAxisOrder",componentType:Jr.dim+"Axis",isInitSort:!0,axisId:Jr.index,sortInfo:Qr})},Gr.prototype.remove=function(Wr,Zr){this._clear(this._model),this._removeOnRenderedListener(Zr)},Gr.prototype.dispose=function(Wr,Zr){this._removeOnRenderedListener(Zr)},Gr.prototype._removeOnRenderedListener=function(Wr){this._onRendered&&(Wr.getZr().off("rendered",this._onRendered),this._onRendered=null)},Gr.prototype._clear=function(Wr){var Zr=this.group,Kr=this._data;Wr&&Wr.isAnimationEnabled()&&Kr&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],Kr.eachItemGraphicEl(function(Jr){cu(Jr,Wr,Qi(Jr).dataIndex)})):Zr.removeAll(),this._data=null,this._isFirstFrame=!0},Gr.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},Gr.type="bar",Gr}(An),Qz={cartesian2d:function(Yr,Gr){var Wr=Gr.width<0?-1:1,Zr=Gr.height<0?-1:1;Wr<0&&(Gr.x+=Gr.width,Gr.width=-Gr.width),Zr<0&&(Gr.y+=Gr.height,Gr.height=-Gr.height);var Kr=Yr.x+Yr.width,Jr=Yr.y+Yr.height,Qr=EC(Gr.x,Yr.x),ti=DC(Gr.x+Gr.width,Kr),ei=EC(Gr.y,Yr.y),ri=DC(Gr.y+Gr.height,Jr),ii=ti<Qr,ni=ri<ei;return Gr.x=ii&&Qr>Kr?ti:Qr,Gr.y=ni&&ei>Jr?ri:ei,Gr.width=ii?0:ti-Qr,Gr.height=ni?0:ri-ei,Wr<0&&(Gr.x+=Gr.width,Gr.width=-Gr.width),Zr<0&&(Gr.y+=Gr.height,Gr.height=-Gr.height),ii||ni},polar:function(Yr,Gr){var Wr=Gr.r0<=Gr.r?1:-1;if(Wr<0){var Zr=Gr.r;Gr.r=Gr.r0,Gr.r0=Zr}var Kr=DC(Gr.r,Yr.r),Jr=EC(Gr.r0,Yr.r0);Gr.r=Kr,Gr.r0=Jr;var Qr=Kr-Jr<0;if(Wr<0){var Zr=Gr.r;Gr.r=Gr.r0,Gr.r0=Zr}return Qr}},tN={cartesian2d:function(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=new mn({shape:ki({},Zr),z2:1});if(ri.__dataIndex=Wr,ri.name="item",Jr){var ii=ri.shape,ni=Kr?"height":"width";ii[ni]=0}return ri},polar:function(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=!Kr&&ei?_p:Sa,ii=new ri({shape:Zr,z2:1});ii.name="item";var ni=lN(Kr);if(ii.calculateTextPosition=$z(ni,{isRoundCap:ri===_p}),Jr){var ai=ii.shape,oi=Kr?"r":"endAngle",si={};ai[oi]=Kr?Zr.r0:Zr.startAngle,si[oi]=Zr[oi],(ti?bn:Ln)(ii,{shape:si},Jr)}return ii}};function tj(Yr,Gr){var Wr=Yr.get("realtimeSort",!0),Zr=Gr.getBaseAxis();if(Wr&&Zr.type==="category"&&Gr.type==="cartesian2d")return{baseAxis:Zr,otherAxis:Gr.getOtherAxis(Zr)}}function eN(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei,ri;Jr?(ri={x:Zr.x,width:Zr.width},ei={y:Zr.y,height:Zr.height}):(ri={y:Zr.y,height:Zr.height},ei={x:Zr.x,width:Zr.width}),ti||(Qr?bn:Ln)(Wr,{shape:ei},Gr,Kr,null);var ii=Gr?Yr.baseAxis.model:null;(Qr?bn:Ln)(Wr,{shape:ri},ii,Kr)}function rN(Yr,Gr){for(var Wr=0;Wr<Gr.length;Wr++)if(!isFinite(Yr[Gr[Wr]]))return!0;return!1}var ej=["x","y","width","height"],rj=["cx","cy","r","startAngle","endAngle"],iN={cartesian2d:function(Yr){return!rN(Yr,ej)},polar:function(Yr){return!rN(Yr,rj)}},dx={cartesian2d:function(Yr,Gr,Wr){var Zr=Yr.getItemLayout(Gr),Kr=Wr?nj(Wr,Zr):0,Jr=Zr.width>0?1:-1,Qr=Zr.height>0?1:-1;return{x:Zr.x+Jr*Kr/2,y:Zr.y+Qr*Kr/2,width:Zr.width-Jr*Kr,height:Zr.height-Qr*Kr}},polar:function(Yr,Gr,Wr){var Zr=Yr.getItemLayout(Gr);return{cx:Zr.cx,cy:Zr.cy,r0:Zr.r0,r:Zr.r,startAngle:Zr.startAngle,endAngle:Zr.endAngle,clockwise:Zr.clockwise}}};function ij(Yr){return Yr.startAngle!=null&&Yr.endAngle!=null&&Yr.startAngle===Yr.endAngle}function lN(Yr){return function(Gr){var Wr=Gr?"Arc":"Angle";return function(Zr){switch(Zr){case"start":case"insideStart":case"end":case"insideEnd":return Zr+Wr;default:return Zr}}}(Yr)}function nN(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Gr.getItemVisual(Wr,"style");if(ti){if(!Jr.get("roundCap")){var ii=Yr.shape,ni=Hl(Zr.getModel("itemStyle"),ii,!0);ki(ii,ni),Yr.setShape(ii)}}else{var ri=Zr.get(["itemStyle","borderRadius"])||0;Yr.setShape("r",ri)}Yr.useStyle(ei);var ai=Zr.getShallow("cursor");ai&&Yr.attr("cursor",ai);var oi=ti?Qr?Kr.r>=Kr.r0?"endArc":"startArc":Kr.endAngle>=Kr.startAngle?"endAngle":"startAngle":Qr?Kr.height>=0?"bottom":"top":Kr.width>=0?"right":"left",si=Hn(Zr);jn(Yr,si,{labelFetcher:Jr,labelDataIndex:Wr,defaultText:vl(Jr.getData(),Wr),inheritColor:ei.fill,defaultOpacity:ei.opacity,defaultOutsidePosition:oi});var li=Yr.getTextContent();if(ti&&li){var ui=Zr.get(["label","position"]);Yr.textConfig.inside=ui==="middle"?!0:null,Jz(Yr,ui==="outside"?oi:ui,lN(Qr),Zr.get(["label","rotate"]))}Dy(li,si,Jr.getRawValue(Wr),function(hi){return lx(Gr,hi)});var fi=Zr.getModel(["emphasis"]);In(Yr,fi.get("focus"),fi.get("blurScope"),fi.get("disabled")),ia(Yr,Zr),ij(Kr)&&(Yr.style.fill="none",Yr.style.stroke="none",_i(Yr.states,function(hi){hi.style&&(hi.style.fill=hi.style.stroke="none")}))}function nj(Yr,Gr){var Wr=Yr.get(["itemStyle","borderColor"]);if(!Wr||Wr==="none")return 0;var Zr=Yr.get(["itemStyle","borderWidth"])||0,Kr=isNaN(Gr.width)?Number.MAX_VALUE:Math.abs(Gr.width),Jr=isNaN(Gr.height)?Number.MAX_VALUE:Math.abs(Gr.height);return Math.min(Zr,Kr,Jr)}var aj=function(){function Yr(){}return Yr}(),aN=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="largeBar",Zr}return Gr.prototype.getDefaultShape=function(){return new aj},Gr.prototype.buildPath=function(Wr,Zr){for(var Kr=Zr.points,Jr=this.baseDimIdx,Qr=1-this.baseDimIdx,ti=[],ei=[],ri=this.barWidth,ii=0;ii<Kr.length;ii+=3)ei[Jr]=ri,ei[Qr]=Kr[ii+2],ti[Jr]=Kr[ii+Jr],ti[Qr]=Kr[ii+Qr],Wr.rect(ti[0],ti[1],ei[0],ei[1])},Gr}(an);function oN(Yr,Gr,Wr,Zr){var Kr=Yr.getData(),Jr=Kr.getLayout("valueAxisHorizontal")?1:0,Qr=Kr.getLayout("largeDataIndices"),ti=Kr.getLayout("size"),ei=Yr.getModel("backgroundStyle"),ri=Kr.getLayout("largeBackgroundPoints");if(ri){var ii=new aN({shape:{points:ri},incremental:!!Zr,silent:!0,z2:0});ii.baseDimIdx=Jr,ii.largeDataIndices=Qr,ii.barWidth=ti,ii.useStyle(ei.getItemStyle()),Gr.add(ii),Wr&&Wr.push(ii)}var ni=new aN({shape:{points:Kr.getLayout("largePoints")},incremental:!!Zr,ignoreCoarsePointer:!0,z2:1});ni.baseDimIdx=Jr,ni.largeDataIndices=Qr,ni.barWidth=ti,Gr.add(ni),ni.useStyle(Kr.getVisual("style")),Qi(ni).seriesIndex=Yr.seriesIndex,Yr.get("silent")||(ni.on("mousedown",sN),ni.on("mousemove",sN)),Wr&&Wr.push(ni)}var sN=Tv(function(Yr){var Gr=this,Wr=oj(Gr,Yr.offsetX,Yr.offsetY);Qi(Gr).dataIndex=Wr>=0?Wr:null},30,!1);function oj(Yr,Gr,Wr){for(var Zr=Yr.baseDimIdx,Kr=1-Zr,Jr=Yr.shape.points,Qr=Yr.largeDataIndices,ti=[],ei=[],ri=Yr.barWidth,ii=0,ni=Jr.length/3;ii<ni;ii++){var ai=ii*3;if(ei[Zr]=ri,ei[Kr]=Jr[ai+2],ti[Zr]=Jr[ai+Zr],ti[Kr]=Jr[ai+Kr],ei[Kr]<0&&(ti[Kr]+=ei[Kr],ei[Kr]=-ei[Kr]),Gr>=ti[0]&&Gr<=ti[0]+ei[0]&&Wr>=ti[1]&&Wr<=ti[1]+ei[1])return Qr[ii]}return-1}function uN(Yr,Gr,Wr){if(zs(Wr,"cartesian2d")){var Zr=Gr,Kr=Wr.getArea();return{x:Yr?Zr.x:Kr.x,y:Yr?Kr.y:Zr.y,width:Yr?Zr.width:Kr.width,height:Yr?Kr.height:Zr.height}}else{var Kr=Wr.getArea(),Jr=Gr;return{cx:Kr.cx,cy:Kr.cy,r0:Yr?Kr.r0:Jr.r0,r:Yr?Kr.r:Jr.r,startAngle:Yr?Jr.startAngle:0,endAngle:Yr?Jr.endAngle:Math.PI*2}}}function sj(Yr,Gr,Wr){var Zr=Yr.type==="polar"?Sa:mn;return new Zr({shape:uN(Gr,Wr,Yr),silent:!0,z2:0})}var fN=QZ;function IC(Yr){Yr.registerChartView(fN),Yr.registerSeriesModel(Kz),Yr.registerLayout(Yr.PRIORITY.VISUAL.LAYOUT,en(O0,"bar")),Yr.registerLayout(Yr.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,z0("bar")),Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.STATISTIC,tm("bar")),Yr.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(Gr,Wr){var Zr=Gr.componentType||"series";Wr.eachComponent({mainType:Zr,query:Gr},function(Kr){Gr.sortInfo&&Kr.axis.setCategorySortInfo(Gr.sortInfo)})})}var hN=Math.PI*2,vx=Math.PI/180;function cN(Yr,Gr){return Vn(Yr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function LC(Yr,Gr){var Wr=cN(Yr,Gr),Zr=Yr.get("center"),Kr=Yr.get("radius");Ri(Kr)||(Kr=[0,Kr]);var Jr=Ui(Wr.width,Gr.getWidth()),Qr=Ui(Wr.height,Gr.getHeight()),ti=Math.min(Jr,Qr),ei=Ui(Kr[0],ti/2),ri=Ui(Kr[1],ti/2),ii,ni,ai=Yr.coordinateSystem;if(ai){var oi=ai.dataToPoint(Zr);ii=oi[0]||0,ni=oi[1]||0}else Ri(Zr)||(Zr=[Zr,Zr]),ii=Ui(Zr[0],Jr)+Wr.x,ni=Ui(Zr[1],Qr)+Wr.y;return{cx:ii,cy:ni,r0:ei,r:ri}}function kC(Yr,Gr,Wr){Gr.eachSeriesByType(Yr,function(Zr){var Kr=Zr.getData(),Jr=Kr.mapDimension("value"),Qr=cN(Zr,Wr),ti=LC(Zr,Wr),ei=ti.cx,ri=ti.cy,ii=ti.r,ni=ti.r0,ai=-Zr.get("startAngle")*vx,oi=Zr.get("endAngle"),si=Zr.get("padAngle")*vx;oi=oi==="auto"?ai-hN:-oi*vx;var li=Zr.get("minAngle")*vx,ui=li+si,fi=0;Kr.each(Jr,function(wi){!isNaN(wi)&&fi++});var hi=Kr.getSum(Jr),ci=Math.PI/(hi||fi)*2,pi=Zr.get("clockwise"),di=Zr.get("roseType"),vi=Zr.get("stillShowZeroSum"),mi=Kr.getDataExtent(Jr);mi[0]=0;var gi=pi?1:-1,yi=[ai,oi],Si=gi*si/2;qd(yi,!pi),ai=yi[0],oi=yi[1];var bi=Math.abs(oi-ai),Ti=bi,Ai=0,Ei=ai;if(Kr.setLayout({viewRect:Qr,r:ii}),Kr.each(Jr,function(wi,Pi){var xi;if(isNaN(wi)){Kr.setItemLayout(Pi,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:pi,cx:ei,cy:ri,r0:ni,r:di?NaN:ii});return}di!=="area"?xi=hi===0&&vi?ci:wi*ci:xi=bi/fi,xi<ui?(xi=ui,Ti-=ui):Ai+=wi;var Ci=Ei+gi*xi,Li=0,Ii=0;si>xi?(Li=Ei+gi*xi/2,Ii=Li):(Li=Ei+Si,Ii=Ci-Si),Kr.setItemLayout(Pi,{angle:xi,startAngle:Li,endAngle:Ii,clockwise:pi,cx:ei,cy:ri,r0:ni,r:di?kn(wi,mi,[ni,ii]):ii}),Ei=Ci}),Ti<hN&&fi)if(Ti<=.001){var Mi=bi/fi;Kr.each(Jr,function(wi,Pi){if(!isNaN(wi)){var xi=Kr.getItemLayout(Pi);xi.angle=Mi;var Ci=0,Li=0;Mi<si?(Ci=ai+gi*(Pi+1/2)*Mi,Li=Ci):(Ci=ai+gi*Pi*Mi+Si,Li=ai+gi*(Pi+1)*Mi-Si),xi.startAngle=Ci,xi.endAngle=Li}})}else ci=Ti/Ai,Ei=ai,Kr.each(Jr,function(wi,Pi){if(!isNaN(wi)){var xi=Kr.getItemLayout(Pi),Ci=xi.angle===ui?ui:wi*ci,Li=0,Ii=0;Ci<si?(Li=Ei+gi*Ci/2,Ii=Li):(Li=Ei+Si,Ii=Ei+gi*Ci-Si),xi.startAngle=Li,xi.endAngle=Ii,Ei+=gi*Ci}})})}function gl(Yr){return{seriesType:Yr,reset:function(Gr,Wr){var Zr=Wr.findComponents({mainType:"legend"});if(!(!Zr||!Zr.length)){var Kr=Gr.getData();Kr.filterSelf(function(Jr){for(var Qr=Kr.getName(Jr),ti=0;ti<Zr.length;ti++)if(!Zr[ti].isSelected(Qr))return!1;return!0})}}}}var lj=Math.PI/180;function pN(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){if(Yr.length<2)return;function ii(li){for(var ui=li.rB,fi=ui*ui,hi=0;hi<li.list.length;hi++){var ci=li.list[hi],pi=Math.abs(ci.label.y-Wr),di=Zr+ci.len,vi=di*di,mi=Math.sqrt((1-Math.abs(pi*pi/fi))*vi),gi=Gr+(mi+ci.len2)*Kr,yi=gi-ci.label.x,Si=ci.targetTextWidth-yi*Kr;dN(ci,Si,!0),ci.label.x=gi}}function ni(li){for(var ui={list:[],maxY:0},fi={list:[],maxY:0},hi=0;hi<li.length;hi++)if(li[hi].labelAlignTo==="none"){var ci=li[hi],pi=ci.label.y>Wr?fi:ui,di=Math.abs(ci.label.y-Wr);if(di>=pi.maxY){var vi=ci.label.x-Gr-ci.len2*Kr,mi=Zr+ci.len,gi=Math.abs(vi)<mi?Math.sqrt(di*di/(1-vi*vi/mi/mi)):mi;pi.rB=gi,pi.maxY=di}pi.list.push(ci)}ii(ui),ii(fi)}for(var ai=Yr.length,oi=0;oi<ai;oi++)if(Yr[oi].position==="outer"&&Yr[oi].labelAlignTo==="labelLine"){var si=Yr[oi].label.x-ri;Yr[oi].linePoints[1][0]+=si,Yr[oi].label.x=ri}K0(Yr,ei,ei+Qr)&&ni(Yr)}function uj(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){for(var ei=[],ri=[],ii=Number.MAX_VALUE,ni=-Number.MAX_VALUE,ai=0;ai<Yr.length;ai++){var oi=Yr[ai].label;RC(Yr[ai])||(oi.x<Gr?(ii=Math.min(ii,oi.x),ei.push(Yr[ai])):(ni=Math.max(ni,oi.x),ri.push(Yr[ai])))}for(var ai=0;ai<Yr.length;ai++){var si=Yr[ai];if(!RC(si)&&si.linePoints){if(si.labelStyleWidth!=null)continue;var oi=si.label,li=si.linePoints,ui=void 0;si.labelAlignTo==="edge"?oi.x<Gr?ui=li[2][0]-si.labelDistance-Qr-si.edgeDistance:ui=Qr+Kr-si.edgeDistance-li[2][0]-si.labelDistance:si.labelAlignTo==="labelLine"?oi.x<Gr?ui=ii-Qr-si.bleedMargin:ui=Qr+Kr-ni-si.bleedMargin:oi.x<Gr?ui=oi.x-Qr-si.bleedMargin:ui=Qr+Kr-oi.x-si.bleedMargin,si.targetTextWidth=ui,dN(si,ui)}}pN(ri,Gr,Wr,Zr,1,Kr,Jr,Qr,ti,ni),pN(ei,Gr,Wr,Zr,-1,Kr,Jr,Qr,ti,ii);for(var ai=0;ai<Yr.length;ai++){var si=Yr[ai];if(!RC(si)&&si.linePoints){var oi=si.label,li=si.linePoints,fi=si.labelAlignTo==="edge",hi=oi.style.padding,ci=hi?hi[1]+hi[3]:0,pi=oi.style.backgroundColor?0:ci,di=si.rect.width+pi,vi=li[1][0]-li[2][0];fi?oi.x<Gr?li[2][0]=Qr+si.edgeDistance+di+si.labelDistance:li[2][0]=Qr+Kr-si.edgeDistance-di-si.labelDistance:(oi.x<Gr?li[2][0]=oi.x+si.labelDistance:li[2][0]=oi.x-si.labelDistance,li[1][0]=li[2][0]+vi),li[1][1]=li[2][1]=oi.y}}}function dN(Yr,Gr,Wr){if(Wr===void 0&&(Wr=!1),Yr.labelStyleWidth==null){var Zr=Yr.label,Kr=Zr.style,Jr=Yr.rect,Qr=Kr.backgroundColor,ti=Kr.padding,ei=ti?ti[1]+ti[3]:0,ri=Kr.overflow,ii=Jr.width+(Qr?0:ei);if(Gr<ii||Wr){var ni=Jr.height;if(ri&&ri.match("break")){Zr.setStyle("backgroundColor",null),Zr.setStyle("width",Gr-ei);var ai=Zr.getBoundingRect();Zr.setStyle("width",Math.ceil(ai.width)),Zr.setStyle("backgroundColor",Qr)}else{var oi=Gr-ei,si=Gr<ii?oi:Wr?oi>Yr.unconstrainedWidth?null:oi:null;Zr.setStyle("width",si)}var li=Zr.getBoundingRect();Jr.width=li.width;var ui=(Zr.style.margin||0)+2.1;Jr.height=li.height+ui,Jr.y-=(Jr.height-ni)/2}}}function RC(Yr){return Yr.position==="center"}function OC(Yr){var Gr=Yr.getData(),Wr=[],Zr,Kr,Jr=!1,Qr=(Yr.get("minShowLabelAngle")||0)*lj,ti=Gr.getLayout("viewRect"),ei=Gr.getLayout("r"),ri=ti.width,ii=ti.x,ni=ti.y,ai=ti.height;function oi(vi){vi.ignore=!0}function si(vi){if(!vi.ignore)return!0;for(var mi in vi.states)if(vi.states[mi].ignore===!1)return!0;return!1}Gr.each(function(vi){var mi=Gr.getItemGraphicEl(vi),gi=mi.shape,yi=mi.getTextContent(),Si=mi.getTextGuideLine(),bi=Gr.getItemModel(vi),Ti=bi.getModel("label"),Ai=Ti.get("position")||bi.get(["emphasis","label","position"]),Ei=Ti.get("distanceToLabelLine"),Mi=Ti.get("alignTo"),wi=Ui(Ti.get("edgeDistance"),ri),Pi=Ti.get("bleedMargin"),xi=bi.getModel("labelLine"),Ci=xi.get("length");Ci=Ui(Ci,ri);var Li=xi.get("length2");if(Li=Ui(Li,ri),Math.abs(gi.endAngle-gi.startAngle)<Qr){_i(yi.states,oi),yi.ignore=!0,Si&&(_i(Si.states,oi),Si.ignore=!0);return}if(si(yi)){var Ii=(gi.startAngle+gi.endAngle)/2,zi=Math.cos(Ii),Bi=Math.sin(Ii),Vi,ji,tn,hn;Zr=gi.cx,Kr=gi.cy;var nn=Ai==="inside"||Ai==="inner";if(Ai==="center")Vi=gi.cx,ji=gi.cy,hn="center";else{var dn=(nn?(gi.r+gi.r0)/2*zi:gi.r*zi)+Zr,cn=(nn?(gi.r+gi.r0)/2*Bi:gi.r*Bi)+Kr;if(Vi=dn+zi*3,ji=cn+Bi*3,!nn){var Ji=dn+zi*(Ci+ei-gi.r),vn=cn+Bi*(Ci+ei-gi.r),pn=Ji+(zi<0?-1:1)*Li,Xi=vn;Mi==="edge"?Vi=zi<0?ii+wi:ii+ri-wi:Vi=pn+(zi<0?-Ei:Ei),ji=Xi,tn=[[dn,cn],[Ji,vn],[pn,Xi]]}hn=nn?"center":Mi==="edge"?zi>0?"right":"left":zi>0?"left":"right"}var Nn=Math.PI,Wn=0,Fn=Ti.get("rotate");if(gn(Fn))Wn=Fn*(Nn/180);else if(Ai==="center")Wn=0;else if(Fn==="radial"||Fn===!0){var Qn=zi<0?-Ii+Nn:-Ii;Wn=Qn}else if(Fn==="tangential"&&Ai!=="outside"&&Ai!=="outer"){var $n=Math.atan2(zi,Bi);$n<0&&($n=Nn*2+$n);var $a=Bi>0;$a&&($n=Nn+$n),Wn=$n-Nn}if(Jr=!!Wn,yi.x=Vi,yi.y=ji,yi.rotation=Wn,yi.setStyle({verticalAlign:"middle"}),nn){yi.setStyle({align:hn});var gs=yi.states.select;gs&&(gs.x+=yi.x,gs.y+=yi.y)}else{var xa=yi.getBoundingRect().clone();xa.applyTransform(yi.getComputedTransform());var Ys=(yi.style.margin||0)+2.1;xa.y-=Ys/2,xa.height+=Ys,Wr.push({label:yi,labelLine:Si,position:Ai,len:Ci,len2:Li,minTurnAngle:xi.get("minTurnAngle"),maxSurfaceAngle:xi.get("maxSurfaceAngle"),surfaceNormal:new wn(zi,Bi),linePoints:tn,textAlign:hn,labelDistance:Ei,labelAlignTo:Mi,edgeDistance:wi,bleedMargin:Pi,rect:xa,unconstrainedWidth:xa.width,labelStyleWidth:yi.style.width})}mi.setTextConfig({inside:nn})}}),!Jr&&Yr.get("avoidLabelOverlap")&&uj(Wr,Zr,Kr,ei,ri,ai,ii,ni);for(var li=0;li<Wr.length;li++){var ui=Wr[li],fi=ui.label,hi=ui.labelLine,ci=isNaN(fi.x)||isNaN(fi.y);if(fi){fi.setStyle({align:ui.textAlign}),ci&&(_i(fi.states,oi),fi.ignore=!0);var pi=fi.states.select;pi&&(pi.x+=fi.x,pi.y+=fi.y)}if(hi){var di=ui.linePoints;ci||!di?(_i(hi.states,oi),hi.ignore=!0):(Kw(di,ui.minTurnAngle),lz(di,ui.surfaceNormal,ui.maxSurfaceAngle),hi.setShape({points:di}),fi.__hostTarget.textGuideLineConfig={anchor:new wn(di[0][0],di[0][1])})}}}var fj=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this)||this;Jr.z2=2;var Qr=new xn;return Jr.setTextContent(Qr),Jr.updateData(Wr,Zr,Kr,!0),Jr}return Gr.prototype.updateData=function(Wr,Zr,Kr,Jr){var Qr=this,ti=Wr.hostModel,ei=Wr.getItemModel(Zr),ri=ei.getModel("emphasis"),ii=Wr.getItemLayout(Zr),ni=ki(Hl(ei.getModel("itemStyle"),ii,!0),ii);if(isNaN(ni.startAngle)){Qr.setShape(ni);return}if(Jr){Qr.setShape(ni);var ai=ti.getShallow("animationType");ti.ecModel.ssr?(Ln(Qr,{scaleX:0,scaleY:0},ti,{dataIndex:Zr,isFrom:!0}),Qr.originX=ni.cx,Qr.originY=ni.cy):ai==="scale"?(Qr.shape.r=ii.r0,Ln(Qr,{shape:{r:ii.r}},ti,Zr)):Kr!=null?(Qr.setShape({startAngle:Kr,endAngle:Kr}),Ln(Qr,{shape:{startAngle:ii.startAngle,endAngle:ii.endAngle}},ti,Zr)):(Qr.shape.endAngle=ii.startAngle,bn(Qr,{shape:{endAngle:ii.endAngle}},ti,Zr))}else La(Qr),bn(Qr,{shape:ni},ti,Zr);Qr.useStyle(Wr.getItemVisual(Zr,"style")),ia(Qr,ei);var oi=(ii.startAngle+ii.endAngle)/2,si=ti.get("selectedOffset"),li=Math.cos(oi)*si,ui=Math.sin(oi)*si,fi=ei.getShallow("cursor");fi&&Qr.attr("cursor",fi),this._updateLabel(ti,Wr,Zr),Qr.ensureState("emphasis").shape=ki({r:ii.r+(ri.get("scale")&&ri.get("scaleSize")||0)},Hl(ri.getModel("itemStyle"),ii)),ki(Qr.ensureState("select"),{x:li,y:ui,shape:Hl(ei.getModel(["select","itemStyle"]),ii)}),ki(Qr.ensureState("blur"),{shape:Hl(ei.getModel(["blur","itemStyle"]),ii)});var hi=Qr.getTextGuideLine(),ci=Qr.getTextContent();hi&&ki(hi.ensureState("select"),{x:li,y:ui}),ki(ci.ensureState("select"),{x:li,y:ui}),In(this,ri.get("focus"),ri.get("blurScope"),ri.get("disabled"))},Gr.prototype._updateLabel=function(Wr,Zr,Kr){var Jr=this,Qr=Zr.getItemModel(Kr),ti=Qr.getModel("labelLine"),ei=Zr.getItemVisual(Kr,"style"),ri=ei&&ei.fill,ii=ei&&ei.opacity;jn(Jr,Hn(Qr),{labelFetcher:Zr.hostModel,labelDataIndex:Kr,inheritColor:ri,defaultOpacity:ii,defaultText:Wr.getFormattedLabel(Kr,"normal")||Zr.getName(Kr)});var ni=Jr.getTextContent();Jr.setTextConfig({position:null,rotation:null}),ni.attr({z2:10});var ai=Wr.get(["label","position"]);if(ai!=="outside"&&ai!=="outer")Jr.removeTextGuideLine();else{var oi=this.getTextGuideLine();oi||(oi=new la,this.setTextGuideLine(oi)),mp(this,gp(Qr),{stroke:ri,opacity:Fa(ti.get(["lineStyle","opacity"]),ii,1)})}},Gr}(Sa),hj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.ignoreLabelLineUpdate=!0,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){var Qr=Wr.getData(),ti=this._data,ei=this.group,ri;if(!ti&&Qr.count()>0){for(var ii=Qr.getItemLayout(0),ni=1;isNaN(ii&&ii.startAngle)&&ni<Qr.count();++ni)ii=Qr.getItemLayout(ni);ii&&(ri=ii.startAngle)}if(this._emptyCircleSector&&ei.remove(this._emptyCircleSector),Qr.count()===0&&Wr.get("showEmptyCircle")){var ai=new Sa({shape:LC(Wr,Kr)});ai.useStyle(Wr.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=ai,ei.add(ai)}Qr.diff(ti).add(function(oi){var si=new fj(Qr,oi,ri);Qr.setItemGraphicEl(oi,si),ei.add(si)}).update(function(oi,si){var li=ti.getItemGraphicEl(si);li.updateData(Qr,oi,ri),li.off("click"),ei.add(li),Qr.setItemGraphicEl(oi,li)}).remove(function(oi){var si=ti.getItemGraphicEl(oi);cu(si,Wr,oi)}).execute(),OC(Wr),Wr.get("animationTypeUpdate")!=="expansion"&&(this._data=Qr)},Gr.prototype.dispose=function(){},Gr.prototype.containPoint=function(Wr,Zr){var Kr=Zr.getData(),Jr=Kr.getItemLayout(0);if(Jr){var Qr=Wr[0]-Jr.cx,ti=Wr[1]-Jr.cy,ei=Math.sqrt(Qr*Qr+ti*ti);return ei<=Jr.r&&ei>=Jr.r0}},Gr.type="pie",Gr}(An),vN=hj;function vs(Yr,Gr,Wr){Gr=Ri(Gr)&&{coordDimensions:Gr}||ki({encodeDefine:Yr.getEncode()},Gr);var Zr=Yr.getSource(),Kr=hl(Zr,Gr).dimensions,Jr=new ha(Kr,Yr);return Jr.initData(Zr,Wr),Jr}var cj=function(){function Yr(Gr,Wr){this._getDataWithEncodedVisual=Gr,this._getRawData=Wr}return Yr.prototype.getAllNames=function(){var Gr=this._getRawData();return Gr.mapArray(Gr.getName)},Yr.prototype.containName=function(Gr){var Wr=this._getRawData();return Wr.indexOfName(Gr)>=0},Yr.prototype.indexOfName=function(Gr){var Wr=this._getDataWithEncodedVisual();return Wr.indexOfName(Gr)},Yr.prototype.getItemVisual=function(Gr,Wr){var Zr=this._getDataWithEncodedVisual();return Zr.getItemVisual(Gr,Wr)},Yr}(),Wl=cj;var pj=ln(),dj=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.init=function(Wr){Yr.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wl(Gi(this.getData,this),Gi(this.getRawData,this)),this._defaultLabelLine(Wr)},Gr.prototype.mergeOption=function(){Yr.prototype.mergeOption.apply(this,arguments)},Gr.prototype.getInitialData=function(){return vs(this,{coordDimensions:["value"],encodeDefaulter:en(ap,this)})},Gr.prototype.getDataParams=function(Wr){var Zr=this.getData(),Kr=pj(Zr),Jr=Kr.seats;if(!Jr){var Qr=[];Zr.each(Zr.mapDimension("value"),function(ei){Qr.push(ei)}),Jr=Kr.seats=LI(Qr,Zr.hostModel.get("percentPrecision"))}var ti=Yr.prototype.getDataParams.call(this,Wr);return ti.percent=Jr[Wr]||0,ti.$vars.push("percent"),ti},Gr.prototype._defaultLabelLine=function(Wr){ls(Wr,"labelLine",["show"]);var Zr=Wr.labelLine,Kr=Wr.emphasis.labelLine;Zr.show=Zr.show&&Wr.label.show,Kr.show=Kr.show&&Wr.emphasis.label.show},Gr.type="series.pie",Gr.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},Gr}(Pn),mN=dj;function zC(Yr){return{seriesType:Yr,reset:function(Gr,Wr){var Zr=Gr.getData();Zr.filterSelf(function(Kr){var Jr=Zr.mapDimension("value"),Qr=Zr.get(Jr,Kr);return!(gn(Qr)&&!isNaN(Qr)&&Qr<0)})}}}function NC(Yr){Yr.registerChartView(vN),Yr.registerSeriesModel(mN),m0("pie",Yr.registerAction),Yr.registerLayout(en(kC,"pie")),Yr.registerProcessor(gl("pie")),Yr.registerProcessor(zC("pie"))}var vj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.hasSymbolVisual=!0,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){return ja(null,this,{useEncodeDefaulter:!0})},Gr.prototype.getProgressive=function(){var Wr=this.option.progressive;return Wr??(this.option.large?5e3:this.get("progressive"))},Gr.prototype.getProgressiveThreshold=function(){var Wr=this.option.progressiveThreshold;return Wr??(this.option.large?1e4:this.get("progressiveThreshold"))},Gr.prototype.brushSelector=function(Wr,Zr,Kr){return Kr.point(Zr.getItemLayout(Wr))},Gr.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},Gr.type="series.scatter",Gr.dependencies=["grid","polar","geo","singleAxis","calendar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},Gr}(Pn),gN=vj;var yN=4,mj=function(){function Yr(){}return Yr}(),gj=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr._off=0,Zr.hoverDataIdx=-1,Zr}return Gr.prototype.getDefaultShape=function(){return new mj},Gr.prototype.reset=function(){this.notClear=!1,this._off=0},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.points,Jr=Zr.size,Qr=this.symbolProxy,ti=Qr.shape,ei=Wr.getContext?Wr.getContext():Wr,ri=ei&&Jr[0]<yN,ii=this.softClipShape,ni;if(ri){this._ctx=ei;return}for(this._ctx=null,ni=this._off;ni<Kr.length;){var ai=Kr[ni++],oi=Kr[ni++];isNaN(ai)||isNaN(oi)||ii&&!ii.contain(ai,oi)||(ti.x=ai-Jr[0]/2,ti.y=oi-Jr[1]/2,ti.width=Jr[0],ti.height=Jr[1],Qr.buildPath(Wr,ti,!0))}this.incremental&&(this._off=ni,this.notClear=!0)},Gr.prototype.afterBrush=function(){var Wr=this.shape,Zr=Wr.points,Kr=Wr.size,Jr=this._ctx,Qr=this.softClipShape,ti;if(Jr){for(ti=this._off;ti<Zr.length;){var ei=Zr[ti++],ri=Zr[ti++];isNaN(ei)||isNaN(ri)||Qr&&!Qr.contain(ei,ri)||Jr.fillRect(ei-Kr[0]/2,ri-Kr[1]/2,Kr[0],Kr[1])}this.incremental&&(this._off=ti,this.notClear=!0)}},Gr.prototype.findDataIndex=function(Wr,Zr){for(var Kr=this.shape,Jr=Kr.points,Qr=Kr.size,ti=Math.max(Qr[0],4),ei=Math.max(Qr[1],4),ri=Jr.length/2-1;ri>=0;ri--){var ii=ri*2,ni=Jr[ii]-ti/2,ai=Jr[ii+1]-ei/2;if(Wr>=ni&&Zr>=ai&&Wr<=ni+ti&&Zr<=ai+ei)return ri}return-1},Gr.prototype.contain=function(Wr,Zr){var Kr=this.transformCoordToLocal(Wr,Zr),Jr=this.getBoundingRect();if(Wr=Kr[0],Zr=Kr[1],Jr.contain(Wr,Zr)){var Qr=this.hoverDataIdx=this.findDataIndex(Wr,Zr);return Qr>=0}return this.hoverDataIdx=-1,!1},Gr.prototype.getBoundingRect=function(){var Wr=this._rect;if(!Wr){for(var Zr=this.shape,Kr=Zr.points,Jr=Zr.size,Qr=Jr[0],ti=Jr[1],ei=1/0,ri=1/0,ii=-1/0,ni=-1/0,ai=0;ai<Kr.length;){var oi=Kr[ai++],si=Kr[ai++];ei=Math.min(oi,ei),ii=Math.max(oi,ii),ri=Math.min(si,ri),ni=Math.max(si,ni)}Wr=this._rect=new rn(ei-Qr/2,ri-ti/2,ii-ei+Qr,ni-ri+ti)}return Wr},Gr}(an),yj=function(){function Yr(){this.group=new Zi}return Yr.prototype.updateData=function(Gr,Wr){this._clear();var Zr=this._create();Zr.setShape({points:Gr.getLayout("points")}),this._setCommon(Zr,Gr,Wr)},Yr.prototype.updateLayout=function(Gr){var Wr=Gr.getLayout("points");this.group.eachChild(function(Zr){if(Zr.startIndex!=null){var Kr=(Zr.endIndex-Zr.startIndex)*2,Jr=Zr.startIndex*4*2;Wr=new Float32Array(Wr.buffer,Jr,Kr)}Zr.setShape("points",Wr),Zr.reset()})},Yr.prototype.incrementalPrepareUpdate=function(Gr){this._clear()},Yr.prototype.incrementalUpdate=function(Gr,Wr,Zr){var Kr=this._newAdded[0],Jr=Wr.getLayout("points"),Qr=Kr&&Kr.shape.points;if(Qr&&Qr.length<2e4){var ti=Qr.length,ei=new Float32Array(ti+Jr.length);ei.set(Qr),ei.set(Jr,ti),Kr.endIndex=Gr.end,Kr.setShape({points:ei})}else{this._newAdded=[];var ri=this._create();ri.startIndex=Gr.start,ri.endIndex=Gr.end,ri.incremental=!0,ri.setShape({points:Jr}),this._setCommon(ri,Wr,Zr)}},Yr.prototype.eachRendered=function(Gr){this._newAdded[0]&&Gr(this._newAdded[0])},Yr.prototype._create=function(){var Gr=new gj({cursor:"default"});return Gr.ignoreCoarsePointer=!0,this.group.add(Gr),this._newAdded.push(Gr),Gr},Yr.prototype._setCommon=function(Gr,Wr,Zr){var Kr=Wr.hostModel;Zr=Zr||{};var Jr=Wr.getVisual("symbolSize");Gr.setShape("size",Jr instanceof Array?Jr:[Jr,Jr]),Gr.softClipShape=Zr.clipShape||null,Gr.symbolProxy=Bn(Wr.getVisual("symbol"),0,0,0,0),Gr.setColor=Gr.symbolProxy.setColor;var Qr=Gr.shape.size[0]<yN;Gr.useStyle(Kr.getModel("itemStyle").getItemStyle(Qr?["color","shadowBlur","shadowColor"]:["color"]));var ti=Wr.getVisual("style"),ei=ti&&ti.fill;ei&&Gr.setColor(ei);var ri=Qi(Gr);ri.seriesIndex=Kr.seriesIndex,Gr.on("mousemove",function(ii){ri.dataIndex=null;var ni=Gr.hoverDataIdx;ni>=0&&(ri.dataIndex=ni+(Gr.startIndex||0))})},Yr.prototype.remove=function(){this._clear()},Yr.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Yr}(),xN=yj;var xj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this._updateSymbolDraw(Jr,Wr);Qr.updateData(Jr,{clipShape:this._getClipShape(Wr)}),this._finished=!0},Gr.prototype.incrementalPrepareRender=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this._updateSymbolDraw(Jr,Wr);Qr.incrementalPrepareUpdate(Jr),this._finished=!1},Gr.prototype.incrementalRender=function(Wr,Zr,Kr){this._symbolDraw.incrementalUpdate(Wr,Zr.getData(),{clipShape:this._getClipShape(Zr)}),this._finished=Wr.end===Zr.getData().count()},Gr.prototype.updateTransform=function(Wr,Zr,Kr){var Jr=Wr.getData();if(this.group.dirty(),!this._finished||Jr.count()>1e4)return{update:!0};var Qr=ml("").reset(Wr,Zr,Kr);Qr.progress&&Qr.progress({start:0,end:Jr.count(),count:Jr.count()},Jr),this._symbolDraw.updateLayout(Jr)},Gr.prototype.eachRendered=function(Wr){this._symbolDraw&&this._symbolDraw.eachRendered(Wr)},Gr.prototype._getClipShape=function(Wr){if(Wr.get("clip",!0)){var Zr=Wr.coordinateSystem;return Zr&&Zr.getArea&&Zr.getArea(.1)}},Gr.prototype._updateSymbolDraw=function(Wr,Zr){var Kr=this._symbolDraw,Jr=Zr.pipelineContext,Qr=Jr.large;return(!Kr||Qr!==this._isLargeDraw)&&(Kr&&Kr.remove(),Kr=this._symbolDraw=Qr?new xN:new Ul,this._isLargeDraw=Qr,this.group.removeAll()),this.group.add(Kr.group),Kr},Gr.prototype.remove=function(Wr,Zr){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},Gr.prototype.dispose=function(){},Gr.type="scatter",Gr}(An),_N=xj;var _j=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.type="grid",Gr.dependencies=["xAxis","yAxis"],Gr.layoutMode="box",Gr.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},Gr}(_n),bN=_j;var mx=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Yn).models[0]},Gr.type="cartesian2dAxis",Gr}(_n);Gn(mx,Nl);var SN={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},bj=un({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},SN),FC=un({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},SN),Sj=un({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},FC),wj=Yi({logBase:10},FC),gx={category:bj,value:FC,time:Sj,log:wj};var wN={value:1,category:1,time:1,log:1};function yl(Yr,Gr,Wr,Zr){_i(wN,function(Kr,Jr){var Qr=un(un({},gx[Jr],!0),Zr,!0),ti=function(ei){Di(ri,ei);function ri(){var ii=ei!==null&&ei.apply(this,arguments)||this;return ii.type=Gr+"Axis."+Jr,ii}return ri.prototype.mergeDefaultAndTheme=function(ii,ni){var ai=sf(this),oi=ai?Is(ii):{},si=ni.getTheme();un(ii,si.get(Jr+"Axis")),un(ii,this.getDefaultOption()),ii.type=CN(ii),ai&&Yo(ii,oi,ai)},ri.prototype.optionUpdated=function(){var ii=this.option;ii.type==="category"&&(this.__ordinalMeta=Bv.createByAxisModel(this))},ri.prototype.getCategories=function(ii){var ni=this.option;if(ni.type==="category")return ii?ni.data:this.__ordinalMeta.categories},ri.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},ri.type=Gr+"Axis."+Jr,ri.defaultOption=Qr,ri}(Wr);Yr.registerComponentModel(ti)}),Yr.registerSubTypeDefaulter(Gr+"Axis",CN)}function CN(Yr){return Yr.type||(Yr.data?"category":"value")}var Cj=function(){function Yr(Gr){this.type="cartesian",this._dimList=[],this._axes={},this.name=Gr||""}return Yr.prototype.getAxis=function(Gr){return this._axes[Gr]},Yr.prototype.getAxes=function(){return Oi(this._dimList,function(Gr){return this._axes[Gr]},this)},Yr.prototype.getAxesByScale=function(Gr){return Gr=Gr.toLowerCase(),Tn(this.getAxes(),function(Wr){return Wr.scale.type===Gr})},Yr.prototype.addAxis=function(Gr){var Wr=Gr.dim;this._axes[Wr]=Gr,this._dimList.push(Wr)},Yr}(),TN=Cj;var yx=["x","y"];function AN(Yr){return Yr.type==="interval"||Yr.type==="time"}var Tj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="cartesian2d",Wr.dimensions=yx,Wr}return Gr.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var Wr=this.getAxis("x").scale,Zr=this.getAxis("y").scale;if(!(!AN(Wr)||!AN(Zr))){var Kr=Wr.getExtent(),Jr=Zr.getExtent(),Qr=this.dataToPoint([Kr[0],Jr[0]]),ti=this.dataToPoint([Kr[1],Jr[1]]),ei=Kr[1]-Kr[0],ri=Jr[1]-Jr[0];if(!(!ei||!ri)){var ii=(ti[0]-Qr[0])/ei,ni=(ti[1]-Qr[1])/ri,ai=Qr[0]-Kr[0]*ii,oi=Qr[1]-Jr[0]*ni,si=this._transform=[ii,0,0,ni,ai,oi];this._invTransform=_s([],si)}}},Gr.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Gr.prototype.containPoint=function(Wr){var Zr=this.getAxis("x"),Kr=this.getAxis("y");return Zr.contain(Zr.toLocalCoord(Wr[0]))&&Kr.contain(Kr.toLocalCoord(Wr[1]))},Gr.prototype.containData=function(Wr){return this.getAxis("x").containData(Wr[0])&&this.getAxis("y").containData(Wr[1])},Gr.prototype.containZone=function(Wr,Zr){var Kr=this.dataToPoint(Wr),Jr=this.dataToPoint(Zr),Qr=this.getArea(),ti=new rn(Kr[0],Kr[1],Jr[0]-Kr[0],Jr[1]-Kr[1]);return Qr.intersect(ti)},Gr.prototype.dataToPoint=function(Wr,Zr,Kr){Kr=Kr||[];var Jr=Wr[0],Qr=Wr[1];if(this._transform&&Jr!=null&&isFinite(Jr)&&Qr!=null&&isFinite(Qr))return ma(Kr,Wr,this._transform);var ti=this.getAxis("x"),ei=this.getAxis("y");return Kr[0]=ti.toGlobalCoord(ti.dataToCoord(Jr,Zr)),Kr[1]=ei.toGlobalCoord(ei.dataToCoord(Qr,Zr)),Kr},Gr.prototype.clampData=function(Wr,Zr){var Kr=this.getAxis("x").scale,Jr=this.getAxis("y").scale,Qr=Kr.getExtent(),ti=Jr.getExtent(),ei=Kr.parse(Wr[0]),ri=Jr.parse(Wr[1]);return Zr=Zr||[],Zr[0]=Math.min(Math.max(Math.min(Qr[0],Qr[1]),ei),Math.max(Qr[0],Qr[1])),Zr[1]=Math.min(Math.max(Math.min(ti[0],ti[1]),ri),Math.max(ti[0],ti[1])),Zr},Gr.prototype.pointToData=function(Wr,Zr){var Kr=[];if(this._invTransform)return ma(Kr,Wr,this._invTransform);var Jr=this.getAxis("x"),Qr=this.getAxis("y");return Kr[0]=Jr.coordToData(Jr.toLocalCoord(Wr[0]),Zr),Kr[1]=Qr.coordToData(Qr.toLocalCoord(Wr[1]),Zr),Kr},Gr.prototype.getOtherAxis=function(Wr){return this.getAxis(Wr.dim==="x"?"y":"x")},Gr.prototype.getArea=function(Wr){Wr=Wr||0;var Zr=this.getAxis("x").getGlobalExtent(),Kr=this.getAxis("y").getGlobalExtent(),Jr=Math.min(Zr[0],Zr[1])-Wr,Qr=Math.min(Kr[0],Kr[1])-Wr,ti=Math.max(Zr[0],Zr[1])-Jr+Wr,ei=Math.max(Kr[0],Kr[1])-Qr+Wr;return new rn(Jr,Qr,ti,ei)},Gr}(TN),MN=Tj;var Aj=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr,Qr){var ti=Yr.call(this,Wr,Zr,Kr)||this;return ti.index=0,ti.type=Jr||"value",ti.position=Qr||"bottom",ti}return Gr.prototype.isHorizontal=function(){var Wr=this.position;return Wr==="top"||Wr==="bottom"},Gr.prototype.getGlobalExtent=function(Wr){var Zr=this.getExtent();return Zr[0]=this.toGlobalCoord(Zr[0]),Zr[1]=this.toGlobalCoord(Zr[1]),Wr&&Zr[0]>Zr[1]&&Zr.reverse(),Zr},Gr.prototype.pointToData=function(Wr,Zr){return this.coordToData(this.toLocalCoord(Wr[this.dim==="x"?0:1]),Zr)},Gr.prototype.setCategorySortInfo=function(Wr){if(this.type!=="category")return!1;this.model.option.categorySortInfo=Wr,this.scale.setSortInfo(Wr)},Gr}(Ka),PN=Aj;function em(Yr,Gr,Wr){Wr=Wr||{};var Zr=Yr.coordinateSystem,Kr=Gr.axis,Jr={},Qr=Kr.getAxesOnZeroOf()[0],ti=Kr.position,ei=Qr?"onZero":ti,ri=Kr.dim,ii=Zr.getRect(),ni=[ii.x,ii.x+ii.width,ii.y,ii.y+ii.height],ai={left:0,right:1,top:0,bottom:1,onZero:2},oi=Gr.get("offset")||0,si=ri==="x"?[ni[2]-oi,ni[3]+oi]:[ni[0]-oi,ni[1]+oi];if(Qr){var li=Qr.toGlobalCoord(Qr.dataToCoord(0));si[ai.onZero]=Math.max(Math.min(li,si[1]),si[0])}Jr.position=[ri==="y"?si[ai[ei]]:ni[0],ri==="x"?si[ai[ei]]:ni[3]],Jr.rotation=Math.PI/2*(ri==="x"?0:1);var ui={top:-1,bottom:1,left:-1,right:1};Jr.labelDirection=Jr.tickDirection=Jr.nameDirection=ui[ti],Jr.labelOffset=Qr?si[ai[ti]]-si[ai.onZero]:0,Gr.get(["axisTick","inside"])&&(Jr.tickDirection=-Jr.tickDirection),ta(Wr.labelInside,Gr.get(["axisLabel","inside"]))&&(Jr.labelDirection=-Jr.labelDirection);var fi=Gr.get(["axisLabel","rotate"]);return Jr.labelRotate=ei==="top"?-fi:fi,Jr.z2=1,Jr}function VC(Yr){return Yr.get("coordinateSystem")==="cartesian2d"}function BC(Yr){var Gr={xAxisModel:null,yAxisModel:null};return _i(Gr,function(Wr,Zr){var Kr=Zr.replace(/Model$/,""),Jr=Yr.getReferringComponents(Kr,Yn).models[0];Gr[Zr]=Jr}),Gr}var UC=Math.log;function xx(Yr,Gr,Wr){var Zr=Ko.prototype,Kr=Zr.getTicks.call(Wr),Jr=Zr.getTicks.call(Wr,!0),Qr=Kr.length-1,ti=Zr.getInterval.call(Wr),ei=Gw(Yr,Gr),ri=ei.extent,ii=ei.fixMin,ni=ei.fixMax;if(Yr.type==="log"){var ai=UC(Yr.base);ri=[UC(ri[0])/ai,UC(ri[1])/ai]}Yr.setExtent(ri[0],ri[1]),Yr.calcNiceExtent({splitNumber:Qr,fixMin:ii,fixMax:ni});var oi=Zr.getExtent.call(Yr);ii&&(ri[0]=oi[0]),ni&&(ri[1]=oi[1]);var si=Zr.getInterval.call(Yr),li=ri[0],ui=ri[1];if(ii&&ni)si=(ui-li)/Qr;else if(ii)for(ui=ri[0]+si*Qr;ui<ri[1]&&isFinite(ui)&&isFinite(ri[1]);)si=k0(si),ui=ri[0]+si*Qr;else if(ni)for(li=ri[1]-si*Qr;li>ri[0]&&isFinite(li)&&isFinite(ri[0]);)si=k0(si),li=ri[1]-si*Qr;else{var fi=Yr.getTicks().length-1;fi>Qr&&(si=k0(si));var hi=si*Qr;ui=Math.ceil(ri[1]/si)*si,li=Zn(ui-hi),li<0&&ri[0]>=0?(li=0,ui=Zn(hi)):ui>0&&ri[1]<=0&&(ui=0,li=-Zn(hi))}var ci=(Kr[0].value-Jr[0].value)/ti,pi=(Kr[Qr].value-Jr[Qr].value)/ti;if(Zr.setExtent.call(Yr,li+si*ci,ui+si*pi),Zr.setInterval.call(Yr,si),(ci||pi)&&Zr.setNiceExtent.call(Yr,li+si,ui-si),0)var di}var Mj=function(){function Yr(Gr,Wr,Zr){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=yx,this._initCartesian(Gr,Wr,Zr),this.model=Gr}return Yr.prototype.getRect=function(){return this._rect},Yr.prototype.update=function(Gr,Wr){var Zr=this._axesMap;this._updateScale(Gr,this.model);function Kr(Qr){var ti,ei=fn(Qr),ri=ei.length;if(ri){for(var ii=[],ni=ri-1;ni>=0;ni--){var ai=+ei[ni],oi=Qr[ai],si=oi.model,li=oi.scale;Uv(li)&&si.get("alignTicks")&&si.get("interval")==null?ii.push(oi):(zl(li,si),Uv(li)&&(ti=oi))}ii.length&&(ti||(ti=ii.pop(),zl(ti.scale,ti.model)),_i(ii,function(ui){xx(ui.scale,ui.model,ti.scale)}))}}Kr(Zr.x),Kr(Zr.y);var Jr={};_i(Zr.x,function(Qr){DN(Zr,"y",Qr,Jr)}),_i(Zr.y,function(Qr){DN(Zr,"x",Qr,Jr)}),this.resize(this.model,Wr)},Yr.prototype.resize=function(Gr,Wr,Zr){var Kr=Gr.getBoxLayoutParams(),Jr=!Zr&&Gr.get("containLabel"),Qr=Vn(Kr,{width:Wr.getWidth(),height:Wr.getHeight()});this._rect=Qr;var ti=this._axesList;ei(),Jr&&(_i(ti,function(ri){if(!ri.model.get(["axisLabel","inside"])){var ii=GO(ri);if(ii){var ni=ri.isHorizontal()?"height":"width",ai=ri.model.get(["axisLabel","margin"]);Qr[ni]-=ii[ni]+ai,ri.position==="top"?Qr.y+=ii.height+ai:ri.position==="left"&&(Qr.x+=ii.width+ai)}}}),ei()),_i(this._coordsList,function(ri){ri.calcAffineTransform()});function ei(){_i(ti,function(ri){var ii=ri.isHorizontal(),ni=ii?[0,Qr.width]:[0,Qr.height],ai=ri.inverse?1:0;ri.setExtent(ni[ai],ni[1-ai]),Pj(ri,ii?Qr.x:Qr.y)})}},Yr.prototype.getAxis=function(Gr,Wr){var Zr=this._axesMap[Gr];if(Zr!=null)return Zr[Wr||0]},Yr.prototype.getAxes=function(){return this._axesList.slice()},Yr.prototype.getCartesian=function(Gr,Wr){if(Gr!=null&&Wr!=null){var Zr="x"+Gr+"y"+Wr;return this._coordsMap[Zr]}qi(Gr)&&(Wr=Gr.yAxisIndex,Gr=Gr.xAxisIndex);for(var Kr=0,Jr=this._coordsList;Kr<Jr.length;Kr++)if(Jr[Kr].getAxis("x").index===Gr||Jr[Kr].getAxis("y").index===Wr)return Jr[Kr]},Yr.prototype.getCartesians=function(){return this._coordsList.slice()},Yr.prototype.convertToPixel=function(Gr,Wr,Zr){var Kr=this._findConvertTarget(Wr);return Kr.cartesian?Kr.cartesian.dataToPoint(Zr):Kr.axis?Kr.axis.toGlobalCoord(Kr.axis.dataToCoord(Zr)):null},Yr.prototype.convertFromPixel=function(Gr,Wr,Zr){var Kr=this._findConvertTarget(Wr);return Kr.cartesian?Kr.cartesian.pointToData(Zr):Kr.axis?Kr.axis.coordToData(Kr.axis.toLocalCoord(Zr)):null},Yr.prototype._findConvertTarget=function(Gr){var Wr=Gr.seriesModel,Zr=Gr.xAxisModel||Wr&&Wr.getReferringComponents("xAxis",Yn).models[0],Kr=Gr.yAxisModel||Wr&&Wr.getReferringComponents("yAxis",Yn).models[0],Jr=Gr.gridModel,Qr=this._coordsList,ti,ei;if(Wr)ti=Wr.coordinateSystem,sn(Qr,ti)<0&&(ti=null);else if(Zr&&Kr)ti=this.getCartesian(Zr.componentIndex,Kr.componentIndex);else if(Zr)ei=this.getAxis("x",Zr.componentIndex);else if(Kr)ei=this.getAxis("y",Kr.componentIndex);else if(Jr){var ri=Jr.coordinateSystem;ri===this&&(ti=this._coordsList[0])}return{cartesian:ti,axis:ei}},Yr.prototype.containPoint=function(Gr){var Wr=this._coordsList[0];if(Wr)return Wr.containPoint(Gr)},Yr.prototype._initCartesian=function(Gr,Wr,Zr){var Kr=this,Jr=this,Qr={left:!1,right:!1,top:!1,bottom:!1},ti={x:{},y:{}},ei={x:0,y:0};if(Wr.eachComponent("xAxis",ri("x"),this),Wr.eachComponent("yAxis",ri("y"),this),!ei.x||!ei.y){this._axesMap={},this._axesList=[];return}this._axesMap=ti,_i(ti.x,function(ii,ni){_i(ti.y,function(ai,oi){var si="x"+ni+"y"+oi,li=new MN(si);li.master=Kr,li.model=Gr,Kr._coordsMap[si]=li,Kr._coordsList.push(li),li.addAxis(ii),li.addAxis(ai)})});function ri(ii){return function(ni,ai){if(GC(ni,Gr)){var oi=ni.get("position");ii==="x"?oi!=="top"&&oi!=="bottom"&&(oi=Qr.bottom?"top":"bottom"):oi!=="left"&&oi!=="right"&&(oi=Qr.left?"right":"left"),Qr[oi]=!0;var si=new PN(ii,yf(ni),[0,0],ni.get("type"),oi),li=si.type==="category";si.onBand=li&&ni.get("boundaryGap"),si.inverse=ni.get("inverse"),ni.axis=si,si.model=ni,si.grid=Jr,si.index=ai,Jr._axesList.push(si),ti[ii][ai]=si,ei[ii]++}}}},Yr.prototype._updateScale=function(Gr,Wr){_i(this._axesList,function(Kr){if(Kr.scale.setExtent(1/0,-1/0),Kr.type==="category"){var Jr=Kr.model.get("categorySortInfo");Kr.scale.setSortInfo(Jr)}}),Gr.eachSeries(function(Kr){if(VC(Kr)){var Jr=BC(Kr),Qr=Jr.xAxisModel,ti=Jr.yAxisModel;if(!GC(Qr,Wr)||!GC(ti,Wr))return;var ei=this.getCartesian(Qr.componentIndex,ti.componentIndex),ri=Kr.getData(),ii=ei.getAxis("x"),ni=ei.getAxis("y");Zr(ri,ii),Zr(ri,ni)}},this);function Zr(Kr,Jr){_i(vp(Kr,Jr.dim),function(Qr){Jr.scale.unionExtentFromData(Kr,Qr)})}},Yr.prototype.getTooltipAxes=function(Gr){var Wr=[],Zr=[];return _i(this.getCartesians(),function(Kr){var Jr=Gr!=null&&Gr!=="auto"?Kr.getAxis(Gr):Kr.getBaseAxis(),Qr=Kr.getOtherAxis(Jr);sn(Wr,Jr)<0&&Wr.push(Jr),sn(Zr,Qr)<0&&Zr.push(Qr)}),{baseAxes:Wr,otherAxes:Zr}},Yr.create=function(Gr,Wr){var Zr=[];return Gr.eachComponent("grid",function(Kr,Jr){var Qr=new Yr(Kr,Gr,Wr);Qr.name="grid_"+Jr,Qr.resize(Kr,Wr,!0),Kr.coordinateSystem=Qr,Zr.push(Qr)}),Gr.eachSeries(function(Kr){if(VC(Kr)){var Jr=BC(Kr),Qr=Jr.xAxisModel,ti=Jr.yAxisModel,ei=Qr.getCoordSysModel(),ri=ei.coordinateSystem;Kr.coordinateSystem=ri.getCartesian(Qr.componentIndex,ti.componentIndex)}}),Zr},Yr.dimensions=yx,Yr}();function GC(Yr,Gr){return Yr.getCoordSysModel()===Gr}function DN(Yr,Gr,Wr,Zr){Wr.getAxesOnZeroOf=function(){return Jr?[Jr]:[]};var Kr=Yr[Gr],Jr,Qr=Wr.model,ti=Qr.get(["axisLine","onZero"]),ei=Qr.get(["axisLine","onZeroAxisIndex"]);if(!ti)return;if(ei!=null)IN(Kr[ei])&&(Jr=Kr[ei]);else for(var ri in Kr)if(Kr.hasOwnProperty(ri)&&IN(Kr[ri])&&!Zr[ii(Kr[ri])]){Jr=Kr[ri];break}Jr&&(Zr[ii(Jr)]=!0);function ii(ni){return ni.dim+"_"+ni.index}}function IN(Yr){return Yr&&Yr.type!=="category"&&Yr.type!=="time"&&UO(Yr)}function Pj(Yr,Gr){var Wr=Yr.getExtent(),Zr=Wr[0]+Wr[1];Yr.toGlobalCoord=Yr.dim==="x"?function(Kr){return Kr+Gr}:function(Kr){return Zr-Kr+Gr},Yr.toLocalCoord=Yr.dim==="x"?function(Kr){return Kr-Gr}:function(Kr){return Zr-Kr+Gr}}var LN=Mj;var wf=Math.PI,$h=function(){function Yr(Gr,Wr){this.group=new Zi,this.opt=Wr,this.axisModel=Gr,Yi(Wr,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var Zr=new Zi({x:Wr.position[0],y:Wr.position[1],rotation:Wr.rotation});Zr.updateTransform(),this._transformGroup=Zr}return Yr.prototype.hasBuilder=function(Gr){return!!kN[Gr]},Yr.prototype.add=function(Gr){kN[Gr](this.opt,this.axisModel,this.group,this._transformGroup)},Yr.prototype.getGroup=function(){return this.group},Yr.innerTextLayout=function(Gr,Wr,Zr){var Kr=wS(Wr-Gr),Jr,Qr;return mh(Kr)?(Qr=Zr>0?"top":"bottom",Jr="center"):mh(Kr-wf)?(Qr=Zr>0?"bottom":"top",Jr="center"):(Qr="middle",Kr>0&&Kr<wf?Jr=Zr>0?"right":"left":Jr=Zr>0?"left":"right"),{rotation:Kr,textAlign:Jr,textVerticalAlign:Qr}},Yr.makeAxisEventDataBase=function(Gr){var Wr={componentType:Gr.mainType,componentIndex:Gr.componentIndex};return Wr[Gr.mainType+"Index"]=Gr.componentIndex,Wr},Yr.isLabelSilent=function(Gr){var Wr=Gr.get("tooltip");return Gr.get("silent")||!(Gr.get("triggerEvent")||Wr&&Wr.show)},Yr}(),kN={axisLine:function(Yr,Gr,Wr,Zr){var Kr=Gr.get(["axisLine","show"]);if(Kr==="auto"&&Yr.handleAutoShown&&(Kr=Yr.handleAutoShown("axisLine")),!!Kr){var Jr=Gr.axis.getExtent(),Qr=Zr.transform,ti=[Jr[0],0],ei=[Jr[1],0],ri=ti[0]>ei[0];Qr&&(ma(ti,ti,Qr),ma(ei,ei,Qr));var ii=ki({lineCap:"round"},Gr.getModel(["axisLine","lineStyle"]).getLineStyle()),ni=new sa({shape:{x1:ti[0],y1:ti[1],x2:ei[0],y2:ei[1]},style:ii,strokeContainThreshold:Yr.strokeContainThreshold||5,silent:!0,z2:1});pu(ni.shape,ni.style.lineWidth),ni.anid="line",Wr.add(ni);var ai=Gr.get(["axisLine","symbol"]);if(ai!=null){var oi=Gr.get(["axisLine","symbolSize"]);Ni(ai)&&(ai=[ai,ai]),(Ni(oi)||gn(oi))&&(oi=[oi,oi]);var si=ps(Gr.get(["axisLine","symbolOffset"])||0,oi),li=oi[0],ui=oi[1];_i([{rotate:Yr.rotation+Math.PI/2,offset:si[0],r:0},{rotate:Yr.rotation-Math.PI/2,offset:si[1],r:Math.sqrt((ti[0]-ei[0])*(ti[0]-ei[0])+(ti[1]-ei[1])*(ti[1]-ei[1]))}],function(fi,hi){if(ai[hi]!=="none"&&ai[hi]!=null){var ci=Bn(ai[hi],-li/2,-ui/2,li,ui,ii.stroke,!0),pi=fi.r+fi.offset,di=ri?ei:ti;ci.attr({rotation:fi.rotate,x:di[0]+pi*Math.cos(Yr.rotation),y:di[1]-pi*Math.sin(Yr.rotation),silent:!0,z2:11}),Wr.add(ci)}})}}},axisTickLabel:function(Yr,Gr,Wr,Zr){var Kr=Ij(Wr,Zr,Gr,Yr),Jr=kj(Wr,Zr,Gr,Yr);if(Dj(Gr,Jr,Kr),Lj(Wr,Zr,Gr,Yr.tickDirection),Gr.get(["axisLabel","hideOverlap"])){var Qr=j0(Oi(Jr,function(ti){return{label:ti,priority:ti.z2,defaultAttr:{ignore:ti.ignore}}}));$0(Qr)}},axisName:function(Yr,Gr,Wr,Zr){var Kr=ta(Yr.axisName,Gr.get("name"));if(Kr){var Jr=Gr.get("nameLocation"),Qr=Yr.nameDirection,ti=Gr.getModel("nameTextStyle"),ei=Gr.get("nameGap")||0,ri=Gr.axis.getExtent(),ii=ri[0]>ri[1]?-1:1,ni=[Jr==="start"?ri[0]-ii*ei:Jr==="end"?ri[1]+ii*ei:(ri[0]+ri[1])/2,ON(Jr)?Yr.labelOffset+Qr*ei:0],ai,oi=Gr.get("nameRotate");oi!=null&&(oi=oi*wf/180);var si;ON(Jr)?ai=$h.innerTextLayout(Yr.rotation,oi??Yr.rotation,Qr):(ai=Ej(Yr.rotation,Jr,oi||0,ri),si=Yr.axisNameAvailableWidth,si!=null&&(si=Math.abs(si/Math.sin(ai.rotation)),!isFinite(si)&&(si=null)));var li=ti.getFont(),ui=Gr.get("nameTruncate",!0)||{},fi=ui.ellipsis,hi=ta(Yr.nameTruncateMaxWidth,ui.maxWidth,si),ci=new xn({x:ni[0],y:ni[1],rotation:ai.rotation,silent:$h.isLabelSilent(Gr),style:On(ti,{text:Kr,font:li,overflow:"truncate",width:hi,ellipsis:fi,fill:ti.getTextColor()||Gr.get(["axisLine","lineStyle","color"]),align:ti.get("align")||ai.textAlign,verticalAlign:ti.get("verticalAlign")||ai.textVerticalAlign}),z2:1});if(rl({el:ci,componentModel:Gr,itemName:Kr}),ci.__fullText=Kr,ci.anid="name",Gr.get("triggerEvent")){var pi=$h.makeAxisEventDataBase(Gr);pi.targetType="axisName",pi.name=Kr,Qi(ci).eventData=pi}Zr.add(ci),ci.updateTransform(),Wr.add(ci),ci.decomposeTransform()}}};function Ej(Yr,Gr,Wr,Zr){var Kr=wS(Wr-Yr),Jr,Qr,ti=Zr[0]>Zr[1],ei=Gr==="start"&&!ti||Gr!=="start"&&ti;return mh(Kr-wf/2)?(Qr=ei?"bottom":"top",Jr="center"):mh(Kr-wf*1.5)?(Qr=ei?"top":"bottom",Jr="center"):(Qr="middle",Kr<wf*1.5&&Kr>wf/2?Jr=ei?"left":"right":Jr=ei?"right":"left"),{rotation:Kr,textAlign:Jr,textVerticalAlign:Qr}}function Dj(Yr,Gr,Wr){if(!W0(Yr.axis)){var Zr=Yr.get(["axisLabel","showMinLabel"]),Kr=Yr.get(["axisLabel","showMaxLabel"]);Gr=Gr||[],Wr=Wr||[];var Jr=Gr[0],Qr=Gr[1],ti=Gr[Gr.length-1],ei=Gr[Gr.length-2],ri=Wr[0],ii=Wr[1],ni=Wr[Wr.length-1],ai=Wr[Wr.length-2];Zr===!1?(Ns(Jr),Ns(ri)):RN(Jr,Qr)&&(Zr?(Ns(Qr),Ns(ii)):(Ns(Jr),Ns(ri))),Kr===!1?(Ns(ti),Ns(ni)):RN(ei,ti)&&(Kr?(Ns(ei),Ns(ai)):(Ns(ti),Ns(ni)))}}function Ns(Yr){Yr&&(Yr.ignore=!0)}function RN(Yr,Gr){var Wr=Yr&&Yr.getBoundingRect().clone(),Zr=Gr&&Gr.getBoundingRect().clone();if(!(!Wr||!Zr)){var Kr=Gu([]);return zo(Kr,Kr,-Yr.rotation),Wr.applyTransform(Oo([],Kr,Yr.getLocalTransform())),Zr.applyTransform(Oo([],Kr,Gr.getLocalTransform())),Wr.intersect(Zr)}}function ON(Yr){return Yr==="middle"||Yr==="center"}function zN(Yr,Gr,Wr,Zr,Kr){for(var Jr=[],Qr=[],ti=[],ei=0;ei<Yr.length;ei++){var ri=Yr[ei].coord;Qr[0]=ri,Qr[1]=0,ti[0]=ri,ti[1]=Wr,Gr&&(ma(Qr,Qr,Gr),ma(ti,ti,Gr));var ii=new sa({shape:{x1:Qr[0],y1:Qr[1],x2:ti[0],y2:ti[1]},style:Zr,z2:2,autoBatch:!0,silent:!0});pu(ii.shape,ii.style.lineWidth),ii.anid=Kr+"_"+Yr[ei].tickValue,Jr.push(ii)}return Jr}function Ij(Yr,Gr,Wr,Zr){var Kr=Wr.axis,Jr=Wr.getModel("axisTick"),Qr=Jr.get("show");if(Qr==="auto"&&Zr.handleAutoShown&&(Qr=Zr.handleAutoShown("axisTick")),!(!Qr||Kr.scale.isBlank())){for(var ti=Jr.getModel("lineStyle"),ei=Zr.tickDirection*Jr.get("length"),ri=Kr.getTicksCoords(),ii=zN(ri,Gr.transform,ei,Yi(ti.getLineStyle(),{stroke:Wr.get(["axisLine","lineStyle","color"])}),"ticks"),ni=0;ni<ii.length;ni++)Yr.add(ii[ni]);return ii}}function Lj(Yr,Gr,Wr,Zr){var Kr=Wr.axis,Jr=Wr.getModel("minorTick");if(!(!Jr.get("show")||Kr.scale.isBlank())){var Qr=Kr.getMinorTicksCoords();if(Qr.length)for(var ti=Jr.getModel("lineStyle"),ei=Zr*Jr.get("length"),ri=Yi(ti.getLineStyle(),Yi(Wr.getModel("axisTick").getLineStyle(),{stroke:Wr.get(["axisLine","lineStyle","color"])})),ii=0;ii<Qr.length;ii++)for(var ni=zN(Qr[ii],Gr.transform,ei,ri,"minorticks_"+ii),ai=0;ai<ni.length;ai++)Yr.add(ni[ai])}}function kj(Yr,Gr,Wr,Zr){var Kr=Wr.axis,Jr=ta(Zr.axisLabelShow,Wr.get(["axisLabel","show"]));if(!(!Jr||Kr.scale.isBlank())){var Qr=Wr.getModel("axisLabel"),ti=Qr.get("margin"),ei=Kr.getViewLabels(),ri=(ta(Zr.labelRotate,Qr.get("rotate"))||0)*wf/180,ii=$h.innerTextLayout(Zr.rotation,ri,Zr.labelDirection),ni=Wr.getCategories&&Wr.getCategories(!0),ai=[],oi=$h.isLabelSilent(Wr),si=Wr.get("triggerEvent");return _i(ei,function(li,ui){var fi=Kr.scale.type==="ordinal"?Kr.scale.getRawOrdinalNumber(li.tickValue):li.tickValue,hi=li.formattedLabel,ci=li.rawLabel,pi=Qr;if(ni&&ni[fi]){var di=ni[fi];qi(di)&&di.textStyle&&(pi=new Mn(di.textStyle,Qr,Wr.ecModel))}var vi=pi.getTextColor()||Wr.get(["axisLine","lineStyle","color"]),mi=Kr.dataToCoord(fi),gi=pi.getShallow("align",!0)||ii.textAlign,yi=on(pi.getShallow("alignMinLabel",!0),gi),Si=on(pi.getShallow("alignMaxLabel",!0),gi),bi=pi.getShallow("verticalAlign",!0)||pi.getShallow("baseline",!0)||ii.textVerticalAlign,Ti=on(pi.getShallow("verticalAlignMinLabel",!0),bi),Ai=on(pi.getShallow("verticalAlignMaxLabel",!0),bi),Ei=new xn({x:mi,y:Zr.labelOffset+Zr.labelDirection*ti,rotation:ii.rotation,silent:oi,z2:10+(li.level||0),style:On(pi,{text:hi,align:ui===0?yi:ui===ei.length-1?Si:gi,verticalAlign:ui===0?Ti:ui===ei.length-1?Ai:bi,fill:Wi(vi)?vi(Kr.type==="category"?ci:Kr.type==="value"?fi+"":fi,ui):vi})});if(Ei.anid="label_"+fi,si){var Mi=$h.makeAxisEventDataBase(Wr);Mi.targetType="axisLabel",Mi.value=ci,Mi.tickIndex=ui,Kr.type==="category"&&(Mi.dataIndex=fi),Qi(Ei).eventData=Mi}Gr.add(Ei),Ei.updateTransform(),ai.push(Ei),Yr.add(Ei),Ei.decomposeTransform()}),ai}}var so=$h;function NN(Yr,Gr){var Wr={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Rj(Wr,Yr,Gr),Wr.seriesInvolved&&zj(Wr,Yr),Wr}function Rj(Yr,Gr,Wr){var Zr=Gr.getComponent("tooltip"),Kr=Gr.getComponent("axisPointer"),Jr=Kr.get("link",!0)||[],Qr=[];_i(Wr.getCoordinateSystems(),function(ti){if(!ti.axisPointerEnabled)return;var ei=bp(ti.model),ri=Yr.coordSysAxesInfo[ei]={};Yr.coordSysMap[ei]=ti;var ii=ti.model,ni=ii.getModel("tooltip",Zr);if(_i(ti.getAxes(),en(li,!1,null)),ti.getTooltipAxes&&Zr&&ni.get("show")){var ai=ni.get("trigger")==="axis",oi=ni.get(["axisPointer","type"])==="cross",si=ti.getTooltipAxes(ni.get(["axisPointer","axis"]));(ai||oi)&&_i(si.baseAxes,en(li,oi?"cross":!0,ai)),oi&&_i(si.otherAxes,en(li,"cross",!1))}function li(ui,fi,hi){var ci=hi.model.getModel("axisPointer",Kr),pi=ci.get("show");if(!(!pi||pi==="auto"&&!ui&&!WC(ci))){fi==null&&(fi=ci.get("triggerTooltip")),ci=ui?Oj(hi,ni,Kr,Gr,ui,fi):ci;var di=ci.get("snap"),vi=ci.get("triggerEmphasis"),mi=bp(hi.model),gi=fi||di||hi.type==="category",yi=Yr.axesInfo[mi]={key:mi,axis:hi,coordSys:ti,axisPointerModel:ci,triggerTooltip:fi,triggerEmphasis:vi,involveSeries:gi,snap:di,useHandle:WC(ci),seriesModels:[],linkGroup:null};ri[mi]=yi,Yr.seriesInvolved=Yr.seriesInvolved||gi;var Si=Nj(Jr,hi);if(Si!=null){var bi=Qr[Si]||(Qr[Si]={axesInfo:{}});bi.axesInfo[mi]=yi,bi.mapper=Jr[Si].mapper,yi.linkGroup=bi}}}})}function Oj(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Gr.getModel("axisPointer"),ti=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],ei={};_i(ti,function(ai){ei[ai]=Ki(Qr.get(ai))}),ei.snap=Yr.type!=="category"&&!!Jr,Qr.get("type")==="cross"&&(ei.type="line");var ri=ei.label||(ei.label={});if(ri.show==null&&(ri.show=!1),Kr==="cross"){var ii=Qr.get(["label","show"]);if(ri.show=ii??!0,!Jr){var ni=ei.lineStyle=Qr.get("crossStyle");ni&&Yi(ri,ni.textStyle)}}return Yr.model.getModel("axisPointer",new Mn(ei,Wr,Zr))}function zj(Yr,Gr){Gr.eachSeries(function(Wr){var Zr=Wr.coordinateSystem,Kr=Wr.get(["tooltip","trigger"],!0),Jr=Wr.get(["tooltip","show"],!0);!Zr||Kr==="none"||Kr===!1||Kr==="item"||Jr===!1||Wr.get(["axisPointer","show"],!0)===!1||_i(Yr.coordSysAxesInfo[bp(Zr.model)],function(Qr){var ti=Qr.axis;Zr.getAxis(ti.dim)===ti&&(Qr.seriesModels.push(Wr),Qr.seriesDataCount==null&&(Qr.seriesDataCount=0),Qr.seriesDataCount+=Wr.getData().count())})})}function Nj(Yr,Gr){for(var Wr=Gr.model,Zr=Gr.dim,Kr=0;Kr<Yr.length;Kr++){var Jr=Yr[Kr]||{};if(HC(Jr[Zr+"AxisId"],Wr.id)||HC(Jr[Zr+"AxisIndex"],Wr.componentIndex)||HC(Jr[Zr+"AxisName"],Wr.name))return Kr}}function HC(Yr,Gr){return Yr==="all"||Ri(Yr)&&sn(Yr,Gr)>=0||Yr===Gr}function FN(Yr){var Gr=_x(Yr);if(Gr){var Wr=Gr.axisPointerModel,Zr=Gr.axis.scale,Kr=Wr.option,Jr=Wr.get("status"),Qr=Wr.get("value");Qr!=null&&(Qr=Zr.parse(Qr));var ti=WC(Wr);Jr==null&&(Kr.status=ti?"show":"hide");var ei=Zr.getExtent().slice();ei[0]>ei[1]&&ei.reverse(),(Qr==null||Qr>ei[1])&&(Qr=ei[1]),Qr<ei[0]&&(Qr=ei[0]),Kr.value=Qr,ti&&(Kr.status=Gr.axis.scale.isBlank()?"hide":"show")}}function _x(Yr){var Gr=(Yr.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Gr&&Gr.axesInfo[bp(Yr)]}function VN(Yr){var Gr=_x(Yr);return Gr&&Gr.axisPointerModel}function WC(Yr){return!!Yr.get(["handle","show"])}function bp(Yr){return Yr.type+"||"+Yr.id}var BN={},Fj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){this.axisPointerClass&&FN(Wr),Yr.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(Wr,Kr,!0)},Gr.prototype.updateAxisPointer=function(Wr,Zr,Kr,Jr){this._doUpdateAxisPointerClass(Wr,Kr,!1)},Gr.prototype.remove=function(Wr,Zr){var Kr=this._axisPointer;Kr&&Kr.remove(Zr)},Gr.prototype.dispose=function(Wr,Zr){this._disposeAxisPointer(Zr),Yr.prototype.dispose.apply(this,arguments)},Gr.prototype._doUpdateAxisPointerClass=function(Wr,Zr,Kr){var Jr=Gr.getAxisPointerClass(this.axisPointerClass);if(Jr){var Qr=VN(Wr);Qr?(this._axisPointer||(this._axisPointer=new Jr)).render(Wr,Qr,Zr,Kr):this._disposeAxisPointer(Zr)}},Gr.prototype._disposeAxisPointer=function(Wr){this._axisPointer&&this._axisPointer.dispose(Wr),this._axisPointer=null},Gr.registerAxisPointerClass=function(Wr,Zr){BN[Wr]=Zr},Gr.getAxisPointerClass=function(Wr){return Wr&&BN[Wr]},Gr.type="axis",Gr}(Dn),$o=Fj;var XC=ln();function bx(Yr,Gr,Wr,Zr){var Kr=Wr.axis;if(!Kr.scale.isBlank()){var Jr=Wr.getModel("splitArea"),Qr=Jr.getModel("areaStyle"),ti=Qr.get("color"),ei=Zr.coordinateSystem.getRect(),ri=Kr.getTicksCoords({tickModel:Jr,clamp:!0});if(ri.length){var ii=ti.length,ni=XC(Yr).splitAreaColors,ai=Hi(),oi=0;if(ni)for(var si=0;si<ri.length;si++){var li=ni.get(ri[si].tickValue);if(li!=null){oi=(li+(ii-1)*si)%ii;break}}var ui=Kr.toGlobalCoord(ri[0].coord),fi=Qr.getAreaStyle();ti=Ri(ti)?ti:[ti];for(var si=1;si<ri.length;si++){var hi=Kr.toGlobalCoord(ri[si].coord),ci=void 0,pi=void 0,di=void 0,vi=void 0;Kr.isHorizontal()?(ci=ui,pi=ei.y,di=hi-ci,vi=ei.height,ui=ci+di):(ci=ei.x,pi=ui,di=ei.width,vi=hi-pi,ui=pi+vi);var mi=ri[si-1].tickValue;mi!=null&&ai.set(mi,oi),Gr.add(new mn({anid:mi!=null?"area_"+mi:null,shape:{x:ci,y:pi,width:di,height:vi},style:Yi({fill:ti[oi]},fi),autoBatch:!0,silent:!0})),oi=(oi+1)%ii}XC(Yr).splitAreaColors=ai}}}function Sx(Yr){XC(Yr).splitAreaColors=null}var Vj=["axisLine","axisTickLabel","axisName"],Bj=["splitArea","splitLine","minorSplitLine"],UN=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.axisPointerClass="CartesianAxisPointer",Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){this.group.removeAll();var Qr=this._axisGroup;if(this._axisGroup=new Zi,this.group.add(this._axisGroup),!!Wr.get("show")){var ti=Wr.getCoordSysModel(),ei=em(ti,Wr),ri=new so(Wr,ki({handleAutoShown:function(ni){for(var ai=ti.coordinateSystem.getCartesians(),oi=0;oi<ai.length;oi++)if(Uv(ai[oi].getOtherAxis(Wr.axis).scale))return!0;return!1}},ei));_i(Vj,ri.add,ri),this._axisGroup.add(ri.getGroup()),_i(Bj,function(ni){Wr.get([ni,"show"])&&Uj[ni](this,this._axisGroup,Wr,ti)},this);var ii=Jr&&Jr.type==="changeAxisOrder"&&Jr.isInitSort;ii||du(Qr,this._axisGroup,Wr),Yr.prototype.render.call(this,Wr,Zr,Kr,Jr)}},Gr.prototype.remove=function(){Sx(this)},Gr.type="cartesianAxis",Gr}($o),Uj={splitLine:function(Yr,Gr,Wr,Zr){var Kr=Wr.axis;if(!Kr.scale.isBlank()){var Jr=Wr.getModel("splitLine"),Qr=Jr.getModel("lineStyle"),ti=Qr.get("color");ti=Ri(ti)?ti:[ti];for(var ei=Zr.coordinateSystem.getRect(),ri=Kr.isHorizontal(),ii=0,ni=Kr.getTicksCoords({tickModel:Jr}),ai=[],oi=[],si=Qr.getLineStyle(),li=0;li<ni.length;li++){var ui=Kr.toGlobalCoord(ni[li].coord);ri?(ai[0]=ui,ai[1]=ei.y,oi[0]=ui,oi[1]=ei.y+ei.height):(ai[0]=ei.x,ai[1]=ui,oi[0]=ei.x+ei.width,oi[1]=ui);var fi=ii++%ti.length,hi=ni[li].tickValue,ci=new sa({anid:hi!=null?"line_"+ni[li].tickValue:null,autoBatch:!0,shape:{x1:ai[0],y1:ai[1],x2:oi[0],y2:oi[1]},style:Yi({stroke:ti[fi]},si),silent:!0});pu(ci.shape,si.lineWidth),Gr.add(ci)}}},minorSplitLine:function(Yr,Gr,Wr,Zr){var Kr=Wr.axis,Jr=Wr.getModel("minorSplitLine"),Qr=Jr.getModel("lineStyle"),ti=Zr.coordinateSystem.getRect(),ei=Kr.isHorizontal(),ri=Kr.getMinorTicksCoords();if(ri.length)for(var ii=[],ni=[],ai=Qr.getLineStyle(),oi=0;oi<ri.length;oi++)for(var si=0;si<ri[oi].length;si++){var li=Kr.toGlobalCoord(ri[oi][si].coord);ei?(ii[0]=li,ii[1]=ti.y,ni[0]=li,ni[1]=ti.y+ti.height):(ii[0]=ti.x,ii[1]=li,ni[0]=ti.x+ti.width,ni[1]=li);var ui=new sa({anid:"minor_line_"+ri[oi][si].tickValue,autoBatch:!0,shape:{x1:ii[0],y1:ii[1],x2:ni[0],y2:ni[1]},style:ai,silent:!0});pu(ui.shape,ai.lineWidth),Gr.add(ui)}},splitArea:function(Yr,Gr,Wr,Zr){bx(Yr,Gr,Wr,Zr)}},qC=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="xAxis",Gr}(UN);var GN=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=qC.type,Wr}return Gr.type="yAxis",Gr}(UN);var Gj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="grid",Wr}return Gr.prototype.render=function(Wr,Zr){this.group.removeAll(),Wr.get("show")&&this.group.add(new mn({shape:Wr.coordinateSystem.getRect(),style:Yi({fill:Wr.get("backgroundColor")},Wr.getItemStyle()),silent:!0,z2:-1}))},Gr.type="grid",Gr}(Dn),HN={offset:0};function Cx(Yr){Yr.registerComponentView(Gj),Yr.registerComponentModel(bN),Yr.registerCoordinateSystem("cartesian2d",LN),yl(Yr,"x",mx,HN),yl(Yr,"y",mx,HN),Yr.registerComponentView(qC),Yr.registerComponentView(GN),Yr.registerPreprocessor(function(Gr){Gr.xAxis&&Gr.yAxis&&!Gr.grid&&(Gr.grid={})})}function ZC(Yr){Sn(Cx),Yr.registerSeriesModel(gN),Yr.registerChartView(_N),Yr.registerLayout(ml("scatter"))}function jC(Yr){Yr.eachSeriesByType("radar",function(Gr){var Wr=Gr.getData(),Zr=[],Kr=Gr.coordinateSystem;if(Kr){var Jr=Kr.getIndicatorAxes();_i(Jr,function(Qr,ti){Wr.each(Wr.mapDimension(Jr[ti].dim),function(ei,ri){Zr[ri]=Zr[ri]||[];var ii=Kr.dataToPoint(ei,ti);Zr[ri][ti]=WN(ii)?ii:YN(Kr)})}),Wr.each(function(Qr){var ti=gD(Zr[Qr],function(ei){return WN(ei)})||YN(Kr);Zr[Qr].push(ti.slice()),Wr.setItemLayout(Qr,Zr[Qr])})}})}function WN(Yr){return!isNaN(Yr[0])&&!isNaN(Yr[1])}function YN(Yr){return[Yr.cx,Yr.cy]}function KC(Yr){var Gr=Yr.polar;if(Gr){Ri(Gr)||(Gr=[Gr]);var Wr=[];_i(Gr,function(Zr,Kr){Zr.indicator?(Zr.type&&!Zr.shape&&(Zr.shape=Zr.type),Yr.radar=Yr.radar||[],Ri(Yr.radar)||(Yr.radar=[Yr.radar]),Yr.radar.push(Zr)):Wr.push(Zr)}),Yr.polar=Wr}_i(Yr.series,function(Zr){Zr&&Zr.type==="radar"&&Zr.polarIndex&&(Zr.radarIndex=Zr.polarIndex)})}var Hj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.coordinateSystem,Qr=this.group,ti=Wr.getData(),ei=this._data;function ri(ai,oi){var si=ai.getItemVisual(oi,"symbol")||"circle";if(si!=="none"){var li=ll(ai.getItemVisual(oi,"symbolSize")),ui=Bn(si,-1,-1,2,2),fi=ai.getItemVisual(oi,"symbolRotate")||0;return ui.attr({style:{strokeNoScale:!0},z2:100,scaleX:li[0]/2,scaleY:li[1]/2,rotation:fi*Math.PI/180||0}),ui}}function ii(ai,oi,si,li,ui,fi){si.removeAll();for(var hi=0;hi<oi.length-1;hi++){var ci=ri(li,ui);ci&&(ci.__dimIdx=hi,ai[hi]?(ci.setPosition(ai[hi]),yn[fi?"initProps":"updateProps"](ci,{x:oi[hi][0],y:oi[hi][1]},Wr,ui)):ci.setPosition(oi[hi]),si.add(ci))}}function ni(ai){return Oi(ai,function(oi){return[Jr.cx,Jr.cy]})}ti.diff(ei).add(function(ai){var oi=ti.getItemLayout(ai);if(oi){var si=new fa,li=new la,ui={shape:{points:oi}};si.shape.points=ni(oi),li.shape.points=ni(oi),Ln(si,ui,Wr,ai),Ln(li,ui,Wr,ai);var fi=new Zi,hi=new Zi;fi.add(li),fi.add(si),fi.add(hi),ii(li.shape.points,oi,hi,ti,ai,!0),ti.setItemGraphicEl(ai,fi)}}).update(function(ai,oi){var si=ei.getItemGraphicEl(oi),li=si.childAt(0),ui=si.childAt(1),fi=si.childAt(2),hi={shape:{points:ti.getItemLayout(ai)}};hi.shape.points&&(ii(li.shape.points,hi.shape.points,fi,ti,ai,!1),La(ui),La(li),bn(li,hi,Wr),bn(ui,hi,Wr),ti.setItemGraphicEl(ai,si))}).remove(function(ai){Qr.remove(ei.getItemGraphicEl(ai))}).execute(),ti.eachItemGraphicEl(function(ai,oi){var si=ti.getItemModel(oi),li=ai.childAt(0),ui=ai.childAt(1),fi=ai.childAt(2),hi=ti.getItemVisual(oi,"style"),ci=hi.fill;Qr.add(ai),li.useStyle(Yi(si.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:ci})),ia(li,si,"lineStyle"),ia(ui,si,"areaStyle");var pi=si.getModel("areaStyle"),di=pi.isEmpty()&&pi.parentModel.isEmpty();ui.ignore=di,_i(["emphasis","select","blur"],function(gi){var yi=si.getModel([gi,"areaStyle"]),Si=yi.isEmpty()&&yi.parentModel.isEmpty();ui.ensureState(gi).ignore=Si&&di}),ui.useStyle(Yi(pi.getAreaStyle(),{fill:ci,opacity:.7,decal:hi.decal}));var vi=si.getModel("emphasis"),mi=vi.getModel("itemStyle").getItemStyle();fi.eachChild(function(gi){if(gi instanceof Kn){var yi=gi.style;gi.useStyle(ki({image:yi.image,x:yi.x,y:yi.y,width:yi.width,height:yi.height},hi))}else gi.useStyle(hi),gi.setColor(ci),gi.style.strokeNoScale=!0;var Si=gi.ensureState("emphasis");Si.style=Ki(mi);var bi=ti.getStore().get(ti.getDimensionIndex(gi.__dimIdx),oi);(bi==null||isNaN(bi))&&(bi=""),jn(gi,Hn(si),{labelFetcher:ti.hostModel,labelDataIndex:oi,labelDimIndex:gi.__dimIdx,defaultText:bi,inheritColor:ci,defaultOpacity:hi.opacity})}),In(ai,vi.get("focus"),vi.get("blurScope"),vi.get("disabled"))}),this._data=ti},Gr.prototype.remove=function(){this.group.removeAll(),this._data=null},Gr.type="radar",Gr}(An),XN=Hj;var Wj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.hasSymbolVisual=!0,Wr}return Gr.prototype.init=function(Wr){Yr.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wl(Gi(this.getData,this),Gi(this.getRawData,this))},Gr.prototype.getInitialData=function(Wr,Zr){return vs(this,{generateCoord:"indicator_",generateCoordCount:1/0})},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){var Jr=this.getData(),Qr=this.coordinateSystem,ti=Qr.getIndicatorAxes(),ei=this.getData().getName(Wr),ri=ei===""?this.name:ei,ii=a0(this,Wr);return Jn("section",{header:ri,sortBlocks:!0,blocks:Oi(ti,function(ni){var ai=Jr.get(Jr.mapDimension(ni.dim),Wr);return Jn("nameValue",{markerType:"subItem",markerColor:ii,name:ni.name,value:ai,sortParam:ai})})})},Gr.prototype.getTooltipPosition=function(Wr){if(Wr!=null){for(var Zr=this.getData(),Kr=this.coordinateSystem,Jr=Zr.getValues(Oi(Kr.dimensions,function(ri){return Zr.mapDimension(ri)}),Wr),Qr=0,ti=Jr.length;Qr<ti;Qr++)if(!isNaN(Jr[Qr])){var ei=Kr.getIndicatorAxes();return Kr.coordToPoint(ei[Qr].dataToCoord(Jr[Qr]),Qr)}}},Gr.type="series.radar",Gr.dependencies=["radar"],Gr.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},Gr}(Pn),qN=Wj;var rm=gx.value;function Tx(Yr,Gr){return Yi({show:Gr},Yr)}var Yj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.optionUpdated=function(){var Wr=this.get("boundaryGap"),Zr=this.get("splitNumber"),Kr=this.get("scale"),Jr=this.get("axisLine"),Qr=this.get("axisTick"),ti=this.get("axisLabel"),ei=this.get("axisName"),ri=this.get(["axisName","show"]),ii=this.get(["axisName","formatter"]),ni=this.get("axisNameGap"),ai=this.get("triggerEvent"),oi=Oi(this.get("indicator")||[],function(si){si.max!=null&&si.max>0&&!si.min?si.min=0:si.min!=null&&si.min<0&&!si.max&&(si.max=0);var li=ei;si.color!=null&&(li=Yi({color:si.color},ei));var ui=un(Ki(si),{boundaryGap:Wr,splitNumber:Zr,scale:Kr,axisLine:Jr,axisTick:Qr,axisLabel:ti,name:si.text,showName:ri,nameLocation:"end",nameGap:ni,nameTextStyle:li,triggerEvent:ai},!1);if(Ni(ii)){var fi=ui.name;ui.name=ii.replace("{value}",fi??"")}else Wi(ii)&&(ui.name=ii(ui.name,ui));var hi=new Mn(ui,null,this.ecModel);return Gn(hi,Nl.prototype),hi.mainType="radar",hi.componentIndex=this.componentIndex,hi},this);this._indicatorModels=oi},Gr.prototype.getIndicatorModels=function(){return this._indicatorModels},Gr.type="radar",Gr.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:un({lineStyle:{color:"#bbb"}},rm.axisLine),axisLabel:Tx(rm.axisLabel,!1),axisTick:Tx(rm.axisTick,!1),splitLine:Tx(rm.splitLine,!0),splitArea:Tx(rm.splitArea,!0),indicator:[]},Gr}(_n),ZN=Yj;var Xj=["axisLine","axisTickLabel","axisName"],qj=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this.group;Jr.removeAll(),this._buildAxes(Wr),this._buildSplitLineAndArea(Wr)},Gr.prototype._buildAxes=function(Wr){var Zr=Wr.coordinateSystem,Kr=Zr.getIndicatorAxes(),Jr=Oi(Kr,function(Qr){var ti=Qr.model.get("showName")?Qr.name:"",ei=new so(Qr.model,{axisName:ti,position:[Zr.cx,Zr.cy],rotation:Qr.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return ei});_i(Jr,function(Qr){_i(Xj,Qr.add,Qr),this.group.add(Qr.getGroup())},this)},Gr.prototype._buildSplitLineAndArea=function(Wr){var Zr=Wr.coordinateSystem,Kr=Zr.getIndicatorAxes();if(!Kr.length)return;var Jr=Wr.get("shape"),Qr=Wr.getModel("splitLine"),ti=Wr.getModel("splitArea"),ei=Qr.getModel("lineStyle"),ri=ti.getModel("areaStyle"),ii=Qr.get("show"),ni=ti.get("show"),ai=ei.get("color"),oi=ri.get("color"),si=Ri(ai)?ai:[ai],li=Ri(oi)?oi:[oi],ui=[],fi=[];function hi(Mi,wi,Pi){var xi=Pi%wi.length;return Mi[xi]=Mi[xi]||[],xi}if(Jr==="circle")for(var ci=Kr[0].getTicksCoords(),pi=Zr.cx,di=Zr.cy,vi=0;vi<ci.length;vi++){if(ii){var mi=hi(ui,si,vi);ui[mi].push(new wo({shape:{cx:pi,cy:di,r:ci[vi].coord}}))}if(ni&&vi<ci.length-1){var mi=hi(fi,li,vi);fi[mi].push(new Eh({shape:{cx:pi,cy:di,r0:ci[vi].coord,r:ci[vi+1].coord}}))}}else for(var gi,yi=Oi(Kr,function(Mi,wi){var Pi=Mi.getTicksCoords();return gi=gi==null?Pi.length-1:Math.min(Pi.length-1,gi),Oi(Pi,function(xi){return Zr.coordToPoint(xi.coord,wi)})}),Si=[],vi=0;vi<=gi;vi++){for(var bi=[],Ti=0;Ti<Kr.length;Ti++)bi.push(yi[Ti][vi]);if(bi[0]&&bi.push(bi[0].slice()),ii){var mi=hi(ui,si,vi);ui[mi].push(new la({shape:{points:bi}}))}if(ni&&Si){var mi=hi(fi,li,vi-1);fi[mi].push(new fa({shape:{points:bi.concat(Si)}}))}Si=bi.slice().reverse()}var Ai=ei.getLineStyle(),Ei=ri.getAreaStyle();_i(fi,function(Mi,wi){this.group.add(vo(Mi,{style:Yi({stroke:"none",fill:li[wi%li.length]},Ei),silent:!0}))},this),_i(ui,function(Mi,wi){this.group.add(vo(Mi,{style:Yi({fill:"none",stroke:si[wi%si.length]},Ai),silent:!0}))},this)},Gr.type="radar",Gr}(Dn),jN=qj;var Zj=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this,Wr,Zr,Kr)||this;return Jr.type="value",Jr.angle=0,Jr.name="",Jr}return Gr}(Ka),KN=Zj;var jj=function(){function Yr(Gr,Wr,Zr){this.dimensions=[],this._model=Gr,this._indicatorAxes=Oi(Gr.getIndicatorModels(),function(Kr,Jr){var Qr="indicator_"+Jr,ti=new KN(Qr,new Ko);return ti.name=Kr.get("name"),ti.model=Kr,Kr.axis=ti,this.dimensions.push(Qr),ti},this),this.resize(Gr,Zr)}return Yr.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Yr.prototype.dataToPoint=function(Gr,Wr){var Zr=this._indicatorAxes[Wr];return this.coordToPoint(Zr.dataToCoord(Gr),Wr)},Yr.prototype.coordToPoint=function(Gr,Wr){var Zr=this._indicatorAxes[Wr],Kr=Zr.angle,Jr=this.cx+Gr*Math.cos(Kr),Qr=this.cy-Gr*Math.sin(Kr);return[Jr,Qr]},Yr.prototype.pointToData=function(Gr){var Wr=Gr[0]-this.cx,Zr=Gr[1]-this.cy,Kr=Math.sqrt(Wr*Wr+Zr*Zr);Wr/=Kr,Zr/=Kr;for(var Jr=Math.atan2(-Zr,Wr),Qr=1/0,ti,ei=-1,ri=0;ri<this._indicatorAxes.length;ri++){var ii=this._indicatorAxes[ri],ni=Math.abs(Jr-ii.angle);ni<Qr&&(ti=ii,ei=ri,Qr=ni)}return[ei,+(ti&&ti.coordToData(Kr))]},Yr.prototype.resize=function(Gr,Wr){var Zr=Gr.get("center"),Kr=Wr.getWidth(),Jr=Wr.getHeight(),Qr=Math.min(Kr,Jr)/2;this.cx=Ui(Zr[0],Kr),this.cy=Ui(Zr[1],Jr),this.startAngle=Gr.get("startAngle")*Math.PI/180;var ti=Gr.get("radius");(Ni(ti)||gn(ti))&&(ti=[0,ti]),this.r0=Ui(ti[0],Qr),this.r=Ui(ti[1],Qr),_i(this._indicatorAxes,function(ei,ri){ei.setExtent(this.r0,this.r);var ii=this.startAngle+ri*Math.PI*2/this._indicatorAxes.length;ii=Math.atan2(Math.sin(ii),Math.cos(ii)),ei.angle=ii},this)},Yr.prototype.update=function(Gr,Wr){var Zr=this._indicatorAxes,Kr=this._model;_i(Zr,function(ti){ti.scale.setExtent(1/0,-1/0)}),Gr.eachSeriesByType("radar",function(ti,ei){if(!(ti.get("coordinateSystem")!=="radar"||Gr.getComponent("radar",ti.get("radarIndex"))!==Kr)){var ri=ti.getData();_i(Zr,function(ii){ii.scale.unionExtentFromData(ri,ri.mapDimension(ii.dim))})}},this);var Jr=Kr.get("splitNumber"),Qr=new Ko;Qr.setExtent(0,Jr),Qr.setInterval(1),_i(Zr,function(ti,ei){xx(ti.scale,ti.model,Qr)})},Yr.prototype.convertToPixel=function(Gr,Wr,Zr){return console.warn("Not implemented."),null},Yr.prototype.convertFromPixel=function(Gr,Wr,Zr){return console.warn("Not implemented."),null},Yr.prototype.containPoint=function(Gr){return console.warn("Not implemented."),!1},Yr.create=function(Gr,Wr){var Zr=[];return Gr.eachComponent("radar",function(Kr){var Jr=new Yr(Kr,Gr,Wr);Zr.push(Jr),Kr.coordinateSystem=Jr}),Gr.eachSeriesByType("radar",function(Kr){Kr.get("coordinateSystem")==="radar"&&(Kr.coordinateSystem=Zr[Kr.get("radarIndex")||0])}),Zr},Yr.dimensions=[],Yr}(),$N=jj;function JN(Yr){Yr.registerCoordinateSystem("radar",$N),Yr.registerComponentModel(ZN),Yr.registerComponentView(jN),Yr.registerVisual({seriesType:"radar",reset:function(Gr){var Wr=Gr.getData();Wr.each(function(Zr){Wr.setItemVisual(Zr,"legendIcon","roundRect")}),Wr.setVisual("legendIcon","roundRect")}})}function $C(Yr){Sn(JN),Yr.registerChartView(XN),Yr.registerSeriesModel(qN),Yr.registerLayout(jC),Yr.registerProcessor(gl("radar")),Yr.registerPreprocessor(KC)}var QN="\0_ec_interaction_mutex";function tF(Yr,Gr,Wr){var Zr=QC(Yr);Zr[Gr]=Wr}function eF(Yr,Gr,Wr){var Zr=QC(Yr),Kr=Zr[Gr];Kr===Wr&&(Zr[Gr]=null)}function JC(Yr,Gr){return!!QC(Yr)[Gr]}function QC(Yr){return Yr[QN]||(Yr[QN]={})}Ao({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},qn);var Kj=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this)||this;Zr._zr=Wr;var Kr=Gi(Zr._mousedownHandler,Zr),Jr=Gi(Zr._mousemoveHandler,Zr),Qr=Gi(Zr._mouseupHandler,Zr),ti=Gi(Zr._mousewheelHandler,Zr),ei=Gi(Zr._pinchHandler,Zr);return Zr.enable=function(ri,ii){this.disable(),this._opt=Yi(Ki(ii)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),ri==null&&(ri=!0),(ri===!0||ri==="move"||ri==="pan")&&(Wr.on("mousedown",Kr),Wr.on("mousemove",Jr),Wr.on("mouseup",Qr)),(ri===!0||ri==="scale"||ri==="zoom")&&(Wr.on("mousewheel",ti),Wr.on("pinch",ei))},Zr.disable=function(){Wr.off("mousedown",Kr),Wr.off("mousemove",Jr),Wr.off("mouseup",Qr),Wr.off("mousewheel",ti),Wr.off("pinch",ei)},Zr}return Gr.prototype.isDragging=function(){return this._dragging},Gr.prototype.isPinching=function(){return this._pinching},Gr.prototype.setPointerChecker=function(Wr){this.pointerChecker=Wr},Gr.prototype.dispose=function(){this.disable()},Gr.prototype._mousedownHandler=function(Wr){if(!Hb(Wr)){for(var Zr=Wr.target;Zr;){if(Zr.draggable)return;Zr=Zr.__hostTarget||Zr.parent}var Kr=Wr.offsetX,Jr=Wr.offsetY;this.pointerChecker&&this.pointerChecker(Wr,Kr,Jr)&&(this._x=Kr,this._y=Jr,this._dragging=!0)}},Gr.prototype._mousemoveHandler=function(Wr){if(!(!this._dragging||!Ax("moveOnMouseMove",Wr,this._opt)||Wr.gestureEvent==="pinch"||JC(this._zr,"globalPan"))){var Zr=Wr.offsetX,Kr=Wr.offsetY,Jr=this._x,Qr=this._y,ti=Zr-Jr,ei=Kr-Qr;this._x=Zr,this._y=Kr,this._opt.preventDefaultMouseMove&&Ro(Wr.event),iF(this,"pan","moveOnMouseMove",Wr,{dx:ti,dy:ei,oldX:Jr,oldY:Qr,newX:Zr,newY:Kr,isAvailableBehavior:null})}},Gr.prototype._mouseupHandler=function(Wr){Hb(Wr)||(this._dragging=!1)},Gr.prototype._mousewheelHandler=function(Wr){var Zr=Ax("zoomOnMouseWheel",Wr,this._opt),Kr=Ax("moveOnMouseWheel",Wr,this._opt),Jr=Wr.wheelDelta,Qr=Math.abs(Jr),ti=Wr.offsetX,ei=Wr.offsetY;if(!(Jr===0||!Zr&&!Kr)){if(Zr){var ri=Qr>3?1.4:Qr>1?1.2:1.1,ii=Jr>0?ri:1/ri;tT(this,"zoom","zoomOnMouseWheel",Wr,{scale:ii,originX:ti,originY:ei,isAvailableBehavior:null})}if(Kr){var ni=Math.abs(Jr),ai=(Jr>0?1:-1)*(ni>3?.4:ni>1?.15:.05);tT(this,"scrollMove","moveOnMouseWheel",Wr,{scrollDelta:ai,originX:ti,originY:ei,isAvailableBehavior:null})}}},Gr.prototype._pinchHandler=function(Wr){if(!JC(this._zr,"globalPan")){var Zr=Wr.pinchScale>1?1.1:1/1.1;tT(this,"zoom",null,Wr,{scale:Zr,originX:Wr.pinchX,originY:Wr.pinchY,isAvailableBehavior:null})}},Gr}(Ia);function tT(Yr,Gr,Wr,Zr,Kr){Yr.pointerChecker&&Yr.pointerChecker(Zr,Kr.originX,Kr.originY)&&(Ro(Zr.event),iF(Yr,Gr,Wr,Zr,Kr))}function iF(Yr,Gr,Wr,Zr,Kr){Kr.isAvailableBehavior=Gi(Ax,null,Wr,Zr),Yr.trigger(Gr,Kr)}function Ax(Yr,Gr,Wr){var Zr=Wr[Yr];return!Yr||Zr&&(!Ni(Zr)||Gr.event[Zr+"Key"])}var Yl=Kj;function Sp(Yr,Gr,Wr){var Zr=Yr.target;Zr.x+=Gr,Zr.y+=Wr,Zr.dirty()}function wp(Yr,Gr,Wr,Zr){var Kr=Yr.target,Jr=Yr.zoomLimit,Qr=Yr.zoom=Yr.zoom||1;if(Qr*=Gr,Jr){var ti=Jr.min||0,ei=Jr.max||1/0;Qr=Math.max(Math.min(ei,Qr),ti)}var ri=Qr/Yr.zoom;Yr.zoom=Qr,Kr.x-=(Wr-Kr.x)*(ri-1),Kr.y-=(Zr-Kr.y)*(ri-1),Kr.scaleX*=ri,Kr.scaleY*=ri,Kr.dirty()}var $j={axisPointer:1,tooltip:1,brush:1};function Cf(Yr,Gr,Wr){var Zr=Gr.getComponentByElement(Yr.topTarget),Kr=Zr&&Zr.coordinateSystem;return Zr&&Zr!==Wr&&!$j.hasOwnProperty(Zr.mainType)&&Kr&&Kr.model!==Wr}function Mx(Yr){if(Ni(Yr)){var Gr=new DOMParser;Yr=Gr.parseFromString(Yr,"text/xml")}var Wr=Yr;for(Wr.nodeType===9&&(Wr=Wr.firstChild);Wr.nodeName.toLowerCase()!=="svg"||Wr.nodeType!==1;)Wr=Wr.nextSibling;return Wr}var rT,Px={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},nF=fn(Px),Ex={"alignment-baseline":"textBaseline","stop-color":"stopColor"},aF=fn(Ex),Jj=function(){function Yr(){this._defs={},this._root=null}return Yr.prototype.parse=function(Gr,Wr){Wr=Wr||{};var Zr=Mx(Gr);this._defsUsePending=[];var Kr=new Zi;this._root=Kr;var Jr=[],Qr=Zr.getAttribute("viewBox")||"",ti=parseFloat(Zr.getAttribute("width")||Wr.width),ei=parseFloat(Zr.getAttribute("height")||Wr.height);isNaN(ti)&&(ti=null),isNaN(ei)&&(ei=null),ms(Zr,Kr,null,!0,!1);for(var ri=Zr.firstChild;ri;)this._parseNode(ri,Kr,Jr,null,!1,!1),ri=ri.nextSibling;eK(this._defs,this._defsUsePending),this._defsUsePending=[];var ii,ni;if(Qr){var ai=Dx(Qr);ai.length>=4&&(ii={x:parseFloat(ai[0]||0),y:parseFloat(ai[1]||0),width:parseFloat(ai[2]),height:parseFloat(ai[3])})}if(ii&&ti!=null&&ei!=null&&(ni=nT(ii,{x:0,y:0,width:ti,height:ei}),!Wr.ignoreViewBox)){var oi=Kr;Kr=new Zi,Kr.add(oi),oi.scaleX=oi.scaleY=ni.scale,oi.x=ni.x,oi.y=ni.y}return!Wr.ignoreRootClip&&ti!=null&&ei!=null&&Kr.setClipPath(new mn({shape:{x:0,y:0,width:ti,height:ei}})),{root:Kr,width:ti,height:ei,viewBoxRect:ii,viewBoxTransform:ni,named:Jr}},Yr.prototype._parseNode=function(Gr,Wr,Zr,Kr,Jr,Qr){var ti=Gr.nodeName.toLowerCase(),ei,ri=Kr;if(ti==="defs"&&(Jr=!0),ti==="text"&&(Qr=!0),ti==="defs"||ti==="switch")ei=Wr;else{if(!Jr){var ii=rT[ti];if(ii&&$i(rT,ti)){ei=ii.call(this,Gr,Wr);var ni=Gr.getAttribute("name");if(ni){var ai={name:ni,namedFrom:null,svgNodeTagLower:ti,el:ei};Zr.push(ai),ti==="g"&&(ri=ai)}else Kr&&Zr.push({name:Kr.name,namedFrom:Kr,svgNodeTagLower:ti,el:ei});Wr.add(ei)}}var oi=oF[ti];if(oi&&$i(oF,ti)){var si=oi.call(this,Gr),li=Gr.getAttribute("id");li&&(this._defs[li]=si)}}if(ei&&ei.isGroup)for(var ui=Gr.firstChild;ui;)ui.nodeType===1?this._parseNode(ui,ei,Zr,ri,Jr,Qr):ui.nodeType===3&&Qr&&this._parseText(ui,ei),ui=ui.nextSibling},Yr.prototype._parseText=function(Gr,Wr){var Zr=new su({style:{text:Gr.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Qj(Zr,Wr);var Kr=Zr.style,Jr=Kr.fontSize;Jr&&Jr<9&&(Kr.fontSize=9,Zr.scaleX*=Jr/9,Zr.scaleY*=Jr/9);var Qr=(Kr.fontSize||Kr.fontFamily)&&[Kr.fontStyle,Kr.fontWeight,(Kr.fontSize||12)+"px",Kr.fontFamily||"sans-serif"].join(" ");Kr.font=Qr;var ti=Zr.getBoundingRect();return this._textX+=ti.width,Wr.add(Zr),Zr},Yr.internalField=function(){rT={g:function(Gr,Wr){var Zr=new Zi;return Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Zr},rect:function(Gr,Wr){var Zr=new mn;return Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({x:parseFloat(Gr.getAttribute("x")||"0"),y:parseFloat(Gr.getAttribute("y")||"0"),width:parseFloat(Gr.getAttribute("width")||"0"),height:parseFloat(Gr.getAttribute("height")||"0")}),Zr.silent=!0,Zr},circle:function(Gr,Wr){var Zr=new wo;return Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({cx:parseFloat(Gr.getAttribute("cx")||"0"),cy:parseFloat(Gr.getAttribute("cy")||"0"),r:parseFloat(Gr.getAttribute("r")||"0")}),Zr.silent=!0,Zr},line:function(Gr,Wr){var Zr=new sa;return Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({x1:parseFloat(Gr.getAttribute("x1")||"0"),y1:parseFloat(Gr.getAttribute("y1")||"0"),x2:parseFloat(Gr.getAttribute("x2")||"0"),y2:parseFloat(Gr.getAttribute("y2")||"0")}),Zr.silent=!0,Zr},ellipse:function(Gr,Wr){var Zr=new ev;return Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({cx:parseFloat(Gr.getAttribute("cx")||"0"),cy:parseFloat(Gr.getAttribute("cy")||"0"),rx:parseFloat(Gr.getAttribute("rx")||"0"),ry:parseFloat(Gr.getAttribute("ry")||"0")}),Zr.silent=!0,Zr},polygon:function(Gr,Wr){var Zr=Gr.getAttribute("points"),Kr;Zr&&(Kr=uF(Zr));var Jr=new fa({shape:{points:Kr||[]},silent:!0});return Fs(Wr,Jr),ms(Gr,Jr,this._defsUsePending,!1,!1),Jr},polyline:function(Gr,Wr){var Zr=Gr.getAttribute("points"),Kr;Zr&&(Kr=uF(Zr));var Jr=new la({shape:{points:Kr||[]},silent:!0});return Fs(Wr,Jr),ms(Gr,Jr,this._defsUsePending,!1,!1),Jr},image:function(Gr,Wr){var Zr=new Kn;return Fs(Wr,Zr),ms(Gr,Zr,this._defsUsePending,!1,!1),Zr.setStyle({image:Gr.getAttribute("xlink:href")||Gr.getAttribute("href"),x:+Gr.getAttribute("x"),y:+Gr.getAttribute("y"),width:+Gr.getAttribute("width"),height:+Gr.getAttribute("height")}),Zr.silent=!0,Zr},text:function(Gr,Wr){var Zr=Gr.getAttribute("x")||"0",Kr=Gr.getAttribute("y")||"0",Jr=Gr.getAttribute("dx")||"0",Qr=Gr.getAttribute("dy")||"0";this._textX=parseFloat(Zr)+parseFloat(Jr),this._textY=parseFloat(Kr)+parseFloat(Qr);var ti=new Zi;return Fs(Wr,ti),ms(Gr,ti,this._defsUsePending,!1,!0),ti},tspan:function(Gr,Wr){var Zr=Gr.getAttribute("x"),Kr=Gr.getAttribute("y");Zr!=null&&(this._textX=parseFloat(Zr)),Kr!=null&&(this._textY=parseFloat(Kr));var Jr=Gr.getAttribute("dx")||"0",Qr=Gr.getAttribute("dy")||"0",ti=new Zi;return Fs(Wr,ti),ms(Gr,ti,this._defsUsePending,!1,!0),this._textX+=parseFloat(Jr),this._textY+=parseFloat(Qr),ti},path:function(Gr,Wr){var Zr=Gr.getAttribute("d")||"",Kr=_y(Zr);return Fs(Wr,Kr),ms(Gr,Kr,this._defsUsePending,!1,!1),Kr.silent=!0,Kr}}}(),Yr}(),oF={lineargradient:function(Yr){var Gr=parseInt(Yr.getAttribute("x1")||"0",10),Wr=parseInt(Yr.getAttribute("y1")||"0",10),Zr=parseInt(Yr.getAttribute("x2")||"10",10),Kr=parseInt(Yr.getAttribute("y2")||"0",10),Jr=new kl(Gr,Wr,Zr,Kr);return sF(Yr,Jr),lF(Yr,Jr),Jr},radialgradient:function(Yr){var Gr=parseInt(Yr.getAttribute("cx")||"0",10),Wr=parseInt(Yr.getAttribute("cy")||"0",10),Zr=parseInt(Yr.getAttribute("r")||"0",10),Kr=new Cy(Gr,Wr,Zr);return sF(Yr,Kr),lF(Yr,Kr),Kr}};function sF(Yr,Gr){var Wr=Yr.getAttribute("gradientUnits");Wr==="userSpaceOnUse"&&(Gr.global=!0)}function lF(Yr,Gr){for(var Wr=Yr.firstChild;Wr;){if(Wr.nodeType===1&&Wr.nodeName.toLocaleLowerCase()==="stop"){var Zr=Wr.getAttribute("offset"),Kr=void 0;Zr&&Zr.indexOf("%")>0?Kr=parseInt(Zr,10)/100:Zr?Kr=parseFloat(Zr):Kr=0;var Jr={};cF(Wr,Jr,Jr);var Qr=Jr.stopColor||Wr.getAttribute("stop-color")||"#000000";Gr.colorStops.push({offset:Kr,color:Qr})}Wr=Wr.nextSibling}}function Fs(Yr,Gr){Yr&&Yr.__inheritedStyle&&(Gr.__inheritedStyle||(Gr.__inheritedStyle={}),Yi(Gr.__inheritedStyle,Yr.__inheritedStyle))}function uF(Yr){for(var Gr=Dx(Yr),Wr=[],Zr=0;Zr<Gr.length;Zr+=2){var Kr=parseFloat(Gr[Zr]),Jr=parseFloat(Gr[Zr+1]);Wr.push([Kr,Jr])}return Wr}function ms(Yr,Gr,Wr,Zr,Kr){var Jr=Gr,Qr=Jr.__inheritedStyle=Jr.__inheritedStyle||{},ti={};Yr.nodeType===1&&(nK(Yr,Gr),cF(Yr,Qr,ti),Zr||aK(Yr,Qr,ti)),Jr.style=Jr.style||{},Qr.fill!=null&&(Jr.style.fill=fF(Jr,"fill",Qr.fill,Wr)),Qr.stroke!=null&&(Jr.style.stroke=fF(Jr,"stroke",Qr.stroke,Wr)),_i(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(ei){Qr[ei]!=null&&(Jr.style[ei]=parseFloat(Qr[ei]))}),_i(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(ei){Qr[ei]!=null&&(Jr.style[ei]=Qr[ei])}),Kr&&(Jr.__selfStyle=ti),Qr.lineDash&&(Jr.style.lineDash=Oi(Dx(Qr.lineDash),function(ei){return parseFloat(ei)})),(Qr.visibility==="hidden"||Qr.visibility==="collapse")&&(Jr.invisible=!0),Qr.display==="none"&&(Jr.ignore=!0)}function Qj(Yr,Gr){var Wr=Gr.__selfStyle;if(Wr){var Zr=Wr.textBaseline,Kr=Zr;!Zr||Zr==="auto"||Zr==="baseline"?Kr="alphabetic":Zr==="before-edge"||Zr==="text-before-edge"?Kr="top":Zr==="after-edge"||Zr==="text-after-edge"?Kr="bottom":(Zr==="central"||Zr==="mathematical")&&(Kr="middle"),Yr.style.textBaseline=Kr}var Jr=Gr.__inheritedStyle;if(Jr){var Qr=Jr.textAlign,ti=Qr;Qr&&(Qr==="middle"&&(ti="center"),Yr.style.textAlign=ti)}}var tK=/^url\(\s*#(.*?)\)/;function fF(Yr,Gr,Wr,Zr){var Kr=Wr&&Wr.match(tK);if(Kr){var Jr=Va(Kr[1]);Zr.push([Yr,Gr,Jr]);return}return Wr==="none"&&(Wr=null),Wr}function eK(Yr,Gr){for(var Wr=0;Wr<Gr.length;Wr++){var Zr=Gr[Wr];Zr[0].style[Zr[1]]=Yr[Zr[2]]}}var rK=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Dx(Yr){return Yr.match(rK)||[]}var iK=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,iT=Math.PI/180;function nK(Yr,Gr){var Wr=Yr.getAttribute("transform");if(Wr){Wr=Wr.replace(/,/g," ");var Zr=[],Kr=null;Wr.replace(iK,function(ni,ai,oi){return Zr.push(ai,oi),""});for(var Jr=Zr.length-1;Jr>0;Jr-=2){var Qr=Zr[Jr],ti=Zr[Jr-1],ei=Dx(Qr);switch(Kr=Kr||Aa(),ti){case"translate":to(Kr,Kr,[parseFloat(ei[0]),parseFloat(ei[1]||"0")]);break;case"scale":Pc(Kr,Kr,[parseFloat(ei[0]),parseFloat(ei[1]||ei[0])]);break;case"rotate":zo(Kr,Kr,-parseFloat(ei[0])*iT,[parseFloat(ei[1]||"0"),parseFloat(ei[2]||"0")]);break;case"skewX":var ri=Math.tan(parseFloat(ei[0])*iT);Oo(Kr,[1,0,ri,1,0,0],Kr);break;case"skewY":var ii=Math.tan(parseFloat(ei[0])*iT);Oo(Kr,[1,ii,0,1,0,0],Kr);break;case"matrix":Kr[0]=parseFloat(ei[0]),Kr[1]=parseFloat(ei[1]),Kr[2]=parseFloat(ei[2]),Kr[3]=parseFloat(ei[3]),Kr[4]=parseFloat(ei[4]),Kr[5]=parseFloat(ei[5]);break}}Gr.setLocalTransform(Kr)}}var hF=/([^\s:;]+)\s*:\s*([^:;]+)/g;function cF(Yr,Gr,Wr){var Zr=Yr.getAttribute("style");if(Zr){hF.lastIndex=0;for(var Kr;(Kr=hF.exec(Zr))!=null;){var Jr=Kr[1],Qr=$i(Px,Jr)?Px[Jr]:null;Qr&&(Gr[Qr]=Kr[2]);var ti=$i(Ex,Jr)?Ex[Jr]:null;ti&&(Wr[ti]=Kr[2])}}}function aK(Yr,Gr,Wr){for(var Zr=0;Zr<nF.length;Zr++){var Kr=nF[Zr],Jr=Yr.getAttribute(Kr);Jr!=null&&(Gr[Px[Kr]]=Jr)}for(var Zr=0;Zr<aF.length;Zr++){var Kr=aF[Zr],Jr=Yr.getAttribute(Kr);Jr!=null&&(Wr[Ex[Kr]]=Jr)}}function nT(Yr,Gr){var Wr=Gr.width/Yr.width,Zr=Gr.height/Yr.height,Kr=Math.min(Wr,Zr);return{scale:Kr,x:-(Yr.x+Yr.width/2)*Kr+(Gr.x+Gr.width/2),y:-(Yr.y+Yr.height/2)*Kr+(Gr.y+Gr.height/2)}}function pF(Yr,Gr){var Wr=new Jj;return Wr.parse(Yr,Gr)}var oK=Hi(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),dF=function(){function Yr(Gr,Wr){this.type="geoSVG",this._usedGraphicMap=Hi(),this._freedGraphics=[],this._mapName=Gr,this._parsedXML=Mx(Wr)}return Yr.prototype.load=function(){var Gr=this._firstGraphic;if(!Gr){Gr=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(Gr),this._boundingRect=this._firstGraphic.boundingRect.clone();var Wr=lK(Gr.named),Zr=Wr.regions,Kr=Wr.regionsMap;this._regions=Zr,this._regionsMap=Kr}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},Yr.prototype._buildGraphic=function(Gr){var Wr,Zr;try{Wr=Gr&&pF(Gr,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Zr=Wr.root,ea(Zr!=null)}catch(ui){throw new Error(`Invalid svg format
`+ui.message)}var Kr=new Zi;Kr.add(Zr),Kr.isGeoSVGGraphicRoot=!0;var Jr=Wr.width,Qr=Wr.height,ti=Wr.viewBoxRect,ei=this._boundingRect;if(!ei){var ri=void 0,ii=void 0,ni=void 0,ai=void 0;if(Jr!=null?(ri=0,ni=Jr):ti&&(ri=ti.x,ni=ti.width),Qr!=null?(ii=0,ai=Qr):ti&&(ii=ti.y,ai=ti.height),ri==null||ii==null){var oi=Zr.getBoundingRect();ri==null&&(ri=oi.x,ni=oi.width),ii==null&&(ii=oi.y,ai=oi.height)}ei=this._boundingRect=new rn(ri,ii,ni,ai)}if(ti){var si=nT(ti,ei);Zr.scaleX=Zr.scaleY=si.scale,Zr.x=si.x,Zr.y=si.y}Kr.setClipPath(new mn({shape:ei.plain()}));var li=[];return _i(Wr.named,function(ui){oK.get(ui.svgNodeTagLower)!=null&&(li.push(ui),sK(ui.el))}),{root:Kr,boundingRect:ei,named:li}},Yr.prototype.useGraphic=function(Gr){var Wr=this._usedGraphicMap,Zr=Wr.get(Gr);return Zr||(Zr=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),Wr.set(Gr,Zr),Zr)},Yr.prototype.freeGraphic=function(Gr){var Wr=this._usedGraphicMap,Zr=Wr.get(Gr);Zr&&(Wr.removeKey(Gr),this._freedGraphics.push(Zr))},Yr}();function sK(Yr){Yr.silent=!1,Yr.isGroup&&Yr.traverse(function(Gr){Gr.silent=!1})}function lK(Yr){var Gr=[],Wr=Hi();return _i(Yr,function(Zr){if(Zr.namedFrom==null){var Kr=new ZO(Zr.name,Zr.el);Gr.push(Kr),Wr.set(Zr.name,Kr)}}),{regions:Gr,regionsMap:Wr}}var aT=[126,25],vF="\u5357\u6D77\u8BF8\u5C9B",Qh=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(Tf=0;Tf<Qh.length;Tf++)for(Jh=0;Jh<Qh[Tf].length;Jh++)Qh[Tf][Jh][0]/=10.5,Qh[Tf][Jh][1]/=-10.5/.75,Qh[Tf][Jh][0]+=aT[0],Qh[Tf][Jh][1]+=aT[1];var Jh,Tf;function oT(Yr,Gr){if(Yr==="china"){for(var Wr=0;Wr<Gr.length;Wr++)if(Gr[Wr].name===vF)return;Gr.push(new X0(vF,Oi(Qh,function(Zr){return{type:"polygon",exterior:Zr}}),aT))}}var uK={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function sT(Yr,Gr){if(Yr==="china"){var Wr=uK[Gr.name];if(Wr){var Zr=Gr.getCenter();Zr[0]+=Wr[0]/10.5,Zr[1]+=-Wr[1]/(10.5/.75),Gr.setCenter(Zr)}}}var fK=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function lT(Yr,Gr){Yr==="china"&&Gr.name==="\u53F0\u6E7E"&&Gr.geometries.push({type:"polygon",exterior:fK[0]})}var hK="name",mF=function(){function Yr(Gr,Wr,Zr){this.type="geoJSON",this._parsedMap=Hi(),this._mapName=Gr,this._specialAreas=Zr,this._geoJSON=pK(Wr)}return Yr.prototype.load=function(Gr,Wr){Wr=Wr||hK;var Zr=this._parsedMap.get(Wr);if(!Zr){var Kr=this._parseToRegions(Wr);Zr=this._parsedMap.set(Wr,{regions:Kr,boundingRect:cK(Kr)})}var Jr=Hi(),Qr=[];return _i(Zr.regions,function(ti){var ei=ti.name;Gr&&$i(Gr,ei)&&(ti=ti.cloneShallow(ei=Gr[ei])),Qr.push(ti),Jr.set(ei,ti)}),{regions:Qr,boundingRect:Zr.boundingRect||new rn(0,0,0,0),regionsMap:Jr}},Yr.prototype._parseToRegions=function(Gr){var Wr=this._mapName,Zr=this._geoJSON,Kr;try{Kr=Zr?qw(Zr,Gr):[]}catch(Jr){throw new Error(`Invalid geoJson format
`+Jr.message)}return oT(Wr,Kr),_i(Kr,function(Jr){var Qr=Jr.name;sT(Wr,Jr),lT(Wr,Jr);var ti=this._specialAreas&&this._specialAreas[Qr];ti&&Jr.transformTo(ti.left,ti.top,ti.width,ti.height)},this),Kr},Yr.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},Yr}();function cK(Yr){for(var Gr,Wr=0;Wr<Yr.length;Wr++){var Zr=Yr[Wr].getBoundingRect();Gr=Gr||Zr.clone(),Gr.union(Zr)}return Gr}function pK(Yr){return Ni(Yr)?typeof JSON<"u"&&JSON.parse?JSON.parse(Yr):new Function("return ("+Yr+");")():Yr}var im=Hi(),Do={registerMap:function(Yr,Gr,Wr){if(Gr.svg){var Zr=new dF(Yr,Gr.svg);im.set(Yr,Zr)}else{var Kr=Gr.geoJson||Gr.geoJSON;Kr&&!Gr.features?Wr=Gr.specialAreas:Kr=Gr;var Zr=new mF(Yr,Kr,Wr);im.set(Yr,Zr)}},getGeoResource:function(Yr){return im.get(Yr)},getMapForUser:function(Yr){var Gr=im.get(Yr);return Gr&&Gr.type==="geoJSON"&&Gr.getMapForUser()},load:function(Yr,Gr,Wr){var Zr=im.get(Yr);if(Zr)return Zr.load(Gr,Wr)}};var uT=["rect","circle","line","ellipse","polygon","polyline","path"],dK=Hi(uT),vK=Hi(uT.concat(["g"])),mK=Hi(uT.concat(["g"])),CF=ln();function Ix(Yr){var Gr=Yr.getItemStyle(),Wr=Yr.get("areaColor");return Wr!=null&&(Gr.fill=Wr),Gr}function gF(Yr){var Gr=Yr.style;Gr&&(Gr.stroke=Gr.stroke||Gr.fill,Gr.fill=null)}var gK=function(){function Yr(Gr){var Wr=new Zi;this.uid=Ds("ec_map_draw"),this._controller=new Yl(Gr.getZr()),this._controllerHost={target:Wr},this.group=Wr,Wr.add(this._regionsGroup=new Zi),Wr.add(this._svgGroup=new Zi)}return Yr.prototype.draw=function(Gr,Wr,Zr,Kr,Jr){var Qr=Gr.mainType==="geo",ti=Gr.getData&&Gr.getData();Qr&&Wr.eachComponent({mainType:"series",subType:"map"},function(fi){!ti&&fi.getHostGeoModel()===Gr&&(ti=fi.getData())});var ei=Gr.coordinateSystem,ri=this._regionsGroup,ii=this.group,ni=ei.getTransformInfo(),ai=ni.raw,oi=ni.roam,si=!ri.childAt(0)||Jr;si?(ii.x=oi.x,ii.y=oi.y,ii.scaleX=oi.scaleX,ii.scaleY=oi.scaleY,ii.dirty()):bn(ii,oi,Gr);var li=ti&&ti.getVisual("visualMeta")&&ti.getVisual("visualMeta").length>0,ui={api:Zr,geo:ei,mapOrGeoModel:Gr,data:ti,isVisualEncodedByVisualMap:li,isGeo:Qr,transformInfoRaw:ai};ei.resourceType==="geoJSON"?this._buildGeoJSON(ui):ei.resourceType==="geoSVG"&&this._buildSVG(ui),this._updateController(Gr,Wr,Zr),this._updateMapSelectHandler(Gr,ri,Zr,Kr)},Yr.prototype._buildGeoJSON=function(Gr){var Wr=this._regionsGroupByName=Hi(),Zr=Hi(),Kr=this._regionsGroup,Jr=Gr.transformInfoRaw,Qr=Gr.mapOrGeoModel,ti=Gr.data,ei=Gr.geo.projection,ri=ei&&ei.stream;function ii(oi,si){return si&&(oi=si(oi)),oi&&[oi[0]*Jr.scaleX+Jr.x,oi[1]*Jr.scaleY+Jr.y]}function ni(oi){for(var si=[],li=!ri&&ei&&ei.project,ui=0;ui<oi.length;++ui){var fi=ii(oi[ui],li);fi&&si.push(fi)}return si}function ai(oi){return{shape:{points:ni(oi)}}}Kr.removeAll(),_i(Gr.geo.regions,function(oi){var si=oi.name,li=Wr.get(si),ui=Zr.get(si)||{},fi=ui.dataIdx,hi=ui.regionModel;li||(li=Wr.set(si,new Zi),Kr.add(li),fi=ti?ti.indexOfName(si):null,hi=Gr.isGeo?Qr.getRegionModel(si):ti?ti.getItemModel(fi):null,Zr.set(si,{dataIdx:fi,regionModel:hi}));var ci=[],pi=[];_i(oi.geometries,function(mi){if(mi.type==="polygon"){var gi=[mi.exterior].concat(mi.interiors||[]);ri&&(gi=wF(gi,ri)),_i(gi,function(Si){ci.push(new fa(ai(Si)))})}else{var yi=mi.points;ri&&(yi=wF(yi,ri,!0)),_i(yi,function(Si){pi.push(new la(ai(Si)))})}});var di=ii(oi.getCenter(),ei&&ei.project);function vi(mi,gi){if(mi.length){var yi=new jc({culling:!0,segmentIgnoreThreshold:1,shape:{paths:mi}});li.add(yi),yF(Gr,yi,fi,hi),xF(Gr,yi,si,hi,Qr,fi,di),gi&&(gF(yi),_i(yi.states,gF))}}vi(ci),vi(pi,!0)}),Wr.each(function(oi,si){var li=Zr.get(si),ui=li.dataIdx,fi=li.regionModel;_F(Gr,oi,si,fi,Qr,ui),bF(Gr,oi,si,fi,Qr),SF(Gr,oi,si,fi,Qr)},this)},Yr.prototype._buildSVG=function(Gr){var Wr=Gr.geo.map,Zr=Gr.transformInfoRaw;this._svgGroup.x=Zr.x,this._svgGroup.y=Zr.y,this._svgGroup.scaleX=Zr.scaleX,this._svgGroup.scaleY=Zr.scaleY,this._svgResourceChanged(Wr)&&(this._freeSVG(),this._useSVG(Wr));var Kr=this._svgDispatcherMap=Hi(),Jr=!1;_i(this._svgGraphicRecord.named,function(Qr){var ti=Qr.name,ei=Gr.mapOrGeoModel,ri=Gr.data,ii=Qr.svgNodeTagLower,ni=Qr.el,ai=ri?ri.indexOfName(ti):null,oi=ei.getRegionModel(ti);if(dK.get(ii)!=null&&ni instanceof ba&&yF(Gr,ni,ai,oi),ni instanceof ba&&(ni.culling=!0),ni.z2EmphasisLift=0,!Qr.namedFrom&&(mK.get(ii)!=null&&xF(Gr,ni,ti,oi,ei,ai,null),_F(Gr,ni,ti,oi,ei,ai),bF(Gr,ni,ti,oi,ei),vK.get(ii)!=null)){var si=SF(Gr,ni,ti,oi,ei);si==="self"&&(Jr=!0);var li=Kr.get(ti)||Kr.set(ti,[]);li.push(ni)}},this),this._enableBlurEntireSVG(Jr,Gr)},Yr.prototype._enableBlurEntireSVG=function(Gr,Wr){if(Gr&&Wr.isGeo){var Zr=Wr.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),Kr=Zr.opacity;this._svgGraphicRecord.root.traverse(function(Jr){if(!Jr.isGroup){Js(Jr);var Qr=Jr.ensureState("blur").style||{};Qr.opacity==null&&Kr!=null&&(Qr.opacity=Kr),Jr.ensureState("emphasis")}})}},Yr.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},Yr.prototype.findHighDownDispatchers=function(Gr,Wr){if(Gr==null)return[];var Zr=Wr.coordinateSystem;if(Zr.resourceType==="geoJSON"){var Kr=this._regionsGroupByName;if(Kr){var Jr=Kr.get(Gr);return Jr?[Jr]:[]}}else if(Zr.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(Gr)||[]},Yr.prototype._svgResourceChanged=function(Gr){return this._svgMapName!==Gr},Yr.prototype._useSVG=function(Gr){var Wr=Do.getGeoResource(Gr);if(Wr&&Wr.type==="geoSVG"){var Zr=Wr.useGraphic(this.uid);this._svgGroup.add(Zr.root),this._svgGraphicRecord=Zr,this._svgMapName=Gr}},Yr.prototype._freeSVG=function(){var Gr=this._svgMapName;if(Gr!=null){var Wr=Do.getGeoResource(Gr);Wr&&Wr.type==="geoSVG"&&Wr.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},Yr.prototype._updateController=function(Gr,Wr,Zr){var Kr=Gr.coordinateSystem,Jr=this._controller,Qr=this._controllerHost;Qr.zoomLimit=Gr.get("scaleLimit"),Qr.zoom=Kr.getZoom(),Jr.enable(Gr.get("roam")||!1);var ti=Gr.mainType;function ei(){var ri={type:"geoRoam",componentType:ti};return ri[ti+"Id"]=Gr.id,ri}Jr.off("pan").on("pan",function(ri){this._mouseDownFlag=!1,Sp(Qr,ri.dx,ri.dy),Zr.dispatchAction(ki(ei(),{dx:ri.dx,dy:ri.dy,animation:{duration:0}}))},this),Jr.off("zoom").on("zoom",function(ri){this._mouseDownFlag=!1,wp(Qr,ri.scale,ri.originX,ri.originY),Zr.dispatchAction(ki(ei(),{zoom:ri.scale,originX:ri.originX,originY:ri.originY,animation:{duration:0}}))},this),Jr.setPointerChecker(function(ri,ii,ni){return Kr.containPoint([ii,ni])&&!Cf(ri,Zr,Gr)})},Yr.prototype.resetForLabelLayout=function(){this.group.traverse(function(Gr){var Wr=Gr.getTextContent();Wr&&(Wr.ignore=CF(Wr).ignore)})},Yr.prototype._updateMapSelectHandler=function(Gr,Wr,Zr,Kr){var Jr=this;Wr.off("mousedown"),Wr.off("click"),Gr.get("selectedMode")&&(Wr.on("mousedown",function(){Jr._mouseDownFlag=!0}),Wr.on("click",function(Qr){Jr._mouseDownFlag&&(Jr._mouseDownFlag=!1)}))},Yr}();function yF(Yr,Gr,Wr,Zr){var Kr=Zr.getModel("itemStyle"),Jr=Zr.getModel(["emphasis","itemStyle"]),Qr=Zr.getModel(["blur","itemStyle"]),ti=Zr.getModel(["select","itemStyle"]),ei=Ix(Kr),ri=Ix(Jr),ii=Ix(ti),ni=Ix(Qr),ai=Yr.data;if(ai){var oi=ai.getItemVisual(Wr,"style"),si=ai.getItemVisual(Wr,"decal");Yr.isVisualEncodedByVisualMap&&oi.fill&&(ei.fill=oi.fill),si&&(ei.decal=ul(si,Yr.api))}Gr.setStyle(ei),Gr.style.strokeNoScale=!0,Gr.ensureState("emphasis").style=ri,Gr.ensureState("select").style=ii,Gr.ensureState("blur").style=ni,Js(Gr)}function xF(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Yr.data,ei=Yr.isGeo,ri=ti&&isNaN(ti.get(ti.mapDimension("value"),Jr)),ii=ti&&ti.getItemLayout(Jr);if(ei||ri||ii&&ii.showLabel){var ni=ei?Wr:Jr,ai=void 0;(!ti||Jr>=0)&&(ai=Kr);var oi=Qr?{normal:{align:"center",verticalAlign:"middle"}}:null;jn(Gr,Hn(Zr),{labelFetcher:ai,labelDataIndex:ni,defaultText:Wr},oi);var si=Gr.getTextContent();if(si&&(CF(si).ignore=si.ignore,Gr.textConfig&&Qr)){var li=Gr.getBoundingRect().clone();Gr.textConfig.layoutRect=li,Gr.textConfig.position=[(Qr[0]-li.x)/li.width*100+"%",(Qr[1]-li.y)/li.height*100+"%"]}Gr.disableLabelAnimation=!0}else Gr.removeTextContent(),Gr.removeTextConfig(),Gr.disableLabelAnimation=null}function _F(Yr,Gr,Wr,Zr,Kr,Jr){Yr.data?Yr.data.setItemGraphicEl(Jr,Gr):Qi(Gr).eventData={componentType:"geo",componentIndex:Kr.componentIndex,geoIndex:Kr.componentIndex,name:Wr,region:Zr&&Zr.option||{}}}function bF(Yr,Gr,Wr,Zr,Kr){Yr.data||rl({el:Gr,componentModel:Kr,itemName:Wr,itemTooltipOption:Zr.get("tooltip")})}function SF(Yr,Gr,Wr,Zr,Kr){Gr.highDownSilentOnTouch=!!Kr.get("selectedMode");var Jr=Zr.getModel("emphasis"),Qr=Jr.get("focus");return In(Gr,Qr,Jr.get("blurScope"),Jr.get("disabled")),Yr.isGeo&&JL(Gr,Kr,Wr),Qr}function wF(Yr,Gr,Wr){var Zr=[],Kr;function Jr(){Kr=[]}function Qr(){Kr.length&&(Zr.push(Kr),Kr=[])}var ti=Gr({polygonStart:Jr,polygonEnd:Qr,lineStart:Jr,lineEnd:Qr,point:function(ei,ri){isFinite(ei)&&isFinite(ri)&&Kr.push([ei,ri])},sphere:function(){}});return!Wr&&ti.polygonStart(),_i(Yr,function(ei){ti.lineStart();for(var ri=0;ri<ei.length;ri++)ti.point(ei[ri][0],ei[ri][1]);ti.lineEnd()}),!Wr&&ti.polygonEnd(),Zr}var Lx=gK;var yK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){if(!(Jr&&Jr.type==="mapToggleSelect"&&Jr.from===this.uid)){var Qr=this.group;if(Qr.removeAll(),!Wr.getHostGeoModel()){if(this._mapDraw&&Jr&&Jr.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),Jr&&Jr.type==="geoRoam"&&Jr.componentType==="series"&&Jr.seriesId===Wr.id){var ti=this._mapDraw;ti&&Qr.add(ti.group)}else if(Wr.needsDrawMap){var ti=this._mapDraw||new Lx(Kr);Qr.add(ti.group),ti.draw(Wr,Zr,Kr,this,Jr),this._mapDraw=ti}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;Wr.get("showLegendSymbol")&&Zr.getComponent("legend")&&this._renderSymbols(Wr,Zr,Kr)}}},Gr.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Gr.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Gr.prototype._renderSymbols=function(Wr,Zr,Kr){var Jr=Wr.originalData,Qr=this.group;Jr.each(Jr.mapDimension("value"),function(ti,ei){if(!isNaN(ti)){var ri=Jr.getItemLayout(ei);if(!(!ri||!ri.point)){var ii=ri.point,ni=ri.offset,ai=new wo({style:{fill:Wr.getData().getVisual("style").fill},shape:{cx:ii[0]+ni*9,cy:ii[1],r:3},silent:!0,z2:8+(ni?0:lu+1)});if(!ni){var oi=Wr.mainSeries.getData(),si=Jr.getName(ei),li=oi.indexOfName(si),ui=Jr.getItemModel(ei),fi=ui.getModel("label"),hi=oi.getItemGraphicEl(li);jn(ai,Hn(ui),{labelFetcher:{getFormattedLabel:function(ci,pi){return Wr.getFormattedLabel(li,pi)}},defaultText:si}),ai.disableLabelAnimation=!0,fi.get("position")||ai.setTextConfig({position:"bottom"}),hi.onHoverStateChange=function(ci){Mh(ai,ci)}}Qr.add(ai)}}})},Gr.type="map",Gr}(An),TF=yK;var xK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.needsDrawMap=!1,Wr.seriesGroup=[],Wr.getTooltipPosition=function(Zr){if(Zr!=null){var Kr=this.getData().getName(Zr),Jr=this.coordinateSystem,Qr=Jr.getRegion(Kr);return Qr&&Jr.dataToPoint(Qr.getCenter())}},Wr}return Gr.prototype.getInitialData=function(Wr){for(var Zr=vs(this,{coordDimensions:["value"],encodeDefaulter:en(ap,this)}),Kr=Hi(),Jr=[],Qr=0,ti=Zr.count();Qr<ti;Qr++){var ei=Zr.getName(Qr);Kr.set(ei,!0)}var ri=Do.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return _i(ri.regions,function(ii){var ni=ii.name;Kr.get(ni)||Jr.push(ni)}),Zr.appendValues([],Jr),Zr},Gr.prototype.getHostGeoModel=function(){var Wr=this.option.geoIndex;return Wr!=null?this.ecModel.getComponent("geo",Wr):null},Gr.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Gr.prototype.getRawValue=function(Wr){var Zr=this.getData();return Zr.get(Zr.mapDimension("value"),Wr)},Gr.prototype.getRegionModel=function(Wr){var Zr=this.getData();return Zr.getItemModel(Zr.indexOfName(Wr))},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){for(var Jr=this.getData(),Qr=this.getRawValue(Wr),ti=Jr.getName(Wr),ei=this.seriesGroup,ri=[],ii=0;ii<ei.length;ii++){var ni=ei[ii].originalData.indexOfName(ti),ai=Jr.mapDimension("value");isNaN(ei[ii].originalData.get(ai,ni))||ri.push(ei[ii].name)}return Jn("section",{header:ri.join(", "),noHeader:!ri.length,blocks:[Jn("nameValue",{name:ti,value:Qr})]})},Gr.prototype.setZoom=function(Wr){this.option.zoom=Wr},Gr.prototype.setCenter=function(Wr){this.option.center=Wr},Gr.prototype.getLegendIcon=function(Wr){var Zr=Wr.icon||"roundRect",Kr=Bn(Zr,0,0,Wr.itemWidth,Wr.itemHeight,Wr.itemStyle.fill);return Kr.setStyle(Wr.itemStyle),Kr.style.stroke="none",Zr.indexOf("empty")>-1&&(Kr.style.stroke=Kr.style.fill,Kr.style.fill="#fff",Kr.style.lineWidth=2),Kr},Gr.type="series.map",Gr.dependencies=["geo"],Gr.layoutMode="box",Gr.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},Gr}(Pn),AF=xK;function _K(Yr,Gr){var Wr={};return _i(Yr,function(Zr){Zr.each(Zr.mapDimension("value"),function(Kr,Jr){var Qr="ec-"+Zr.getName(Jr);Wr[Qr]=Wr[Qr]||[],isNaN(Kr)||Wr[Qr].push(Kr)})}),Yr[0].map(Yr[0].mapDimension("value"),function(Zr,Kr){for(var Jr="ec-"+Yr[0].getName(Kr),Qr=0,ti=1/0,ei=-1/0,ri=Wr[Jr].length,ii=0;ii<ri;ii++)ti=Math.min(ti,Wr[Jr][ii]),ei=Math.max(ei,Wr[Jr][ii]),Qr+=Wr[Jr][ii];var ni;return Gr==="min"?ni=ti:Gr==="max"?ni=ei:Gr==="average"?ni=Qr/ri:ni=Qr,ri===0?NaN:ni})}function fT(Yr){var Gr={};Yr.eachSeriesByType("map",function(Wr){var Zr=Wr.getHostGeoModel(),Kr=Zr?"o"+Zr.id:"i"+Wr.getMapType();(Gr[Kr]=Gr[Kr]||[]).push(Wr)}),_i(Gr,function(Wr,Zr){for(var Kr=_K(Oi(Wr,function(Qr){return Qr.getData()}),Wr[0].get("mapValueCalculation")),Jr=0;Jr<Wr.length;Jr++)Wr[Jr].originalData=Wr[Jr].getData();for(var Jr=0;Jr<Wr.length;Jr++)Wr[Jr].seriesGroup=Wr,Wr[Jr].needsDrawMap=Jr===0&&!Wr[Jr].getHostGeoModel(),Wr[Jr].setData(Kr.cloneShallow()),Wr[Jr].mainSeries=Wr[0]})}function hT(Yr){var Gr={};Yr.eachSeriesByType("map",function(Wr){var Zr=Wr.getMapType();if(!(Wr.getHostGeoModel()||Gr[Zr])){var Kr={};_i(Wr.seriesGroup,function(Qr){var ti=Qr.coordinateSystem,ei=Qr.originalData;Qr.get("showLegendSymbol")&&Yr.getComponent("legend")&&ei.each(ei.mapDimension("value"),function(ri,ii){var ni=ei.getName(ii),ai=ti.getRegion(ni);if(!(!ai||isNaN(ri))){var oi=Kr[ni]||0,si=ti.dataToPoint(ai.getCenter());Kr[ni]=oi+1,ei.setItemLayout(ii,{point:si,offset:oi})}})});var Jr=Wr.getData();Jr.each(function(Qr){var ti=Jr.getName(Qr),ei=Jr.getItemLayout(Qr)||{};ei.showLabel=!Kr[ti],Jr.setItemLayout(Qr,ei)}),Gr[Zr]=!0}})}var MF=ma,bK=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this)||this;return Zr.type="view",Zr.dimensions=["x","y"],Zr._roamTransformable=new No,Zr._rawTransformable=new No,Zr.name=Wr,Zr}return Gr.prototype.setBoundingRect=function(Wr,Zr,Kr,Jr){return this._rect=new rn(Wr,Zr,Kr,Jr),this._rect},Gr.prototype.getBoundingRect=function(){return this._rect},Gr.prototype.setViewRect=function(Wr,Zr,Kr,Jr){this._transformTo(Wr,Zr,Kr,Jr),this._viewRect=new rn(Wr,Zr,Kr,Jr)},Gr.prototype._transformTo=function(Wr,Zr,Kr,Jr){var Qr=this.getBoundingRect(),ti=this._rawTransformable;ti.transform=Qr.calculateTransform(new rn(Wr,Zr,Kr,Jr));var ei=ti.parent;ti.parent=null,ti.decomposeTransform(),ti.parent=ei,this._updateTransform()},Gr.prototype.setCenter=function(Wr,Zr){Wr&&(this._center=[Ui(Wr[0],Zr.getWidth()),Ui(Wr[1],Zr.getHeight())],this._updateCenterAndZoom())},Gr.prototype.setZoom=function(Wr){Wr=Wr||1;var Zr=this.zoomLimit;Zr&&(Zr.max!=null&&(Wr=Math.min(Zr.max,Wr)),Zr.min!=null&&(Wr=Math.max(Zr.min,Wr))),this._zoom=Wr,this._updateCenterAndZoom()},Gr.prototype.getDefaultCenter=function(){var Wr=this.getBoundingRect(),Zr=Wr.x+Wr.width/2,Kr=Wr.y+Wr.height/2;return[Zr,Kr]},Gr.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},Gr.prototype.getZoom=function(){return this._zoom||1},Gr.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},Gr.prototype._updateCenterAndZoom=function(){var Wr=this._rawTransformable.getLocalTransform(),Zr=this._roamTransformable,Kr=this.getDefaultCenter(),Jr=this.getCenter(),Qr=this.getZoom();Jr=ma([],Jr,Wr),Kr=ma([],Kr,Wr),Zr.originX=Jr[0],Zr.originY=Jr[1],Zr.x=Kr[0]-Jr[0],Zr.y=Kr[1]-Jr[1],Zr.scaleX=Zr.scaleY=Qr,this._updateTransform()},Gr.prototype._updateTransform=function(){var Wr=this._roamTransformable,Zr=this._rawTransformable;Zr.parent=Wr,Wr.updateTransform(),Zr.updateTransform(),wd(this.transform||(this.transform=[]),Zr.transform||Aa()),this._rawTransform=Zr.getLocalTransform(),this.invTransform=this.invTransform||[],_s(this.invTransform,this.transform),this.decomposeTransform()},Gr.prototype.getTransformInfo=function(){var Wr=this._rawTransformable,Zr=this._roamTransformable,Kr=new No;return Kr.transform=Zr.transform,Kr.decomposeTransform(),{roam:{x:Kr.x,y:Kr.y,scaleX:Kr.scaleX,scaleY:Kr.scaleY},raw:{x:Wr.x,y:Wr.y,scaleX:Wr.scaleX,scaleY:Wr.scaleY}}},Gr.prototype.getViewRect=function(){return this._viewRect},Gr.prototype.getViewRectAfterRoam=function(){var Wr=this.getBoundingRect().clone();return Wr.applyTransform(this.transform),Wr},Gr.prototype.dataToPoint=function(Wr,Zr,Kr){var Jr=Zr?this._rawTransform:this.transform;return Kr=Kr||[],Jr?MF(Kr,Wr,Jr):Ba(Kr,Wr)},Gr.prototype.pointToData=function(Wr){var Zr=this.invTransform;return Zr?MF([],Wr,Zr):[Wr[0],Wr[1]]},Gr.prototype.convertToPixel=function(Wr,Zr,Kr){var Jr=PF(Zr);return Jr===this?Jr.dataToPoint(Kr):null},Gr.prototype.convertFromPixel=function(Wr,Zr,Kr){var Jr=PF(Zr);return Jr===this?Jr.pointToData(Kr):null},Gr.prototype.containPoint=function(Wr){return this.getViewRectAfterRoam().contain(Wr[0],Wr[1])},Gr.dimensions=["x","y"],Gr}(No);function PF(Yr){var Gr=Yr.seriesModel;return Gr?Gr.coordinateSystem:null}var Tu=bK;var SK={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},cT=["lng","lat"],DF=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this,Wr)||this;Jr.dimensions=cT,Jr.type="geo",Jr._nameCoordMap=Hi(),Jr.map=Zr;var Qr=Kr.projection,ti=Do.load(Zr,Kr.nameMap,Kr.nameProperty),ei=Do.getGeoResource(Zr),ri=Jr.resourceType=ei?ei.type:null,ii=Jr.regions=ti.regions,ni=SK[ei.type];Jr._regionsMap=ti.regionsMap,Jr.regions=ti.regions,Jr.projection=Qr;var ai;if(Qr)for(var oi=0;oi<ii.length;oi++){var si=ii[oi].getBoundingRect(Qr);ai=ai||si.clone(),ai.union(si)}else ai=ti.boundingRect;return Jr.setBoundingRect(ai.x,ai.y,ai.width,ai.height),Jr.aspectScale=Qr?1:on(Kr.aspectScale,ni.aspectScale),Jr._invertLongitute=Qr?!1:ni.invertLongitute,Jr}return Gr.prototype._transformTo=function(Wr,Zr,Kr,Jr){var Qr=this.getBoundingRect(),ti=this._invertLongitute;Qr=Qr.clone(),ti&&(Qr.y=-Qr.y-Qr.height);var ei=this._rawTransformable;ei.transform=Qr.calculateTransform(new rn(Wr,Zr,Kr,Jr));var ri=ei.parent;ei.parent=null,ei.decomposeTransform(),ei.parent=ri,ti&&(ei.scaleY=-ei.scaleY),this._updateTransform()},Gr.prototype.getRegion=function(Wr){return this._regionsMap.get(Wr)},Gr.prototype.getRegionByCoord=function(Wr){for(var Zr=this.regions,Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];if(Jr.type==="geoJSON"&&Jr.contain(Wr))return Zr[Kr]}},Gr.prototype.addGeoCoord=function(Wr,Zr){this._nameCoordMap.set(Wr,Zr)},Gr.prototype.getGeoCoord=function(Wr){var Zr=this._regionsMap.get(Wr);return this._nameCoordMap.get(Wr)||Zr&&Zr.getCenter()},Gr.prototype.dataToPoint=function(Wr,Zr,Kr){if(Ni(Wr)&&(Wr=this.getGeoCoord(Wr)),Wr){var Jr=this.projection;return Jr&&(Wr=Jr.project(Wr)),Wr&&this.projectedToPoint(Wr,Zr,Kr)}},Gr.prototype.pointToData=function(Wr){var Zr=this.projection;return Zr&&(Wr=Zr.unproject(Wr)),Wr&&this.pointToProjected(Wr)},Gr.prototype.pointToProjected=function(Wr){return Yr.prototype.pointToData.call(this,Wr)},Gr.prototype.projectedToPoint=function(Wr,Zr,Kr){return Yr.prototype.dataToPoint.call(this,Wr,Zr,Kr)},Gr.prototype.convertToPixel=function(Wr,Zr,Kr){var Jr=EF(Zr);return Jr===this?Jr.dataToPoint(Kr):null},Gr.prototype.convertFromPixel=function(Wr,Zr,Kr){var Jr=EF(Zr);return Jr===this?Jr.pointToData(Kr):null},Gr}(Tu);Gn(DF,Tu);function EF(Yr){var Gr=Yr.geoModel,Wr=Yr.seriesModel;return Gr?Gr.coordinateSystem:Wr?Wr.coordinateSystem||(Wr.getReferringComponents("geo",Yn).models[0]||{}).coordinateSystem:null}var pT=DF;function IF(Yr,Gr){var Wr=Yr.get("boundingCoords");if(Wr!=null){var Zr=Wr[0],Kr=Wr[1];if(isFinite(Zr[0])&&isFinite(Zr[1])&&isFinite(Kr[0])&&isFinite(Kr[1])){var Jr=this.projection;if(Jr){var Qr=Zr[0],ti=Zr[1],ei=Kr[0],ri=Kr[1];Zr=[1/0,1/0],Kr=[-1/0,-1/0];var ii=function(vi,mi,gi,yi){for(var Si=gi-vi,bi=yi-mi,Ti=0;Ti<=100;Ti++){var Ai=Ti/100,Ei=Jr.project([vi+Si*Ai,mi+bi*Ai]);ns(Zr,Zr,Ei),as(Kr,Kr,Ei)}};ii(Qr,ti,ei,ti),ii(ei,ti,ei,ri),ii(ei,ri,Qr,ri),ii(Qr,ri,ei,ti)}this.setBoundingRect(Zr[0],Zr[1],Kr[0]-Zr[0],Kr[1]-Zr[1])}}var ni=this.getBoundingRect(),ai=Yr.get("layoutCenter"),oi=Yr.get("layoutSize"),si=Gr.getWidth(),li=Gr.getHeight(),ui=ni.width/ni.height*this.aspectScale,fi=!1,hi,ci;ai&&oi&&(hi=[Ui(ai[0],si),Ui(ai[1],li)],ci=Ui(oi,Math.min(si,li)),!isNaN(hi[0])&&!isNaN(hi[1])&&!isNaN(ci)&&(fi=!0));var pi;if(fi)pi={},ui>1?(pi.width=ci,pi.height=ci/ui):(pi.height=ci,pi.width=ci*ui),pi.y=hi[1]-pi.height/2,pi.x=hi[0]-pi.width/2;else{var di=Yr.getBoxLayoutParams();di.aspect=ui,pi=Vn(di,{width:si,height:li})}this.setViewRect(pi.x,pi.y,pi.width,pi.height),this.setCenter(Yr.get("center"),Gr),this.setZoom(Yr.get("zoom"))}function wK(Yr,Gr){_i(Gr.get("geoCoord"),function(Wr,Zr){Yr.addGeoCoord(Zr,Wr)})}var CK=function(){function Yr(){this.dimensions=cT}return Yr.prototype.create=function(Gr,Wr){var Zr=[];function Kr(Qr){return{nameProperty:Qr.get("nameProperty"),aspectScale:Qr.get("aspectScale"),projection:Qr.get("projection")}}Gr.eachComponent("geo",function(Qr,ti){var ei=Qr.get("map"),ri=new pT(ei+ti,ei,ki({nameMap:Qr.get("nameMap")},Kr(Qr)));ri.zoomLimit=Qr.get("scaleLimit"),Zr.push(ri),Qr.coordinateSystem=ri,ri.model=Qr,ri.resize=IF,ri.resize(Qr,Wr)}),Gr.eachSeries(function(Qr){var ti=Qr.get("coordinateSystem");if(ti==="geo"){var ei=Qr.get("geoIndex")||0;Qr.coordinateSystem=Zr[ei]}});var Jr={};return Gr.eachSeriesByType("map",function(Qr){if(!Qr.getHostGeoModel()){var ti=Qr.getMapType();Jr[ti]=Jr[ti]||[],Jr[ti].push(Qr)}}),_i(Jr,function(Qr,ti){var ei=Oi(Qr,function(ii){return ii.get("nameMap")}),ri=new pT(ti,ti,ki({nameMap:bc(ei)},Kr(Qr[0])));ri.zoomLimit=ta.apply(null,Oi(Qr,function(ii){return ii.get("scaleLimit")})),Zr.push(ri),ri.resize=IF,ri.resize(Qr[0],Wr),_i(Qr,function(ii){ii.coordinateSystem=ri,wK(ri,ii)})}),Zr},Yr.prototype.getFilledRegions=function(Gr,Wr,Zr,Kr){for(var Jr=(Gr||[]).slice(),Qr=Hi(),ti=0;ti<Jr.length;ti++)Qr.set(Jr[ti].name,Jr[ti]);var ei=Do.load(Wr,Zr,Kr);return _i(ei.regions,function(ri){var ii=ri.name;!Qr.get(ii)&&Jr.push({name:ii})}),Jr},Yr}(),TK=new CK,kx=TK;var AK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr,Kr){var Jr=Do.getGeoResource(Wr.map);if(Jr&&Jr.type==="geoJSON"){var Qr=Wr.itemStyle=Wr.itemStyle||{};"color"in Qr||(Qr.color="#eee")}this.mergeDefaultAndTheme(Wr,Kr),ls(Wr,"label",["show"])},Gr.prototype.optionUpdated=function(){var Wr=this,Zr=this.option;Zr.regions=kx.getFilledRegions(Zr.regions,Zr.map,Zr.nameMap,Zr.nameProperty);var Kr={};this._optionModelMap=Ja(Zr.regions||[],function(Jr,Qr){var ti=Qr.name;return ti&&(Jr.set(ti,new Mn(Qr,Wr,Wr.ecModel)),Qr.selected&&(Kr[ti]=!0)),Jr},Hi()),Zr.selectedMap||(Zr.selectedMap=Kr)},Gr.prototype.getRegionModel=function(Wr){return this._optionModelMap.get(Wr)||new Mn(null,this,this.ecModel)},Gr.prototype.getFormattedLabel=function(Wr,Zr){var Kr=this.getRegionModel(Wr),Jr=Zr==="normal"?Kr.get(["label","formatter"]):Kr.get(["emphasis","label","formatter"]),Qr={name:Wr};if(Wi(Jr))return Qr.status=Zr,Jr(Qr);if(Ni(Jr))return Jr.replace("{a}",Wr??"")},Gr.prototype.setZoom=function(Wr){this.option.zoom=Wr},Gr.prototype.setCenter=function(Wr){this.option.center=Wr},Gr.prototype.select=function(Wr){var Zr=this.option,Kr=Zr.selectedMode;if(Kr){Kr!=="multiple"&&(Zr.selectedMap=null);var Jr=Zr.selectedMap||(Zr.selectedMap={});Jr[Wr]=!0}},Gr.prototype.unSelect=function(Wr){var Zr=this.option.selectedMap;Zr&&(Zr[Wr]=!1)},Gr.prototype.toggleSelected=function(Wr){this[this.isSelected(Wr)?"unSelect":"select"](Wr)},Gr.prototype.isSelected=function(Wr){var Zr=this.option.selectedMap;return!!(Zr&&Zr[Wr])},Gr.type="geo",Gr.layoutMode="box",Gr.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},Gr}(_n),LF=AK;function kF(Yr,Gr){return Yr.pointToProjected?Yr.pointToProjected(Gr):Yr.pointToData(Gr)}function Cp(Yr,Gr,Wr,Zr){var Kr=Yr.getZoom(),Jr=Yr.getCenter(),Qr=Gr.zoom,ti=Yr.projectedToPoint?Yr.projectedToPoint(Jr):Yr.dataToPoint(Jr);if(Gr.dx!=null&&Gr.dy!=null&&(ti[0]-=Gr.dx,ti[1]-=Gr.dy,Yr.setCenter(kF(Yr,ti),Zr)),Qr!=null){if(Wr){var ei=Wr.min||0,ri=Wr.max||1/0;Qr=Math.max(Math.min(Kr*Qr,ri),ei)/Kr}Yr.scaleX*=Qr,Yr.scaleY*=Qr;var ii=(Gr.originX-Yr.x)*(Qr-1),ni=(Gr.originY-Yr.y)*(Qr-1);Yr.x-=ii,Yr.y-=ni,Yr.updateTransform(),Yr.setCenter(kF(Yr,ti),Zr),Yr.setZoom(Qr*Kr)}return{center:Yr.getCenter(),zoom:Yr.getZoom()}}var MK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.focusBlurEnabled=!0,Wr}return Gr.prototype.init=function(Wr,Zr){this._api=Zr},Gr.prototype.render=function(Wr,Zr,Kr,Jr){if(this._model=Wr,!Wr.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Lx(Kr));var Qr=this._mapDraw;Qr.draw(Wr,Zr,Kr,this,Jr),Qr.group.on("click",this._handleRegionClick,this),Qr.group.silent=Wr.get("silent"),this.group.add(Qr.group),this.updateSelectStatus(Wr,Zr,Kr)},Gr.prototype._handleRegionClick=function(Wr){var Zr;sl(Wr.target,function(Kr){return(Zr=Qi(Kr).eventData)!=null},!0),Zr&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:Zr.name})},Gr.prototype.updateSelectStatus=function(Wr,Zr,Kr){var Jr=this;this._mapDraw.group.traverse(function(Qr){var ti=Qi(Qr).eventData;if(ti)return Jr._model.isSelected(ti.name)?Kr.enterSelect(Qr):Kr.leaveSelect(Qr),!0})},Gr.prototype.findHighDownDispatchers=function(Wr){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(Wr,this._model)},Gr.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},Gr.type="geo",Gr}(Dn),RF=MK;function PK(Yr,Gr,Wr){Do.registerMap(Yr,Gr,Wr)}function nm(Yr){Yr.registerCoordinateSystem("geo",kx),Yr.registerComponentModel(LF),Yr.registerComponentView(RF),Yr.registerImpl("registerMap",PK),Yr.registerImpl("getMap",function(Wr){return Do.getMapForUser(Wr)});function Gr(Wr,Zr){Zr.update="geo:updateSelectStatus",Yr.registerAction(Zr,function(Kr,Jr){var Qr={},ti=[];return Jr.eachComponent({mainType:"geo",query:Kr},function(ei){ei[Wr](Kr.name);var ri=ei.coordinateSystem;_i(ri.regions,function(ni){Qr[ni.name]=ei.isSelected(ni.name)||!1});var ii=[];_i(Qr,function(ni,ai){Qr[ai]&&ii.push(ai)}),ti.push({geoIndex:ei.componentIndex,name:ii})}),{selected:Qr,allSelected:ti,name:Kr.name}})}Gr("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Gr("select",{type:"geoSelect",event:"geoselected"}),Gr("unSelect",{type:"geoUnSelect",event:"geounselected"}),Yr.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(Wr,Zr,Kr){var Jr=Wr.componentType||"series";Zr.eachComponent({mainType:Jr,query:Wr},function(Qr){var ti=Qr.coordinateSystem;if(ti.type==="geo"){var ei=Cp(ti,Wr,Qr.get("scaleLimit"),Kr);Qr.setCenter&&Qr.setCenter(ei.center),Qr.setZoom&&Qr.setZoom(ei.zoom),Jr==="series"&&_i(Qr.seriesGroup,function(ri){ri.setCenter(ei.center),ri.setZoom(ei.zoom)})}})})}function dT(Yr){Sn(nm),Yr.registerChartView(TF),Yr.registerSeriesModel(AF),Yr.registerLayout(hT),Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.STATISTIC,fT),m0("map",Yr.registerAction)}function OF(Yr){var Gr=Yr;Gr.hierNode={defaultAncestor:null,ancestor:Gr,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Wr=[Gr],Zr,Kr;Zr=Wr.pop();)if(Kr=Zr.children,Zr.isExpand&&Kr.length)for(var Jr=Kr.length,Qr=Jr-1;Qr>=0;Qr--){var ti=Kr[Qr];ti.hierNode={defaultAncestor:null,ancestor:ti,prelim:0,modifier:0,change:0,shift:0,i:Qr,thread:null},Wr.push(ti)}}function zF(Yr,Gr){var Wr=Yr.isExpand?Yr.children:[],Zr=Yr.parentNode.children,Kr=Yr.hierNode.i?Zr[Yr.hierNode.i-1]:null;if(Wr.length){EK(Yr);var Jr=(Wr[0].hierNode.prelim+Wr[Wr.length-1].hierNode.prelim)/2;Kr?(Yr.hierNode.prelim=Kr.hierNode.prelim+Gr(Yr,Kr),Yr.hierNode.modifier=Yr.hierNode.prelim-Jr):Yr.hierNode.prelim=Jr}else Kr&&(Yr.hierNode.prelim=Kr.hierNode.prelim+Gr(Yr,Kr));Yr.parentNode.hierNode.defaultAncestor=DK(Yr,Kr,Yr.parentNode.hierNode.defaultAncestor||Zr[0],Gr)}function NF(Yr){var Gr=Yr.hierNode.prelim+Yr.parentNode.hierNode.modifier;Yr.setLayout({x:Gr},!0),Yr.hierNode.modifier+=Yr.parentNode.hierNode.modifier}function gT(Yr){return arguments.length?Yr:kK}function tc(Yr,Gr){return Yr-=Math.PI/2,{x:Gr*Math.cos(Yr),y:Gr*Math.sin(Yr)}}function FF(Yr,Gr){return Vn(Yr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function EK(Yr){for(var Gr=Yr.children,Wr=Gr.length,Zr=0,Kr=0;--Wr>=0;){var Jr=Gr[Wr];Jr.hierNode.prelim+=Zr,Jr.hierNode.modifier+=Zr,Kr+=Jr.hierNode.change,Zr+=Jr.hierNode.shift+Kr}}function DK(Yr,Gr,Wr,Zr){if(Gr){for(var Kr=Yr,Jr=Yr,Qr=Jr.parentNode.children[0],ti=Gr,ei=Kr.hierNode.modifier,ri=Jr.hierNode.modifier,ii=Qr.hierNode.modifier,ni=ti.hierNode.modifier;ti=vT(ti),Jr=mT(Jr),ti&&Jr;){Kr=vT(Kr),Qr=mT(Qr),Kr.hierNode.ancestor=Yr;var ai=ti.hierNode.prelim+ni-Jr.hierNode.prelim-ri+Zr(ti,Jr);ai>0&&(LK(IK(ti,Yr,Wr),Yr,ai),ri+=ai,ei+=ai),ni+=ti.hierNode.modifier,ri+=Jr.hierNode.modifier,ei+=Kr.hierNode.modifier,ii+=Qr.hierNode.modifier}ti&&!vT(Kr)&&(Kr.hierNode.thread=ti,Kr.hierNode.modifier+=ni-ei),Jr&&!mT(Qr)&&(Qr.hierNode.thread=Jr,Qr.hierNode.modifier+=ri-ii,Wr=Yr)}return Wr}function vT(Yr){var Gr=Yr.children;return Gr.length&&Yr.isExpand?Gr[Gr.length-1]:Yr.hierNode.thread}function mT(Yr){var Gr=Yr.children;return Gr.length&&Yr.isExpand?Gr[0]:Yr.hierNode.thread}function IK(Yr,Gr,Wr){return Yr.hierNode.ancestor.parentNode===Gr.parentNode?Yr.hierNode.ancestor:Wr}function LK(Yr,Gr,Wr){var Zr=Wr/(Gr.hierNode.i-Yr.hierNode.i);Gr.hierNode.change-=Zr,Gr.hierNode.shift+=Wr,Gr.hierNode.modifier+=Wr,Gr.hierNode.prelim+=Wr,Yr.hierNode.change+=Zr}function kK(Yr,Gr){return Yr.parentNode===Gr.parentNode?1:2}var RK=function(){function Yr(){this.parentPoint=[],this.childPoints=[]}return Yr}(),OK=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new RK},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.childPoints,Jr=Kr.length,Qr=Zr.parentPoint,ti=Kr[0],ei=Kr[Jr-1];if(Jr===1){Wr.moveTo(Qr[0],Qr[1]),Wr.lineTo(ti[0],ti[1]);return}var ri=Zr.orient,ii=ri==="TB"||ri==="BT"?0:1,ni=1-ii,ai=Ui(Zr.forkPosition,1),oi=[];oi[ii]=Qr[ii],oi[ni]=Qr[ni]+(ei[ni]-Qr[ni])*ai,Wr.moveTo(Qr[0],Qr[1]),Wr.lineTo(oi[0],oi[1]),Wr.moveTo(ti[0],ti[1]),oi[ii]=ti[ii],Wr.lineTo(oi[0],oi[1]),oi[ii]=ei[ii],Wr.lineTo(oi[0],oi[1]),Wr.lineTo(ei[0],ei[1]);for(var si=1;si<Jr-1;si++){var li=Kr[si];Wr.moveTo(li[0],li[1]),oi[ii]=li[ii],Wr.lineTo(oi[0],oi[1])}},Gr}(an),zK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._mainGroup=new Zi,Wr}return Gr.prototype.init=function(Wr,Zr){this._controller=new Yl(Zr.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=Wr.layoutInfo,ti=this._mainGroup,ei=Wr.get("layout");ei==="radial"?(ti.x=Qr.x+Qr.width/2,ti.y=Qr.y+Qr.height/2):(ti.x=Qr.x,ti.y=Qr.y),this._updateViewCoordSys(Wr,Kr),this._updateController(Wr,Zr,Kr);var ri=this._data;Jr.diff(ri).add(function(ii){VF(Jr,ii)&&BF(Jr,ii,null,ti,Wr)}).update(function(ii,ni){var ai=ri.getItemGraphicEl(ni);if(!VF(Jr,ii)){ai&&GF(ri,ni,ai,ti,Wr);return}BF(Jr,ii,ai,ti,Wr)}).remove(function(ii){var ni=ri.getItemGraphicEl(ii);ni&&GF(ri,ii,ni,ti,Wr)}).execute(),this._nodeScaleRatio=Wr.get("nodeScaleRatio"),this._updateNodeAndLinkScale(Wr),Wr.get("expandAndCollapse")===!0&&Jr.eachItemGraphicEl(function(ii,ni){ii.off("click").on("click",function(){Kr.dispatchAction({type:"treeExpandAndCollapse",seriesId:Wr.id,dataIndex:ni})})}),this._data=Jr},Gr.prototype._updateViewCoordSys=function(Wr,Zr){var Kr=Wr.getData(),Jr=[];Kr.each(function(ni){var ai=Kr.getItemLayout(ni);ai&&!isNaN(ai.x)&&!isNaN(ai.y)&&Jr.push([+ai.x,+ai.y])});var Qr=[],ti=[];_h(Jr,Qr,ti);var ei=this._min,ri=this._max;ti[0]-Qr[0]===0&&(Qr[0]=ei?ei[0]:Qr[0]-1,ti[0]=ri?ri[0]:ti[0]+1),ti[1]-Qr[1]===0&&(Qr[1]=ei?ei[1]:Qr[1]-1,ti[1]=ri?ri[1]:ti[1]+1);var ii=Wr.coordinateSystem=new Tu;ii.zoomLimit=Wr.get("scaleLimit"),ii.setBoundingRect(Qr[0],Qr[1],ti[0]-Qr[0],ti[1]-Qr[1]),ii.setCenter(Wr.get("center"),Zr),ii.setZoom(Wr.get("zoom")),this.group.attr({x:ii.x,y:ii.y,scaleX:ii.scaleX,scaleY:ii.scaleY}),this._min=Qr,this._max=ti},Gr.prototype._updateController=function(Wr,Zr,Kr){var Jr=this,Qr=this._controller,ti=this._controllerHost,ei=this.group;Qr.setPointerChecker(function(ri,ii,ni){var ai=ei.getBoundingRect();return ai.applyTransform(ei.transform),ai.contain(ii,ni)&&!Cf(ri,Kr,Wr)}),Qr.enable(Wr.get("roam")),ti.zoomLimit=Wr.get("scaleLimit"),ti.zoom=Wr.coordinateSystem.getZoom(),Qr.off("pan").off("zoom").on("pan",function(ri){Sp(ti,ri.dx,ri.dy),Kr.dispatchAction({seriesId:Wr.id,type:"treeRoam",dx:ri.dx,dy:ri.dy})}).on("zoom",function(ri){wp(ti,ri.scale,ri.originX,ri.originY),Kr.dispatchAction({seriesId:Wr.id,type:"treeRoam",zoom:ri.scale,originX:ri.originX,originY:ri.originY}),Jr._updateNodeAndLinkScale(Wr),Kr.updateLabelLayout()})},Gr.prototype._updateNodeAndLinkScale=function(Wr){var Zr=Wr.getData(),Kr=this._getNodeGlobalScale(Wr);Zr.eachItemGraphicEl(function(Jr,Qr){Jr.setSymbolScale(Kr)})},Gr.prototype._getNodeGlobalScale=function(Wr){var Zr=Wr.coordinateSystem;if(Zr.type!=="view")return 1;var Kr=this._nodeScaleRatio,Jr=Zr.scaleX||1,Qr=Zr.getZoom(),ti=(Qr-1)*Kr+1;return ti/Jr},Gr.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Gr.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},Gr.type="tree",Gr}(An);function VF(Yr,Gr){var Wr=Yr.getItemLayout(Gr);return Wr&&!isNaN(Wr.x)&&!isNaN(Wr.y)}function BF(Yr,Gr,Wr,Zr,Kr){var Jr=!Wr,Qr=Yr.tree.getNodeByDataIndex(Gr),ti=Qr.getModel(),ei=Qr.getVisual("style").fill,ri=Qr.isExpand===!1&&Qr.children.length!==0?ei:"#fff",ii=Yr.tree.root,ni=Qr.parentNode===ii?Qr:Qr.parentNode||Qr,ai=Yr.getItemGraphicEl(ni.dataIndex),oi=ni.getLayout(),si=ai?{x:ai.__oldX,y:ai.__oldY,rawX:ai.__radialOldRawX,rawY:ai.__radialOldRawY}:oi,li=Qr.getLayout();Jr?(Wr=new Cu(Yr,Gr,null,{symbolInnerColor:ri,useNameLabel:!0}),Wr.x=si.x,Wr.y=si.y):Wr.updateData(Yr,Gr,null,{symbolInnerColor:ri,useNameLabel:!0}),Wr.__radialOldRawX=Wr.__radialRawX,Wr.__radialOldRawY=Wr.__radialRawY,Wr.__radialRawX=li.rawX,Wr.__radialRawY=li.rawY,Zr.add(Wr),Yr.setItemGraphicEl(Gr,Wr),Wr.__oldX=Wr.x,Wr.__oldY=Wr.y,bn(Wr,{x:li.x,y:li.y},Kr);var ui=Wr.getSymbolPath();if(Kr.get("layout")==="radial"){var fi=ii.children[0],hi=fi.getLayout(),ci=fi.children.length,pi=void 0,di=void 0;if(li.x===hi.x&&Qr.isExpand===!0&&fi.children.length){var vi={x:(fi.children[0].getLayout().x+fi.children[ci-1].getLayout().x)/2,y:(fi.children[0].getLayout().y+fi.children[ci-1].getLayout().y)/2};pi=Math.atan2(vi.y-hi.y,vi.x-hi.x),pi<0&&(pi=Math.PI*2+pi),di=vi.x<hi.x,di&&(pi=pi-Math.PI)}else pi=Math.atan2(li.y-hi.y,li.x-hi.x),pi<0&&(pi=Math.PI*2+pi),Qr.children.length===0||Qr.children.length!==0&&Qr.isExpand===!1?(di=li.x<hi.x,di&&(pi=pi-Math.PI)):(di=li.x>hi.x,di||(pi=pi-Math.PI));var mi=di?"left":"right",gi=ti.getModel("label"),yi=gi.get("rotate"),Si=yi*(Math.PI/180),bi=ui.getTextContent();bi&&(ui.setTextConfig({position:gi.get("position")||mi,rotation:yi==null?-pi:Si,origin:"center"}),bi.setStyle("verticalAlign","middle"))}var Ti=ti.get(["emphasis","focus"]),Ai=Ti==="relative"?Jf(Qr.getAncestorsIndices(),Qr.getDescendantIndices()):Ti==="ancestor"?Qr.getAncestorsIndices():Ti==="descendant"?Qr.getDescendantIndices():null;Ai&&(Qi(Wr).focus=Ai),NK(Kr,Qr,ii,Wr,si,oi,li,Zr),Wr.__edge&&(Wr.onHoverStateChange=function(Ei){if(Ei!=="blur"){var Mi=Qr.parentNode&&Yr.getItemGraphicEl(Qr.parentNode.dataIndex);Mi&&Mi.hoverState===Ah||Mh(Wr.__edge,Ei)}})}function NK(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Gr.getModel(),ri=Yr.get("edgeShape"),ii=Yr.get("layout"),ni=Yr.getOrient(),ai=Yr.get(["lineStyle","curveness"]),oi=Yr.get("edgeForkPosition"),si=ei.getModel("lineStyle").getLineStyle(),li=Zr.__edge;if(ri==="curve")Gr.parentNode&&Gr.parentNode!==Wr&&(li||(li=Zr.__edge=new Dh({shape:yT(ii,ni,ai,Kr,Kr)})),bn(li,{shape:yT(ii,ni,ai,Jr,Qr)},Yr));else if(ri==="polyline"&&ii==="orthogonal"&&Gr!==Wr&&Gr.children&&Gr.children.length!==0&&Gr.isExpand===!0){for(var ui=Gr.children,fi=[],hi=0;hi<ui.length;hi++){var ci=ui[hi].getLayout();fi.push([ci.x,ci.y])}li||(li=Zr.__edge=new OK({shape:{parentPoint:[Qr.x,Qr.y],childPoints:[[Qr.x,Qr.y]],orient:ni,forkPosition:oi}})),bn(li,{shape:{parentPoint:[Qr.x,Qr.y],childPoints:fi}},Yr)}li&&!(ri==="polyline"&&!Gr.isExpand)&&(li.useStyle(Yi({strokeNoScale:!0,fill:null},si)),ia(li,ei,"lineStyle"),Js(li),ti.add(li))}function UF(Yr,Gr,Wr,Zr,Kr){var Jr=Gr.tree.root,Qr=HF(Jr,Yr),ti=Qr.source,ei=Qr.sourceLayout,ri=Gr.getItemGraphicEl(Yr.dataIndex);if(ri){var ii=Gr.getItemGraphicEl(ti.dataIndex),ni=ii.__edge,ai=ri.__edge||(ti.isExpand===!1||ti.children.length===1?ni:void 0),oi=Zr.get("edgeShape"),si=Zr.get("layout"),li=Zr.get("orient"),ui=Zr.get(["lineStyle","curveness"]);ai&&(oi==="curve"?Es(ai,{shape:yT(si,li,ui,ei,ei),style:{opacity:0}},Zr,{cb:function(){Wr.remove(ai)},removeOpt:Kr}):oi==="polyline"&&Zr.get("layout")==="orthogonal"&&Es(ai,{shape:{parentPoint:[ei.x,ei.y],childPoints:[[ei.x,ei.y]]},style:{opacity:0}},Zr,{cb:function(){Wr.remove(ai)},removeOpt:Kr}))}}function HF(Yr,Gr){for(var Wr=Gr.parentNode===Yr?Gr:Gr.parentNode||Gr,Zr;Zr=Wr.getLayout(),Zr==null;)Wr=Wr.parentNode===Yr?Wr:Wr.parentNode||Wr;return{source:Wr,sourceLayout:Zr}}function GF(Yr,Gr,Wr,Zr,Kr){var Jr=Yr.tree.getNodeByDataIndex(Gr),Qr=Yr.tree.root,ti=HF(Qr,Jr).sourceLayout,ei={duration:Kr.get("animationDurationUpdate"),easing:Kr.get("animationEasingUpdate")};Es(Wr,{x:ti.x+1,y:ti.y+1},Kr,{cb:function(){Zr.remove(Wr),Yr.setItemGraphicEl(Gr,null)},removeOpt:ei}),Wr.fadeOut(null,Yr.hostModel,{fadeLabel:!0,animation:ei}),Jr.children.forEach(function(ri){UF(ri,Yr,Zr,Kr,ei)}),UF(Jr,Yr,Zr,Kr,ei)}function yT(Yr,Gr,Wr,Zr,Kr){var Jr,Qr,ti,ei,ri,ii,ni,ai;if(Yr==="radial"){ri=Zr.rawX,ni=Zr.rawY,ii=Kr.rawX,ai=Kr.rawY;var oi=tc(ri,ni),si=tc(ri,ni+(ai-ni)*Wr),li=tc(ii,ai+(ni-ai)*Wr),ui=tc(ii,ai);return{x1:oi.x||0,y1:oi.y||0,x2:ui.x||0,y2:ui.y||0,cpx1:si.x||0,cpy1:si.y||0,cpx2:li.x||0,cpy2:li.y||0}}else ri=Zr.x,ni=Zr.y,ii=Kr.x,ai=Kr.y,(Gr==="LR"||Gr==="RL")&&(Jr=ri+(ii-ri)*Wr,Qr=ni,ti=ii+(ri-ii)*Wr,ei=ai),(Gr==="TB"||Gr==="BT")&&(Jr=ri,Qr=ni+(ai-ni)*Wr,ti=ii,ei=ai+(ni-ai)*Wr);return{x1:ri,y1:ni,x2:ii,y2:ai,cpx1:Jr,cpy1:Qr,cpx2:ti,cpy2:ei}}var WF=zK;var Vs=ln();function FK(Yr){var Gr=Yr.mainData,Wr=Yr.datas;Wr||(Wr={main:Gr},Yr.datasAttr={main:"data"}),Yr.datas=Yr.mainData=null,YF(Gr,Wr,Yr),_i(Wr,function(Zr){_i(Gr.TRANSFERABLE_METHODS,function(Kr){Zr.wrapMethod(Kr,en(VK,Yr))})}),Gr.wrapMethod("cloneShallow",en(UK,Yr)),_i(Gr.CHANGABLE_METHODS,function(Zr){Gr.wrapMethod(Zr,en(BK,Yr))}),ea(Wr[Gr.dataType]===Gr)}function VK(Yr,Gr){if(WK(this)){var Wr=ki({},Vs(this).datas);Wr[this.dataType]=Gr,YF(Gr,Wr,Yr)}else xT(Gr,this.dataType,Vs(this).mainData,Yr);return Gr}function BK(Yr,Gr){return Yr.struct&&Yr.struct.update(),Gr}function UK(Yr,Gr){return _i(Vs(Gr).datas,function(Wr,Zr){Wr!==Gr&&xT(Wr.cloneShallow(),Zr,Gr,Yr)}),Gr}function GK(Yr){var Gr=Vs(this).mainData;return Yr==null||Gr==null?Gr:Vs(Gr).datas[Yr]}function HK(){var Yr=Vs(this).mainData;return Yr==null?[{data:Yr}]:Oi(fn(Vs(Yr).datas),function(Gr){return{type:Gr,data:Vs(Yr).datas[Gr]}})}function WK(Yr){return Vs(Yr).mainData===Yr}function YF(Yr,Gr,Wr){Vs(Yr).datas={},_i(Gr,function(Zr,Kr){xT(Zr,Kr,Yr,Wr)})}function xT(Yr,Gr,Wr,Zr){Vs(Wr).datas[Gr]=Yr,Vs(Yr).mainData=Wr,Yr.dataType=Gr,Zr.struct&&(Yr[Zr.structAttr]=Zr.struct,Zr.struct[Zr.datasAttr[Gr]]=Yr),Yr.getLinkedData=GK,Yr.getLinkedDataAll=HK}var Rx=FK;var YK=function(){function Yr(Gr,Wr){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=Gr||"",this.hostTree=Wr}return Yr.prototype.isRemoved=function(){return this.dataIndex<0},Yr.prototype.eachNode=function(Gr,Wr,Zr){Wi(Gr)&&(Zr=Wr,Wr=Gr,Gr=null),Gr=Gr||{},Ni(Gr)&&(Gr={order:Gr});var Kr=Gr.order||"preorder",Jr=this[Gr.attr||"children"],Qr;Kr==="preorder"&&(Qr=Wr.call(Zr,this));for(var ti=0;!Qr&&ti<Jr.length;ti++)Jr[ti].eachNode(Gr,Wr,Zr);Kr==="postorder"&&Wr.call(Zr,this)},Yr.prototype.updateDepthAndHeight=function(Gr){var Wr=0;this.depth=Gr;for(var Zr=0;Zr<this.children.length;Zr++){var Kr=this.children[Zr];Kr.updateDepthAndHeight(Gr+1),Kr.height>Wr&&(Wr=Kr.height)}this.height=Wr+1},Yr.prototype.getNodeById=function(Gr){if(this.getId()===Gr)return this;for(var Wr=0,Zr=this.children,Kr=Zr.length;Wr<Kr;Wr++){var Jr=Zr[Wr].getNodeById(Gr);if(Jr)return Jr}},Yr.prototype.contains=function(Gr){if(Gr===this)return!0;for(var Wr=0,Zr=this.children,Kr=Zr.length;Wr<Kr;Wr++){var Jr=Zr[Wr].contains(Gr);if(Jr)return Jr}},Yr.prototype.getAncestors=function(Gr){for(var Wr=[],Zr=Gr?this:this.parentNode;Zr;)Wr.push(Zr),Zr=Zr.parentNode;return Wr.reverse(),Wr},Yr.prototype.getAncestorsIndices=function(){for(var Gr=[],Wr=this;Wr;)Gr.push(Wr.dataIndex),Wr=Wr.parentNode;return Gr.reverse(),Gr},Yr.prototype.getDescendantIndices=function(){var Gr=[];return this.eachNode(function(Wr){Gr.push(Wr.dataIndex)}),Gr},Yr.prototype.getValue=function(Gr){var Wr=this.hostTree.data;return Wr.getStore().get(Wr.getDimensionIndex(Gr||"value"),this.dataIndex)},Yr.prototype.setLayout=function(Gr,Wr){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,Gr,Wr)},Yr.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},Yr.prototype.getModel=function(Gr){if(!(this.dataIndex<0)){var Wr=this.hostTree,Zr=Wr.data.getItemModel(this.dataIndex);return Zr.getModel(Gr)}},Yr.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},Yr.prototype.setVisual=function(Gr,Wr){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Gr,Wr)},Yr.prototype.getVisual=function(Gr){return this.hostTree.data.getItemVisual(this.dataIndex,Gr)},Yr.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},Yr.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},Yr.prototype.getChildIndex=function(){if(this.parentNode){for(var Gr=this.parentNode.children,Wr=0;Wr<Gr.length;++Wr)if(Gr[Wr]===this)return Wr;return-1}return-1},Yr.prototype.isAncestorOf=function(Gr){for(var Wr=Gr.parentNode;Wr;){if(Wr===this)return!0;Wr=Wr.parentNode}return!1},Yr.prototype.isDescendantOf=function(Gr){return Gr!==this&&Gr.isAncestorOf(this)},Yr}();var XK=function(){function Yr(Gr){this.type="tree",this._nodes=[],this.hostModel=Gr}return Yr.prototype.eachNode=function(Gr,Wr,Zr){this.root.eachNode(Gr,Wr,Zr)},Yr.prototype.getNodeByDataIndex=function(Gr){var Wr=this.data.getRawIndex(Gr);return this._nodes[Wr]},Yr.prototype.getNodeById=function(Gr){return this.root.getNodeById(Gr)},Yr.prototype.update=function(){for(var Gr=this.data,Wr=this._nodes,Zr=0,Kr=Wr.length;Zr<Kr;Zr++)Wr[Zr].dataIndex=-1;for(var Zr=0,Kr=Gr.count();Zr<Kr;Zr++)Wr[Gr.getRawIndex(Zr)].dataIndex=Zr},Yr.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Yr.createTree=function(Gr,Wr,Zr){var Kr=new Yr(Wr),Jr=[],Qr=1;ti(Gr);function ti(ii,ni){var ai=ii.value;Qr=Math.max(Qr,Ri(ai)?ai.length:1),Jr.push(ii);var oi=new YK(aa(ii.name,""),Kr);ni?qK(oi,ni):Kr.root=oi,Kr._nodes.push(oi);var si=ii.children;if(si)for(var li=0;li<si.length;li++)ti(si[li],oi)}Kr.root.updateDepthAndHeight(0);var ei=hl(Jr,{coordDimensions:["value"],dimensionsCount:Qr}).dimensions,ri=new ha(ei,Wr);return ri.initData(Jr),Zr&&Zr(ri),Rx({mainData:ri,struct:Kr,structAttr:"tree"}),Kr.update(),Kr},Yr}();function qK(Yr,Gr){var Wr=Gr.children;Yr.parentNode!==Gr&&(Wr.push(Yr),Yr.parentNode=Gr)}var Tp=XK;function Au(Yr,Gr,Wr){if(Yr&&sn(Gr,Yr.type)>=0){var Zr=Wr.getData().tree.root,Kr=Yr.targetNode;if(Ni(Kr)&&(Kr=Zr.getNodeById(Kr)),Kr&&Zr.contains(Kr))return{node:Kr};var Jr=Yr.targetNodeId;if(Jr!=null&&(Kr=Zr.getNodeById(Jr)))return{node:Kr}}}function _T(Yr){for(var Gr=[];Yr;)Yr=Yr.parentNode,Yr&&Gr.push(Yr);return Gr.reverse()}function Ap(Yr,Gr){var Wr=_T(Yr);return sn(Wr,Gr)>=0}function Af(Yr,Gr){for(var Wr=[];Yr;){var Zr=Yr.dataIndex;Wr.push({name:Yr.name,dataIndex:Zr,value:Gr.getRawValue(Zr)}),Yr=Yr.parentNode}return Wr.reverse(),Wr}var ZK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.hasSymbolVisual=!0,Wr.ignoreStyleOnData=!0,Wr}return Gr.prototype.getInitialData=function(Wr){var Zr={name:Wr.name,children:Wr.data},Kr=Wr.leaves||{},Jr=new Mn(Kr,this,this.ecModel),Qr=Tp.createTree(Zr,this,ti);function ti(ni){ni.wrapMethod("getItemModel",function(ai,oi){var si=Qr.getNodeByDataIndex(oi);return si&&si.children.length&&si.isExpand||(ai.parentModel=Jr),ai})}var ei=0;Qr.eachNode("preorder",function(ni){ni.depth>ei&&(ei=ni.depth)});var ri=Wr.expandAndCollapse,ii=ri&&Wr.initialTreeDepth>=0?Wr.initialTreeDepth:ei;return Qr.root.eachNode("preorder",function(ni){var ai=ni.hostTree.data.getRawDataItem(ni.dataIndex);ni.isExpand=ai&&ai.collapsed!=null?!ai.collapsed:ni.depth<=ii}),Qr.data},Gr.prototype.getOrient=function(){var Wr=this.get("orient");return Wr==="horizontal"?Wr="LR":Wr==="vertical"&&(Wr="TB"),Wr},Gr.prototype.setZoom=function(Wr){this.option.zoom=Wr},Gr.prototype.setCenter=function(Wr){this.option.center=Wr},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){for(var Jr=this.getData().tree,Qr=Jr.root.children[0],ti=Jr.getNodeByDataIndex(Wr),ei=ti.getValue(),ri=ti.name;ti&&ti!==Qr;)ri=ti.parentNode.name+"."+ri,ti=ti.parentNode;return Jn("nameValue",{name:ri,value:ei,noValue:isNaN(ei)||ei==null})},Gr.prototype.getDataParams=function(Wr){var Zr=Yr.prototype.getDataParams.apply(this,arguments),Kr=this.getData().tree.getNodeByDataIndex(Wr);return Zr.treeAncestors=Af(Kr,this),Zr.collapsed=!Kr.isExpand,Zr},Gr.type="series.tree",Gr.layoutMode="box",Gr.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},Gr}(Pn),XF=ZK;function qF(Yr,Gr,Wr){for(var Zr=[Yr],Kr=[],Jr;Jr=Zr.pop();)if(Kr.push(Jr),Jr.isExpand){var Qr=Jr.children;if(Qr.length)for(var ti=0;ti<Qr.length;ti++)Zr.push(Qr[ti])}for(;Jr=Kr.pop();)Gr(Jr,Wr)}function Mp(Yr,Gr){for(var Wr=[Yr],Zr;Zr=Wr.pop();)if(Gr(Zr),Zr.isExpand){var Kr=Zr.children;if(Kr.length)for(var Jr=Kr.length-1;Jr>=0;Jr--)Wr.push(Kr[Jr])}}function ST(Yr,Gr){Yr.eachSeriesByType("tree",function(Wr){jK(Wr,Gr)})}function jK(Yr,Gr){var Wr=FF(Yr,Gr);Yr.layoutInfo=Wr;var Zr=Yr.get("layout"),Kr=0,Jr=0,Qr=null;Zr==="radial"?(Kr=2*Math.PI,Jr=Math.min(Wr.height,Wr.width)/2,Qr=gT(function(ci,pi){return(ci.parentNode===pi.parentNode?1:2)/ci.depth})):(Kr=Wr.width,Jr=Wr.height,Qr=gT());var ti=Yr.getData().tree.root,ei=ti.children[0];if(ei){OF(ti),qF(ei,zF,Qr),ti.hierNode.modifier=-ei.hierNode.prelim,Mp(ei,NF);var ri=ei,ii=ei,ni=ei;Mp(ei,function(ci){var pi=ci.getLayout().x;pi<ri.getLayout().x&&(ri=ci),pi>ii.getLayout().x&&(ii=ci),ci.depth>ni.depth&&(ni=ci)});var ai=ri===ii?1:Qr(ri,ii)/2,oi=ai-ri.getLayout().x,si=0,li=0,ui=0,fi=0;if(Zr==="radial")si=Kr/(ii.getLayout().x+ai+oi),li=Jr/(ni.depth-1||1),Mp(ei,function(ci){ui=(ci.getLayout().x+oi)*si,fi=(ci.depth-1)*li;var pi=tc(ui,fi);ci.setLayout({x:pi.x,y:pi.y,rawX:ui,rawY:fi},!0)});else{var hi=Yr.getOrient();hi==="RL"||hi==="LR"?(li=Jr/(ii.getLayout().x+ai+oi),si=Kr/(ni.depth-1||1),Mp(ei,function(ci){fi=(ci.getLayout().x+oi)*li,ui=hi==="LR"?(ci.depth-1)*si:Kr-(ci.depth-1)*si,ci.setLayout({x:ui,y:fi},!0)})):(hi==="TB"||hi==="BT")&&(si=Kr/(ii.getLayout().x+ai+oi),li=Jr/(ni.depth-1||1),Mp(ei,function(ci){ui=(ci.getLayout().x+oi)*si,fi=hi==="TB"?(ci.depth-1)*li:Jr-(ci.depth-1)*li,ci.setLayout({x:ui,y:fi},!0)}))}}}function wT(Yr){Yr.eachSeriesByType("tree",function(Gr){var Wr=Gr.getData(),Zr=Wr.tree;Zr.eachNode(function(Kr){var Jr=Kr.getModel(),Qr=Jr.getModel("itemStyle").getItemStyle(),ti=Wr.ensureUniqueItemVisual(Kr.dataIndex,"style");ki(ti,Qr)})})}function ZF(Yr){Yr.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(Gr,Wr){Wr.eachComponent({mainType:"series",subType:"tree",query:Gr},function(Zr){var Kr=Gr.dataIndex,Jr=Zr.getData().tree,Qr=Jr.getNodeByDataIndex(Kr);Qr.isExpand=!Qr.isExpand})}),Yr.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(Gr,Wr,Zr){Wr.eachComponent({mainType:"series",subType:"tree",query:Gr},function(Kr){var Jr=Kr.coordinateSystem,Qr=Cp(Jr,Gr,void 0,Zr);Kr.setCenter&&Kr.setCenter(Qr.center),Kr.setZoom&&Kr.setZoom(Qr.zoom)})})}function CT(Yr){Yr.registerChartView(WF),Yr.registerSeriesModel(XF),Yr.registerLayout(ST),Yr.registerVisual(wT),ZF(Yr)}var jF=["treemapZoomToNode","treemapRender","treemapMove"];function KF(Yr){for(var Gr=0;Gr<jF.length;Gr++)Yr.registerAction({type:jF[Gr],update:"updateView"},qn);Yr.registerAction({type:"treemapRootToNode",update:"updateView"},function(Wr,Zr){Zr.eachComponent({mainType:"series",subType:"treemap",query:Wr},Kr);function Kr(Jr,Qr){var ti=["treemapZoomToNode","treemapRootToNode"],ei=Au(Wr,ti,Jr);if(ei){var ri=Jr.getViewRoot();ri&&(Wr.direction=Ap(ri,ei.node)?"rollUp":"drillDown"),Jr.resetViewRoot(ei.node)}}})}function am(Yr){var Gr=Yr.getData(),Wr=Gr.tree,Zr={};Wr.eachNode(function(Kr){for(var Jr=Kr;Jr&&Jr.depth>1;)Jr=Jr.parentNode;var Qr=mv(Yr.ecModel,Jr.name||Jr.dataIndex+"",Zr);Kr.setVisual("decal",Qr)})}var KK=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.preventUsingHoverLayer=!0,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){var Kr={name:Wr.name,children:Wr.data};$F(Kr);var Jr=Wr.levels||[],Qr=this.designatedVisualItemStyle={},ti=new Mn({itemStyle:Qr},this,Zr);Jr=Wr.levels=$K(Jr,Zr);var ei=Oi(Jr||[],function(ni){return new Mn(ni,ti,Zr)},this),ri=Tp.createTree(Kr,this,ii);function ii(ni){ni.wrapMethod("getItemModel",function(ai,oi){var si=ri.getNodeByDataIndex(oi),li=si?ei[si.depth]:null;return ai.parentModel=li||ti,ai})}return ri.data},Gr.prototype.optionUpdated=function(){this.resetViewRoot()},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){var Jr=this.getData(),Qr=this.getRawValue(Wr),ti=Jr.getName(Wr);return Jn("nameValue",{name:ti,value:Qr})},Gr.prototype.getDataParams=function(Wr){var Zr=Yr.prototype.getDataParams.apply(this,arguments),Kr=this.getData().tree.getNodeByDataIndex(Wr);return Zr.treeAncestors=Af(Kr,this),Zr.treePathInfo=Zr.treeAncestors,Zr},Gr.prototype.setLayoutInfo=function(Wr){this.layoutInfo=this.layoutInfo||{},ki(this.layoutInfo,Wr)},Gr.prototype.mapIdToIndex=function(Wr){var Zr=this._idIndexMap;Zr||(Zr=this._idIndexMap=Hi(),this._idIndexMapCount=0);var Kr=Zr.get(Wr);return Kr==null&&Zr.set(Wr,Kr=this._idIndexMapCount++),Kr},Gr.prototype.getViewRoot=function(){return this._viewRoot},Gr.prototype.resetViewRoot=function(Wr){Wr?this._viewRoot=Wr:Wr=this._viewRoot;var Zr=this.getRawData().tree.root;(!Wr||Wr!==Zr&&!Zr.contains(Wr))&&(this._viewRoot=Zr)},Gr.prototype.enableAriaDecal=function(){am(this)},Gr.type="series.treemap",Gr.layoutMode="box",Gr.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},Gr}(Pn);function $F(Yr){var Gr=0;_i(Yr.children,function(Zr){$F(Zr);var Kr=Zr.value;Ri(Kr)&&(Kr=Kr[0]),Gr+=Kr});var Wr=Yr.value;Ri(Wr)&&(Wr=Wr[0]),(Wr==null||isNaN(Wr))&&(Wr=Gr),Wr<0&&(Wr=0),Ri(Yr.value)?Yr.value[0]=Wr:Yr.value=Wr}function $K(Yr,Gr){var Wr=En(Gr.get("color")),Zr=En(Gr.get(["aria","decal","decals"]));if(Wr){Yr=Yr||[];var Kr,Jr;_i(Yr,function(ti){var ei=new Mn(ti),ri=ei.get("color"),ii=ei.get("decal");(ei.get(["itemStyle","color"])||ri&&ri!=="none")&&(Kr=!0),(ei.get(["itemStyle","decal"])||ii&&ii!=="none")&&(Jr=!0)});var Qr=Yr[0]||(Yr[0]={});return Kr||(Qr.color=Wr.slice()),!Jr&&Zr&&(Qr.decal=Zr.slice()),Yr}}var JF=KK;var JK=8,QF=8,TT=5,QK=function(){function Yr(Gr){this.group=new Zi,Gr.add(this.group)}return Yr.prototype.render=function(Gr,Wr,Zr,Kr){var Jr=Gr.getModel("breadcrumb"),Qr=this.group;if(Qr.removeAll(),!(!Jr.get("show")||!Zr)){var ti=Jr.getModel("itemStyle"),ei=Jr.getModel("emphasis"),ri=ti.getModel("textStyle"),ii=ei.getModel(["itemStyle","textStyle"]),ni={pos:{left:Jr.get("left"),right:Jr.get("right"),top:Jr.get("top"),bottom:Jr.get("bottom")},box:{width:Wr.getWidth(),height:Wr.getHeight()},emptyItemWidth:Jr.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(Zr,ni,ri),this._renderContent(Gr,ni,ti,ei,ri,ii,Kr),of(Qr,ni.pos,ni.box)}},Yr.prototype._prepare=function(Gr,Wr,Zr){for(var Kr=Gr;Kr;Kr=Kr.parentNode){var Jr=aa(Kr.getModel().get("name"),""),Qr=Zr.getTextRect(Jr),ti=Math.max(Qr.width+JK*2,Wr.emptyItemWidth);Wr.totalWidth+=ti+QF,Wr.renderList.push({node:Kr,text:Jr,width:ti})}},Yr.prototype._renderContent=function(Gr,Wr,Zr,Kr,Jr,Qr,ti){for(var ei=0,ri=Wr.emptyItemWidth,ii=Gr.get(["breadcrumb","height"]),ni=r2(Wr.pos,Wr.box),ai=Wr.totalWidth,oi=Wr.renderList,si=Kr.getModel("itemStyle").getItemStyle(),li=oi.length-1;li>=0;li--){var ui=oi[li],fi=ui.node,hi=ui.width,ci=ui.text;ai>ni.width&&(ai-=hi-ri,hi=ri,ci=null);var pi=new fa({shape:{points:t$(ei,0,hi,ii,li===oi.length-1,li===0)},style:Yi(Zr.getItemStyle(),{lineJoin:"bevel"}),textContent:new xn({style:On(Jr,{text:ci})}),textConfig:{position:"inside"},z2:lu*1e4,onclick:en(ti,fi)});pi.disableLabelAnimation=!0,pi.getTextContent().ensureState("emphasis").style=On(Qr,{text:ci}),pi.ensureState("emphasis").style=si,In(pi,Kr.get("focus"),Kr.get("blurScope"),Kr.get("disabled")),this.group.add(pi),e$(pi,Gr,fi),ei+=hi+QF}},Yr.prototype.remove=function(){this.group.removeAll()},Yr}();function t$(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=[[Kr?Yr:Yr-TT,Gr],[Yr+Wr,Gr],[Yr+Wr,Gr+Zr],[Kr?Yr:Yr-TT,Gr+Zr]];return!Jr&&Qr.splice(2,0,[Yr+Wr+TT,Gr+Zr/2]),!Kr&&Qr.push([Yr,Gr+Zr/2]),Qr}function e$(Yr,Gr,Wr){Qi(Yr).eventData={componentType:"series",componentSubType:"treemap",componentIndex:Gr.componentIndex,seriesIndex:Gr.seriesIndex,seriesName:Gr.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:Wr&&Wr.dataIndex,name:Wr&&Wr.name},treePathInfo:Wr&&Af(Wr,Gr)}}var tV=QK;var r$=function(){function Yr(){this._storage=[],this._elExistsMap={}}return Yr.prototype.add=function(Gr,Wr,Zr,Kr,Jr){return this._elExistsMap[Gr.id]?!1:(this._elExistsMap[Gr.id]=!0,this._storage.push({el:Gr,target:Wr,duration:Zr,delay:Kr,easing:Jr}),!0)},Yr.prototype.finished=function(Gr){return this._finishedCallback=Gr,this},Yr.prototype.start=function(){for(var Gr=this,Wr=this._storage.length,Zr=function(){Wr--,Wr<=0&&(Gr._storage.length=0,Gr._elExistsMap={},Gr._finishedCallback&&Gr._finishedCallback())},Kr=0,Jr=this._storage.length;Kr<Jr;Kr++){var Qr=this._storage[Kr];Qr.el.animateTo(Qr.target,{duration:Qr.duration,delay:Qr.delay,easing:Qr.easing,setToFinal:!0,done:Zr,aborted:Zr})}return this},Yr}();function eV(){return new r$}var AT=Zi,rV=mn,iV=3,nV="label",aV="upperLabel",n$=lu*10,a$=lu*2,o$=lu*3,ec=Uo([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),oV=function(Yr){var Gr=ec(Yr);return Gr.stroke=Gr.fill=Gr.lineWidth=null,Gr},Ox=ln(),s$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._state="ready",Wr._storage=om(),Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){var Qr=Zr.findComponents({mainType:"series",subType:"treemap",query:Jr});if(!(sn(Qr,Wr)<0)){this.seriesModel=Wr,this.api=Kr,this.ecModel=Zr;var ti=["treemapZoomToNode","treemapRootToNode"],ei=Au(Jr,ti,Wr),ri=Jr&&Jr.type,ii=Wr.layoutInfo,ni=!this._oldTree,ai=this._storage,oi=ri==="treemapRootToNode"&&ei&&ai?{rootNodeGroup:ai.nodeGroup[ei.node.getRawIndex()],direction:Jr.direction}:null,si=this._giveContainerGroup(ii),li=Wr.get("animation"),ui=this._doRender(si,Wr,oi);li&&!ni&&(!ri||ri==="treemapZoomToNode"||ri==="treemapRootToNode")?this._doAnimation(si,ui,Wr,oi):ui.renderFinally(),this._resetController(Kr),this._renderBreadcrumb(Wr,Kr,ei)}},Gr.prototype._giveContainerGroup=function(Wr){var Zr=this._containerGroup;return Zr||(Zr=this._containerGroup=new AT,this._initEvents(Zr),this.group.add(Zr)),Zr.x=Wr.x,Zr.y=Wr.y,Zr},Gr.prototype._doRender=function(Wr,Zr,Kr){var Jr=Zr.getData().tree,Qr=this._oldTree,ti=om(),ei=om(),ri=this._storage,ii=[];function ni(ui,fi,hi,ci){return l$(Zr,ei,ri,Kr,ti,ii,ui,fi,hi,ci)}oi(Jr.root?[Jr.root]:[],Qr&&Qr.root?[Qr.root]:[],Wr,Jr===Qr||!Qr,0);var ai=si(ri);return this._oldTree=Jr,this._storage=ei,{lastsForAnimation:ti,willDeleteEls:ai,renderFinally:li};function oi(ui,fi,hi,ci,pi){ci?(fi=ui,_i(ui,function(mi,gi){!mi.isRemoved()&&vi(gi,gi)})):new oo(fi,ui,di,di).add(vi).update(vi).remove(en(vi,null)).execute();function di(mi){return mi.getId()}function vi(mi,gi){var yi=mi!=null?ui[mi]:null,Si=gi!=null?fi[gi]:null,bi=ni(yi,Si,hi,pi);bi&&oi(yi&&yi.viewChildren||[],Si&&Si.viewChildren||[],bi,ci,pi+1)}}function si(ui){var fi=om();return ui&&_i(ui,function(hi,ci){var pi=fi[ci];_i(hi,function(di){di&&(pi.push(di),Ox(di).willDelete=!0)})}),fi}function li(){_i(ai,function(ui){_i(ui,function(fi){fi.parent&&fi.parent.remove(fi)})}),_i(ii,function(ui){ui.invisible=!0,ui.dirty()})}},Gr.prototype._doAnimation=function(Wr,Zr,Kr,Jr){var Qr=Kr.get("animationDurationUpdate"),ti=Kr.get("animationEasing"),ei=(Wi(Qr)?0:Qr)||0,ri=(Wi(ti)?null:ti)||"cubicOut",ii=eV();_i(Zr.willDeleteEls,function(ni,ai){_i(ni,function(oi,si){if(!oi.invisible){var li=oi.parent,ui,fi=Ox(li);if(Jr&&Jr.direction==="drillDown")ui=li===Jr.rootNodeGroup?{shape:{x:0,y:0,width:fi.nodeWidth,height:fi.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var hi=0,ci=0;fi.willDelete||(hi=fi.nodeWidth/2,ci=fi.nodeHeight/2),ui=ai==="nodeGroup"?{x:hi,y:ci,style:{opacity:0}}:{shape:{x:hi,y:ci,width:0,height:0},style:{opacity:0}}}ui&&ii.add(oi,ui,ei,0,ri)}})}),_i(this._storage,function(ni,ai){_i(ni,function(oi,si){var li=Zr.lastsForAnimation[ai][si],ui={};li&&(oi instanceof Zi?li.oldX!=null&&(ui.x=oi.x,ui.y=oi.y,oi.x=li.oldX,oi.y=li.oldY):(li.oldShape&&(ui.shape=ki({},oi.shape),oi.setShape(li.oldShape)),li.fadein?(oi.setStyle("opacity",0),ui.style={opacity:1}):oi.style.opacity!==1&&(ui.style={opacity:1})),ii.add(oi,ui,ei,0,ri))})},this),this._state="animating",ii.finished(Gi(function(){this._state="ready",Zr.renderFinally()},this)).start()},Gr.prototype._resetController=function(Wr){var Zr=this._controller;Zr||(Zr=this._controller=new Yl(Wr.getZr()),Zr.enable(this.seriesModel.get("roam")),Zr.on("pan",Gi(this._onPan,this)),Zr.on("zoom",Gi(this._onZoom,this)));var Kr=new rn(0,0,Wr.getWidth(),Wr.getHeight());Zr.setPointerChecker(function(Jr,Qr,ti){return Kr.contain(Qr,ti)})},Gr.prototype._clearController=function(){var Wr=this._controller;Wr&&(Wr.dispose(),Wr=null)},Gr.prototype._onPan=function(Wr){if(this._state!=="animating"&&(Math.abs(Wr.dx)>iV||Math.abs(Wr.dy)>iV)){var Zr=this.seriesModel.getData().tree.root;if(!Zr)return;var Kr=Zr.getLayout();if(!Kr)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Kr.x+Wr.dx,y:Kr.y+Wr.dy,width:Kr.width,height:Kr.height}})}},Gr.prototype._onZoom=function(Wr){var Zr=Wr.originX,Kr=Wr.originY;if(this._state!=="animating"){var Jr=this.seriesModel.getData().tree.root;if(!Jr)return;var Qr=Jr.getLayout();if(!Qr)return;var ti=new rn(Qr.x,Qr.y,Qr.width,Qr.height),ei=this.seriesModel.layoutInfo;Zr-=ei.x,Kr-=ei.y;var ri=Aa();to(ri,ri,[-Zr,-Kr]),Pc(ri,ri,[Wr.scale,Wr.scale]),to(ri,ri,[Zr,Kr]),ti.applyTransform(ri),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:ti.x,y:ti.y,width:ti.width,height:ti.height}})}},Gr.prototype._initEvents=function(Wr){var Zr=this;Wr.on("click",function(Kr){if(Zr._state==="ready"){var Jr=Zr.seriesModel.get("nodeClick",!0);if(Jr){var Qr=Zr.findTarget(Kr.offsetX,Kr.offsetY);if(Qr){var ti=Qr.node;if(ti.getLayout().isLeafRoot)Zr._rootToNode(Qr);else if(Jr==="zoomToNode")Zr._zoomToNode(Qr);else if(Jr==="link"){var ei=ti.hostTree.data.getItemModel(ti.dataIndex),ri=ei.get("link",!0),ii=ei.get("target",!0)||"blank";ri&&Fh(ri,ii)}}}}},this)},Gr.prototype._renderBreadcrumb=function(Wr,Zr,Kr){var Jr=this;Kr||(Kr=Wr.get("leafDepth",!0)!=null?{node:Wr.getViewRoot()}:this.findTarget(Zr.getWidth()/2,Zr.getHeight()/2),Kr||(Kr={node:Wr.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new tV(this.group))).render(Wr,Zr,Kr.node,function(Qr){Jr._state!=="animating"&&(Ap(Wr.getViewRoot(),Qr)?Jr._rootToNode({node:Qr}):Jr._zoomToNode({node:Qr}))})},Gr.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=om(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},Gr.prototype.dispose=function(){this._clearController()},Gr.prototype._zoomToNode=function(Wr){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Wr.node})},Gr.prototype._rootToNode=function(Wr){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Wr.node})},Gr.prototype.findTarget=function(Wr,Zr){var Kr,Jr=this.seriesModel.getViewRoot();return Jr.eachNode({attr:"viewChildren",order:"preorder"},function(Qr){var ti=this._storage.background[Qr.getRawIndex()];if(ti){var ei=ti.transformCoordToLocal(Wr,Zr),ri=ti.shape;if(ri.x<=ei[0]&&ei[0]<=ri.x+ri.width&&ri.y<=ei[1]&&ei[1]<=ri.y+ri.height)Kr={node:Qr,offsetX:ei[0],offsetY:ei[1]};else return!1}},this),Kr},Gr.type="treemap",Gr}(An);function om(){return{nodeGroup:[],background:[],content:[]}}function l$(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){if(!Qr)return;var ii=Qr.getLayout(),ni=Yr.getData(),ai=Qr.getModel();if(ni.setItemGraphicEl(Qr.dataIndex,null),!ii||!ii.isInView)return;var oi=ii.width,si=ii.height,li=ii.borderWidth,ui=ii.invisible,fi=Qr.getRawIndex(),hi=ti&&ti.getRawIndex(),ci=Qr.viewChildren,pi=ii.upperHeight,di=ci&&ci.length,vi=ai.getModel("itemStyle"),mi=ai.getModel(["emphasis","itemStyle"]),gi=ai.getModel(["blur","itemStyle"]),yi=ai.getModel(["select","itemStyle"]),Si=vi.get("borderRadius")||0,bi=Vi("nodeGroup",AT);if(!bi)return;if(ei.add(bi),bi.x=ii.x||0,bi.y=ii.y||0,bi.markRedraw(),Ox(bi).nodeWidth=oi,Ox(bi).nodeHeight=si,ii.isAboveViewRoot)return bi;var Ti=Vi("background",rV,ri,a$);Ti&&Ci(bi,Ti,di&&ii.upperLabelHeight);var Ai=ai.getModel("emphasis"),Ei=Ai.get("focus"),Mi=Ai.get("blurScope"),wi=Ai.get("disabled"),Pi=Ei==="ancestor"?Qr.getAncestorsIndices():Ei==="descendant"?Qr.getDescendantIndices():Ei;if(di)af(bi)&&fu(bi,!1),Ti&&(fu(Ti,!wi),ni.setItemGraphicEl(Qr.dataIndex,Ti),vy(Ti,Pi,Mi));else{var xi=Vi("content",rV,ri,o$);xi&&Li(bi,xi),Ti.disableMorphing=!0,Ti&&af(Ti)&&fu(Ti,!1),fu(bi,!wi),ni.setItemGraphicEl(Qr.dataIndex,bi),vy(bi,Pi,Mi)}return bi;function Ci(hn,nn,dn){var cn=Qi(nn);if(cn.dataIndex=Qr.dataIndex,cn.seriesIndex=Yr.seriesIndex,nn.setShape({x:0,y:0,width:oi,height:si,r:Si}),ui)Ii(nn);else{nn.invisible=!1;var Ji=Qr.getVisual("style"),vn=Ji.stroke,pn=oV(vi);pn.fill=vn;var Xi=ec(mi);Xi.fill=mi.get("borderColor");var Nn=ec(gi);Nn.fill=gi.get("borderColor");var Wn=ec(yi);if(Wn.fill=yi.get("borderColor"),dn){var Fn=oi-2*li;zi(nn,vn,Ji.opacity,{x:li,y:0,width:Fn,height:pi})}else nn.removeTextContent();nn.setStyle(pn),nn.ensureState("emphasis").style=Xi,nn.ensureState("blur").style=Nn,nn.ensureState("select").style=Wn,Js(nn)}hn.add(nn)}function Li(hn,nn){var dn=Qi(nn);dn.dataIndex=Qr.dataIndex,dn.seriesIndex=Yr.seriesIndex;var cn=Math.max(oi-2*li,0),Ji=Math.max(si-2*li,0);if(nn.culling=!0,nn.setShape({x:li,y:li,width:cn,height:Ji,r:Si}),ui)Ii(nn);else{nn.invisible=!1;var vn=Qr.getVisual("style"),pn=vn.fill,Xi=oV(vi);Xi.fill=pn,Xi.decal=vn.decal;var Nn=ec(mi),Wn=ec(gi),Fn=ec(yi);zi(nn,pn,vn.opacity,null),nn.setStyle(Xi),nn.ensureState("emphasis").style=Nn,nn.ensureState("blur").style=Wn,nn.ensureState("select").style=Fn,Js(nn)}hn.add(nn)}function Ii(hn){!hn.invisible&&Jr.push(hn)}function zi(hn,nn,dn,cn){var Ji=ai.getModel(cn?aV:nV),vn=aa(ai.get("name"),null),pn=Ji.getShallow("show");jn(hn,Hn(ai,cn?aV:nV),{defaultText:pn?vn:null,inheritColor:nn,defaultOpacity:dn,labelFetcher:Yr,labelDataIndex:Qr.dataIndex});var Xi=hn.getTextContent();if(Xi){var Nn=Xi.style,Wn=Sc(Nn.padding||0);cn&&(hn.setTextConfig({layoutRect:cn}),Xi.disableLabelLayout=!0),Xi.beforeUpdate=function(){var Qn=Math.max((cn?cn.width:hn.shape.width)-Wn[1]-Wn[3],0),$n=Math.max((cn?cn.height:hn.shape.height)-Wn[0]-Wn[2],0);(Nn.width!==Qn||Nn.height!==$n)&&Xi.setStyle({width:Qn,height:$n})},Nn.truncateMinChar=2,Nn.lineOverflow="truncate",Bi(Nn,cn,ii);var Fn=Xi.getState("emphasis");Bi(Fn?Fn.style:null,cn,ii)}}function Bi(hn,nn,dn){var cn=hn?hn.text:null;if(!nn&&dn.isLeafRoot&&cn!=null){var Ji=Yr.get("drillDownIcon",!0);hn.text=Ji?Ji+" "+cn:cn}}function Vi(hn,nn,dn,cn){var Ji=hi!=null&&Wr[hn][hi],vn=Kr[hn];return Ji?(Wr[hn][hi]=null,ji(vn,Ji)):ui||(Ji=new nn,Ji instanceof ba&&(Ji.z2=u$(dn,cn)),tn(vn,Ji)),Gr[hn][fi]=Ji}function ji(hn,nn){var dn=hn[fi]={};nn instanceof AT?(dn.oldX=nn.x,dn.oldY=nn.y):dn.oldShape=ki({},nn.shape)}function tn(hn,nn){var dn=hn[fi]={},cn=Qr.parentNode,Ji=nn instanceof Zi;if(cn&&(!Zr||Zr.direction==="drillDown")){var vn=0,pn=0,Xi=Kr.background[cn.getRawIndex()];!Zr&&Xi&&Xi.oldShape&&(vn=Xi.oldShape.width,pn=Xi.oldShape.height),Ji?(dn.oldX=0,dn.oldY=pn):dn.oldShape={x:vn,y:pn,width:0,height:0}}dn.fadein=!Ji}}function u$(Yr,Gr){return Yr*n$+Gr}var sV=s$;var um=_i,f$=qi,Fx=-1,DT=function(){function Yr(Gr){var Wr=Gr.mappingMethod,Zr=Gr.type,Kr=this.option=Ki(Gr);this.type=Zr,this.mappingMethod=Wr,this._normalizeData=p$[Wr];var Jr=Yr.visualHandlers[Zr];this.applyVisual=Jr.applyVisual,this.getColorMapper=Jr.getColorMapper,this._normalizedToVisual=Jr._normalizedToVisual[Wr],Wr==="piecewise"?(MT(Kr),h$(Kr)):Wr==="category"?Kr.categories?c$(Kr):MT(Kr,!0):(ea(Wr!=="linear"||Kr.dataExtent),MT(Kr))}return Yr.prototype.mapValueToVisual=function(Gr){var Wr=this._normalizeData(Gr);return this._normalizedToVisual(Wr,Gr)},Yr.prototype.getNormalizer=function(){return Gi(this._normalizeData,this)},Yr.listVisualTypes=function(){return fn(Yr.visualHandlers)},Yr.isValidType=function(Gr){return Yr.visualHandlers.hasOwnProperty(Gr)},Yr.eachVisual=function(Gr,Wr,Zr){qi(Gr)?_i(Gr,Wr,Zr):Wr.call(Zr,Gr)},Yr.mapVisual=function(Gr,Wr,Zr){var Kr,Jr=Ri(Gr)?[]:qi(Gr)?{}:(Kr=!0,null);return Yr.eachVisual(Gr,function(Qr,ti){var ei=Wr.call(Zr,Qr,ti);Kr?Jr=ei:Jr[ti]=ei}),Jr},Yr.retrieveVisuals=function(Gr){var Wr={},Zr;return Gr&&um(Yr.visualHandlers,function(Kr,Jr){Gr.hasOwnProperty(Jr)&&(Wr[Jr]=Gr[Jr],Zr=!0)}),Zr?Wr:null},Yr.prepareVisualTypes=function(Gr){if(Ri(Gr))Gr=Gr.slice();else if(f$(Gr)){var Wr=[];um(Gr,function(Zr,Kr){Wr.push(Kr)}),Gr=Wr}else return[];return Gr.sort(function(Zr,Kr){return Kr==="color"&&Zr!=="color"&&Zr.indexOf("color")===0?1:-1}),Gr},Yr.dependsOn=function(Gr,Wr){return Wr==="color"?!!(Gr&&Gr.indexOf(Wr)===0):Gr===Wr},Yr.findPieceIndex=function(Gr,Wr,Zr){for(var Kr,Jr=1/0,Qr=0,ti=Wr.length;Qr<ti;Qr++){var ei=Wr[Qr].value;if(ei!=null){if(ei===Gr||Ni(ei)&&ei===Gr+"")return Qr;Zr&&ai(ei,Qr)}}for(var Qr=0,ti=Wr.length;Qr<ti;Qr++){var ri=Wr[Qr],ii=ri.interval,ni=ri.close;if(ii){if(ii[0]===-1/0){if(Nx(ni[1],Gr,ii[1]))return Qr}else if(ii[1]===1/0){if(Nx(ni[0],ii[0],Gr))return Qr}else if(Nx(ni[0],ii[0],Gr)&&Nx(ni[1],Gr,ii[1]))return Qr;Zr&&ai(ii[0],Qr),Zr&&ai(ii[1],Qr)}}if(Zr)return Gr===1/0?Wr.length-1:Gr===-1/0?0:Kr;function ai(oi,si){var li=Math.abs(oi-Gr);li<Jr&&(Jr=li,Kr=si)}},Yr.visualHandlers={color:{applyVisual:sm("color"),getColorMapper:function(){var Gr=this.option;return Gi(Gr.mappingMethod==="category"?function(Wr,Zr){return!Zr&&(Wr=this._normalizeData(Wr)),lm.call(this,Wr)}:function(Wr,Zr,Kr){var Jr=!!Kr;return!Zr&&(Wr=this._normalizeData(Wr)),Kr=kg(Wr,Gr.parsedVisual,Kr),Jr?Kr:Cs(Kr,"rgba")},this)},_normalizedToVisual:{linear:function(Gr){return Cs(kg(Gr,this.option.parsedVisual),"rgba")},category:lm,piecewise:function(Gr,Wr){var Zr=ET.call(this,Wr);return Zr==null&&(Zr=Cs(kg(Gr,this.option.parsedVisual),"rgba")),Zr},fixed:rc}},colorHue:zx(function(Gr,Wr){return sh(Gr,Wr)}),colorSaturation:zx(function(Gr,Wr){return sh(Gr,null,Wr)}),colorLightness:zx(function(Gr,Wr){return sh(Gr,null,null,Wr)}),colorAlpha:zx(function(Gr,Wr){return lh(Gr,Wr)}),decal:{applyVisual:sm("decal"),_normalizedToVisual:{linear:null,category:lm,piecewise:null,fixed:null}},opacity:{applyVisual:sm("opacity"),_normalizedToVisual:PT([0,1])},liftZ:{applyVisual:sm("liftZ"),_normalizedToVisual:{linear:rc,category:rc,piecewise:rc,fixed:rc}},symbol:{applyVisual:function(Gr,Wr,Zr){var Kr=this.mapValueToVisual(Gr);Zr("symbol",Kr)},_normalizedToVisual:{linear:lV,category:lm,piecewise:function(Gr,Wr){var Zr=ET.call(this,Wr);return Zr==null&&(Zr=lV.call(this,Gr)),Zr},fixed:rc}},symbolSize:{applyVisual:sm("symbolSize"),_normalizedToVisual:PT([0,1])}},Yr}();function h$(Yr){var Gr=Yr.pieceList;Yr.hasSpecialVisual=!1,_i(Gr,function(Wr,Zr){Wr.originIndex=Zr,Wr.visual!=null&&(Yr.hasSpecialVisual=!0)})}function c$(Yr){var Gr=Yr.categories,Wr=Yr.categoryMap={},Zr=Yr.visual;if(um(Gr,function(Qr,ti){Wr[Qr]=ti}),!Ri(Zr)){var Kr=[];qi(Zr)?um(Zr,function(Qr,ti){var ei=Wr[ti];Kr[ei??Fx]=Qr}):Kr[Fx]=Zr,Zr=uV(Yr,Kr)}for(var Jr=Gr.length-1;Jr>=0;Jr--)Zr[Jr]==null&&(delete Wr[Gr[Jr]],Gr.pop())}function MT(Yr,Gr){var Wr=Yr.visual,Zr=[];qi(Wr)?um(Wr,function(Jr){Zr.push(Jr)}):Wr!=null&&Zr.push(Wr);var Kr={color:1,symbol:1};!Gr&&Zr.length===1&&!Kr.hasOwnProperty(Yr.type)&&(Zr[1]=Zr[0]),uV(Yr,Zr)}function zx(Yr){return{applyVisual:function(Gr,Wr,Zr){var Kr=this.mapValueToVisual(Gr);Zr("color",Yr(Wr("color"),Kr))},_normalizedToVisual:PT([0,1])}}function lV(Yr){var Gr=this.option.visual;return Gr[Math.round(kn(Yr,[0,1],[0,Gr.length-1],!0))]||{}}function sm(Yr){return function(Gr,Wr,Zr){Zr(Yr,this.mapValueToVisual(Gr))}}function lm(Yr){var Gr=this.option.visual;return Gr[this.option.loop&&Yr!==Fx?Yr%Gr.length:Yr]}function rc(){return this.option.visual[0]}function PT(Yr){return{linear:function(Gr){return kn(Gr,Yr,this.option.visual,!0)},category:lm,piecewise:function(Gr,Wr){var Zr=ET.call(this,Wr);return Zr==null&&(Zr=kn(Gr,Yr,this.option.visual,!0)),Zr},fixed:rc}}function ET(Yr){var Gr=this.option,Wr=Gr.pieceList;if(Gr.hasSpecialVisual){var Zr=DT.findPieceIndex(Yr,Wr),Kr=Wr[Zr];if(Kr&&Kr.visual)return Kr.visual[this.type]}}function uV(Yr,Gr){return Yr.visual=Gr,Yr.type==="color"&&(Yr.parsedVisual=Oi(Gr,function(Wr){var Zr=qa(Wr);return Zr||[0,0,0,1]})),Gr}var p$={linear:function(Yr){return kn(Yr,this.option.dataExtent,[0,1],!0)},piecewise:function(Yr){var Gr=this.option.pieceList,Wr=DT.findPieceIndex(Yr,Gr,!0);if(Wr!=null)return kn(Wr,[0,Gr.length-1],[0,1],!0)},category:function(Yr){var Gr=this.option.categories?this.option.categoryMap[Yr]:Yr;return Gr??Fx},fixed:qn};function Nx(Yr,Gr,Wr){return Yr?Gr<=Wr:Gr<Wr}var ya=DT;var d$="itemStyle",hV=ln(),cV={seriesType:"treemap",reset:function(Yr){var Gr=Yr.getData().tree,Wr=Gr.root;Wr.isRemoved()||pV(Wr,{},Yr.getViewRoot().getAncestors(),Yr)}};function pV(Yr,Gr,Wr,Zr){var Kr=Yr.getModel(),Jr=Yr.getLayout(),Qr=Yr.hostTree.data;if(!(!Jr||Jr.invisible||!Jr.isInView)){var ti=Kr.getModel(d$),ei=v$(ti,Gr,Zr),ri=Qr.ensureUniqueItemVisual(Yr.dataIndex,"style"),ii=ti.get("borderColor"),ni=ti.get("borderColorSaturation"),ai;ni!=null&&(ai=fV(ei),ii=m$(ni,ai)),ri.stroke=ii;var oi=Yr.viewChildren;if(!oi||!oi.length)ai=fV(ei),ri.fill=ai;else{var si=g$(Yr,Kr,Jr,ti,ei,oi);_i(oi,function(li,ui){if(li.depth>=Wr.length||li===Wr[li.depth]){var fi=y$(Kr,ei,li,ui,si,Zr);pV(li,fi,Wr,Zr)}})}}}function v$(Yr,Gr,Wr){var Zr=ki({},Gr),Kr=Wr.designatedVisualItemStyle;return _i(["color","colorAlpha","colorSaturation"],function(Jr){Kr[Jr]=Gr[Jr];var Qr=Yr.get(Jr);Kr[Jr]=null,Qr!=null&&(Zr[Jr]=Qr)}),Zr}function fV(Yr){var Gr=IT(Yr,"color");if(Gr){var Wr=IT(Yr,"colorAlpha"),Zr=IT(Yr,"colorSaturation");return Zr&&(Gr=sh(Gr,null,null,Zr)),Wr&&(Gr=lh(Gr,Wr)),Gr}}function m$(Yr,Gr){return Gr!=null?sh(Gr,null,null,Yr):null}function IT(Yr,Gr){var Wr=Yr[Gr];if(Wr!=null&&Wr!=="none")return Wr}function g$(Yr,Gr,Wr,Zr,Kr,Jr){if(!(!Jr||!Jr.length)){var Qr=LT(Gr,"color")||Kr.color!=null&&Kr.color!=="none"&&(LT(Gr,"colorAlpha")||LT(Gr,"colorSaturation"));if(Qr){var ti=Gr.get("visualMin"),ei=Gr.get("visualMax"),ri=Wr.dataExtent.slice();ti!=null&&ti<ri[0]&&(ri[0]=ti),ei!=null&&ei>ri[1]&&(ri[1]=ei);var ii=Gr.get("colorMappingBy"),ni={type:Qr.name,dataExtent:ri,visual:Qr.range};ni.type==="color"&&(ii==="index"||ii==="id")?(ni.mappingMethod="category",ni.loop=!0):ni.mappingMethod="linear";var ai=new ya(ni);return hV(ai).drColorMappingBy=ii,ai}}}function LT(Yr,Gr){var Wr=Yr.get(Gr);return Ri(Wr)&&Wr.length?{name:Gr,range:Wr}:null}function y$(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=ki({},Gr);if(Kr){var ti=Kr.type,ei=ti==="color"&&hV(Kr).drColorMappingBy,ri=ei==="index"?Zr:ei==="id"?Jr.mapIdToIndex(Wr.getId()):Wr.getValue(Yr.get("visualDimension"));Qr[ti]=Kr.mapValueToVisual(ri)}return Qr}var fm=Math.max,Vx=Math.min,dV=ta,kT=_i,mV=["itemStyle","borderWidth"],x$=["itemStyle","gapWidth"],_$=["upperLabel","show"],b$=["upperLabel","height"],gV={seriesType:"treemap",reset:function(Yr,Gr,Wr,Zr){var Kr=Wr.getWidth(),Jr=Wr.getHeight(),Qr=Yr.option,ti=Vn(Yr.getBoxLayoutParams(),{width:Wr.getWidth(),height:Wr.getHeight()}),ei=Qr.size||[],ri=Ui(dV(ti.width,ei[0]),Kr),ii=Ui(dV(ti.height,ei[1]),Jr),ni=Zr&&Zr.type,ai=["treemapZoomToNode","treemapRootToNode"],oi=Au(Zr,ai,Yr),si=ni==="treemapRender"||ni==="treemapMove"?Zr.rootRect:null,li=Yr.getViewRoot(),ui=_T(li);if(ni!=="treemapMove"){var fi=ni==="treemapZoomToNode"?M$(Yr,oi,li,ri,ii):si?[si.width,si.height]:[ri,ii],hi=Qr.sort;hi&&hi!=="asc"&&hi!=="desc"&&(hi="desc");var ci={squareRatio:Qr.squareRatio,sort:hi,leafDepth:Qr.leafDepth};li.hostTree.clearLayouts();var pi={x:0,y:0,width:fi[0],height:fi[1],area:fi[0]*fi[1]};li.setLayout(pi),yV(li,ci,!1,0),pi=li.getLayout(),kT(ui,function(vi,mi){var gi=(ui[mi+1]||li).getValue();vi.setLayout(ki({dataExtent:[gi,gi],borderWidth:0,upperHeight:0},pi))})}var di=Yr.getData().tree.root;di.setLayout(P$(ti,si,oi),!0),Yr.setLayoutInfo(ti),xV(di,new rn(-ti.x,-ti.y,Kr,Jr),ui,li,0)}};function yV(Yr,Gr,Wr,Zr){var Kr,Jr;if(!Yr.isRemoved()){var Qr=Yr.getLayout();Kr=Qr.width,Jr=Qr.height;var ti=Yr.getModel(),ei=ti.get(mV),ri=ti.get(x$)/2,ii=_V(ti),ni=Math.max(ei,ii),ai=ei-ri,oi=ni-ri;Yr.setLayout({borderWidth:ei,upperHeight:ni,upperLabelHeight:ii},!0),Kr=fm(Kr-2*ai,0),Jr=fm(Jr-ai-oi,0);var si=Kr*Jr,li=S$(Yr,ti,si,Gr,Wr,Zr);if(li.length){var ui={x:ai,y:oi,width:Kr,height:Jr},fi=Vx(Kr,Jr),hi=1/0,ci=[];ci.area=0;for(var pi=0,di=li.length;pi<di;){var vi=li[pi];ci.push(vi),ci.area+=vi.getLayout().area;var mi=A$(ci,fi,Gr.squareRatio);mi<=hi?(pi++,hi=mi):(ci.area-=ci.pop().getLayout().area,vV(ci,fi,ui,ri,!1),fi=Vx(ui.width,ui.height),ci.length=ci.area=0,hi=1/0)}if(ci.length&&vV(ci,fi,ui,ri,!0),!Wr){var gi=ti.get("childrenVisibleMin");gi!=null&&si<gi&&(Wr=!0)}for(var pi=0,di=li.length;pi<di;pi++)yV(li[pi],Gr,Wr,Zr+1)}}}function S$(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Yr.children||[],ti=Zr.sort;ti!=="asc"&&ti!=="desc"&&(ti=null);var ei=Zr.leafDepth!=null&&Zr.leafDepth<=Jr;if(Kr&&!ei)return Yr.viewChildren=[];Qr=Tn(Qr,function(oi){return!oi.isRemoved()}),C$(Qr,ti);var ri=T$(Gr,Qr,ti);if(ri.sum===0)return Yr.viewChildren=[];if(ri.sum=w$(Gr,Wr,ri.sum,ti,Qr),ri.sum===0)return Yr.viewChildren=[];for(var ii=0,ni=Qr.length;ii<ni;ii++){var ai=Qr[ii].getValue()/ri.sum*Wr;Qr[ii].setLayout({area:ai})}return ei&&(Qr.length&&Yr.setLayout({isLeafRoot:!0},!0),Qr.length=0),Yr.viewChildren=Qr,Yr.setLayout({dataExtent:ri.dataExtent},!0),Qr}function w$(Yr,Gr,Wr,Zr,Kr){if(!Zr)return Wr;for(var Jr=Yr.get("visibleMin"),Qr=Kr.length,ti=Qr,ei=Qr-1;ei>=0;ei--){var ri=Kr[Zr==="asc"?Qr-ei-1:ei].getValue();ri/Wr*Gr<Jr&&(ti=ei,Wr-=ri)}return Zr==="asc"?Kr.splice(0,Qr-ti):Kr.splice(ti,Qr-ti),Wr}function C$(Yr,Gr){return Gr&&Yr.sort(function(Wr,Zr){var Kr=Gr==="asc"?Wr.getValue()-Zr.getValue():Zr.getValue()-Wr.getValue();return Kr===0?Gr==="asc"?Wr.dataIndex-Zr.dataIndex:Zr.dataIndex-Wr.dataIndex:Kr}),Yr}function T$(Yr,Gr,Wr){for(var Zr=0,Kr=0,Jr=Gr.length;Kr<Jr;Kr++)Zr+=Gr[Kr].getValue();var Qr=Yr.get("visualDimension"),ti;return!Gr||!Gr.length?ti=[NaN,NaN]:Qr==="value"&&Wr?(ti=[Gr[Gr.length-1].getValue(),Gr[0].getValue()],Wr==="asc"&&ti.reverse()):(ti=[1/0,-1/0],kT(Gr,function(ei){var ri=ei.getValue(Qr);ri<ti[0]&&(ti[0]=ri),ri>ti[1]&&(ti[1]=ri)})),{sum:Zr,dataExtent:ti}}function A$(Yr,Gr,Wr){for(var Zr=0,Kr=1/0,Jr=0,Qr=void 0,ti=Yr.length;Jr<ti;Jr++)Qr=Yr[Jr].getLayout().area,Qr&&(Qr<Kr&&(Kr=Qr),Qr>Zr&&(Zr=Qr));var ei=Yr.area*Yr.area,ri=Gr*Gr*Wr;return ei?fm(ri*Zr/ei,ei/(ri*Kr)):1/0}function vV(Yr,Gr,Wr,Zr,Kr){var Jr=Gr===Wr.width?0:1,Qr=1-Jr,ti=["x","y"],ei=["width","height"],ri=Wr[ti[Jr]],ii=Gr?Yr.area/Gr:0;(Kr||ii>Wr[ei[Qr]])&&(ii=Wr[ei[Qr]]);for(var ni=0,ai=Yr.length;ni<ai;ni++){var oi=Yr[ni],si={},li=ii?oi.getLayout().area/ii:0,ui=si[ei[Qr]]=fm(ii-2*Zr,0),fi=Wr[ti[Jr]]+Wr[ei[Jr]]-ri,hi=ni===ai-1||fi<li?fi:li,ci=si[ei[Jr]]=fm(hi-2*Zr,0);si[ti[Qr]]=Wr[ti[Qr]]+Vx(Zr,ui/2),si[ti[Jr]]=ri+Vx(Zr,ci/2),ri+=hi,oi.setLayout(si,!0)}Wr[ti[Qr]]+=ii,Wr[ei[Qr]]-=ii}function M$(Yr,Gr,Wr,Zr,Kr){var Jr=(Gr||{}).node,Qr=[Zr,Kr];if(!Jr||Jr===Wr)return Qr;for(var ti,ei=Zr*Kr,ri=ei*Yr.option.zoomToNodeRatio;ti=Jr.parentNode;){for(var ii=0,ni=ti.children,ai=0,oi=ni.length;ai<oi;ai++)ii+=ni[ai].getValue();var si=Jr.getValue();if(si===0)return Qr;ri*=ii/si;var li=ti.getModel(),ui=li.get(mV),fi=Math.max(ui,_V(li));ri+=4*ui*ui+(3*ui+fi)*Math.pow(ri,.5),ri>SS&&(ri=SS),Jr=ti}ri<ei&&(ri=ei);var hi=Math.pow(ri/ei,.5);return[Zr*hi,Kr*hi]}function P$(Yr,Gr,Wr){if(Gr)return{x:Gr.x,y:Gr.y};var Zr={x:0,y:0};if(!Wr)return Zr;var Kr=Wr.node,Jr=Kr.getLayout();if(!Jr)return Zr;for(var Qr=[Jr.width/2,Jr.height/2],ti=Kr;ti;){var ei=ti.getLayout();Qr[0]+=ei.x,Qr[1]+=ei.y,ti=ti.parentNode}return{x:Yr.width/2-Qr[0],y:Yr.height/2-Qr[1]}}function xV(Yr,Gr,Wr,Zr,Kr){var Jr=Yr.getLayout(),Qr=Wr[Kr],ti=Qr&&Qr===Yr;if(!(Qr&&!ti||Kr===Wr.length&&Yr!==Zr)){Yr.setLayout({isInView:!0,invisible:!ti&&!Gr.intersect(Jr),isAboveViewRoot:ti},!0);var ei=new rn(Gr.x-Jr.x,Gr.y-Jr.y,Gr.width,Gr.height);kT(Yr.viewChildren||[],function(ri){xV(ri,ei,Wr,Zr,Kr+1)})}}function _V(Yr){return Yr.get(_$)?Yr.get(b$):0}function RT(Yr){Yr.registerSeriesModel(JF),Yr.registerChartView(sV),Yr.registerVisual(cV),Yr.registerLayout(gV),KF(Yr)}function OT(Yr){var Gr=Yr.findComponents({mainType:"legend"});!Gr||!Gr.length||Yr.eachSeriesByType("graph",function(Wr){var Zr=Wr.getCategoriesData(),Kr=Wr.getGraph(),Jr=Kr.data,Qr=Zr.mapArray(Zr.getName);Jr.filterSelf(function(ti){var ei=Jr.getItemModel(ti),ri=ei.getShallow("category");if(ri!=null){gn(ri)&&(ri=Qr[ri]);for(var ii=0;ii<Gr.length;ii++)if(!Gr[ii].isSelected(ri))return!1}return!0})})}function zT(Yr){var Gr={};Yr.eachSeriesByType("graph",function(Wr){var Zr=Wr.getCategoriesData(),Kr=Wr.getData(),Jr={};Zr.each(function(Qr){var ti=Zr.getName(Qr);Jr["ec-"+ti]=Qr;var ei=Zr.getItemModel(Qr),ri=ei.getModel("itemStyle").getItemStyle();ri.fill||(ri.fill=Wr.getColorFromPalette(ti,Gr)),Zr.setItemVisual(Qr,"style",ri);for(var ii=["symbol","symbolSize","symbolKeepAspect"],ni=0;ni<ii.length;ni++){var ai=ei.getShallow(ii[ni],!0);ai!=null&&Zr.setItemVisual(Qr,ii[ni],ai)}}),Zr.count()&&Kr.each(function(Qr){var ti=Kr.getItemModel(Qr),ei=ti.getShallow("category");if(ei!=null){Ni(ei)&&(ei=Jr["ec-"+ei]);var ri=Zr.getItemVisual(ei,"style"),ii=Kr.ensureUniqueItemVisual(Qr,"style");ki(ii,ri);for(var ni=["symbol","symbolSize","symbolKeepAspect"],ai=0;ai<ni.length;ai++)Kr.setItemVisual(Qr,ni[ai],Zr.getItemVisual(ei,ni[ai]))}})})}function Bx(Yr){return Yr instanceof Array||(Yr=[Yr,Yr]),Yr}function NT(Yr){Yr.eachSeriesByType("graph",function(Gr){var Wr=Gr.getGraph(),Zr=Gr.getEdgeData(),Kr=Bx(Gr.get("edgeSymbol")),Jr=Bx(Gr.get("edgeSymbolSize"));Zr.setVisual("fromSymbol",Kr&&Kr[0]),Zr.setVisual("toSymbol",Kr&&Kr[1]),Zr.setVisual("fromSymbolSize",Jr&&Jr[0]),Zr.setVisual("toSymbolSize",Jr&&Jr[1]),Zr.setVisual("style",Gr.getModel("lineStyle").getLineStyle()),Zr.each(function(Qr){var ti=Zr.getItemModel(Qr),ei=Wr.getEdgeByIndex(Qr),ri=Bx(ti.getShallow("symbol",!0)),ii=Bx(ti.getShallow("symbolSize",!0)),ni=ti.getModel("lineStyle").getLineStyle(),ai=Zr.ensureUniqueItemVisual(Qr,"style");switch(ki(ai,ni),ai.stroke){case"source":{var oi=ei.node1.getVisual("style");ai.stroke=oi&&oi.fill;break}case"target":{var oi=ei.node2.getVisual("style");ai.stroke=oi&&oi.fill;break}}ri[0]&&ei.setVisual("fromSymbol",ri[0]),ri[1]&&ei.setVisual("toSymbol",ri[1]),ii[0]&&ei.setVisual("fromSymbolSize",ii[0]),ii[1]&&ei.setVisual("toSymbolSize",ii[1])})})}var FT="-->",Ux=function(Yr){return Yr.get("autoCurveness")||null},bV=function(Yr,Gr){var Wr=Ux(Yr),Zr=20,Kr=[];if(gn(Wr))Zr=Wr;else if(Ri(Wr)){Yr.__curvenessList=Wr;return}Gr>Zr&&(Zr=Gr);var Jr=Zr%2?Zr+2:Zr+3;Kr=[];for(var Qr=0;Qr<Jr;Qr++)Kr.push((Qr%2?Qr+1:Qr)/10*(Qr%2?-1:1));Yr.__curvenessList=Kr},hm=function(Yr,Gr,Wr){var Zr=[Yr.id,Yr.dataIndex].join("."),Kr=[Gr.id,Gr.dataIndex].join(".");return[Wr.uid,Zr,Kr].join(FT)},SV=function(Yr){var Gr=Yr.split(FT);return[Gr[0],Gr[2],Gr[1]].join(FT)},E$=function(Yr,Gr){var Wr=hm(Yr.node1,Yr.node2,Gr);return Gr.__edgeMap[Wr]},D$=function(Yr,Gr){var Wr=VT(hm(Yr.node1,Yr.node2,Gr),Gr),Zr=VT(hm(Yr.node2,Yr.node1,Gr),Gr);return Wr+Zr},VT=function(Yr,Gr){var Wr=Gr.__edgeMap;return Wr[Yr]?Wr[Yr].length:0};function wV(Yr){Ux(Yr)&&(Yr.__curvenessList=[],Yr.__edgeMap={},bV(Yr))}function CV(Yr,Gr,Wr,Zr){if(Ux(Wr)){var Kr=hm(Yr,Gr,Wr),Jr=Wr.__edgeMap,Qr=Jr[SV(Kr)];Jr[Kr]&&!Qr?Jr[Kr].isForward=!0:Qr&&Jr[Kr]&&(Qr.isForward=!0,Jr[Kr].isForward=!1),Jr[Kr]=Jr[Kr]||[],Jr[Kr].push(Zr)}}function Pp(Yr,Gr,Wr,Zr){var Kr=Ux(Gr),Jr=Ri(Kr);if(!Kr)return null;var Qr=E$(Yr,Gr);if(!Qr)return null;for(var ti=-1,ei=0;ei<Qr.length;ei++)if(Qr[ei]===Wr){ti=ei;break}var ri=D$(Yr,Gr);bV(Gr,ri),Yr.lineStyle=Yr.lineStyle||{};var ii=hm(Yr.node1,Yr.node2,Gr),ni=Gr.__curvenessList,ai=Jr||ri%2?0:1;if(Qr.isForward)return ni[ai+ti];var oi=SV(ii),si=VT(oi,Gr),li=ni[ti+si+ai];return Zr?Jr?Kr&&Kr[0]===0?(si+ai)%2?li:-li:((si%2?0:1)+ai)%2?li:-li:(si+ai)%2?li:-li:ni[ti+si+ai]}function Gx(Yr){var Gr=Yr.coordinateSystem;if(!(Gr&&Gr.type!=="view")){var Wr=Yr.getGraph();Wr.eachNode(function(Zr){var Kr=Zr.getModel();Zr.setLayout([+Kr.get("x"),+Kr.get("y")])}),cm(Wr,Yr)}}function cm(Yr,Gr){Yr.eachEdge(function(Wr,Zr){var Kr=Fa(Wr.getModel().get(["lineStyle","curveness"]),-Pp(Wr,Gr,Zr,!0),0),Jr=Lo(Wr.node1.getLayout()),Qr=Lo(Wr.node2.getLayout()),ti=[Jr,Qr];+Kr&&ti.push([(Jr[0]+Qr[0])/2-(Jr[1]-Qr[1])*Kr,(Jr[1]+Qr[1])/2-(Qr[0]-Jr[0])*Kr]),Wr.setLayout(ti)})}function BT(Yr,Gr){Yr.eachSeriesByType("graph",function(Wr){var Zr=Wr.get("layout"),Kr=Wr.coordinateSystem;if(Kr&&Kr.type!=="view"){var Jr=Wr.getData(),Qr=[];_i(Kr.dimensions,function(ai){Qr=Qr.concat(Jr.mapDimensionsAll(ai))});for(var ti=0;ti<Jr.count();ti++){for(var ei=[],ri=!1,ii=0;ii<Qr.length;ii++){var ni=Jr.get(Qr[ii],ti);isNaN(ni)||(ri=!0),ei.push(ni)}ri?Jr.setItemLayout(ti,Kr.dataToPoint(ei)):Jr.setItemLayout(ti,[NaN,NaN])}cm(Jr.graph,Wr)}else(!Zr||Zr==="none")&&Gx(Wr)})}function ic(Yr){var Gr=Yr.coordinateSystem;if(Gr.type!=="view")return 1;var Wr=Yr.option.nodeScaleRatio,Zr=Gr.scaleX,Kr=Gr.getZoom(),Jr=(Kr-1)*Wr+1;return Jr/Zr}function nc(Yr){var Gr=Yr.getVisual("symbolSize");return Gr instanceof Array&&(Gr=(Gr[0]+Gr[1])/2),+Gr}var TV=Math.PI,UT=[];function Ep(Yr,Gr,Wr,Zr){var Kr=Yr.coordinateSystem;if(!(Kr&&Kr.type!=="view")){var Jr=Kr.getBoundingRect(),Qr=Yr.getData(),ti=Qr.graph,ei=Jr.width/2+Jr.x,ri=Jr.height/2+Jr.y,ii=Math.min(Jr.width,Jr.height)/2,ni=Qr.count();if(Qr.setLayout({cx:ei,cy:ri}),!!ni){if(Wr){var ai=Kr.pointToData(Zr),oi=ai[0],si=ai[1],li=[oi-ei,si-ri];ys(li,li),Cc(li,li,ii),Wr.setLayout([ei+li[0],ri+li[1]],!0);var ui=Yr.get(["circular","rotateLabel"]);GT(Wr,ui,ei,ri)}I$[Gr](Yr,ti,Qr,ii,ei,ri,ni),ti.eachEdge(function(fi,hi){var ci=Fa(fi.getModel().get(["lineStyle","curveness"]),Pp(fi,Yr,hi),0),pi=Lo(fi.node1.getLayout()),di=Lo(fi.node2.getLayout()),vi,mi=(pi[0]+di[0])/2,gi=(pi[1]+di[1])/2;+ci&&(ci*=3,vi=[ei*ci+mi*(1-ci),ri*ci+gi*(1-ci)]),fi.setLayout([pi,di,vi])})}}}var I$={value:function(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=0,ei=Wr.getSum("value"),ri=Math.PI*2/(ei||Qr);Gr.eachNode(function(ii){var ni=ii.getValue("value"),ai=ri*(ei?ni:1)/2;ti+=ai,ii.setLayout([Zr*Math.cos(ti)+Kr,Zr*Math.sin(ti)+Jr]),ti+=ai})},symbolSize:function(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=0;UT.length=Qr;var ei=ic(Yr);Gr.eachNode(function(ni){var ai=nc(ni);isNaN(ai)&&(ai=2),ai<0&&(ai=0),ai*=ei;var oi=Math.asin(ai/2/Zr);isNaN(oi)&&(oi=TV/2),UT[ni.dataIndex]=oi,ti+=oi*2});var ri=(2*TV-ti)/Qr/2,ii=0;Gr.eachNode(function(ni){var ai=ri+UT[ni.dataIndex];ii+=ai,(!ni.getLayout()||!ni.getLayout().fixed)&&ni.setLayout([Zr*Math.cos(ii)+Kr,Zr*Math.sin(ii)+Jr]),ii+=ai})}};function GT(Yr,Gr,Wr,Zr){var Kr=Yr.getGraphicEl();if(Kr){var Jr=Yr.getModel(),Qr=Jr.get(["label","rotate"])||0,ti=Kr.getSymbolPath();if(Gr){var ei=Yr.getLayout(),ri=Math.atan2(ei[1]-Zr,ei[0]-Wr);ri<0&&(ri=Math.PI*2+ri);var ii=ei[0]<Wr;ii&&(ri=ri-Math.PI);var ni=ii?"left":"right";ti.setTextConfig({rotation:-ri,position:ni,origin:"center"});var ai=ti.ensureState("emphasis");ki(ai.textConfig||(ai.textConfig={}),{position:ni})}else ti.setTextConfig({rotation:Qr*=Math.PI/180})}}function HT(Yr){Yr.eachSeriesByType("graph",function(Gr){Gr.get("layout")==="circular"&&Ep(Gr,"symbolSize")})}var Dp=bd;function AV(Yr,Gr,Wr){for(var Zr=Yr,Kr=Gr,Jr=Wr.rect,Qr=Jr.width,ti=Jr.height,ei=[Jr.x+Qr/2,Jr.y+ti/2],ri=Wr.gravity==null?.1:Wr.gravity,ii=0;ii<Zr.length;ii++){var ni=Zr[ii];ni.p||(ni.p=Sl(Qr*(Math.random()-.5)+ei[0],ti*(Math.random()-.5)+ei[1])),ni.pp=Lo(ni.p),ni.edges=null}var ai=Wr.friction==null?.6:Wr.friction,oi=ai,si,li;return{warmUp:function(){oi=ai*.8},setFixed:function(ui){Zr[ui].fixed=!0},setUnfixed:function(ui){Zr[ui].fixed=!1},beforeStep:function(ui){si=ui},afterStep:function(ui){li=ui},step:function(ui){si&&si(Zr,Kr);for(var fi=[],hi=Zr.length,ci=0;ci<Kr.length;ci++){var pi=Kr[ci];if(!pi.ignoreForceLayout){var di=pi.n1,vi=pi.n2;Zs(fi,vi.p,di.p);var mi=vg(fi)-pi.d,gi=vi.w/(di.w+vi.w);isNaN(gi)&&(gi=0),ys(fi,fi),!di.fixed&&Dp(di.p,di.p,fi,gi*mi*oi),!vi.fixed&&Dp(vi.p,vi.p,fi,-(1-gi)*mi*oi)}}for(var ci=0;ci<hi;ci++){var yi=Zr[ci];yi.fixed||(Zs(fi,ei,yi.p),Dp(yi.p,yi.p,fi,ri*oi))}for(var ci=0;ci<hi;ci++)for(var di=Zr[ci],Si=ci+1;Si<hi;Si++){var vi=Zr[Si];Zs(fi,vi.p,di.p);var mi=vg(fi);mi===0&&(SD(fi,Math.random()-.5,Math.random()-.5),mi=1);var bi=(di.rep+vi.rep)/mi/mi;!di.fixed&&Dp(di.pp,di.pp,fi,bi),!vi.fixed&&Dp(vi.pp,vi.pp,fi,-bi)}for(var Ti=[],ci=0;ci<hi;ci++){var yi=Zr[ci];yi.fixed||(Zs(Ti,yi.p,yi.pp),Dp(yi.p,yi.p,Ti,oi),Ba(yi.pp,yi.p))}oi=oi*.992;var Ai=oi<.01;li&&li(Zr,Kr,Ai),ui&&ui(Ai)}}}function WT(Yr){Yr.eachSeriesByType("graph",function(Gr){var Wr=Gr.coordinateSystem;if(!(Wr&&Wr.type!=="view"))if(Gr.get("layout")==="force"){var Zr=Gr.preservedPoints||{},Kr=Gr.getGraph(),Jr=Kr.data,Qr=Kr.edgeData,ti=Gr.getModel("force"),ei=ti.get("initLayout");Gr.preservedPoints?Jr.each(function(ci){var pi=Jr.getId(ci);Jr.setItemLayout(ci,Zr[pi]||[NaN,NaN])}):!ei||ei==="none"?Gx(Gr):ei==="circular"&&Ep(Gr,"value");var ri=Jr.getDataExtent("value"),ii=Qr.getDataExtent("value"),ni=ti.get("repulsion"),ai=ti.get("edgeLength"),oi=Ri(ni)?ni:[ni,ni],si=Ri(ai)?ai:[ai,ai];si=[si[1],si[0]];var li=Jr.mapArray("value",function(ci,pi){var di=Jr.getItemLayout(pi),vi=kn(ci,ri,oi);return isNaN(vi)&&(vi=(oi[0]+oi[1])/2),{w:vi,rep:vi,fixed:Jr.getItemModel(pi).get("fixed"),p:!di||isNaN(di[0])||isNaN(di[1])?null:di}}),ui=Qr.mapArray("value",function(ci,pi){var di=Kr.getEdgeByIndex(pi),vi=kn(ci,ii,si);isNaN(vi)&&(vi=(si[0]+si[1])/2);var mi=di.getModel(),gi=Fa(di.getModel().get(["lineStyle","curveness"]),-Pp(di,Gr,pi,!0),0);return{n1:li[di.node1.dataIndex],n2:li[di.node2.dataIndex],d:vi,curveness:gi,ignoreForceLayout:mi.get("ignoreForceLayout")}}),fi=Wr.getBoundingRect(),hi=AV(li,ui,{rect:fi,gravity:ti.get("gravity"),friction:ti.get("friction")});hi.beforeStep(function(ci,pi){for(var di=0,vi=ci.length;di<vi;di++)ci[di].fixed&&Ba(ci[di].p,Kr.getNodeByIndex(di).getLayout())}),hi.afterStep(function(ci,pi,di){for(var vi=0,mi=ci.length;vi<mi;vi++)ci[vi].fixed||Kr.getNodeByIndex(vi).setLayout(ci[vi].p),Zr[Jr.getId(vi)]=ci[vi].p;for(var vi=0,mi=pi.length;vi<mi;vi++){var gi=pi[vi],yi=Kr.getEdgeByIndex(vi),Si=gi.n1.p,bi=gi.n2.p,Ti=yi.getLayout();Ti=Ti?Ti.slice():[],Ti[0]=Ti[0]||[],Ti[1]=Ti[1]||[],Ba(Ti[0],Si),Ba(Ti[1],bi),+gi.curveness&&(Ti[2]=[(Si[0]+bi[0])/2-(Si[1]-bi[1])*gi.curveness,(Si[1]+bi[1])/2-(bi[0]-Si[0])*gi.curveness]),yi.setLayout(Ti)}}),Gr.forceLayout=hi,Gr.preservedPoints=Zr,hi.step()}else Gr.forceLayout=null})}function L$(Yr,Gr,Wr){var Zr=ki(Yr.getBoxLayoutParams(),{aspect:Wr});return Vn(Zr,{width:Gr.getWidth(),height:Gr.getHeight()})}function YT(Yr,Gr){var Wr=[];return Yr.eachSeriesByType("graph",function(Zr){var Kr=Zr.get("coordinateSystem");if(!Kr||Kr==="view"){var Jr=Zr.getData(),Qr=Jr.mapArray(function(ui){var fi=Jr.getItemModel(ui);return[+fi.get("x"),+fi.get("y")]}),ti=[],ei=[];_h(Qr,ti,ei),ei[0]-ti[0]===0&&(ei[0]+=1,ti[0]-=1),ei[1]-ti[1]===0&&(ei[1]+=1,ti[1]-=1);var ri=(ei[0]-ti[0])/(ei[1]-ti[1]),ii=L$(Zr,Gr,ri);isNaN(ri)&&(ti=[ii.x,ii.y],ei=[ii.x+ii.width,ii.y+ii.height]);var ni=ei[0]-ti[0],ai=ei[1]-ti[1],oi=ii.width,si=ii.height,li=Zr.coordinateSystem=new Tu;li.zoomLimit=Zr.get("scaleLimit"),li.setBoundingRect(ti[0],ti[1],ni,ai),li.setViewRect(ii.x,ii.y,oi,si),li.setCenter(Zr.get("center"),Gr),li.setZoom(Zr.get("zoom")),Wr.push(li)}}),Wr}var MV=sa.prototype,XT=Dh.prototype,PV=function(){function Yr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Yr}(),iIt=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr}(PV);function qT(Yr){return isNaN(+Yr.cpx1)||isNaN(+Yr.cpy1)}var k$=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="ec-line",Zr}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new PV},Gr.prototype.buildPath=function(Wr,Zr){qT(Zr)?MV.buildPath.call(this,Wr,Zr):XT.buildPath.call(this,Wr,Zr)},Gr.prototype.pointAt=function(Wr){return qT(this.shape)?MV.pointAt.call(this,Wr):XT.pointAt.call(this,Wr)},Gr.prototype.tangentAt=function(Wr){var Zr=this.shape,Kr=qT(Zr)?[Zr.x2-Zr.x1,Zr.y2-Zr.y1]:XT.tangentAt.call(this,Wr);return ys(Kr,Kr)},Gr}(an),EV=k$;var ZT=["fromSymbol","toSymbol"];function DV(Yr){return"_"+Yr+"Type"}function IV(Yr,Gr,Wr){var Zr=Gr.getItemVisual(Wr,Yr);if(!Zr||Zr==="none")return Zr;var Kr=Gr.getItemVisual(Wr,Yr+"Size"),Jr=Gr.getItemVisual(Wr,Yr+"Rotate"),Qr=Gr.getItemVisual(Wr,Yr+"Offset"),ti=Gr.getItemVisual(Wr,Yr+"KeepAspect"),ei=ll(Kr),ri=ps(Qr||0,ei);return Zr+ei+ri+(Jr||"")+(ti||"")}function LV(Yr,Gr,Wr){var Zr=Gr.getItemVisual(Wr,Yr);if(!(!Zr||Zr==="none")){var Kr=Gr.getItemVisual(Wr,Yr+"Size"),Jr=Gr.getItemVisual(Wr,Yr+"Rotate"),Qr=Gr.getItemVisual(Wr,Yr+"Offset"),ti=Gr.getItemVisual(Wr,Yr+"KeepAspect"),ei=ll(Kr),ri=ps(Qr||0,ei),ii=Bn(Zr,-ei[0]/2+ri[0],-ei[1]/2+ri[1],ei[0],ei[1],null,ti);return ii.__specifiedRotation=Jr==null||isNaN(Jr)?void 0:+Jr*Math.PI/180||0,ii.name=Yr,ii}}function R$(Yr){var Gr=new EV({name:"line",subPixelOptimize:!0});return jT(Gr.shape,Yr),Gr}function jT(Yr,Gr){Yr.x1=Gr[0][0],Yr.y1=Gr[0][1],Yr.x2=Gr[1][0],Yr.y2=Gr[1][1],Yr.percent=1;var Wr=Gr[2];Wr?(Yr.cpx1=Wr[0],Yr.cpy1=Wr[1]):(Yr.cpx1=NaN,Yr.cpy1=NaN)}var O$=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this)||this;return Jr._createLine(Wr,Zr,Kr),Jr}return Gr.prototype._createLine=function(Wr,Zr,Kr){var Jr=Wr.hostModel,Qr=Wr.getItemLayout(Zr),ti=R$(Qr);ti.shape.percent=0,Ln(ti,{shape:{percent:1}},Jr,Zr),this.add(ti),_i(ZT,function(ei){var ri=LV(ei,Wr,Zr);this.add(ri),this[DV(ei)]=IV(ei,Wr,Zr)},this),this._updateCommonStl(Wr,Zr,Kr)},Gr.prototype.updateData=function(Wr,Zr,Kr){var Jr=Wr.hostModel,Qr=this.childOfName("line"),ti=Wr.getItemLayout(Zr),ei={shape:{}};jT(ei.shape,ti),bn(Qr,ei,Jr,Zr),_i(ZT,function(ri){var ii=IV(ri,Wr,Zr),ni=DV(ri);if(this[ni]!==ii){this.remove(this.childOfName(ri));var ai=LV(ri,Wr,Zr);this.add(ai)}this[ni]=ii},this),this._updateCommonStl(Wr,Zr,Kr)},Gr.prototype.getLinePath=function(){return this.childAt(0)},Gr.prototype._updateCommonStl=function(Wr,Zr,Kr){var Jr=Wr.hostModel,Qr=this.childOfName("line"),ti=Kr&&Kr.emphasisLineStyle,ei=Kr&&Kr.blurLineStyle,ri=Kr&&Kr.selectLineStyle,ii=Kr&&Kr.labelStatesModels,ni=Kr&&Kr.emphasisDisabled,ai=Kr&&Kr.focus,oi=Kr&&Kr.blurScope;if(!Kr||Wr.hasItemOption){var si=Wr.getItemModel(Zr),li=si.getModel("emphasis");ti=li.getModel("lineStyle").getLineStyle(),ei=si.getModel(["blur","lineStyle"]).getLineStyle(),ri=si.getModel(["select","lineStyle"]).getLineStyle(),ni=li.get("disabled"),ai=li.get("focus"),oi=li.get("blurScope"),ii=Hn(si)}var ui=Wr.getItemVisual(Zr,"style"),fi=ui.stroke;Qr.useStyle(ui),Qr.style.fill=null,Qr.style.strokeNoScale=!0,Qr.ensureState("emphasis").style=ti,Qr.ensureState("blur").style=ei,Qr.ensureState("select").style=ri,_i(ZT,function(vi){var mi=this.childOfName(vi);if(mi){mi.setColor(fi),mi.style.opacity=ui.opacity;for(var gi=0;gi<za.length;gi++){var yi=za[gi],Si=Qr.getState(yi);if(Si){var bi=Si.style||{},Ti=mi.ensureState(yi),Ai=Ti.style||(Ti.style={});bi.stroke!=null&&(Ai[mi.__isEmptyBrush?"stroke":"fill"]=bi.stroke),bi.opacity!=null&&(Ai.opacity=bi.opacity)}}mi.markRedraw()}},this);var hi=Jr.getRawValue(Zr);jn(this,ii,{labelDataIndex:Zr,labelFetcher:{getFormattedLabel:function(vi,mi){return Jr.getFormattedLabel(vi,mi,Wr.dataType)}},inheritColor:fi||"#000",defaultOpacity:ui.opacity,defaultText:(hi==null?Wr.getName(Zr):isFinite(hi)?Zn(hi):hi)+""});var ci=this.getTextContent();if(ci){var pi=ii.normal;ci.__align=ci.style.align,ci.__verticalAlign=ci.style.verticalAlign,ci.__position=pi.get("position")||"middle";var di=pi.get("distance");Ri(di)||(di=[di,di]),ci.__labelDistance=di}this.setTextConfig({position:null,local:!0,inside:!1}),In(this,ai,oi,ni)},Gr.prototype.highlight=function(){ho(this)},Gr.prototype.downplay=function(){co(this)},Gr.prototype.updateLayout=function(Wr,Zr){this.setLinePoints(Wr.getItemLayout(Zr))},Gr.prototype.setLinePoints=function(Wr){var Zr=this.childOfName("line");jT(Zr.shape,Wr),Zr.dirty()},Gr.prototype.beforeUpdate=function(){var Wr=this,Zr=Wr.childOfName("fromSymbol"),Kr=Wr.childOfName("toSymbol"),Jr=Wr.getTextContent();if(!Zr&&!Kr&&(!Jr||Jr.ignore))return;for(var Qr=1,ti=this.parent;ti;)ti.scaleX&&(Qr/=ti.scaleX),ti=ti.parent;var ei=Wr.childOfName("line");if(!this.__dirty&&!ei.__dirty)return;var ri=ei.shape.percent,ii=ei.pointAt(0),ni=ei.pointAt(ri),ai=Zs([],ni,ii);ys(ai,ai);function oi(Si,bi){var Ti=Si.__specifiedRotation;if(Ti==null){var Ai=ei.tangentAt(bi);Si.attr("rotation",(bi===1?-1:1)*Math.PI/2-Math.atan2(Ai[1],Ai[0]))}else Si.attr("rotation",Ti)}if(Zr&&(Zr.setPosition(ii),oi(Zr,0),Zr.scaleX=Zr.scaleY=Qr*ri,Zr.markRedraw()),Kr&&(Kr.setPosition(ni),oi(Kr,1),Kr.scaleX=Kr.scaleY=Qr*ri,Kr.markRedraw()),Jr&&!Jr.ignore){Jr.x=Jr.y=0,Jr.originX=Jr.originY=0;var si=void 0,li=void 0,ui=Jr.__labelDistance,fi=ui[0]*Qr,hi=ui[1]*Qr,ci=ri/2,pi=ei.tangentAt(ci),di=[pi[1],-pi[0]],vi=ei.pointAt(ci);di[1]>0&&(di[0]=-di[0],di[1]=-di[1]);var mi=pi[0]<0?-1:1;if(Jr.__position!=="start"&&Jr.__position!=="end"){var gi=-Math.atan2(pi[1],pi[0]);ni[0]<ii[0]&&(gi=Math.PI+gi),Jr.rotation=gi}var yi=void 0;switch(Jr.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":yi=-hi,li="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":yi=hi,li="top";break;default:yi=0,li="middle"}switch(Jr.__position){case"end":Jr.x=ai[0]*fi+ni[0],Jr.y=ai[1]*hi+ni[1],si=ai[0]>.8?"left":ai[0]<-.8?"right":"center",li=ai[1]>.8?"top":ai[1]<-.8?"bottom":"middle";break;case"start":Jr.x=-ai[0]*fi+ii[0],Jr.y=-ai[1]*hi+ii[1],si=ai[0]>.8?"right":ai[0]<-.8?"left":"center",li=ai[1]>.8?"bottom":ai[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":Jr.x=fi*mi+ii[0],Jr.y=ii[1]+yi,si=pi[0]<0?"right":"left",Jr.originX=-fi*mi,Jr.originY=-yi;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":Jr.x=vi[0],Jr.y=vi[1]+yi,si="center",Jr.originY=-yi;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":Jr.x=-fi*mi+ni[0],Jr.y=ni[1]+yi,si=pi[0]>=0?"right":"left",Jr.originX=fi*mi,Jr.originY=-yi;break}Jr.scaleX=Jr.scaleY=Qr,Jr.setStyle({verticalAlign:Jr.__verticalAlign||li,align:Jr.__align||si})}},Gr}(Zi),Ip=O$;var z$=function(){function Yr(Gr){this.group=new Zi,this._LineCtor=Gr||Ip}return Yr.prototype.updateData=function(Gr){var Wr=this;this._progressiveEls=null;var Zr=this,Kr=Zr.group,Jr=Zr._lineData;Zr._lineData=Gr,Jr||Kr.removeAll();var Qr=kV(Gr);Gr.diff(Jr).add(function(ti){Wr._doAdd(Gr,ti,Qr)}).update(function(ti,ei){Wr._doUpdate(Jr,Gr,ei,ti,Qr)}).remove(function(ti){Kr.remove(Jr.getItemGraphicEl(ti))}).execute()},Yr.prototype.updateLayout=function(){var Gr=this._lineData;Gr&&Gr.eachItemGraphicEl(function(Wr,Zr){Wr.updateLayout(Gr,Zr)},this)},Yr.prototype.incrementalPrepareUpdate=function(Gr){this._seriesScope=kV(Gr),this._lineData=null,this.group.removeAll()},Yr.prototype.incrementalUpdate=function(Gr,Wr){this._progressiveEls=[];function Zr(ti){!ti.isGroup&&!N$(ti)&&(ti.incremental=!0,ti.ensureState("emphasis").hoverLayer=!0)}for(var Kr=Gr.start;Kr<Gr.end;Kr++){var Jr=Wr.getItemLayout(Kr);if(KT(Jr)){var Qr=new this._LineCtor(Wr,Kr,this._seriesScope);Qr.traverse(Zr),this.group.add(Qr),Wr.setItemGraphicEl(Kr,Qr),this._progressiveEls.push(Qr)}}},Yr.prototype.remove=function(){this.group.removeAll()},Yr.prototype.eachRendered=function(Gr){Co(this._progressiveEls||this.group,Gr)},Yr.prototype._doAdd=function(Gr,Wr,Zr){var Kr=Gr.getItemLayout(Wr);if(KT(Kr)){var Jr=new this._LineCtor(Gr,Wr,Zr);Gr.setItemGraphicEl(Wr,Jr),this.group.add(Jr)}},Yr.prototype._doUpdate=function(Gr,Wr,Zr,Kr,Jr){var Qr=Gr.getItemGraphicEl(Zr);if(!KT(Wr.getItemLayout(Kr))){this.group.remove(Qr);return}Qr?Qr.updateData(Wr,Kr,Jr):Qr=new this._LineCtor(Wr,Kr,Jr),Wr.setItemGraphicEl(Kr,Qr),this.group.add(Qr)},Yr}();function N$(Yr){return Yr.animators&&Yr.animators.length>0}function kV(Yr){var Gr=Yr.hostModel,Wr=Gr.getModel("emphasis");return{lineStyle:Gr.getModel("lineStyle").getLineStyle(),emphasisLineStyle:Wr.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:Gr.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:Gr.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:Wr.get("disabled"),blurScope:Wr.get("blurScope"),focus:Wr.get("focus"),labelStatesModels:Hn(Gr)}}function RV(Yr){return isNaN(Yr[0])||isNaN(Yr[1])}function KT(Yr){return Yr&&!RV(Yr[0])&&!RV(Yr[1])}var Lp=z$;var $T=[],JT=[],QT=[],kp=_a,tA=iu,OV=Math.abs;function zV(Yr,Gr,Wr){for(var Zr=Yr[0],Kr=Yr[1],Jr=Yr[2],Qr=1/0,ti,ei=Wr*Wr,ri=.1,ii=.1;ii<=.9;ii+=.1){$T[0]=kp(Zr[0],Kr[0],Jr[0],ii),$T[1]=kp(Zr[1],Kr[1],Jr[1],ii);var ni=OV(tA($T,Gr)-ei);ni<Qr&&(Qr=ni,ti=ii)}for(var ai=0;ai<32;ai++){var oi=ti+ri;JT[0]=kp(Zr[0],Kr[0],Jr[0],ti),JT[1]=kp(Zr[1],Kr[1],Jr[1],ti),QT[0]=kp(Zr[0],Kr[0],Jr[0],oi),QT[1]=kp(Zr[1],Kr[1],Jr[1],oi);var ni=tA(JT,Gr)-ei;if(OV(ni)<.01)break;var si=tA(QT,Gr)-ei;ri/=2,ni<0?si>=0?ti=ti+ri:ti=ti-ri:si>=0?ti=ti-ri:ti=ti+ri}return ti}function pm(Yr,Gr){var Wr=[],Zr=Xu,Kr=[[],[],[]],Jr=[[],[]],Qr=[];Gr/=2,Yr.eachEdge(function(ti,ei){var ri=ti.getLayout(),ii=ti.getVisual("fromSymbol"),ni=ti.getVisual("toSymbol");ri.__original||(ri.__original=[Lo(ri[0]),Lo(ri[1])],ri[2]&&ri.__original.push(Lo(ri[2])));var ai=ri.__original;if(ri[2]!=null){if(Ba(Kr[0],ai[0]),Ba(Kr[1],ai[2]),Ba(Kr[2],ai[1]),ii&&ii!=="none"){var oi=nc(ti.node1),si=zV(Kr,ai[0],oi*Gr);Zr(Kr[0][0],Kr[1][0],Kr[2][0],si,Wr),Kr[0][0]=Wr[3],Kr[1][0]=Wr[4],Zr(Kr[0][1],Kr[1][1],Kr[2][1],si,Wr),Kr[0][1]=Wr[3],Kr[1][1]=Wr[4]}if(ni&&ni!=="none"){var oi=nc(ti.node2),si=zV(Kr,ai[1],oi*Gr);Zr(Kr[0][0],Kr[1][0],Kr[2][0],si,Wr),Kr[1][0]=Wr[1],Kr[2][0]=Wr[2],Zr(Kr[0][1],Kr[1][1],Kr[2][1],si,Wr),Kr[1][1]=Wr[1],Kr[2][1]=Wr[2]}Ba(ri[0],Kr[0]),Ba(ri[1],Kr[2]),Ba(ri[2],Kr[1])}else{if(Ba(Jr[0],ai[0]),Ba(Jr[1],ai[1]),Zs(Qr,Jr[1],Jr[0]),ys(Qr,Qr),ii&&ii!=="none"){var oi=nc(ti.node1);bd(Jr[0],Jr[0],Qr,oi*Gr)}if(ni&&ni!=="none"){var oi=nc(ti.node2);bd(Jr[1],Jr[1],Qr,-oi*Gr)}Ba(ri[0],Jr[0]),Ba(ri[1],Jr[1])}})}function NV(Yr){return Yr.type==="view"}var F$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr){var Kr=new Ul,Jr=new Lp,Qr=this.group;this._controller=new Yl(Zr.getZr()),this._controllerHost={target:Qr},Qr.add(Kr.group),Qr.add(Jr.group),this._symbolDraw=Kr,this._lineDraw=Jr,this._firstRender=!0},Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this,Qr=Wr.coordinateSystem;this._model=Wr;var ti=this._symbolDraw,ei=this._lineDraw,ri=this.group;if(NV(Qr)){var ii={x:Qr.x,y:Qr.y,scaleX:Qr.scaleX,scaleY:Qr.scaleY};this._firstRender?ri.attr(ii):bn(ri,ii,Wr)}pm(Wr.getGraph(),ic(Wr));var ni=Wr.getData();ti.updateData(ni);var ai=Wr.getEdgeData();ei.updateData(ai),this._updateNodeAndLinkScale(),this._updateController(Wr,Zr,Kr),clearTimeout(this._layoutTimeout);var oi=Wr.forceLayout,si=Wr.get(["force","layoutAnimation"]);oi&&this._startForceLayoutIteration(oi,si);var li=Wr.get("layout");ni.graph.eachNode(function(ci){var pi=ci.dataIndex,di=ci.getGraphicEl(),vi=ci.getModel();if(di){di.off("drag").off("dragend");var mi=vi.get("draggable");mi&&di.on("drag",function(yi){switch(li){case"force":oi.warmUp(),!Jr._layouting&&Jr._startForceLayoutIteration(oi,si),oi.setFixed(pi),ni.setItemLayout(pi,[di.x,di.y]);break;case"circular":ni.setItemLayout(pi,[di.x,di.y]),ci.setLayout({fixed:!0},!0),Ep(Wr,"symbolSize",ci,[yi.offsetX,yi.offsetY]),Jr.updateLayout(Wr);break;case"none":default:ni.setItemLayout(pi,[di.x,di.y]),cm(Wr.getGraph(),Wr),Jr.updateLayout(Wr);break}}).on("dragend",function(){oi&&oi.setUnfixed(pi)}),di.setDraggable(mi,!!vi.get("cursor"));var gi=vi.get(["emphasis","focus"]);gi==="adjacency"&&(Qi(di).focus=ci.getAdjacentDataIndices())}}),ni.graph.eachEdge(function(ci){var pi=ci.getGraphicEl(),di=ci.getModel().get(["emphasis","focus"]);pi&&di==="adjacency"&&(Qi(pi).focus={edge:[ci.dataIndex],node:[ci.node1.dataIndex,ci.node2.dataIndex]})});var ui=Wr.get("layout")==="circular"&&Wr.get(["circular","rotateLabel"]),fi=ni.getLayout("cx"),hi=ni.getLayout("cy");ni.graph.eachNode(function(ci){GT(ci,ui,fi,hi)}),this._firstRender=!1},Gr.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},Gr.prototype._startForceLayoutIteration=function(Wr,Zr){var Kr=this;(function Jr(){Wr.step(function(Qr){Kr.updateLayout(Kr._model),(Kr._layouting=!Qr)&&(Zr?Kr._layoutTimeout=setTimeout(Jr,16):Jr())})})()},Gr.prototype._updateController=function(Wr,Zr,Kr){var Jr=this,Qr=this._controller,ti=this._controllerHost,ei=this.group;if(Qr.setPointerChecker(function(ri,ii,ni){var ai=ei.getBoundingRect();return ai.applyTransform(ei.transform),ai.contain(ii,ni)&&!Cf(ri,Kr,Wr)}),!NV(Wr.coordinateSystem)){Qr.disable();return}Qr.enable(Wr.get("roam")),ti.zoomLimit=Wr.get("scaleLimit"),ti.zoom=Wr.coordinateSystem.getZoom(),Qr.off("pan").off("zoom").on("pan",function(ri){Sp(ti,ri.dx,ri.dy),Kr.dispatchAction({seriesId:Wr.id,type:"graphRoam",dx:ri.dx,dy:ri.dy})}).on("zoom",function(ri){wp(ti,ri.scale,ri.originX,ri.originY),Kr.dispatchAction({seriesId:Wr.id,type:"graphRoam",zoom:ri.scale,originX:ri.originX,originY:ri.originY}),Jr._updateNodeAndLinkScale(),pm(Wr.getGraph(),ic(Wr)),Jr._lineDraw.updateLayout(),Kr.updateLabelLayout()})},Gr.prototype._updateNodeAndLinkScale=function(){var Wr=this._model,Zr=Wr.getData(),Kr=ic(Wr);Zr.eachItemGraphicEl(function(Jr,Qr){Jr&&Jr.setSymbolScale(Kr)})},Gr.prototype.updateLayout=function(Wr){pm(Wr.getGraph(),ic(Wr)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},Gr.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},Gr.type="graph",Gr}(An),FV=F$;function Rp(Yr){return"_EC_"+Yr}var V$=function(){function Yr(Gr){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=Gr||!1}return Yr.prototype.isDirected=function(){return this._directed},Yr.prototype.addNode=function(Gr,Wr){Gr=Gr==null?""+Wr:""+Gr;var Zr=this._nodesMap;if(!Zr[Rp(Gr)]){var Kr=new ac(Gr,Wr);return Kr.hostGraph=this,this.nodes.push(Kr),Zr[Rp(Gr)]=Kr,Kr}},Yr.prototype.getNodeByIndex=function(Gr){var Wr=this.data.getRawIndex(Gr);return this.nodes[Wr]},Yr.prototype.getNodeById=function(Gr){return this._nodesMap[Rp(Gr)]},Yr.prototype.addEdge=function(Gr,Wr,Zr){var Kr=this._nodesMap,Jr=this._edgesMap;if(gn(Gr)&&(Gr=this.nodes[Gr]),gn(Wr)&&(Wr=this.nodes[Wr]),Gr instanceof ac||(Gr=Kr[Rp(Gr)]),Wr instanceof ac||(Wr=Kr[Rp(Wr)]),!(!Gr||!Wr)){var Qr=Gr.id+"-"+Wr.id,ti=new VV(Gr,Wr,Zr);return ti.hostGraph=this,this._directed&&(Gr.outEdges.push(ti),Wr.inEdges.push(ti)),Gr.edges.push(ti),Gr!==Wr&&Wr.edges.push(ti),this.edges.push(ti),Jr[Qr]=ti,ti}},Yr.prototype.getEdgeByIndex=function(Gr){var Wr=this.edgeData.getRawIndex(Gr);return this.edges[Wr]},Yr.prototype.getEdge=function(Gr,Wr){Gr instanceof ac&&(Gr=Gr.id),Wr instanceof ac&&(Wr=Wr.id);var Zr=this._edgesMap;return this._directed?Zr[Gr+"-"+Wr]:Zr[Gr+"-"+Wr]||Zr[Wr+"-"+Gr]},Yr.prototype.eachNode=function(Gr,Wr){for(var Zr=this.nodes,Kr=Zr.length,Jr=0;Jr<Kr;Jr++)Zr[Jr].dataIndex>=0&&Gr.call(Wr,Zr[Jr],Jr)},Yr.prototype.eachEdge=function(Gr,Wr){for(var Zr=this.edges,Kr=Zr.length,Jr=0;Jr<Kr;Jr++)Zr[Jr].dataIndex>=0&&Zr[Jr].node1.dataIndex>=0&&Zr[Jr].node2.dataIndex>=0&&Gr.call(Wr,Zr[Jr],Jr)},Yr.prototype.breadthFirstTraverse=function(Gr,Wr,Zr,Kr){if(Wr instanceof ac||(Wr=this._nodesMap[Rp(Wr)]),!!Wr){for(var Jr=Zr==="out"?"outEdges":Zr==="in"?"inEdges":"edges",Qr=0;Qr<this.nodes.length;Qr++)this.nodes[Qr].__visited=!1;if(!Gr.call(Kr,Wr,null))for(var ti=[Wr];ti.length;)for(var ei=ti.shift(),ri=ei[Jr],Qr=0;Qr<ri.length;Qr++){var ii=ri[Qr],ni=ii.node1===ei?ii.node2:ii.node1;if(!ni.__visited){if(Gr.call(Kr,ni,ei))return;ti.push(ni),ni.__visited=!0}}}},Yr.prototype.update=function(){for(var Gr=this.data,Wr=this.edgeData,Zr=this.nodes,Kr=this.edges,Jr=0,Qr=Zr.length;Jr<Qr;Jr++)Zr[Jr].dataIndex=-1;for(var Jr=0,Qr=Gr.count();Jr<Qr;Jr++)Zr[Gr.getRawIndex(Jr)].dataIndex=Jr;Wr.filterSelf(function(ti){var ei=Kr[Wr.getRawIndex(ti)];return ei.node1.dataIndex>=0&&ei.node2.dataIndex>=0});for(var Jr=0,Qr=Kr.length;Jr<Qr;Jr++)Kr[Jr].dataIndex=-1;for(var Jr=0,Qr=Wr.count();Jr<Qr;Jr++)Kr[Wr.getRawIndex(Jr)].dataIndex=Jr},Yr.prototype.clone=function(){for(var Gr=new Yr(this._directed),Wr=this.nodes,Zr=this.edges,Kr=0;Kr<Wr.length;Kr++)Gr.addNode(Wr[Kr].id,Wr[Kr].dataIndex);for(var Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Gr.addEdge(Jr.node1.id,Jr.node2.id,Jr.dataIndex)}return Gr},Yr}(),ac=function(){function Yr(Gr,Wr){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=Gr??"",this.dataIndex=Wr??-1}return Yr.prototype.degree=function(){return this.edges.length},Yr.prototype.inDegree=function(){return this.inEdges.length},Yr.prototype.outDegree=function(){return this.outEdges.length},Yr.prototype.getModel=function(Gr){if(!(this.dataIndex<0)){var Wr=this.hostGraph,Zr=Wr.data.getItemModel(this.dataIndex);return Zr.getModel(Gr)}},Yr.prototype.getAdjacentDataIndices=function(){for(var Gr={edge:[],node:[]},Wr=0;Wr<this.edges.length;Wr++){var Zr=this.edges[Wr];Zr.dataIndex<0||(Gr.edge.push(Zr.dataIndex),Gr.node.push(Zr.node1.dataIndex,Zr.node2.dataIndex))}return Gr},Yr.prototype.getTrajectoryDataIndices=function(){for(var Gr=Hi(),Wr=Hi(),Zr=0;Zr<this.edges.length;Zr++){var Kr=this.edges[Zr];if(!(Kr.dataIndex<0)){Gr.set(Kr.dataIndex,!0);for(var Jr=[Kr.node1],Qr=[Kr.node2],ti=0;ti<Jr.length;){var ei=Jr[ti];ti++,Wr.set(ei.dataIndex,!0);for(var ri=0;ri<ei.inEdges.length;ri++)Gr.set(ei.inEdges[ri].dataIndex,!0),Jr.push(ei.inEdges[ri].node1)}for(ti=0;ti<Qr.length;){var ii=Qr[ti];ti++,Wr.set(ii.dataIndex,!0);for(var ri=0;ri<ii.outEdges.length;ri++)Gr.set(ii.outEdges[ri].dataIndex,!0),Qr.push(ii.outEdges[ri].node2)}}}return{edge:Gr.keys(),node:Wr.keys()}},Yr}(),VV=function(){function Yr(Gr,Wr,Zr){this.dataIndex=-1,this.node1=Gr,this.node2=Wr,this.dataIndex=Zr??-1}return Yr.prototype.getModel=function(Gr){if(!(this.dataIndex<0)){var Wr=this.hostGraph,Zr=Wr.edgeData.getItemModel(this.dataIndex);return Zr.getModel(Gr)}},Yr.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},Yr.prototype.getTrajectoryDataIndices=function(){var Gr=Hi(),Wr=Hi();Gr.set(this.dataIndex,!0);for(var Zr=[this.node1],Kr=[this.node2],Jr=0;Jr<Zr.length;){var Qr=Zr[Jr];Jr++,Wr.set(Qr.dataIndex,!0);for(var ti=0;ti<Qr.inEdges.length;ti++)Gr.set(Qr.inEdges[ti].dataIndex,!0),Zr.push(Qr.inEdges[ti].node1)}for(Jr=0;Jr<Kr.length;){var ei=Kr[Jr];Jr++,Wr.set(ei.dataIndex,!0);for(var ti=0;ti<ei.outEdges.length;ti++)Gr.set(ei.outEdges[ti].dataIndex,!0),Kr.push(ei.outEdges[ti].node2)}return{edge:Gr.keys(),node:Wr.keys()}},Yr}();function BV(Yr,Gr){return{getValue:function(Wr){var Zr=this[Yr][Gr];return Zr.getStore().get(Zr.getDimensionIndex(Wr||"value"),this.dataIndex)},setVisual:function(Wr,Zr){this.dataIndex>=0&&this[Yr][Gr].setItemVisual(this.dataIndex,Wr,Zr)},getVisual:function(Wr){return this[Yr][Gr].getItemVisual(this.dataIndex,Wr)},setLayout:function(Wr,Zr){this.dataIndex>=0&&this[Yr][Gr].setItemLayout(this.dataIndex,Wr,Zr)},getLayout:function(){return this[Yr][Gr].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[Yr][Gr].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[Yr][Gr].getRawIndex(this.dataIndex)}}}Gn(ac,BV("hostGraph","data"));Gn(VV,BV("hostGraph","edgeData"));var UV=V$;function dm(Yr,Gr,Wr,Zr,Kr){for(var Jr=new UV(Zr),Qr=0;Qr<Yr.length;Qr++)Jr.addNode(ta(Yr[Qr].id,Yr[Qr].name,Qr),Qr);for(var ti=[],ei=[],ri=0,Qr=0;Qr<Gr.length;Qr++){var ii=Gr[Qr],ni=ii.source,ai=ii.target;Jr.addEdge(ni,ai,ri)&&(ei.push(ii),ti.push(ta(aa(ii.id,null),ni+" > "+ai)),ri++)}var oi=Wr.get("coordinateSystem"),si;if(oi==="cartesian2d"||oi==="polar")si=ja(Yr,Wr);else{var li=xu.get(oi),ui=li?li.dimensions||[]:[];sn(ui,"value")<0&&ui.concat(["value"]);var fi=hl(Yr,{coordDimensions:ui,encodeDefine:Wr.getEncode()}).dimensions;si=new ha(fi,Wr),si.initData(Yr)}var hi=new ha(["value"],Wr);return hi.initData(ei,ti),Kr&&Kr(si,hi),Rx({mainData:si,struct:Jr,structAttr:"graph",datas:{node:si,edge:hi},datasAttr:{node:"data",edge:"edgeData"}}),Jr.update(),Jr}var B$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.hasSymbolVisual=!0,Wr}return Gr.prototype.init=function(Wr){Yr.prototype.init.apply(this,arguments);var Zr=this;function Kr(){return Zr._categoriesData}this.legendVisualProvider=new Wl(Kr,Kr),this.fillDataTextStyle(Wr.edges||Wr.links),this._updateCategoriesData()},Gr.prototype.mergeOption=function(Wr){Yr.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(Wr.edges||Wr.links),this._updateCategoriesData()},Gr.prototype.mergeDefaultAndTheme=function(Wr){Yr.prototype.mergeDefaultAndTheme.apply(this,arguments),ls(Wr,"edgeLabel",["show"])},Gr.prototype.getInitialData=function(Wr,Zr){var Kr=Wr.edges||Wr.links||[],Jr=Wr.data||Wr.nodes||[],Qr=this;if(Jr&&Kr){wV(this);var ti=dm(Jr,Kr,this,!0,ei);return _i(ti.edges,function(ri){CV(ri.node1,ri.node2,this,ri.dataIndex)},this),ti.data}function ei(ri,ii){ri.wrapMethod("getItemModel",function(si){var li=Qr._categoriesModels,ui=si.getShallow("category"),fi=li[ui];return fi&&(fi.parentModel=si.parentModel,si.parentModel=fi),si});var ni=Mn.prototype.getModel;function ai(si,li){var ui=ni.call(this,si,li);return ui.resolveParentPath=oi,ui}ii.wrapMethod("getItemModel",function(si){return si.resolveParentPath=oi,si.getModel=ai,si});function oi(si){if(si&&(si[0]==="label"||si[1]==="label")){var li=si.slice();return si[0]==="label"?li[0]="edgeLabel":si[1]==="label"&&(li[1]="edgeLabel"),li}return si}}},Gr.prototype.getGraph=function(){return this.getData().graph},Gr.prototype.getEdgeData=function(){return this.getGraph().edgeData},Gr.prototype.getCategoriesData=function(){return this._categoriesData},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){if(Kr==="edge"){var Jr=this.getData(),Qr=this.getDataParams(Wr,Kr),ti=Jr.graph.getEdgeByIndex(Wr),ei=Jr.getName(ti.node1.dataIndex),ri=Jr.getName(ti.node2.dataIndex),ii=[];return ei!=null&&ii.push(ei),ri!=null&&ii.push(ri),Jn("nameValue",{name:ii.join(" > "),value:Qr.value,noValue:Qr.value==null})}var ni=l0({series:this,dataIndex:Wr,multipleSeries:Zr});return ni},Gr.prototype._updateCategoriesData=function(){var Wr=Oi(this.option.categories||[],function(Kr){return Kr.value!=null?Kr:ki({value:0},Kr)}),Zr=new ha(["value"],this);Zr.initData(Wr),this._categoriesData=Zr,this._categoriesModels=Zr.mapArray(function(Kr){return Zr.getItemModel(Kr)})},Gr.prototype.setZoom=function(Wr){this.option.zoom=Wr},Gr.prototype.setCenter=function(Wr){this.option.center=Wr},Gr.prototype.isAnimationEnabled=function(){return Yr.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},Gr.type="series.graph",Gr.dependencies=["grid","polar","geo","singleAxis","calendar"],Gr.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},Gr}(Pn),GV=B$;var U$={type:"graphRoam",event:"graphRoam",update:"none"};function eA(Yr){Yr.registerChartView(FV),Yr.registerSeriesModel(GV),Yr.registerProcessor(OT),Yr.registerVisual(zT),Yr.registerVisual(NT),Yr.registerLayout(BT),Yr.registerLayout(Yr.PRIORITY.VISUAL.POST_CHART_LAYOUT,HT),Yr.registerLayout(WT),Yr.registerCoordinateSystem("graphView",{dimensions:Tu.dimensions,create:YT}),Yr.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},qn),Yr.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},qn),Yr.registerAction(U$,function(Gr,Wr,Zr){Wr.eachComponent({mainType:"series",query:Gr},function(Kr){var Jr=Kr.coordinateSystem,Qr=Cp(Jr,Gr,void 0,Zr);Kr.setCenter&&Kr.setCenter(Qr.center),Kr.setZoom&&Kr.setZoom(Qr.zoom)})})}var G$=function(){function Yr(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return Yr}(),H$=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="pointer",Zr}return Gr.prototype.getDefaultShape=function(){return new G$},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Math.cos,Jr=Math.sin,Qr=Zr.r,ti=Zr.width,ei=Zr.angle,ri=Zr.x-Kr(ei)*ti*(ti>=Qr/3?1:2),ii=Zr.y-Jr(ei)*ti*(ti>=Qr/3?1:2);ei=Zr.angle-Math.PI/2,Wr.moveTo(ri,ii),Wr.lineTo(Zr.x+Kr(ei)*ti,Zr.y+Jr(ei)*ti),Wr.lineTo(Zr.x+Kr(Zr.angle)*Qr,Zr.y+Jr(Zr.angle)*Qr),Wr.lineTo(Zr.x-Kr(ei)*ti,Zr.y-Jr(ei)*ti),Wr.lineTo(ri,ii)},Gr}(an),HV=H$;function W$(Yr,Gr){var Wr=Yr.get("center"),Zr=Gr.getWidth(),Kr=Gr.getHeight(),Jr=Math.min(Zr,Kr),Qr=Ui(Wr[0],Gr.getWidth()),ti=Ui(Wr[1],Gr.getHeight()),ei=Ui(Yr.get("radius"),Jr/2);return{cx:Qr,cy:ti,r:ei}}function Hx(Yr,Gr){var Wr=Yr==null?"":Yr+"";return Gr&&(Ni(Gr)?Wr=Gr.replace("{value}",Wr):Wi(Gr)&&(Wr=Gr(Yr))),Wr}var Y$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){this.group.removeAll();var Jr=Wr.get(["axisLine","lineStyle","color"]),Qr=W$(Wr,Kr);this._renderMain(Wr,Zr,Kr,Jr,Qr),this._data=Wr.getData()},Gr.prototype.dispose=function(){},Gr.prototype._renderMain=function(Wr,Zr,Kr,Jr,Qr){var ti=this.group,ei=Wr.get("clockwise"),ri=-Wr.get("startAngle")/180*Math.PI,ii=-Wr.get("endAngle")/180*Math.PI,ni=Wr.getModel("axisLine"),ai=ni.get("roundCap"),oi=ai?_p:Sa,si=ni.get("show"),li=ni.getModel("lineStyle"),ui=li.get("width"),fi=[ri,ii];qd(fi,!ei),ri=fi[0],ii=fi[1];for(var hi=ii-ri,ci=ri,pi=[],di=0;si&&di<Jr.length;di++){var vi=Math.min(Math.max(Jr[di][0],0),1);ii=ri+hi*vi;var mi=new oi({shape:{startAngle:ci,endAngle:ii,cx:Qr.cx,cy:Qr.cy,clockwise:ei,r0:Qr.r-ui,r:Qr.r},silent:!0});mi.setStyle({fill:Jr[di][1]}),mi.setStyle(li.getLineStyle(["color","width"])),pi.push(mi),ci=ii}pi.reverse(),_i(pi,function(yi){return ti.add(yi)});var gi=function(yi){if(yi<=0)return Jr[0][1];var Si;for(Si=0;Si<Jr.length;Si++)if(Jr[Si][0]>=yi&&(Si===0?0:Jr[Si-1][0])<yi)return Jr[Si][1];return Jr[Si-1][1]};this._renderTicks(Wr,Zr,Kr,gi,Qr,ri,ii,ei,ui),this._renderTitleAndDetail(Wr,Zr,Kr,gi,Qr),this._renderAnchor(Wr,Qr),this._renderPointer(Wr,Zr,Kr,gi,Qr,ri,ii,ei,ui)},Gr.prototype._renderTicks=function(Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii){for(var ni=this.group,ai=Qr.cx,oi=Qr.cy,si=Qr.r,li=+Wr.get("min"),ui=+Wr.get("max"),fi=Wr.getModel("splitLine"),hi=Wr.getModel("axisTick"),ci=Wr.getModel("axisLabel"),pi=Wr.get("splitNumber"),di=hi.get("splitNumber"),vi=Ui(fi.get("length"),si),mi=Ui(hi.get("length"),si),gi=ti,yi=(ei-ti)/pi,Si=yi/di,bi=fi.getModel("lineStyle").getLineStyle(),Ti=hi.getModel("lineStyle").getLineStyle(),Ai=fi.get("distance"),Ei,Mi,wi=0;wi<=pi;wi++){if(Ei=Math.cos(gi),Mi=Math.sin(gi),fi.get("show")){var Pi=Ai?Ai+ii:ii,xi=new sa({shape:{x1:Ei*(si-Pi)+ai,y1:Mi*(si-Pi)+oi,x2:Ei*(si-vi-Pi)+ai,y2:Mi*(si-vi-Pi)+oi},style:bi,silent:!0});bi.stroke==="auto"&&xi.setStyle({stroke:Jr(wi/pi)}),ni.add(xi)}if(ci.get("show")){var Pi=ci.get("distance")+Ai,Ci=Hx(Zn(wi/pi*(ui-li)+li),ci.get("formatter")),Li=Jr(wi/pi),Ii=Ei*(si-vi-Pi)+ai,zi=Mi*(si-vi-Pi)+oi,Bi=ci.get("rotate"),Vi=0;Bi==="radial"?(Vi=-gi+2*Math.PI,Vi>Math.PI/2&&(Vi+=Math.PI)):Bi==="tangential"?Vi=-gi-Math.PI/2:gn(Bi)&&(Vi=Bi*Math.PI/180),Vi===0?ni.add(new xn({style:On(ci,{text:Ci,x:Ii,y:zi,verticalAlign:Mi<-.8?"top":Mi>.8?"bottom":"middle",align:Ei<-.4?"left":Ei>.4?"right":"center"},{inheritColor:Li}),silent:!0})):ni.add(new xn({style:On(ci,{text:Ci,x:Ii,y:zi,verticalAlign:"middle",align:"center"},{inheritColor:Li}),silent:!0,originX:Ii,originY:zi,rotation:Vi}))}if(hi.get("show")&&wi!==pi){var Pi=hi.get("distance");Pi=Pi?Pi+ii:ii;for(var ji=0;ji<=di;ji++){Ei=Math.cos(gi),Mi=Math.sin(gi);var tn=new sa({shape:{x1:Ei*(si-Pi)+ai,y1:Mi*(si-Pi)+oi,x2:Ei*(si-mi-Pi)+ai,y2:Mi*(si-mi-Pi)+oi},silent:!0,style:Ti});Ti.stroke==="auto"&&tn.setStyle({stroke:Jr((wi+ji/di)/pi)}),ni.add(tn),gi+=Si}gi-=Si}else gi+=yi}},Gr.prototype._renderPointer=function(Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii){var ni=this.group,ai=this._data,oi=this._progressEls,si=[],li=Wr.get(["pointer","show"]),ui=Wr.getModel("progress"),fi=ui.get("show"),hi=Wr.getData(),ci=hi.mapDimension("value"),pi=+Wr.get("min"),di=+Wr.get("max"),vi=[pi,di],mi=[ti,ei];function gi(Si,bi){var Ti=hi.getItemModel(Si),Ai=Ti.getModel("pointer"),Ei=Ui(Ai.get("width"),Qr.r),Mi=Ui(Ai.get("length"),Qr.r),wi=Wr.get(["pointer","icon"]),Pi=Ai.get("offsetCenter"),xi=Ui(Pi[0],Qr.r),Ci=Ui(Pi[1],Qr.r),Li=Ai.get("keepAspect"),Ii;return wi?Ii=Bn(wi,xi-Ei/2,Ci-Mi,Ei,Mi,null,Li):Ii=new HV({shape:{angle:-Math.PI/2,width:Ei,r:Mi,x:xi,y:Ci}}),Ii.rotation=-(bi+Math.PI/2),Ii.x=Qr.cx,Ii.y=Qr.cy,Ii}function yi(Si,bi){var Ti=ui.get("roundCap"),Ai=Ti?_p:Sa,Ei=ui.get("overlap"),Mi=Ei?ui.get("width"):ii/hi.count(),wi=Ei?Qr.r-Mi:Qr.r-(Si+1)*Mi,Pi=Ei?Qr.r:Qr.r-Si*Mi,xi=new Ai({shape:{startAngle:ti,endAngle:bi,cx:Qr.cx,cy:Qr.cy,clockwise:ri,r0:wi,r:Pi}});return Ei&&(xi.z2=di-hi.get(ci,Si)%di),xi}(fi||li)&&(hi.diff(ai).add(function(Si){var bi=hi.get(ci,Si);if(li){var Ti=gi(Si,ti);Ln(Ti,{rotation:-((isNaN(+bi)?mi[0]:kn(bi,vi,mi,!0))+Math.PI/2)},Wr),ni.add(Ti),hi.setItemGraphicEl(Si,Ti)}if(fi){var Ai=yi(Si,ti),Ei=ui.get("clip");Ln(Ai,{shape:{endAngle:kn(bi,vi,mi,Ei)}},Wr),ni.add(Ai),jd(Wr.seriesIndex,hi.dataType,Si,Ai),si[Si]=Ai}}).update(function(Si,bi){var Ti=hi.get(ci,Si);if(li){var Ai=ai.getItemGraphicEl(bi),Ei=Ai?Ai.rotation:ti,Mi=gi(Si,Ei);Mi.rotation=Ei,bn(Mi,{rotation:-((isNaN(+Ti)?mi[0]:kn(Ti,vi,mi,!0))+Math.PI/2)},Wr),ni.add(Mi),hi.setItemGraphicEl(Si,Mi)}if(fi){var wi=oi[bi],Pi=wi?wi.shape.endAngle:ti,xi=yi(Si,Pi),Ci=ui.get("clip");bn(xi,{shape:{endAngle:kn(Ti,vi,mi,Ci)}},Wr),ni.add(xi),jd(Wr.seriesIndex,hi.dataType,Si,xi),si[Si]=xi}}).execute(),hi.each(function(Si){var bi=hi.getItemModel(Si),Ti=bi.getModel("emphasis"),Ai=Ti.get("focus"),Ei=Ti.get("blurScope"),Mi=Ti.get("disabled");if(li){var wi=hi.getItemGraphicEl(Si),Pi=hi.getItemVisual(Si,"style"),xi=Pi.fill;if(wi instanceof Kn){var Ci=wi.style;wi.useStyle(ki({image:Ci.image,x:Ci.x,y:Ci.y,width:Ci.width,height:Ci.height},Pi))}else wi.useStyle(Pi),wi.type!=="pointer"&&wi.setColor(xi);wi.setStyle(bi.getModel(["pointer","itemStyle"]).getItemStyle()),wi.style.fill==="auto"&&wi.setStyle("fill",Jr(kn(hi.get(ci,Si),vi,[0,1],!0))),wi.z2EmphasisLift=0,ia(wi,bi),In(wi,Ai,Ei,Mi)}if(fi){var Li=si[Si];Li.useStyle(hi.getItemVisual(Si,"style")),Li.setStyle(bi.getModel(["progress","itemStyle"]).getItemStyle()),Li.z2EmphasisLift=0,ia(Li,bi),In(Li,Ai,Ei,Mi)}}),this._progressEls=si)},Gr.prototype._renderAnchor=function(Wr,Zr){var Kr=Wr.getModel("anchor"),Jr=Kr.get("show");if(Jr){var Qr=Kr.get("size"),ti=Kr.get("icon"),ei=Kr.get("offsetCenter"),ri=Kr.get("keepAspect"),ii=Bn(ti,Zr.cx-Qr/2+Ui(ei[0],Zr.r),Zr.cy-Qr/2+Ui(ei[1],Zr.r),Qr,Qr,null,ri);ii.z2=Kr.get("showAbove")?1:0,ii.setStyle(Kr.getModel("itemStyle").getItemStyle()),this.group.add(ii)}},Gr.prototype._renderTitleAndDetail=function(Wr,Zr,Kr,Jr,Qr){var ti=this,ei=Wr.getData(),ri=ei.mapDimension("value"),ii=+Wr.get("min"),ni=+Wr.get("max"),ai=new Zi,oi=[],si=[],li=Wr.isAnimationEnabled(),ui=Wr.get(["pointer","showAbove"]);ei.diff(this._data).add(function(fi){oi[fi]=new xn({silent:!0}),si[fi]=new xn({silent:!0})}).update(function(fi,hi){oi[fi]=ti._titleEls[hi],si[fi]=ti._detailEls[hi]}).execute(),ei.each(function(fi){var hi=ei.getItemModel(fi),ci=ei.get(ri,fi),pi=new Zi,di=Jr(kn(ci,[ii,ni],[0,1],!0)),vi=hi.getModel("title");if(vi.get("show")){var mi=vi.get("offsetCenter"),gi=Qr.cx+Ui(mi[0],Qr.r),yi=Qr.cy+Ui(mi[1],Qr.r),Si=oi[fi];Si.attr({z2:ui?0:2,style:On(vi,{x:gi,y:yi,text:ei.getName(fi),align:"center",verticalAlign:"middle"},{inheritColor:di})}),pi.add(Si)}var bi=hi.getModel("detail");if(bi.get("show")){var Ti=bi.get("offsetCenter"),Ai=Qr.cx+Ui(Ti[0],Qr.r),Ei=Qr.cy+Ui(Ti[1],Qr.r),Mi=Ui(bi.get("width"),Qr.r),wi=Ui(bi.get("height"),Qr.r),Pi=Wr.get(["progress","show"])?ei.getItemVisual(fi,"style").fill:di,Si=si[fi],xi=bi.get("formatter");Si.attr({z2:ui?0:2,style:On(bi,{x:Ai,y:Ei,text:Hx(ci,xi),width:isNaN(Mi)?null:Mi,height:isNaN(wi)?null:wi,align:"center",verticalAlign:"middle"},{inheritColor:Pi})}),Dy(Si,{normal:bi},ci,function(Li){return Hx(Li,xi)}),li&&Iy(Si,fi,ei,Wr,{getFormattedLabel:function(Li,Ii,zi,Bi,Vi,ji){return Hx(ji?ji.interpolatedValue:ci,xi)}}),pi.add(Si)}ai.add(pi)}),this.group.add(ai),this._titleEls=oi,this._detailEls=si},Gr.type="gauge",Gr}(An),WV=Y$;var X$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.visualStyleAccessPath="itemStyle",Wr}return Gr.prototype.getInitialData=function(Wr,Zr){return vs(this,["value"])},Gr.type="series.gauge",Gr.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},Gr}(Pn),YV=X$;function rA(Yr){Yr.registerChartView(WV),Yr.registerSeriesModel(YV)}var q$=["itemStyle","opacity"],Z$=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr){var Kr=Yr.call(this)||this,Jr=Kr,Qr=new la,ti=new xn;return Jr.setTextContent(ti),Kr.setTextGuideLine(Qr),Kr.updateData(Wr,Zr,!0),Kr}return Gr.prototype.updateData=function(Wr,Zr,Kr){var Jr=this,Qr=Wr.hostModel,ti=Wr.getItemModel(Zr),ei=Wr.getItemLayout(Zr),ri=ti.getModel("emphasis"),ii=ti.get(q$);ii=ii??1,Kr||La(Jr),Jr.useStyle(Wr.getItemVisual(Zr,"style")),Jr.style.lineJoin="round",Kr?(Jr.setShape({points:ei.points}),Jr.style.opacity=0,Ln(Jr,{style:{opacity:ii}},Qr,Zr)):bn(Jr,{style:{opacity:ii},shape:{points:ei.points}},Qr,Zr),ia(Jr,ti),this._updateLabel(Wr,Zr),In(this,ri.get("focus"),ri.get("blurScope"),ri.get("disabled"))},Gr.prototype._updateLabel=function(Wr,Zr){var Kr=this,Jr=this.getTextGuideLine(),Qr=Kr.getTextContent(),ti=Wr.hostModel,ei=Wr.getItemModel(Zr),ri=Wr.getItemLayout(Zr),ii=ri.label,ni=Wr.getItemVisual(Zr,"style"),ai=ni.fill;jn(Qr,Hn(ei),{labelFetcher:Wr.hostModel,labelDataIndex:Zr,defaultOpacity:ni.opacity,defaultText:Wr.getName(Zr)},{normal:{align:ii.textAlign,verticalAlign:ii.verticalAlign}}),Kr.setTextConfig({local:!0,inside:!!ii.inside,insideStroke:ai,outsideFill:ai});var oi=ii.linePoints;Jr.setShape({points:oi}),Kr.textGuideLineConfig={anchor:oi?new wn(oi[0][0],oi[0][1]):null},bn(Qr,{style:{x:ii.x,y:ii.y}},ti,Zr),Qr.attr({rotation:ii.rotation,originX:ii.x,originY:ii.y,z2:10}),mp(Kr,gp(ei),{stroke:ai})},Gr}(fa),j$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.ignoreLabelLineUpdate=!0,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this._data,ti=this.group;Jr.diff(Qr).add(function(ei){var ri=new Z$(Jr,ei);Jr.setItemGraphicEl(ei,ri),ti.add(ri)}).update(function(ei,ri){var ii=Qr.getItemGraphicEl(ri);ii.updateData(Jr,ei),ti.add(ii),Jr.setItemGraphicEl(ei,ii)}).remove(function(ei){var ri=Qr.getItemGraphicEl(ei);cu(ri,Wr,ei)}).execute(),this._data=Jr},Gr.prototype.remove=function(){this.group.removeAll(),this._data=null},Gr.prototype.dispose=function(){},Gr.type="funnel",Gr}(An),XV=j$;var K$=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr){Yr.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wl(Gi(this.getData,this),Gi(this.getRawData,this)),this._defaultLabelLine(Wr)},Gr.prototype.getInitialData=function(Wr,Zr){return vs(this,{coordDimensions:["value"],encodeDefaulter:en(ap,this)})},Gr.prototype._defaultLabelLine=function(Wr){ls(Wr,"labelLine",["show"]);var Zr=Wr.labelLine,Kr=Wr.emphasis.labelLine;Zr.show=Zr.show&&Wr.label.show,Kr.show=Kr.show&&Wr.emphasis.label.show},Gr.prototype.getDataParams=function(Wr){var Zr=this.getData(),Kr=Yr.prototype.getDataParams.call(this,Wr),Jr=Zr.mapDimension("value"),Qr=Zr.getSum(Jr);return Kr.percent=Qr?+(Zr.get(Jr,Wr)/Qr*100).toFixed(2):0,Kr.$vars.push("percent"),Kr},Gr.type="series.funnel",Gr.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},Gr}(Pn),qV=K$;function $$(Yr,Gr){return Vn(Yr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function J$(Yr,Gr){for(var Wr=Yr.mapDimension("value"),Zr=Yr.mapArray(Wr,function(ei){return ei}),Kr=[],Jr=Gr==="ascending",Qr=0,ti=Yr.count();Qr<ti;Qr++)Kr[Qr]=Qr;return Wi(Gr)?Kr.sort(Gr):Gr!=="none"&&Kr.sort(function(ei,ri){return Jr?Zr[ei]-Zr[ri]:Zr[ri]-Zr[ei]}),Kr}function Q$(Yr){var Gr=Yr.hostModel,Wr=Gr.get("orient");Yr.each(function(Zr){var Kr=Yr.getItemModel(Zr),Jr=Kr.getModel("label"),Qr=Jr.get("position"),ti=Kr.getModel("labelLine"),ei=Yr.getItemLayout(Zr),ri=ei.points,ii=Qr==="inner"||Qr==="inside"||Qr==="center"||Qr==="insideLeft"||Qr==="insideRight",ni,ai,oi,si;if(ii)Qr==="insideLeft"?(ai=(ri[0][0]+ri[3][0])/2+5,oi=(ri[0][1]+ri[3][1])/2,ni="left"):Qr==="insideRight"?(ai=(ri[1][0]+ri[2][0])/2-5,oi=(ri[1][1]+ri[2][1])/2,ni="right"):(ai=(ri[0][0]+ri[1][0]+ri[2][0]+ri[3][0])/4,oi=(ri[0][1]+ri[1][1]+ri[2][1]+ri[3][1])/4,ni="center"),si=[[ai,oi],[ai,oi]];else{var li=void 0,ui=void 0,fi=void 0,hi=void 0,ci=ti.get("length");Qr==="left"?(li=(ri[3][0]+ri[0][0])/2,ui=(ri[3][1]+ri[0][1])/2,fi=li-ci,ai=fi-5,ni="right"):Qr==="right"?(li=(ri[1][0]+ri[2][0])/2,ui=(ri[1][1]+ri[2][1])/2,fi=li+ci,ai=fi+5,ni="left"):Qr==="top"?(li=(ri[3][0]+ri[0][0])/2,ui=(ri[3][1]+ri[0][1])/2,hi=ui-ci,oi=hi-5,ni="center"):Qr==="bottom"?(li=(ri[1][0]+ri[2][0])/2,ui=(ri[1][1]+ri[2][1])/2,hi=ui+ci,oi=hi+5,ni="center"):Qr==="rightTop"?(li=Wr==="horizontal"?ri[3][0]:ri[1][0],ui=Wr==="horizontal"?ri[3][1]:ri[1][1],Wr==="horizontal"?(hi=ui-ci,oi=hi-5,ni="center"):(fi=li+ci,ai=fi+5,ni="top")):Qr==="rightBottom"?(li=ri[2][0],ui=ri[2][1],Wr==="horizontal"?(hi=ui+ci,oi=hi+5,ni="center"):(fi=li+ci,ai=fi+5,ni="bottom")):Qr==="leftTop"?(li=ri[0][0],ui=Wr==="horizontal"?ri[0][1]:ri[1][1],Wr==="horizontal"?(hi=ui-ci,oi=hi-5,ni="center"):(fi=li-ci,ai=fi-5,ni="right")):Qr==="leftBottom"?(li=Wr==="horizontal"?ri[1][0]:ri[3][0],ui=Wr==="horizontal"?ri[1][1]:ri[2][1],Wr==="horizontal"?(hi=ui+ci,oi=hi+5,ni="center"):(fi=li-ci,ai=fi-5,ni="right")):(li=(ri[1][0]+ri[2][0])/2,ui=(ri[1][1]+ri[2][1])/2,Wr==="horizontal"?(hi=ui+ci,oi=hi+5,ni="center"):(fi=li+ci,ai=fi+5,ni="left")),Wr==="horizontal"?(fi=li,ai=fi):(hi=ui,oi=hi),si=[[li,ui],[fi,hi]]}ei.label={linePoints:si,x:ai,y:oi,verticalAlign:"middle",textAlign:ni,inside:ii}})}function iA(Yr,Gr){Yr.eachSeriesByType("funnel",function(Wr){var Zr=Wr.getData(),Kr=Zr.mapDimension("value"),Jr=Wr.get("sort"),Qr=$$(Wr,Gr),ti=Wr.get("orient"),ei=Qr.width,ri=Qr.height,ii=J$(Zr,Jr),ni=Qr.x,ai=Qr.y,oi=ti==="horizontal"?[Ui(Wr.get("minSize"),ri),Ui(Wr.get("maxSize"),ri)]:[Ui(Wr.get("minSize"),ei),Ui(Wr.get("maxSize"),ei)],si=Zr.getDataExtent(Kr),li=Wr.get("min"),ui=Wr.get("max");li==null&&(li=Math.min(si[0],0)),ui==null&&(ui=si[1]);var fi=Wr.get("funnelAlign"),hi=Wr.get("gap"),ci=ti==="horizontal"?ei:ri,pi=(ci-hi*(Zr.count()-1))/Zr.count(),di=function(Ei,Mi){if(ti==="horizontal"){var wi=Zr.get(Kr,Ei)||0,Pi=kn(wi,[li,ui],oi,!0),xi=void 0;switch(fi){case"top":xi=ai;break;case"center":xi=ai+(ri-Pi)/2;break;case"bottom":xi=ai+(ri-Pi);break}return[[Mi,xi],[Mi,xi+Pi]]}var Ci=Zr.get(Kr,Ei)||0,Li=kn(Ci,[li,ui],oi,!0),Ii;switch(fi){case"left":Ii=ni;break;case"center":Ii=ni+(ei-Li)/2;break;case"right":Ii=ni+ei-Li;break}return[[Ii,Mi],[Ii+Li,Mi]]};Jr==="ascending"&&(pi=-pi,hi=-hi,ti==="horizontal"?ni+=ei:ai+=ri,ii=ii.reverse());for(var vi=0;vi<ii.length;vi++){var mi=ii[vi],gi=ii[vi+1],yi=Zr.getItemModel(mi);if(ti==="horizontal"){var Si=yi.get(["itemStyle","width"]);Si==null?Si=pi:(Si=Ui(Si,ei),Jr==="ascending"&&(Si=-Si));var bi=di(mi,ni),Ti=di(gi,ni+Si);ni+=Si+hi,Zr.setItemLayout(mi,{points:bi.concat(Ti.slice().reverse())})}else{var Ai=yi.get(["itemStyle","height"]);Ai==null?Ai=pi:(Ai=Ui(Ai,ri),Jr==="ascending"&&(Ai=-Ai));var bi=di(mi,ai),Ti=di(gi,ai+Ai);ai+=Ai+hi,Zr.setItemLayout(mi,{points:bi.concat(Ti.slice().reverse())})}}Q$(Zr)})}function nA(Yr){Yr.registerChartView(XV),Yr.registerSeriesModel(qV),Yr.registerLayout(iA),Yr.registerProcessor(gl("funnel"))}var tJ=.3,eJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._dataGroup=new Zi,Wr._initialized=!1,Wr}return Gr.prototype.init=function(){this.group.add(this._dataGroup)},Gr.prototype.render=function(Wr,Zr,Kr,Jr){this._progressiveEls=null;var Qr=this._dataGroup,ti=Wr.getData(),ei=this._data,ri=Wr.coordinateSystem,ii=ri.dimensions,ni=jV(Wr);ti.diff(ei).add(ai).update(oi).remove(si).execute();function ai(ui){var fi=ZV(ti,Qr,ui,ii,ri);aA(fi,ti,ui,ni)}function oi(ui,fi){var hi=ei.getItemGraphicEl(fi),ci=KV(ti,ui,ii,ri);ti.setItemGraphicEl(ui,hi),bn(hi,{shape:{points:ci}},Wr,ui),La(hi),aA(hi,ti,ui,ni)}function si(ui){var fi=ei.getItemGraphicEl(ui);Qr.remove(fi)}if(!this._initialized){this._initialized=!0;var li=rJ(ri,Wr,function(){setTimeout(function(){Qr.removeClipPath()})});Qr.setClipPath(li)}this._data=ti},Gr.prototype.incrementalPrepareRender=function(Wr,Zr,Kr){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},Gr.prototype.incrementalRender=function(Wr,Zr,Kr){for(var Jr=Zr.getData(),Qr=Zr.coordinateSystem,ti=Qr.dimensions,ei=jV(Zr),ri=this._progressiveEls=[],ii=Wr.start;ii<Wr.end;ii++){var ni=ZV(Jr,this._dataGroup,ii,ti,Qr);ni.incremental=!0,aA(ni,Jr,ii,ei),ri.push(ni)}},Gr.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},Gr.type="parallel",Gr}(An);function rJ(Yr,Gr,Wr){var Zr=Yr.model,Kr=Yr.getRect(),Jr=new mn({shape:{x:Kr.x,y:Kr.y,width:Kr.width,height:Kr.height}}),Qr=Zr.get("layout")==="horizontal"?"width":"height";return Jr.setShape(Qr,0),Ln(Jr,{shape:{width:Kr.width,height:Kr.height}},Gr,Wr),Jr}function KV(Yr,Gr,Wr,Zr){for(var Kr=[],Jr=0;Jr<Wr.length;Jr++){var Qr=Wr[Jr],ti=Yr.get(Yr.mapDimension(Qr),Gr);iJ(ti,Zr.getAxis(Qr).type)||Kr.push(Zr.dataToPoint(ti,Qr))}return Kr}function ZV(Yr,Gr,Wr,Zr,Kr){var Jr=KV(Yr,Wr,Zr,Kr),Qr=new la({shape:{points:Jr},z2:10});return Gr.add(Qr),Yr.setItemGraphicEl(Wr,Qr),Qr}function jV(Yr){var Gr=Yr.get("smooth",!0);return Gr===!0&&(Gr=tJ),Gr=Ts(Gr),Bu(Gr)&&(Gr=0),{smooth:Gr}}function aA(Yr,Gr,Wr,Zr){Yr.useStyle(Gr.getItemVisual(Wr,"style")),Yr.style.fill=null,Yr.setShape("smooth",Zr.smooth);var Kr=Gr.getItemModel(Wr),Jr=Kr.getModel("emphasis");ia(Yr,Kr,"lineStyle"),In(Yr,Jr.get("focus"),Jr.get("blurScope"),Jr.get("disabled"))}function iJ(Yr,Gr){return Gr==="category"?Yr==null:Yr==null||isNaN(Yr)}var $V=eJ;var nJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.visualStyleAccessPath="lineStyle",Wr.visualDrawType="stroke",Wr}return Gr.prototype.getInitialData=function(Wr,Zr){return ja(null,this,{useEncodeDefaulter:Gi(aJ,null,this)})},Gr.prototype.getRawIndicesByActiveState=function(Wr){var Zr=this.coordinateSystem,Kr=this.getData(),Jr=[];return Zr.eachActiveState(Kr,function(Qr,ti){Wr===Qr&&Jr.push(Kr.getRawIndex(ti))}),Jr},Gr.type="series.parallel",Gr.dependencies=["parallel"],Gr.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},Gr}(Pn);function aJ(Yr){var Gr=Yr.ecModel.getComponent("parallel",Yr.get("parallelIndex"));if(Gr){var Wr={};return _i(Gr.dimensions,function(Zr){var Kr=oJ(Zr);Wr[Zr]=Kr}),Wr}}function oJ(Yr){return+Yr.replace("dim","")}var JV=nJ;var sJ=["lineStyle","opacity"],lJ={seriesType:"parallel",reset:function(Yr,Gr){var Wr=Yr.coordinateSystem,Zr={normal:Yr.get(["lineStyle","opacity"]),active:Yr.get("activeOpacity"),inactive:Yr.get("inactiveOpacity")};return{progress:function(Kr,Jr){Wr.eachActiveState(Jr,function(Qr,ti){var ei=Zr[Qr];if(Qr==="normal"&&Jr.hasItemOption){var ri=Jr.getItemModel(ti).get(sJ,!0);ri!=null&&(ei=ri)}var ii=Jr.ensureUniqueItemVisual(ti,"style");ii.opacity=ei},Kr.start,Kr.end)}}}},QV=lJ;function oA(Yr){uJ(Yr),fJ(Yr)}function uJ(Yr){if(!Yr.parallel){var Gr=!1;_i(Yr.series,function(Wr){Wr&&Wr.type==="parallel"&&(Gr=!0)}),Gr&&(Yr.parallel=[{}])}}function fJ(Yr){var Gr=En(Yr.parallelAxis);_i(Gr,function(Wr){if(qi(Wr)){var Zr=Wr.parallelIndex||0,Kr=En(Yr.parallel)[Zr];Kr&&Kr.parallelAxisDefault&&un(Wr,Kr.parallelAxisDefault,!1)}})}var hJ=5,cJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){this._model=Wr,this._api=Kr,this._handlers||(this._handlers={},_i(pJ,function(Jr,Qr){Kr.getZr().on(Qr,this._handlers[Qr]=Gi(Jr,this))},this)),Rs(this,"_throttledDispatchExpand",Wr.get("axisExpandRate"),"fixRate")},Gr.prototype.dispose=function(Wr,Zr){Su(this,"_throttledDispatchExpand"),_i(this._handlers,function(Kr,Jr){Zr.getZr().off(Jr,Kr)}),this._handlers=null},Gr.prototype._throttledDispatchExpand=function(Wr){this._dispatchExpand(Wr)},Gr.prototype._dispatchExpand=function(Wr){Wr&&this._api.dispatchAction(ki({type:"parallelAxisExpand"},Wr))},Gr.type="parallel",Gr}(Dn),pJ={mousedown:function(Yr){sA(this,"click")&&(this._mouseDownPoint=[Yr.offsetX,Yr.offsetY])},mouseup:function(Yr){var Gr=this._mouseDownPoint;if(sA(this,"click")&&Gr){var Wr=[Yr.offsetX,Yr.offsetY],Zr=Math.pow(Gr[0]-Wr[0],2)+Math.pow(Gr[1]-Wr[1],2);if(Zr>hJ)return;var Kr=this._model.coordinateSystem.getSlidedAxisExpandWindow([Yr.offsetX,Yr.offsetY]);Kr.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Kr.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(Yr){if(!(this._mouseDownPoint||!sA(this,"mousemove"))){var Gr=this._model,Wr=Gr.coordinateSystem.getSlidedAxisExpandWindow([Yr.offsetX,Yr.offsetY]),Zr=Wr.behavior;Zr==="jump"&&this._throttledDispatchExpand.debounceNextCall(Gr.get("axisExpandDebounce")),this._throttledDispatchExpand(Zr==="none"?null:{axisExpandWindow:Wr.axisExpandWindow,animation:Zr==="jump"?null:{duration:0}})}}};function sA(Yr,Gr){var Wr=Yr._model;return Wr.get("axisExpandable")&&Wr.get("axisExpandTriggerOn")===Gr}var tB=cJ;var dJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(){Yr.prototype.init.apply(this,arguments),this.mergeOption({})},Gr.prototype.mergeOption=function(Wr){var Zr=this.option;Wr&&un(Zr,Wr,!0),this._initDimensions()},Gr.prototype.contains=function(Wr,Zr){var Kr=Wr.get("parallelIndex");return Kr!=null&&Zr.getComponent("parallel",Kr)===this},Gr.prototype.setAxisExpand=function(Wr){_i(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(Zr){Wr.hasOwnProperty(Zr)&&(this.option[Zr]=Wr[Zr])},this)},Gr.prototype._initDimensions=function(){var Wr=this.dimensions=[],Zr=this.parallelAxisIndex=[],Kr=Tn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(Jr){return(Jr.get("parallelIndex")||0)===this.componentIndex},this);_i(Kr,function(Jr){Wr.push("dim"+Jr.get("dim")),Zr.push(Jr.componentIndex)})},Gr.type="parallel",Gr.dependencies=["parallelAxis"],Gr.layoutMode="box",Gr.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},Gr}(_n),eB=dJ;var vJ=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr,Qr){var ti=Yr.call(this,Wr,Zr,Kr)||this;return ti.type=Jr||"value",ti.axisIndex=Qr,ti}return Gr.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},Gr}(Ka),rB=vJ;function Jo(Yr,Gr,Wr,Zr,Kr,Jr){Yr=Yr||0;var Qr=Wr[1]-Wr[0];if(Kr!=null&&(Kr=Op(Kr,[0,Qr])),Jr!=null&&(Jr=Math.max(Jr,Kr??0)),Zr==="all"){var ti=Math.abs(Gr[1]-Gr[0]);ti=Op(ti,[0,Qr]),Kr=Jr=Op(ti,[Kr,Jr]),Zr=0}Gr[0]=Op(Gr[0],Wr),Gr[1]=Op(Gr[1],Wr);var ei=lA(Gr,Zr);Gr[Zr]+=Yr;var ri=Kr||0,ii=Wr.slice();ei.sign<0?ii[0]+=ri:ii[1]-=ri,Gr[Zr]=Op(Gr[Zr],ii);var ni;return ni=lA(Gr,Zr),Kr!=null&&(ni.sign!==ei.sign||ni.span<Kr)&&(Gr[1-Zr]=Gr[Zr]+ei.sign*Kr),ni=lA(Gr,Zr),Jr!=null&&ni.span>Jr&&(Gr[1-Zr]=Gr[Zr]+ni.sign*Jr),Gr}function lA(Yr,Gr){var Wr=Yr[Gr]-Yr[1-Gr];return{span:Math.abs(Wr),sign:Wr>0?-1:Wr<0?1:Gr?-1:1}}function Op(Yr,Gr){return Math.min(Gr[1]!=null?Gr[1]:1/0,Math.max(Gr[0]!=null?Gr[0]:-1/0,Yr))}var uA=_i,aB=Math.min,oB=Math.max,iB=Math.floor,mJ=Math.ceil,nB=Zn,gJ=Math.PI,yJ=function(){function Yr(Gr,Wr,Zr){this.type="parallel",this._axesMap=Hi(),this._axesLayout={},this.dimensions=Gr.dimensions,this._model=Gr,this._init(Gr,Wr,Zr)}return Yr.prototype._init=function(Gr,Wr,Zr){var Kr=Gr.dimensions,Jr=Gr.parallelAxisIndex;uA(Kr,function(Qr,ti){var ei=Jr[ti],ri=Wr.getComponent("parallelAxis",ei),ii=this._axesMap.set(Qr,new rB(Qr,yf(ri),[0,0],ri.get("type"),ei)),ni=ii.type==="category";ii.onBand=ni&&ri.get("boundaryGap"),ii.inverse=ri.get("inverse"),ri.axis=ii,ii.model=ri,ii.coordinateSystem=ri.coordinateSystem=this},this)},Yr.prototype.update=function(Gr,Wr){this._updateAxesFromSeries(this._model,Gr)},Yr.prototype.containPoint=function(Gr){var Wr=this._makeLayoutInfo(),Zr=Wr.axisBase,Kr=Wr.layoutBase,Jr=Wr.pixelDimIndex,Qr=Gr[1-Jr],ti=Gr[Jr];return Qr>=Zr&&Qr<=Zr+Wr.axisLength&&ti>=Kr&&ti<=Kr+Wr.layoutLength},Yr.prototype.getModel=function(){return this._model},Yr.prototype._updateAxesFromSeries=function(Gr,Wr){Wr.eachSeries(function(Zr){if(Gr.contains(Zr,Wr)){var Kr=Zr.getData();uA(this.dimensions,function(Jr){var Qr=this._axesMap.get(Jr);Qr.scale.unionExtentFromData(Kr,Kr.mapDimension(Jr)),zl(Qr.scale,Qr.model)},this)}},this)},Yr.prototype.resize=function(Gr,Wr){this._rect=Vn(Gr.getBoxLayoutParams(),{width:Wr.getWidth(),height:Wr.getHeight()}),this._layoutAxes()},Yr.prototype.getRect=function(){return this._rect},Yr.prototype._makeLayoutInfo=function(){var Gr=this._model,Wr=this._rect,Zr=["x","y"],Kr=["width","height"],Jr=Gr.get("layout"),Qr=Jr==="horizontal"?0:1,ti=Wr[Kr[Qr]],ei=[0,ti],ri=this.dimensions.length,ii=Wx(Gr.get("axisExpandWidth"),ei),ni=Wx(Gr.get("axisExpandCount")||0,[0,ri]),ai=Gr.get("axisExpandable")&&ri>3&&ri>ni&&ni>1&&ii>0&&ti>0,oi=Gr.get("axisExpandWindow"),si;if(oi)si=Wx(oi[1]-oi[0],ei),oi[1]=oi[0]+si;else{si=Wx(ii*(ni-1),ei);var li=Gr.get("axisExpandCenter")||iB(ri/2);oi=[ii*li-si/2],oi[1]=oi[0]+si}var ui=(ti-si)/(ri-ni);ui<3&&(ui=0);var fi=[iB(nB(oi[0]/ii,1))+1,mJ(nB(oi[1]/ii,1))-1],hi=ui/ii*oi[0];return{layout:Jr,pixelDimIndex:Qr,layoutBase:Wr[Zr[Qr]],layoutLength:ti,axisBase:Wr[Zr[1-Qr]],axisLength:Wr[Kr[1-Qr]],axisExpandable:ai,axisExpandWidth:ii,axisCollapseWidth:ui,axisExpandWindow:oi,axisCount:ri,winInnerIndices:fi,axisExpandWindow0Pos:hi}},Yr.prototype._layoutAxes=function(){var Gr=this._rect,Wr=this._axesMap,Zr=this.dimensions,Kr=this._makeLayoutInfo(),Jr=Kr.layout;Wr.each(function(Qr){var ti=[0,Kr.axisLength],ei=Qr.inverse?1:0;Qr.setExtent(ti[ei],ti[1-ei])}),uA(Zr,function(Qr,ti){var ei=(Kr.axisExpandable?_J:xJ)(ti,Kr),ri={horizontal:{x:ei.position,y:Kr.axisLength},vertical:{x:0,y:ei.position}},ii={horizontal:gJ/2,vertical:0},ni=[ri[Jr].x+Gr.x,ri[Jr].y+Gr.y],ai=ii[Jr],oi=Aa();zo(oi,oi,ai),to(oi,oi,ni),this._axesLayout[Qr]={position:ni,rotation:ai,transform:oi,axisNameAvailableWidth:ei.axisNameAvailableWidth,axisLabelShow:ei.axisLabelShow,nameTruncateMaxWidth:ei.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},Yr.prototype.getAxis=function(Gr){return this._axesMap.get(Gr)},Yr.prototype.dataToPoint=function(Gr,Wr){return this.axisCoordToPoint(this._axesMap.get(Wr).dataToCoord(Gr),Wr)},Yr.prototype.eachActiveState=function(Gr,Wr,Zr,Kr){Zr==null&&(Zr=0),Kr==null&&(Kr=Gr.count());var Jr=this._axesMap,Qr=this.dimensions,ti=[],ei=[];_i(Qr,function(ui){ti.push(Gr.mapDimension(ui)),ei.push(Jr.get(ui).model)});for(var ri=this.hasAxisBrushed(),ii=Zr;ii<Kr;ii++){var ni=void 0;if(!ri)ni="normal";else{ni="active";for(var ai=Gr.getValues(ti,ii),oi=0,si=Qr.length;oi<si;oi++){var li=ei[oi].getActiveState(ai[oi]);if(li==="inactive"){ni="inactive";break}}}Wr(ni,ii)}},Yr.prototype.hasAxisBrushed=function(){for(var Gr=this.dimensions,Wr=this._axesMap,Zr=!1,Kr=0,Jr=Gr.length;Kr<Jr;Kr++)Wr.get(Gr[Kr]).model.getActiveState()!=="normal"&&(Zr=!0);return Zr},Yr.prototype.axisCoordToPoint=function(Gr,Wr){var Zr=this._axesLayout[Wr];return io([Gr,0],Zr.transform)},Yr.prototype.getAxisLayout=function(Gr){return Ki(this._axesLayout[Gr])},Yr.prototype.getSlidedAxisExpandWindow=function(Gr){var Wr=this._makeLayoutInfo(),Zr=Wr.pixelDimIndex,Kr=Wr.axisExpandWindow.slice(),Jr=Kr[1]-Kr[0],Qr=[0,Wr.axisExpandWidth*(Wr.axisCount-1)];if(!this.containPoint(Gr))return{behavior:"none",axisExpandWindow:Kr};var ti=Gr[Zr]-Wr.layoutBase-Wr.axisExpandWindow0Pos,ei,ri="slide",ii=Wr.axisCollapseWidth,ni=this._model.get("axisExpandSlideTriggerArea"),ai=ni[0]!=null;if(ii)ai&&ii&&ti<Jr*ni[0]?(ri="jump",ei=ti-Jr*ni[2]):ai&&ii&&ti>Jr*(1-ni[0])?(ri="jump",ei=ti-Jr*(1-ni[2])):(ei=ti-Jr*ni[1])>=0&&(ei=ti-Jr*(1-ni[1]))<=0&&(ei=0),ei*=Wr.axisExpandWidth/ii,ei?Jo(ei,Kr,Qr,"all"):ri="none";else{var oi=Kr[1]-Kr[0],si=Qr[1]*ti/oi;Kr=[oB(0,si-oi/2)],Kr[1]=aB(Qr[1],Kr[0]+oi),Kr[0]=Kr[1]-oi}return{axisExpandWindow:Kr,behavior:ri}},Yr}();function Wx(Yr,Gr){return aB(oB(Yr,Gr[0]),Gr[1])}function xJ(Yr,Gr){var Wr=Gr.layoutLength/(Gr.axisCount-1);return{position:Wr*Yr,axisNameAvailableWidth:Wr,axisLabelShow:!0}}function _J(Yr,Gr){var Wr=Gr.layoutLength,Zr=Gr.axisExpandWidth,Kr=Gr.axisCount,Jr=Gr.axisCollapseWidth,Qr=Gr.winInnerIndices,ti,ei=Jr,ri=!1,ii;return Yr<Qr[0]?(ti=Yr*Jr,ii=Jr):Yr<=Qr[1]?(ti=Gr.axisExpandWindow0Pos+Yr*Zr-Gr.axisExpandWindow[0],ei=Zr,ri=!0):(ti=Wr-(Kr-1-Yr)*Jr,ii=Jr),{position:ti,axisNameAvailableWidth:ei,axisLabelShow:ri,nameTruncateMaxWidth:ii}}var sB=yJ;function bJ(Yr,Gr){var Wr=[];return Yr.eachComponent("parallel",function(Zr,Kr){var Jr=new sB(Zr,Yr,Gr);Jr.name="parallel_"+Kr,Jr.resize(Zr,Gr),Zr.coordinateSystem=Jr,Jr.model=Zr,Wr.push(Jr)}),Yr.eachSeries(function(Zr){if(Zr.get("coordinateSystem")==="parallel"){var Kr=Zr.getReferringComponents("parallel",Yn).models[0];Zr.coordinateSystem=Kr.coordinateSystem}}),Wr}var SJ={create:bJ},lB=SJ;var uB=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.activeIntervals=[],Wr}return Gr.prototype.getAreaSelectStyle=function(){return Uo([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},Gr.prototype.setActiveIntervals=function(Wr){var Zr=this.activeIntervals=Ki(Wr);if(Zr)for(var Kr=Zr.length-1;Kr>=0;Kr--)Oa(Zr[Kr])},Gr.prototype.getActiveState=function(Wr){var Zr=this.activeIntervals;if(!Zr.length)return"normal";if(Wr==null||isNaN(+Wr))return"inactive";if(Zr.length===1){var Kr=Zr[0];if(Kr[0]<=Wr&&Wr<=Kr[1])return"active"}else for(var Jr=0,Qr=Zr.length;Jr<Qr;Jr++)if(Zr[Jr][0]<=Wr&&Wr<=Zr[Jr][1])return"active";return"inactive"},Gr}(_n);Gn(uB,Nl);var fA=uB;var oc=!0,vm=Math.min,zp=Math.max,wJ=Math.pow,CJ=1e4,TJ=6,AJ=6,fB="globalPan",MJ={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},PJ={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},hB={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},EJ=0,DJ=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this)||this;return Zr._track=[],Zr._covers=[],Zr._handlers={},Zr._zr=Wr,Zr.group=new Zi,Zr._uid="brushController_"+EJ++,_i(NJ,function(Kr,Jr){this._handlers[Jr]=Gi(Kr,this)},Zr),Zr}return Gr.prototype.enableBrush=function(Wr){return this._brushType&&this._doDisableBrush(),Wr.brushType&&this._doEnableBrush(Wr),this},Gr.prototype._doEnableBrush=function(Wr){var Zr=this._zr;this._enableGlobalPan||tF(Zr,fB,this._uid),_i(this._handlers,function(Kr,Jr){Zr.on(Jr,Kr)}),this._brushType=Wr.brushType,this._brushOption=un(Ki(hB),Wr,!0)},Gr.prototype._doDisableBrush=function(){var Wr=this._zr;eF(Wr,fB,this._uid),_i(this._handlers,function(Zr,Kr){Wr.off(Kr,Zr)}),this._brushType=this._brushOption=null},Gr.prototype.setPanels=function(Wr){if(Wr&&Wr.length){var Zr=this._panels={};_i(Wr,function(Kr){Zr[Kr.panelId]=Ki(Kr)})}else this._panels=null;return this},Gr.prototype.mount=function(Wr){Wr=Wr||{},this._enableGlobalPan=Wr.enableGlobalPan;var Zr=this.group;return this._zr.add(Zr),Zr.attr({x:Wr.x||0,y:Wr.y||0,rotation:Wr.rotation||0,scaleX:Wr.scaleX||1,scaleY:Wr.scaleY||1}),this._transform=Zr.getLocalTransform(),this},Gr.prototype.updateCovers=function(Wr){Wr=Oi(Wr,function(ai){return un(Ki(hB),ai,!0)});var Zr="\0-brush-index-",Kr=this._covers,Jr=this._covers=[],Qr=this,ti=this._creatingCover;return new oo(Kr,Wr,ri,ei).add(ii).update(ii).remove(ni).execute(),this;function ei(ai,oi){return(ai.id!=null?ai.id:Zr+oi)+"-"+ai.brushType}function ri(ai,oi){return ei(ai.__brushOption,oi)}function ii(ai,oi){var si=Wr[ai];if(oi!=null&&Kr[oi]===ti)Jr[ai]=Kr[oi];else{var li=Jr[ai]=oi!=null?(Kr[oi].__brushOption=si,Kr[oi]):gB(Qr,mB(Qr,si));mA(Qr,li)}}function ni(ai){Kr[ai]!==ti&&Qr.group.remove(Kr[ai])}},Gr.prototype.unmount=function(){return this.enableBrush(!1),hA(this),this._zr.remove(this.group),this},Gr.prototype.dispose=function(){this.unmount(),this.off()},Gr}(Ia);function mB(Yr,Gr){var Wr=Yx[Gr.brushType].createCover(Yr,Gr);return Wr.__brushOption=Gr,xB(Wr,Gr),Yr.group.add(Wr),Wr}function gB(Yr,Gr){var Wr=gA(Gr);return Wr.endCreating&&(Wr.endCreating(Yr,Gr),xB(Gr,Gr.__brushOption)),Gr}function yB(Yr,Gr){var Wr=Gr.__brushOption;gA(Gr).updateCoverShape(Yr,Gr,Wr.range,Wr)}function xB(Yr,Gr){var Wr=Gr.z;Wr==null&&(Wr=CJ),Yr.traverse(function(Zr){Zr.z=Wr,Zr.z2=Wr})}function mA(Yr,Gr){gA(Gr).updateCommon(Yr,Gr),yB(Yr,Gr)}function gA(Yr){return Yx[Yr.__brushOption.brushType]}function yA(Yr,Gr,Wr){var Zr=Yr._panels;if(!Zr)return oc;var Kr,Jr=Yr._transform;return _i(Zr,function(Qr){Qr.isTargetByCursor(Gr,Wr,Jr)&&(Kr=Qr)}),Kr}function _B(Yr,Gr){var Wr=Yr._panels;if(!Wr)return oc;var Zr=Gr.__brushOption.panelId;return Zr!=null?Wr[Zr]:oc}function hA(Yr){var Gr=Yr._covers,Wr=Gr.length;return _i(Gr,function(Zr){Yr.group.remove(Zr)},Yr),Gr.length=0,!!Wr}function sc(Yr,Gr){var Wr=Oi(Yr._covers,function(Zr){var Kr=Zr.__brushOption,Jr=Ki(Kr.range);return{brushType:Kr.brushType,panelId:Kr.panelId,range:Jr}});Yr.trigger("brush",{areas:Wr,isEnd:!!Gr.isEnd,removeOnClick:!!Gr.removeOnClick})}function IJ(Yr){var Gr=Yr._track;if(!Gr.length)return!1;var Wr=Gr[Gr.length-1],Zr=Gr[0],Kr=Wr[0]-Zr[0],Jr=Wr[1]-Zr[1],Qr=wJ(Kr*Kr+Jr*Jr,.5);return Qr>TJ}function bB(Yr){var Gr=Yr.length-1;return Gr<0&&(Gr=0),[Yr[0],Yr[Gr]]}function SB(Yr,Gr,Wr,Zr){var Kr=new Zi;return Kr.add(new mn({name:"main",style:xA(Wr),silent:!0,draggable:!0,cursor:"move",drift:en(cB,Yr,Gr,Kr,["n","s","w","e"]),ondragend:en(sc,Gr,{isEnd:!0})})),_i(Zr,function(Jr){Kr.add(new mn({name:Jr.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:en(cB,Yr,Gr,Kr,Jr),ondragend:en(sc,Gr,{isEnd:!0})}))}),Kr}function wB(Yr,Gr,Wr,Zr){var Kr=Zr.brushStyle.lineWidth||0,Jr=zp(Kr,AJ),Qr=Wr[0][0],ti=Wr[1][0],ei=Qr-Kr/2,ri=ti-Kr/2,ii=Wr[0][1],ni=Wr[1][1],ai=ii-Jr+Kr/2,oi=ni-Jr+Kr/2,si=ii-Qr,li=ni-ti,ui=si+Kr,fi=li+Kr;Mu(Yr,Gr,"main",Qr,ti,si,li),Zr.transformable&&(Mu(Yr,Gr,"w",ei,ri,Jr,fi),Mu(Yr,Gr,"e",ai,ri,Jr,fi),Mu(Yr,Gr,"n",ei,ri,ui,Jr),Mu(Yr,Gr,"s",ei,oi,ui,Jr),Mu(Yr,Gr,"nw",ei,ri,Jr,Jr),Mu(Yr,Gr,"ne",ai,ri,Jr,Jr),Mu(Yr,Gr,"sw",ei,oi,Jr,Jr),Mu(Yr,Gr,"se",ai,oi,Jr,Jr))}function cA(Yr,Gr){var Wr=Gr.__brushOption,Zr=Wr.transformable,Kr=Gr.childAt(0);Kr.useStyle(xA(Wr)),Kr.attr({silent:!Zr,cursor:Zr?"move":"default"}),_i([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(Jr){var Qr=Gr.childOfName(Jr.join("")),ti=Jr.length===1?pA(Yr,Jr[0]):kJ(Yr,Jr);Qr&&Qr.attr({silent:!Zr,invisible:!Zr,cursor:Zr?PJ[ti]+"-resize":null})})}function Mu(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Gr.childOfName(Wr);ti&&ti.setShape(OJ(_A(Yr,Gr,[[Zr,Kr],[Zr+Jr,Kr+Qr]])))}function xA(Yr){return Yi({strokeNoScale:!0},Yr.brushStyle)}function CB(Yr,Gr,Wr,Zr){var Kr=[vm(Yr,Wr),vm(Gr,Zr)],Jr=[zp(Yr,Wr),zp(Gr,Zr)];return[[Kr[0],Jr[0]],[Kr[1],Jr[1]]]}function LJ(Yr){return el(Yr.group)}function pA(Yr,Gr){var Wr={w:"left",e:"right",n:"top",s:"bottom"},Zr={left:"w",right:"e",top:"n",bottom:"s"},Kr=kh(Wr[Gr],LJ(Yr));return Zr[Kr]}function kJ(Yr,Gr){var Wr=[pA(Yr,Gr[0]),pA(Yr,Gr[1])];return(Wr[0]==="e"||Wr[0]==="w")&&Wr.reverse(),Wr.join("")}function cB(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Wr.__brushOption,ti=Yr.toRectRange(Qr.range),ei=TB(Gr,Kr,Jr);_i(Zr,function(ri){var ii=MJ[ri];ti[ii[0]][ii[1]]+=ei[ii[0]]}),Qr.range=Yr.fromRectRange(CB(ti[0][0],ti[1][0],ti[0][1],ti[1][1])),mA(Gr,Wr),sc(Gr,{isEnd:!1})}function RJ(Yr,Gr,Wr,Zr){var Kr=Gr.__brushOption.range,Jr=TB(Yr,Wr,Zr);_i(Kr,function(Qr){Qr[0]+=Jr[0],Qr[1]+=Jr[1]}),mA(Yr,Gr),sc(Yr,{isEnd:!1})}function TB(Yr,Gr,Wr){var Zr=Yr.group,Kr=Zr.transformCoordToLocal(Gr,Wr),Jr=Zr.transformCoordToLocal(0,0);return[Kr[0]-Jr[0],Kr[1]-Jr[1]]}function _A(Yr,Gr,Wr){var Zr=_B(Yr,Gr);return Zr&&Zr!==oc?Zr.clipPath(Wr,Yr._transform):Ki(Wr)}function OJ(Yr){var Gr=vm(Yr[0][0],Yr[1][0]),Wr=vm(Yr[0][1],Yr[1][1]),Zr=zp(Yr[0][0],Yr[1][0]),Kr=zp(Yr[0][1],Yr[1][1]);return{x:Gr,y:Wr,width:Zr-Gr,height:Kr-Wr}}function zJ(Yr,Gr,Wr){if(!(!Yr._brushType||FJ(Yr,Gr.offsetX,Gr.offsetY))){var Zr=Yr._zr,Kr=Yr._covers,Jr=yA(Yr,Gr,Wr);if(!Yr._dragging)for(var Qr=0;Qr<Kr.length;Qr++){var ti=Kr[Qr].__brushOption;if(Jr&&(Jr===oc||ti.panelId===Jr.panelId)&&Yx[ti.brushType].contain(Kr[Qr],Wr[0],Wr[1]))return}Jr&&Zr.setCursorStyle("crosshair")}}function dA(Yr){var Gr=Yr.event;Gr.preventDefault&&Gr.preventDefault()}function vA(Yr,Gr,Wr){return Yr.childOfName("main").contain(Gr,Wr)}function AB(Yr,Gr,Wr,Zr){var Kr=Yr._creatingCover,Jr=Yr._creatingPanel,Qr=Yr._brushOption,ti;if(Yr._track.push(Wr.slice()),IJ(Yr)||Kr){if(Jr&&!Kr){Qr.brushMode==="single"&&hA(Yr);var ei=Ki(Qr);ei.brushType=pB(ei.brushType,Jr),ei.panelId=Jr===oc?null:Jr.panelId,Kr=Yr._creatingCover=mB(Yr,ei),Yr._covers.push(Kr)}if(Kr){var ri=Yx[pB(Yr._brushType,Jr)],ii=Kr.__brushOption;ii.range=ri.getCreatingRange(_A(Yr,Kr,Yr._track)),Zr&&(gB(Yr,Kr),ri.updateCommon(Yr,Kr)),yB(Yr,Kr),ti={isEnd:Zr}}}else Zr&&Qr.brushMode==="single"&&Qr.removeOnClick&&yA(Yr,Gr,Wr)&&hA(Yr)&&(ti={isEnd:Zr,removeOnClick:!0});return ti}function pB(Yr,Gr){return Yr==="auto"?Gr.defaultBrushType:Yr}var NJ={mousedown:function(Yr){if(this._dragging)dB(this,Yr);else if(!Yr.target||!Yr.target.draggable){dA(Yr);var Gr=this.group.transformCoordToLocal(Yr.offsetX,Yr.offsetY);this._creatingCover=null;var Wr=this._creatingPanel=yA(this,Yr,Gr);Wr&&(this._dragging=!0,this._track=[Gr.slice()])}},mousemove:function(Yr){var Gr=Yr.offsetX,Wr=Yr.offsetY,Zr=this.group.transformCoordToLocal(Gr,Wr);if(zJ(this,Yr,Zr),this._dragging){dA(Yr);var Kr=AB(this,Yr,Zr,!1);Kr&&sc(this,Kr)}},mouseup:function(Yr){dB(this,Yr)}};function dB(Yr,Gr){if(Yr._dragging){dA(Gr);var Wr=Gr.offsetX,Zr=Gr.offsetY,Kr=Yr.group.transformCoordToLocal(Wr,Zr),Jr=AB(Yr,Gr,Kr,!0);Yr._dragging=!1,Yr._track=[],Yr._creatingCover=null,Jr&&sc(Yr,Jr)}}function FJ(Yr,Gr,Wr){var Zr=Yr._zr;return Gr<0||Gr>Zr.getWidth()||Wr<0||Wr>Zr.getHeight()}var Yx={lineX:vB(0),lineY:vB(1),rect:{createCover:function(Yr,Gr){function Wr(Zr){return Zr}return SB({toRectRange:Wr,fromRectRange:Wr},Yr,Gr,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(Yr){var Gr=bB(Yr);return CB(Gr[1][0],Gr[1][1],Gr[0][0],Gr[0][1])},updateCoverShape:function(Yr,Gr,Wr,Zr){wB(Yr,Gr,Wr,Zr)},updateCommon:cA,contain:vA},polygon:{createCover:function(Yr,Gr){var Wr=new Zi;return Wr.add(new la({name:"main",style:xA(Gr),silent:!0})),Wr},getCreatingRange:function(Yr){return Yr},endCreating:function(Yr,Gr){Gr.remove(Gr.childAt(0)),Gr.add(new fa({name:"main",draggable:!0,drift:en(RJ,Yr,Gr),ondragend:en(sc,Yr,{isEnd:!0})}))},updateCoverShape:function(Yr,Gr,Wr,Zr){Gr.childAt(0).setShape({points:_A(Yr,Gr,Wr)})},updateCommon:cA,contain:vA}};function vB(Yr){return{createCover:function(Gr,Wr){return SB({toRectRange:function(Zr){var Kr=[Zr,[0,100]];return Yr&&Kr.reverse(),Kr},fromRectRange:function(Zr){return Zr[Yr]}},Gr,Wr,[[["w"],["e"]],[["n"],["s"]]][Yr])},getCreatingRange:function(Gr){var Wr=bB(Gr),Zr=vm(Wr[0][Yr],Wr[1][Yr]),Kr=zp(Wr[0][Yr],Wr[1][Yr]);return[Zr,Kr]},updateCoverShape:function(Gr,Wr,Zr,Kr){var Jr,Qr=_B(Gr,Wr);if(Qr!==oc&&Qr.getLinearBrushOtherExtent)Jr=Qr.getLinearBrushOtherExtent(Yr);else{var ti=Gr._zr;Jr=[0,[ti.getWidth(),ti.getHeight()][1-Yr]]}var ei=[Zr,Jr];Yr&&ei.reverse(),wB(Gr,Wr,ei,Kr)},updateCommon:cA,contain:vA}}var Np=DJ;function Xx(Yr){return Yr=bA(Yr),function(Gr){return f1(Gr,Yr)}}function qx(Yr,Gr){return Yr=bA(Yr),function(Wr){var Zr=Gr??Wr,Kr=Zr?Yr.width:Yr.height,Jr=Zr?Yr.x:Yr.y;return[Jr,Jr+(Kr||0)]}}function Zx(Yr,Gr,Wr){var Zr=bA(Yr);return function(Kr,Jr){return Zr.contain(Jr[0],Jr[1])&&!Cf(Kr,Gr,Wr)}}function bA(Yr){return rn.create(Yr)}var VJ=["axisLine","axisTickLabel","axisName"],BJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr){Yr.prototype.init.apply(this,arguments),(this._brushController=new Np(Zr.getZr())).on("brush",Gi(this._onBrush,this))},Gr.prototype.render=function(Wr,Zr,Kr,Jr){if(!UJ(Wr,Zr,Jr)){this.axisModel=Wr,this.api=Kr,this.group.removeAll();var Qr=this._axisGroup;if(this._axisGroup=new Zi,this.group.add(this._axisGroup),!!Wr.get("show")){var ti=HJ(Wr,Zr),ei=ti.coordinateSystem,ri=Wr.getAreaSelectStyle(),ii=ri.width,ni=Wr.axis.dim,ai=ei.getAxisLayout(ni),oi=ki({strokeContainThreshold:ii},ai),si=new so(Wr,oi);_i(VJ,si.add,si),this._axisGroup.add(si.getGroup()),this._refreshBrushController(oi,ri,Wr,ti,ii,Kr),du(Qr,this._axisGroup,Wr)}}},Gr.prototype._refreshBrushController=function(Wr,Zr,Kr,Jr,Qr,ti){var ei=Kr.axis.getExtent(),ri=ei[1]-ei[0],ii=Math.min(30,Math.abs(ri)*.1),ni=rn.create({x:ei[0],y:-Qr/2,width:ri,height:Qr});ni.x-=ii,ni.width+=2*ii,this._brushController.mount({enableGlobalPan:!0,rotation:Wr.rotation,x:Wr.position[0],y:Wr.position[1]}).setPanels([{panelId:"pl",clipPath:Xx(ni),isTargetByCursor:Zx(ni,ti,Jr),getLinearBrushOtherExtent:qx(ni,0)}]).enableBrush({brushType:"lineX",brushStyle:Zr,removeOnClick:!0}).updateCovers(GJ(Kr))},Gr.prototype._onBrush=function(Wr){var Zr=Wr.areas,Kr=this.axisModel,Jr=Kr.axis,Qr=Oi(Zr,function(ti){return[Jr.coordToData(ti.range[0],!0),Jr.coordToData(ti.range[1],!0)]});(!Kr.option.realtime===Wr.isEnd||Wr.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:Kr.id,intervals:Qr})},Gr.prototype.dispose=function(){this._brushController.dispose()},Gr.type="parallelAxis",Gr}(Dn);function UJ(Yr,Gr,Wr){return Wr&&Wr.type==="axisAreaSelect"&&Gr.findComponents({mainType:"parallelAxis",query:Wr})[0]===Yr}function GJ(Yr){var Gr=Yr.axis;return Oi(Yr.activeIntervals,function(Wr){return{brushType:"lineX",panelId:"pl",range:[Gr.dataToCoord(Wr[0],!0),Gr.dataToCoord(Wr[1],!0)]}})}function HJ(Yr,Gr){return Gr.getComponent("parallel",Yr.get("parallelIndex"))}var PB=BJ;var WJ={type:"axisAreaSelect",event:"axisAreaSelected"};function EB(Yr){Yr.registerAction(WJ,function(Gr,Wr){Wr.eachComponent({mainType:"parallelAxis",query:Gr},function(Zr){Zr.axis.model.setActiveIntervals(Gr.intervals)})}),Yr.registerAction("parallelAxisExpand",function(Gr,Wr){Wr.eachComponent({mainType:"parallel",query:Gr},function(Zr){Zr.setAxisExpand(Gr)})})}var YJ={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function mm(Yr){Yr.registerComponentView(tB),Yr.registerComponentModel(eB),Yr.registerCoordinateSystem("parallel",lB),Yr.registerPreprocessor(oA),Yr.registerComponentModel(fA),Yr.registerComponentView(PB),yl(Yr,"parallel",fA,YJ),EB(Yr)}function SA(Yr){Sn(mm),Yr.registerChartView($V),Yr.registerSeriesModel(JV),Yr.registerVisual(Yr.PRIORITY.VISUAL.BRUSH,QV)}var XJ=function(){function Yr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return Yr}(),qJ=function(Yr){Di(Gr,Yr);function Gr(Wr){return Yr.call(this,Wr)||this}return Gr.prototype.getDefaultShape=function(){return new XJ},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.extent;Wr.moveTo(Zr.x1,Zr.y1),Wr.bezierCurveTo(Zr.cpx1,Zr.cpy1,Zr.cpx2,Zr.cpy2,Zr.x2,Zr.y2),Zr.orient==="vertical"?(Wr.lineTo(Zr.x2+Kr,Zr.y2),Wr.bezierCurveTo(Zr.cpx2+Kr,Zr.cpy2,Zr.cpx1+Kr,Zr.cpy1,Zr.x1+Kr,Zr.y1)):(Wr.lineTo(Zr.x2,Zr.y2+Kr),Wr.bezierCurveTo(Zr.cpx2,Zr.cpy2+Kr,Zr.cpx1,Zr.cpy1+Kr,Zr.x1,Zr.y1+Kr)),Wr.closePath()},Gr.prototype.highlight=function(){ho(this)},Gr.prototype.downplay=function(){co(this)},Gr}(an),ZJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._focusAdjacencyDisabled=!1,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this,Qr=Wr.getGraph(),ti=this.group,ei=Wr.layoutInfo,ri=ei.width,ii=ei.height,ni=Wr.getData(),ai=Wr.getData("edge"),oi=Wr.get("orient");this._model=Wr,ti.removeAll(),ti.x=ei.x,ti.y=ei.y,Qr.eachEdge(function(si){var li=new qJ,ui=Qi(li);ui.dataIndex=si.dataIndex,ui.seriesIndex=Wr.seriesIndex,ui.dataType="edge";var fi=si.getModel(),hi=fi.getModel("lineStyle"),ci=hi.get("curveness"),pi=si.node1.getLayout(),di=si.node1.getModel(),vi=di.get("localX"),mi=di.get("localY"),gi=si.node2.getLayout(),yi=si.node2.getModel(),Si=yi.get("localX"),bi=yi.get("localY"),Ti=si.getLayout(),Ai,Ei,Mi,wi,Pi,xi,Ci,Li;li.shape.extent=Math.max(1,Ti.dy),li.shape.orient=oi,oi==="vertical"?(Ai=(vi!=null?vi*ri:pi.x)+Ti.sy,Ei=(mi!=null?mi*ii:pi.y)+pi.dy,Mi=(Si!=null?Si*ri:gi.x)+Ti.ty,wi=bi!=null?bi*ii:gi.y,Pi=Ai,xi=Ei*(1-ci)+wi*ci,Ci=Mi,Li=Ei*ci+wi*(1-ci)):(Ai=(vi!=null?vi*ri:pi.x)+pi.dx,Ei=(mi!=null?mi*ii:pi.y)+Ti.sy,Mi=Si!=null?Si*ri:gi.x,wi=(bi!=null?bi*ii:gi.y)+Ti.ty,Pi=Ai*(1-ci)+Mi*ci,xi=Ei,Ci=Ai*ci+Mi*(1-ci),Li=wi),li.setShape({x1:Ai,y1:Ei,x2:Mi,y2:wi,cpx1:Pi,cpy1:xi,cpx2:Ci,cpy2:Li}),li.useStyle(hi.getItemStyle()),DB(li.style,oi,si);var Ii=""+fi.get("value"),zi=Hn(fi,"edgeLabel");jn(li,zi,{labelFetcher:{getFormattedLabel:function(ji,tn,hn,nn,dn,cn){return Wr.getFormattedLabel(ji,tn,"edge",nn,Fa(dn,zi.normal&&zi.normal.get("formatter"),Ii),cn)}},labelDataIndex:si.dataIndex,defaultText:Ii}),li.setTextConfig({position:"inside"});var Bi=fi.getModel("emphasis");ia(li,fi,"lineStyle",function(ji){var tn=ji.getItemStyle();return DB(tn,oi,si),tn}),ti.add(li),ai.setItemGraphicEl(si.dataIndex,li);var Vi=Bi.get("focus");In(li,Vi==="adjacency"?si.getAdjacentDataIndices():Vi==="trajectory"?si.getTrajectoryDataIndices():Vi,Bi.get("blurScope"),Bi.get("disabled"))}),Qr.eachNode(function(si){var li=si.getLayout(),ui=si.getModel(),fi=ui.get("localX"),hi=ui.get("localY"),ci=ui.getModel("emphasis"),pi=new mn({shape:{x:fi!=null?fi*ri:li.x,y:hi!=null?hi*ii:li.y,width:li.dx,height:li.dy},style:ui.getModel("itemStyle").getItemStyle(),z2:10});jn(pi,Hn(ui),{labelFetcher:{getFormattedLabel:function(vi,mi){return Wr.getFormattedLabel(vi,mi,"node")}},labelDataIndex:si.dataIndex,defaultText:si.id}),pi.disableLabelAnimation=!0,pi.setStyle("fill",si.getVisual("color")),pi.setStyle("decal",si.getVisual("style").decal),ia(pi,ui),ti.add(pi),ni.setItemGraphicEl(si.dataIndex,pi),Qi(pi).dataType="node";var di=ci.get("focus");In(pi,di==="adjacency"?si.getAdjacentDataIndices():di==="trajectory"?si.getTrajectoryDataIndices():di,ci.get("blurScope"),ci.get("disabled"))}),ni.eachItemGraphicEl(function(si,li){var ui=ni.getItemModel(li);ui.get("draggable")&&(si.drift=function(fi,hi){Jr._focusAdjacencyDisabled=!0,this.shape.x+=fi,this.shape.y+=hi,this.dirty(),Kr.dispatchAction({type:"dragNode",seriesId:Wr.id,dataIndex:ni.getRawIndex(li),localX:this.shape.x/ri,localY:this.shape.y/ii})},si.ondragend=function(){Jr._focusAdjacencyDisabled=!1},si.draggable=!0,si.cursor="move")}),!this._data&&Wr.isAnimationEnabled()&&ti.setClipPath(jJ(ti.getBoundingRect(),Wr,function(){ti.removeClipPath()})),this._data=Wr.getData()},Gr.prototype.dispose=function(){},Gr.type="sankey",Gr}(An);function DB(Yr,Gr,Wr){switch(Yr.fill){case"source":Yr.fill=Wr.node1.getVisual("color"),Yr.decal=Wr.node1.getVisual("style").decal;break;case"target":Yr.fill=Wr.node2.getVisual("color"),Yr.decal=Wr.node2.getVisual("style").decal;break;case"gradient":var Zr=Wr.node1.getVisual("color"),Kr=Wr.node2.getVisual("color");Ni(Zr)&&Ni(Kr)&&(Yr.fill=new kl(0,0,+(Gr==="horizontal"),+(Gr==="vertical"),[{color:Zr,offset:0},{color:Kr,offset:1}]))}}function jJ(Yr,Gr,Wr){var Zr=new mn({shape:{x:Yr.x-10,y:Yr.y-10,width:0,height:Yr.height+20}});return Ln(Zr,{shape:{width:Yr.width+20}},Gr,Wr),Zr}var IB=ZJ;var KJ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){var Kr=Wr.edges||Wr.links,Jr=Wr.data||Wr.nodes,Qr=Wr.levels;this.levelModels=[];for(var ti=this.levelModels,ei=0;ei<Qr.length;ei++)Qr[ei].depth!=null&&Qr[ei].depth>=0&&(ti[Qr[ei].depth]=new Mn(Qr[ei],this,Zr));if(Jr&&Kr){var ri=dm(Jr,Kr,this,!0,ii);return ri.data}function ii(ni,ai){ni.wrapMethod("getItemModel",function(oi,si){var li=oi.parentModel,ui=li.getData().getItemLayout(si);if(ui){var fi=ui.depth,hi=li.levelModels[fi];hi&&(oi.parentModel=hi)}return oi}),ai.wrapMethod("getItemModel",function(oi,si){var li=oi.parentModel,ui=li.getGraph().getEdgeByIndex(si),fi=ui.node1.getLayout();if(fi){var hi=fi.depth,ci=li.levelModels[hi];ci&&(oi.parentModel=ci)}return oi})}},Gr.prototype.setNodePosition=function(Wr,Zr){var Kr=this.option.data||this.option.nodes,Jr=Kr[Wr];Jr.localX=Zr[0],Jr.localY=Zr[1]},Gr.prototype.getGraph=function(){return this.getData().graph},Gr.prototype.getEdgeData=function(){return this.getGraph().edgeData},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){function Jr(oi){return isNaN(oi)||oi==null}if(Kr==="edge"){var Qr=this.getDataParams(Wr,Kr),ti=Qr.data,ei=Qr.value,ri=ti.source+" -- "+ti.target;return Jn("nameValue",{name:ri,value:ei,noValue:Jr(ei)})}else{var ii=this.getGraph().getNodeByIndex(Wr),ni=ii.getLayout().value,ai=this.getDataParams(Wr,Kr).data.name;return Jn("nameValue",{name:ai!=null?ai+"":null,value:ni,noValue:Jr(ni)})}},Gr.prototype.optionUpdated=function(){},Gr.prototype.getDataParams=function(Wr,Zr){var Kr=Yr.prototype.getDataParams.call(this,Wr,Zr);if(Kr.value==null&&Zr==="node"){var Jr=this.getGraph().getNodeByIndex(Wr),Qr=Jr.getLayout().value;Kr.value=Qr}return Kr},Gr.type="series.sankey",Gr.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},Gr}(Pn),LB=KJ;function CA(Yr,Gr){Yr.eachSeriesByType("sankey",function(Wr){var Zr=Wr.get("nodeWidth"),Kr=Wr.get("nodeGap"),Jr=$J(Wr,Gr);Wr.layoutInfo=Jr;var Qr=Jr.width,ti=Jr.height,ei=Wr.getGraph(),ri=ei.nodes,ii=ei.edges;QJ(ri);var ni=Tn(ri,function(li){return li.getLayout().value===0}),ai=ni.length!==0?0:Wr.get("layoutIterations"),oi=Wr.get("orient"),si=Wr.get("nodeAlign");JJ(ri,ii,Zr,Kr,Qr,ti,ai,oi,si)})}function $J(Yr,Gr){return Vn(Yr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function JJ(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei){tQ(Yr,Gr,Wr,Kr,Jr,ti,ei),nQ(Yr,Gr,Jr,Kr,Zr,Qr,ti),pQ(Yr,ti)}function QJ(Yr){_i(Yr,function(Gr){var Wr=Mf(Gr.outEdges,jx),Zr=Mf(Gr.inEdges,jx),Kr=Gr.getValue()||0,Jr=Math.max(Wr,Zr,Kr);Gr.setLayout({value:Jr},!0)})}function tQ(Yr,Gr,Wr,Zr,Kr,Jr,Qr){for(var ti=[],ei=[],ri=[],ii=[],ni=0,ai=0;ai<Gr.length;ai++)ti[ai]=1;for(var ai=0;ai<Yr.length;ai++)ei[ai]=Yr[ai].inEdges.length,ei[ai]===0&&ri.push(Yr[ai]);for(var oi=-1;ri.length;){for(var si=0;si<ri.length;si++){var li=ri[si],ui=li.hostGraph.data.getRawDataItem(li.dataIndex),fi=ui.depth!=null&&ui.depth>=0;fi&&ui.depth>oi&&(oi=ui.depth),li.setLayout({depth:fi?ui.depth:ni},!0),Jr==="vertical"?li.setLayout({dy:Wr},!0):li.setLayout({dx:Wr},!0);for(var hi=0;hi<li.outEdges.length;hi++){var ci=li.outEdges[hi],pi=Gr.indexOf(ci);ti[pi]=0;var di=ci.node2,vi=Yr.indexOf(di);--ei[vi]===0&&ii.indexOf(di)<0&&ii.push(di)}}++ni,ri=ii,ii=[]}for(var ai=0;ai<ti.length;ai++)if(ti[ai]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var mi=oi>ni-1?oi:ni-1;Qr&&Qr!=="left"&&eQ(Yr,Qr,Jr,mi);var gi=Jr==="vertical"?(Kr-Wr)/mi:(Zr-Wr)/mi;iQ(Yr,gi,Jr)}function kB(Yr){var Gr=Yr.hostGraph.data.getRawDataItem(Yr.dataIndex);return Gr.depth!=null&&Gr.depth>=0}function eQ(Yr,Gr,Wr,Zr){if(Gr==="right"){for(var Kr=[],Jr=Yr,Qr=0;Jr.length;){for(var ti=0;ti<Jr.length;ti++){var ei=Jr[ti];ei.setLayout({skNodeHeight:Qr},!0);for(var ri=0;ri<ei.inEdges.length;ri++){var ii=ei.inEdges[ri];Kr.indexOf(ii.node1)<0&&Kr.push(ii.node1)}}Jr=Kr,Kr=[],++Qr}_i(Yr,function(ni){kB(ni)||ni.setLayout({depth:Math.max(0,Zr-ni.getLayout().skNodeHeight)},!0)})}else Gr==="justify"&&rQ(Yr,Zr)}function rQ(Yr,Gr){_i(Yr,function(Wr){!kB(Wr)&&!Wr.outEdges.length&&Wr.setLayout({depth:Gr},!0)})}function iQ(Yr,Gr,Wr){_i(Yr,function(Zr){var Kr=Zr.getLayout().depth*Gr;Wr==="vertical"?Zr.setLayout({y:Kr},!0):Zr.setLayout({x:Kr},!0)})}function nQ(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=aQ(Yr,Qr);oQ(ti,Gr,Wr,Zr,Kr,Qr),wA(ti,Kr,Wr,Zr,Qr);for(var ei=1;Jr>0;Jr--)ei*=.99,sQ(ti,ei,Qr),wA(ti,Kr,Wr,Zr,Qr),cQ(ti,ei,Qr),wA(ti,Kr,Wr,Zr,Qr)}function aQ(Yr,Gr){var Wr=[],Zr=Gr==="vertical"?"y":"x",Kr=Wd(Yr,function(Jr){return Jr.getLayout()[Zr]});return Kr.keys.sort(function(Jr,Qr){return Jr-Qr}),_i(Kr.keys,function(Jr){Wr.push(Kr.buckets.get(Jr))}),Wr}function oQ(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=1/0;_i(Yr,function(ti){var ei=ti.length,ri=0;_i(ti,function(ni){ri+=ni.getLayout().value});var ii=Jr==="vertical"?(Zr-(ei-1)*Kr)/ri:(Wr-(ei-1)*Kr)/ri;ii<Qr&&(Qr=ii)}),_i(Yr,function(ti){_i(ti,function(ei,ri){var ii=ei.getLayout().value*Qr;Jr==="vertical"?(ei.setLayout({x:ri},!0),ei.setLayout({dx:ii},!0)):(ei.setLayout({y:ri},!0),ei.setLayout({dy:ii},!0))})}),_i(Gr,function(ti){var ei=+ti.getValue()*Qr;ti.setLayout({dy:ei},!0)})}function wA(Yr,Gr,Wr,Zr,Kr){var Jr=Kr==="vertical"?"x":"y";_i(Yr,function(Qr){Qr.sort(function(li,ui){return li.getLayout()[Jr]-ui.getLayout()[Jr]});for(var ti,ei,ri,ii=0,ni=Qr.length,ai=Kr==="vertical"?"dx":"dy",oi=0;oi<ni;oi++)ei=Qr[oi],ri=ii-ei.getLayout()[Jr],ri>0&&(ti=ei.getLayout()[Jr]+ri,Kr==="vertical"?ei.setLayout({x:ti},!0):ei.setLayout({y:ti},!0)),ii=ei.getLayout()[Jr]+ei.getLayout()[ai]+Gr;var si=Kr==="vertical"?Zr:Wr;if(ri=ii-Gr-si,ri>0){ti=ei.getLayout()[Jr]-ri,Kr==="vertical"?ei.setLayout({x:ti},!0):ei.setLayout({y:ti},!0),ii=ti;for(var oi=ni-2;oi>=0;--oi)ei=Qr[oi],ri=ei.getLayout()[Jr]+ei.getLayout()[ai]+Gr-ii,ri>0&&(ti=ei.getLayout()[Jr]-ri,Kr==="vertical"?ei.setLayout({x:ti},!0):ei.setLayout({y:ti},!0)),ii=ei.getLayout()[Jr]}})}function sQ(Yr,Gr,Wr){_i(Yr.slice().reverse(),function(Zr){_i(Zr,function(Kr){if(Kr.outEdges.length){var Jr=Mf(Kr.outEdges,lQ,Wr)/Mf(Kr.outEdges,jx);if(isNaN(Jr)){var Qr=Kr.outEdges.length;Jr=Qr?Mf(Kr.outEdges,uQ,Wr)/Qr:0}if(Wr==="vertical"){var ti=Kr.getLayout().x+(Jr-Pf(Kr,Wr))*Gr;Kr.setLayout({x:ti},!0)}else{var ei=Kr.getLayout().y+(Jr-Pf(Kr,Wr))*Gr;Kr.setLayout({y:ei},!0)}}})})}function lQ(Yr,Gr){return Pf(Yr.node2,Gr)*Yr.getValue()}function uQ(Yr,Gr){return Pf(Yr.node2,Gr)}function fQ(Yr,Gr){return Pf(Yr.node1,Gr)*Yr.getValue()}function hQ(Yr,Gr){return Pf(Yr.node1,Gr)}function Pf(Yr,Gr){return Gr==="vertical"?Yr.getLayout().x+Yr.getLayout().dx/2:Yr.getLayout().y+Yr.getLayout().dy/2}function jx(Yr){return Yr.getValue()}function Mf(Yr,Gr,Wr){for(var Zr=0,Kr=Yr.length,Jr=-1;++Jr<Kr;){var Qr=+Gr(Yr[Jr],Wr);isNaN(Qr)||(Zr+=Qr)}return Zr}function cQ(Yr,Gr,Wr){_i(Yr,function(Zr){_i(Zr,function(Kr){if(Kr.inEdges.length){var Jr=Mf(Kr.inEdges,fQ,Wr)/Mf(Kr.inEdges,jx);if(isNaN(Jr)){var Qr=Kr.inEdges.length;Jr=Qr?Mf(Kr.inEdges,hQ,Wr)/Qr:0}if(Wr==="vertical"){var ti=Kr.getLayout().x+(Jr-Pf(Kr,Wr))*Gr;Kr.setLayout({x:ti},!0)}else{var ei=Kr.getLayout().y+(Jr-Pf(Kr,Wr))*Gr;Kr.setLayout({y:ei},!0)}}})})}function pQ(Yr,Gr){var Wr=Gr==="vertical"?"x":"y";_i(Yr,function(Zr){Zr.outEdges.sort(function(Kr,Jr){return Kr.node2.getLayout()[Wr]-Jr.node2.getLayout()[Wr]}),Zr.inEdges.sort(function(Kr,Jr){return Kr.node1.getLayout()[Wr]-Jr.node1.getLayout()[Wr]})}),_i(Yr,function(Zr){var Kr=0,Jr=0;_i(Zr.outEdges,function(Qr){Qr.setLayout({sy:Kr},!0),Kr+=Qr.getLayout().dy}),_i(Zr.inEdges,function(Qr){Qr.setLayout({ty:Jr},!0),Jr+=Qr.getLayout().dy})})}function TA(Yr){Yr.eachSeriesByType("sankey",function(Gr){var Wr=Gr.getGraph(),Zr=Wr.nodes,Kr=Wr.edges;if(Zr.length){var Jr=1/0,Qr=-1/0;_i(Zr,function(ti){var ei=ti.getLayout().value;ei<Jr&&(Jr=ei),ei>Qr&&(Qr=ei)}),_i(Zr,function(ti){var ei=new ya({type:"color",mappingMethod:"linear",dataExtent:[Jr,Qr],visual:Gr.get("color")}),ri=ei.mapValueToVisual(ti.getLayout().value),ii=ti.getModel().get(["itemStyle","color"]);ii!=null?(ti.setVisual("color",ii),ti.setVisual("style",{fill:ii})):(ti.setVisual("color",ri),ti.setVisual("style",{fill:ri}))})}Kr.length&&_i(Kr,function(ti){var ei=ti.getModel().get("lineStyle");ti.setVisual("style",ei)})})}function AA(Yr){Yr.registerChartView(IB),Yr.registerSeriesModel(LB),Yr.registerLayout(CA),Yr.registerVisual(TA),Yr.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(Gr,Wr){Wr.eachComponent({mainType:"series",subType:"sankey",query:Gr},function(Zr){Zr.setNodePosition(Gr.dataIndex,[Gr.localX,Gr.localY])})})}var Kx=function(){function Yr(){}return Yr.prototype.getInitialData=function(Gr,Wr){var Zr,Kr=Wr.getComponent("xAxis",this.get("xAxisIndex")),Jr=Wr.getComponent("yAxis",this.get("yAxisIndex")),Qr=Kr.get("type"),ti=Jr.get("type"),ei;Qr==="category"?(Gr.layout="horizontal",Zr=Kr.getOrdinalMeta(),ei=!0):ti==="category"?(Gr.layout="vertical",Zr=Jr.getOrdinalMeta(),ei=!0):Gr.layout=Gr.layout||"horizontal";var ri=["x","y"],ii=Gr.layout==="horizontal"?0:1,ni=this._baseAxisDim=ri[ii],ai=ri[1-ii],oi=[Kr,Jr],si=oi[ii].get("type"),li=oi[1-ii].get("type"),ui=Gr.data;if(ui&&ei){var fi=[];_i(ui,function(pi,di){var vi;Ri(pi)?(vi=pi.slice(),pi.unshift(di)):Ri(pi.value)?(vi=ki({},pi),vi.value=vi.value.slice(),pi.value.unshift(di)):vi=pi,fi.push(vi)}),Gr.data=fi}var hi=this.defaultValueDimensions,ci=[{name:ni,type:Wh(si),ordinalMeta:Zr,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:ai,type:Wh(li),dimsDef:hi.slice()}];return vs(this,{coordDimensions:ci,dimensionsCount:hi.length+1,encodeDefaulter:en(Wy,ci,this)})},Yr.prototype.getBaseAxis=function(){var Gr=this._baseAxisDim;return this.ecModel.getComponent(Gr+"Axis",this.get(Gr+"AxisIndex")).axis},Yr}();var RB=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],Wr.visualDrawType="stroke",Wr}return Gr.type="series.boxplot",Gr.dependencies=["xAxis","yAxis","grid"],Gr.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},Gr}(Pn);Gn(RB,Kx,!0);var OB=RB;var dQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this.group,ti=this._data;this._data||Qr.removeAll();var ei=Wr.get("layout")==="horizontal"?1:0;Jr.diff(ti).add(function(ri){if(Jr.hasValue(ri)){var ii=Jr.getItemLayout(ri),ni=zB(ii,Jr,ri,ei,!0);Jr.setItemGraphicEl(ri,ni),Qr.add(ni)}}).update(function(ri,ii){var ni=ti.getItemGraphicEl(ii);if(!Jr.hasValue(ri)){Qr.remove(ni);return}var ai=Jr.getItemLayout(ri);ni?(La(ni),NB(ai,ni,Jr,ri)):ni=zB(ai,Jr,ri,ei),Qr.add(ni),Jr.setItemGraphicEl(ri,ni)}).remove(function(ri){var ii=ti.getItemGraphicEl(ri);ii&&Qr.remove(ii)}).execute(),this._data=Jr},Gr.prototype.remove=function(Wr){var Zr=this.group,Kr=this._data;this._data=null,Kr&&Kr.eachItemGraphicEl(function(Jr){Jr&&Zr.remove(Jr)})},Gr.type="boxplot",Gr}(An),vQ=function(){function Yr(){}return Yr}(),mQ=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="boxplotBoxPath",Zr}return Gr.prototype.getDefaultShape=function(){return new vQ},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.points,Jr=0;for(Wr.moveTo(Kr[Jr][0],Kr[Jr][1]),Jr++;Jr<4;Jr++)Wr.lineTo(Kr[Jr][0],Kr[Jr][1]);for(Wr.closePath();Jr<Kr.length;Jr++)Wr.moveTo(Kr[Jr][0],Kr[Jr][1]),Jr++,Wr.lineTo(Kr[Jr][0],Kr[Jr][1])},Gr}(an);function zB(Yr,Gr,Wr,Zr,Kr){var Jr=Yr.ends,Qr=new mQ({shape:{points:Kr?gQ(Jr,Zr,Yr):Jr}});return NB(Yr,Qr,Gr,Wr,Kr),Qr}function NB(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.hostModel,Qr=yn[Kr?"initProps":"updateProps"];Qr(Gr,{shape:{points:Yr.ends}},Jr,Zr),Gr.useStyle(Wr.getItemVisual(Zr,"style")),Gr.style.strokeNoScale=!0,Gr.z2=100;var ti=Wr.getItemModel(Zr),ei=ti.getModel("emphasis");ia(Gr,ti),In(Gr,ei.get("focus"),ei.get("blurScope"),ei.get("disabled"))}function gQ(Yr,Gr,Wr){return Oi(Yr,function(Zr){return Zr=Zr.slice(),Zr[Gr]=Wr.initBaseline,Zr})}var FB=dQ;var gm=_i;function MA(Yr){var Gr=yQ(Yr);gm(Gr,function(Wr){var Zr=Wr.seriesModels;Zr.length&&(xQ(Wr),gm(Zr,function(Kr,Jr){_Q(Kr,Wr.boxOffsetList[Jr],Wr.boxWidthList[Jr])}))})}function yQ(Yr){var Gr=[],Wr=[];return Yr.eachSeriesByType("boxplot",function(Zr){var Kr=Zr.getBaseAxis(),Jr=sn(Wr,Kr);Jr<0&&(Jr=Wr.length,Wr[Jr]=Kr,Gr[Jr]={axis:Kr,seriesModels:[]}),Gr[Jr].seriesModels.push(Zr)}),Gr}function xQ(Yr){var Gr=Yr.axis,Wr=Yr.seriesModels,Zr=Wr.length,Kr=Yr.boxWidthList=[],Jr=Yr.boxOffsetList=[],Qr=[],ti;if(Gr.type==="category")ti=Gr.getBandWidth();else{var ei=0;gm(Wr,function(si){ei=Math.max(ei,si.getData().count())});var ri=Gr.getExtent();ti=Math.abs(ri[1]-ri[0])/ei}gm(Wr,function(si){var li=si.get("boxWidth");Ri(li)||(li=[li,li]),Qr.push([Ui(li[0],ti)||0,Ui(li[1],ti)||0])});var ii=ti*.8-2,ni=ii/Zr*.3,ai=(ii-ni*(Zr-1))/Zr,oi=ai/2-ii/2;gm(Wr,function(si,li){Jr.push(oi),oi+=ni+ai,Kr.push(Math.min(Math.max(ai,Qr[li][0]),Qr[li][1]))})}function _Q(Yr,Gr,Wr){var Zr=Yr.coordinateSystem,Kr=Yr.getData(),Jr=Wr/2,Qr=Yr.get("layout")==="horizontal"?0:1,ti=1-Qr,ei=["x","y"],ri=Kr.mapDimension(ei[Qr]),ii=Kr.mapDimensionsAll(ei[ti]);if(ri==null||ii.length<5)return;for(var ni=0;ni<Kr.count();ni++){var ai=Kr.get(ri,ni),oi=ci(ai,ii[2],ni),si=ci(ai,ii[0],ni),li=ci(ai,ii[1],ni),ui=ci(ai,ii[3],ni),fi=ci(ai,ii[4],ni),hi=[];pi(hi,li,!1),pi(hi,ui,!0),hi.push(si,li,fi,ui),di(hi,si),di(hi,fi),di(hi,oi),Kr.setItemLayout(ni,{initBaseline:oi[ti],ends:hi})}function ci(vi,mi,gi){var yi=Kr.get(mi,gi),Si=[];Si[Qr]=vi,Si[ti]=yi;var bi;return isNaN(vi)||isNaN(yi)?bi=[NaN,NaN]:(bi=Zr.dataToPoint(Si),bi[Qr]+=Gr),bi}function pi(vi,mi,gi){var yi=mi.slice(),Si=mi.slice();yi[Qr]+=Jr,Si[Qr]-=Jr,gi?vi.push(yi,Si):vi.push(Si,yi)}function di(vi,mi){var gi=mi.slice(),yi=mi.slice();gi[Qr]-=Jr,yi[Qr]+=Jr,vi.push(gi,yi)}}function PA(Yr,Gr){Gr=Gr||{};for(var Wr=[],Zr=[],Kr=Gr.boundIQR,Jr=Kr==="none"||Kr===0,Qr=0;Qr<Yr.length;Qr++){var ti=Oa(Yr[Qr].slice()),ei=ty(ti,.25),ri=ty(ti,.5),ii=ty(ti,.75),ni=ti[0],ai=ti[ti.length-1],oi=(Kr??1.5)*(ii-ei),si=Jr?ni:Math.max(ni,ei-oi),li=Jr?ai:Math.min(ai,ii+oi),ui=Gr.itemNameFormatter,fi=Wi(ui)?ui({value:Qr}):Ni(ui)?ui.replace("{value}",Qr+""):Qr+"";Wr.push([fi,si,ei,ri,ii,li]);for(var hi=0;hi<ti.length;hi++){var ci=ti[hi];if(ci<si||ci>li){var pi=[fi,ci];Zr.push(pi)}}}return{boxData:Wr,outliers:Zr}}var VB={type:"echarts:boxplot",transform:function(Gr){var Wr=Gr.upstream;if(Wr.sourceFormat!==Ma){var Zr="";Rn(Zr)}var Kr=PA(Wr.getRawData(),Gr.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:Kr.boxData},{data:Kr.outliers}]}};function EA(Yr){Yr.registerSeriesModel(OB),Yr.registerChartView(FB),Yr.registerLayout(MA),Yr.registerTransform(VB)}var bQ=["color","borderColor"],SQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(Wr),this._isLargeDraw?this._renderLarge(Wr):this._renderNormal(Wr)},Gr.prototype.incrementalPrepareRender=function(Wr,Zr,Kr){this._clear(),this._updateDrawMode(Wr)},Gr.prototype.incrementalRender=function(Wr,Zr,Kr,Jr){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(Wr,Zr):this._incrementalRenderNormal(Wr,Zr)},Gr.prototype.eachRendered=function(Wr){Co(this._progressiveEls||this.group,Wr)},Gr.prototype._updateDrawMode=function(Wr){var Zr=Wr.pipelineContext.large;(this._isLargeDraw==null||Zr!==this._isLargeDraw)&&(this._isLargeDraw=Zr,this._clear())},Gr.prototype._renderNormal=function(Wr){var Zr=Wr.getData(),Kr=this._data,Jr=this.group,Qr=Zr.getLayout("isSimpleBox"),ti=Wr.get("clip",!0),ei=Wr.coordinateSystem,ri=ei.getArea&&ei.getArea();this._data||Jr.removeAll(),Zr.diff(Kr).add(function(ii){if(Zr.hasValue(ii)){var ni=Zr.getItemLayout(ii);if(ti&&BB(ri,ni))return;var ai=DA(ni,ii,!0);Ln(ai,{shape:{points:ni.ends}},Wr,ii),IA(ai,Zr,ii,Qr),Jr.add(ai),Zr.setItemGraphicEl(ii,ai)}}).update(function(ii,ni){var ai=Kr.getItemGraphicEl(ni);if(!Zr.hasValue(ii)){Jr.remove(ai);return}var oi=Zr.getItemLayout(ii);if(ti&&BB(ri,oi)){Jr.remove(ai);return}ai?(bn(ai,{shape:{points:oi.ends}},Wr,ii),La(ai)):ai=DA(oi,ii),IA(ai,Zr,ii,Qr),Jr.add(ai),Zr.setItemGraphicEl(ii,ai)}).remove(function(ii){var ni=Kr.getItemGraphicEl(ii);ni&&Jr.remove(ni)}).execute(),this._data=Zr},Gr.prototype._renderLarge=function(Wr){this._clear(),UB(Wr,this.group);var Zr=Wr.get("clip",!0)?Gl(Wr.coordinateSystem,!1,Wr):null;Zr?this.group.setClipPath(Zr):this.group.removeClipPath()},Gr.prototype._incrementalRenderNormal=function(Wr,Zr){for(var Kr=Zr.getData(),Jr=Kr.getLayout("isSimpleBox"),Qr;(Qr=Wr.next())!=null;){var ti=Kr.getItemLayout(Qr),ei=DA(ti,Qr);IA(ei,Kr,Qr,Jr),ei.incremental=!0,this.group.add(ei),this._progressiveEls.push(ei)}},Gr.prototype._incrementalRenderLarge=function(Wr,Zr){UB(Zr,this.group,this._progressiveEls,!0)},Gr.prototype.remove=function(Wr){this._clear()},Gr.prototype._clear=function(){this.group.removeAll(),this._data=null},Gr.type="candlestick",Gr}(An),wQ=function(){function Yr(){}return Yr}(),CQ=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="normalCandlestickBox",Zr}return Gr.prototype.getDefaultShape=function(){return new wQ},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.points;this.__simpleBox?(Wr.moveTo(Kr[4][0],Kr[4][1]),Wr.lineTo(Kr[6][0],Kr[6][1])):(Wr.moveTo(Kr[0][0],Kr[0][1]),Wr.lineTo(Kr[1][0],Kr[1][1]),Wr.lineTo(Kr[2][0],Kr[2][1]),Wr.lineTo(Kr[3][0],Kr[3][1]),Wr.closePath(),Wr.moveTo(Kr[4][0],Kr[4][1]),Wr.lineTo(Kr[5][0],Kr[5][1]),Wr.moveTo(Kr[6][0],Kr[6][1]),Wr.lineTo(Kr[7][0],Kr[7][1]))},Gr}(an);function DA(Yr,Gr,Wr){var Zr=Yr.ends;return new CQ({shape:{points:Wr?TQ(Zr,Yr):Zr},z2:100})}function BB(Yr,Gr){for(var Wr=!0,Zr=0;Zr<Gr.ends.length;Zr++)if(Yr.contain(Gr.ends[Zr][0],Gr.ends[Zr][1])){Wr=!1;break}return Wr}function IA(Yr,Gr,Wr,Zr){var Kr=Gr.getItemModel(Wr);Yr.useStyle(Gr.getItemVisual(Wr,"style")),Yr.style.strokeNoScale=!0,Yr.__simpleBox=Zr,ia(Yr,Kr)}function TQ(Yr,Gr){return Oi(Yr,function(Wr){return Wr=Wr.slice(),Wr[1]=Gr.initBaseline,Wr})}var AQ=function(){function Yr(){}return Yr}(),LA=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr.type="largeCandlestickBox",Zr}return Gr.prototype.getDefaultShape=function(){return new AQ},Gr.prototype.buildPath=function(Wr,Zr){for(var Kr=Zr.points,Jr=0;Jr<Kr.length;)if(this.__sign===Kr[Jr++]){var Qr=Kr[Jr++];Wr.moveTo(Qr,Kr[Jr++]),Wr.lineTo(Qr,Kr[Jr++])}else Jr+=3},Gr}(an);function UB(Yr,Gr,Wr,Zr){var Kr=Yr.getData(),Jr=Kr.getLayout("largePoints"),Qr=new LA({shape:{points:Jr},__sign:1,ignoreCoarsePointer:!0});Gr.add(Qr);var ti=new LA({shape:{points:Jr},__sign:-1,ignoreCoarsePointer:!0});Gr.add(ti);var ei=new LA({shape:{points:Jr},__sign:0,ignoreCoarsePointer:!0});Gr.add(ei),kA(1,Qr,Yr,Kr),kA(-1,ti,Yr,Kr),kA(0,ei,Yr,Kr),Zr&&(Qr.incremental=!0,ti.incremental=!0),Wr&&Wr.push(Qr,ti)}function kA(Yr,Gr,Wr,Zr){var Kr=Wr.get(["itemStyle",Yr>0?"borderColor":"borderColor0"])||Wr.get(["itemStyle",Yr>0?"color":"color0"]);Yr===0&&(Kr=Wr.get(["itemStyle","borderColorDoji"]));var Jr=Wr.getModel("itemStyle").getItemStyle(bQ);Gr.useStyle(Jr),Gr.style.fill=null,Gr.style.stroke=Kr}var GB=SQ;var HB=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],Wr}return Gr.prototype.getShadowDim=function(){return"open"},Gr.prototype.brushSelector=function(Wr,Zr,Kr){var Jr=Zr.getItemLayout(Wr);return Jr&&Kr.rect(Jr.brushRect)},Gr.type="series.candlestick",Gr.dependencies=["xAxis","yAxis","grid"],Gr.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},Gr}(Pn);Gn(HB,Kx,!0);var WB=HB;function RA(Yr){!Yr||!Ri(Yr.series)||_i(Yr.series,function(Gr){qi(Gr)&&Gr.type==="k"&&(Gr.type="candlestick")})}var MQ=["itemStyle","borderColor"],PQ=["itemStyle","borderColor0"],EQ=["itemStyle","borderColorDoji"],DQ=["itemStyle","color"],IQ=["itemStyle","color0"],LQ={seriesType:"candlestick",plan:cs(),performRawSeries:!0,reset:function(Yr,Gr){function Wr(Jr,Qr){return Qr.get(Jr>0?DQ:IQ)}function Zr(Jr,Qr){return Qr.get(Jr===0?EQ:Jr>0?MQ:PQ)}if(!Gr.isSeriesFiltered(Yr)){var Kr=Yr.pipelineContext.large;return!Kr&&{progress:function(Jr,Qr){for(var ti;(ti=Jr.next())!=null;){var ei=Qr.getItemModel(ti),ri=Qr.getItemLayout(ti).sign,ii=ei.getItemStyle();ii.fill=Wr(ri,ei),ii.stroke=Zr(ri,ei)||ii.fill;var ni=Qr.ensureUniqueItemVisual(ti,"style");ki(ni,ii)}}}}}},YB=LQ;var kQ={seriesType:"candlestick",plan:cs(),reset:function(Yr){var Gr=Yr.coordinateSystem,Wr=Yr.getData(),Zr=RQ(Yr,Wr),Kr=0,Jr=1,Qr=["x","y"],ti=Wr.getDimensionIndex(Wr.mapDimension(Qr[Kr])),ei=Oi(Wr.mapDimensionsAll(Qr[Jr]),Wr.getDimensionIndex,Wr),ri=ei[0],ii=ei[1],ni=ei[2],ai=ei[3];if(Wr.setLayout({candleWidth:Zr,isSimpleBox:Zr<=1.3}),ti<0||ei.length<4)return;return{progress:Yr.pipelineContext.large?si:oi};function oi(li,ui){for(var fi,hi=ui.getStore();(fi=li.next())!=null;){var ci=hi.get(ti,fi),pi=hi.get(ri,fi),di=hi.get(ii,fi),vi=hi.get(ni,fi),mi=hi.get(ai,fi),gi=Math.min(pi,di),yi=Math.max(pi,di),Si=Pi(gi,ci),bi=Pi(yi,ci),Ti=Pi(vi,ci),Ai=Pi(mi,ci),Ei=[];xi(Ei,bi,0),xi(Ei,Si,1),Ei.push(Li(Ai),Li(bi),Li(Ti),Li(Si));var Mi=ui.getItemModel(fi),wi=!!Mi.get(["itemStyle","borderColorDoji"]);ui.setItemLayout(fi,{sign:XB(hi,fi,pi,di,ii,wi),initBaseline:pi>di?bi[Jr]:Si[Jr],ends:Ei,brushRect:Ci(vi,mi,ci)})}function Pi(Ii,zi){var Bi=[];return Bi[Kr]=zi,Bi[Jr]=Ii,isNaN(zi)||isNaN(Ii)?[NaN,NaN]:Gr.dataToPoint(Bi)}function xi(Ii,zi,Bi){var Vi=zi.slice(),ji=zi.slice();Vi[Kr]=ov(Vi[Kr]+Zr/2,1,!1),ji[Kr]=ov(ji[Kr]-Zr/2,1,!0),Bi?Ii.push(Vi,ji):Ii.push(ji,Vi)}function Ci(Ii,zi,Bi){var Vi=Pi(Ii,Bi),ji=Pi(zi,Bi);return Vi[Kr]-=Zr/2,ji[Kr]-=Zr/2,{x:Vi[0],y:Vi[1],width:Jr?Zr:ji[0]-Vi[0],height:Jr?ji[1]-Vi[1]:Zr}}function Li(Ii){return Ii[Kr]=ov(Ii[Kr],1),Ii}}function si(li,ui){for(var fi=Mo(li.count*4),hi=0,ci,pi=[],di=[],vi,mi=ui.getStore(),gi=!!Yr.get(["itemStyle","borderColorDoji"]);(vi=li.next())!=null;){var yi=mi.get(ti,vi),Si=mi.get(ri,vi),bi=mi.get(ii,vi),Ti=mi.get(ni,vi),Ai=mi.get(ai,vi);if(isNaN(yi)||isNaN(Ti)||isNaN(Ai)){fi[hi++]=NaN,hi+=3;continue}fi[hi++]=XB(mi,vi,Si,bi,ii,gi),pi[Kr]=yi,pi[Jr]=Ti,ci=Gr.dataToPoint(pi,null,di),fi[hi++]=ci?ci[0]:NaN,fi[hi++]=ci?ci[1]:NaN,pi[Jr]=Ai,ci=Gr.dataToPoint(pi,null,di),fi[hi++]=ci?ci[1]:NaN}ui.setLayout("largePoints",fi)}}};function XB(Yr,Gr,Wr,Zr,Kr,Jr){var Qr;return Wr>Zr?Qr=-1:Wr<Zr?Qr=1:Qr=Jr?0:Gr>0?Yr.get(Kr,Gr-1)<=Zr?1:-1:1,Qr}function RQ(Yr,Gr){var Wr=Yr.getBaseAxis(),Zr,Kr=Wr.type==="category"?Wr.getBandWidth():(Zr=Wr.getExtent(),Math.abs(Zr[1]-Zr[0])/Gr.count()),Jr=Ui(on(Yr.get("barMaxWidth"),Kr),Kr),Qr=Ui(on(Yr.get("barMinWidth"),1),Kr),ti=Yr.get("barWidth");return ti!=null?Ui(ti,Kr):Math.max(Math.min(Kr/2,Jr),Qr)}var qB=kQ;function OA(Yr){Yr.registerChartView(GB),Yr.registerSeriesModel(WB),Yr.registerPreprocessor(RA),Yr.registerVisual(YB),Yr.registerLayout(qB)}function ZB(Yr,Gr){var Wr=Gr.rippleEffectColor||Gr.color;Yr.eachChild(function(Zr){Zr.attr({z:Gr.z,zlevel:Gr.zlevel,style:{stroke:Gr.brushType==="stroke"?Wr:null,fill:Gr.brushType==="fill"?Wr:null}})})}var OQ=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr){var Kr=Yr.call(this)||this,Jr=new Cu(Wr,Zr),Qr=new Zi;return Kr.add(Jr),Kr.add(Qr),Kr.updateData(Wr,Zr),Kr}return Gr.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},Gr.prototype.startEffectAnimation=function(Wr){for(var Zr=Wr.symbolType,Kr=Wr.color,Jr=Wr.rippleNumber,Qr=this.childAt(1),ti=0;ti<Jr;ti++){var ei=Bn(Zr,-1,-1,2,2,Kr);ei.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var ri=-ti/Jr*Wr.period+Wr.effectOffset;ei.animate("",!0).when(Wr.period,{scaleX:Wr.rippleScale/2,scaleY:Wr.rippleScale/2}).delay(ri).start(),ei.animateStyle(!0).when(Wr.period,{opacity:0}).delay(ri).start(),Qr.add(ei)}ZB(Qr,Wr)},Gr.prototype.updateEffectAnimation=function(Wr){for(var Zr=this._effectCfg,Kr=this.childAt(1),Jr=["symbolType","period","rippleScale","rippleNumber"],Qr=0;Qr<Jr.length;Qr++){var ti=Jr[Qr];if(Zr[ti]!==Wr[ti]){this.stopEffectAnimation(),this.startEffectAnimation(Wr);return}}ZB(Kr,Wr)},Gr.prototype.highlight=function(){ho(this)},Gr.prototype.downplay=function(){co(this)},Gr.prototype.getSymbolType=function(){var Wr=this.childAt(0);return Wr&&Wr.getSymbolType()},Gr.prototype.updateData=function(Wr,Zr){var Kr=this,Jr=Wr.hostModel;this.childAt(0).updateData(Wr,Zr);var Qr=this.childAt(1),ti=Wr.getItemModel(Zr),ei=Wr.getItemVisual(Zr,"symbol"),ri=ll(Wr.getItemVisual(Zr,"symbolSize")),ii=Wr.getItemVisual(Zr,"style"),ni=ii&&ii.fill,ai=ti.getModel("emphasis");Qr.setScale(ri),Qr.traverse(function(ui){ui.setStyle("fill",ni)});var oi=ps(Wr.getItemVisual(Zr,"symbolOffset"),ri);oi&&(Qr.x=oi[0],Qr.y=oi[1]);var si=Wr.getItemVisual(Zr,"symbolRotate");Qr.rotation=(si||0)*Math.PI/180||0;var li={};li.showEffectOn=Jr.get("showEffectOn"),li.rippleScale=ti.get(["rippleEffect","scale"]),li.brushType=ti.get(["rippleEffect","brushType"]),li.period=ti.get(["rippleEffect","period"])*1e3,li.effectOffset=Zr/Wr.count(),li.z=Jr.getShallow("z")||0,li.zlevel=Jr.getShallow("zlevel")||0,li.symbolType=ei,li.color=ni,li.rippleEffectColor=ti.get(["rippleEffect","color"]),li.rippleNumber=ti.get(["rippleEffect","number"]),li.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(li):this.startEffectAnimation(li),this._effectCfg=li):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(ui){ui==="emphasis"?li.showEffectOn!=="render"&&Kr.startEffectAnimation(li):ui==="normal"&&li.showEffectOn!=="render"&&Kr.stopEffectAnimation()}),this._effectCfg=li,In(this,ai.get("focus"),ai.get("blurScope"),ai.get("disabled"))},Gr.prototype.fadeOut=function(Wr){Wr&&Wr()},Gr}(Zi),jB=OQ;var zQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(){this._symbolDraw=new Ul(jB)},Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this._symbolDraw;Qr.updateData(Jr,{clipShape:this._getClipShape(Wr)}),this.group.add(Qr.group)},Gr.prototype._getClipShape=function(Wr){var Zr=Wr.coordinateSystem,Kr=Zr&&Zr.getArea&&Zr.getArea();return Wr.get("clip",!0)?Kr:null},Gr.prototype.updateTransform=function(Wr,Zr,Kr){var Jr=Wr.getData();this.group.dirty();var Qr=ml("").reset(Wr,Zr,Kr);Qr.progress&&Qr.progress({start:0,end:Jr.count(),count:Jr.count()},Jr),this._symbolDraw.updateLayout()},Gr.prototype._updateGroupTransform=function(Wr){var Zr=Wr.coordinateSystem;Zr&&Zr.getRoamTransform&&(this.group.transform=DD(Zr.getRoamTransform()),this.group.decomposeTransform())},Gr.prototype.remove=function(Wr,Zr){this._symbolDraw&&this._symbolDraw.remove(!0)},Gr.type="effectScatter",Gr}(An),KB=zQ;var NQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.hasSymbolVisual=!0,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){return ja(null,this,{useEncodeDefaulter:!0})},Gr.prototype.brushSelector=function(Wr,Zr,Kr){return Kr.point(Zr.getItemLayout(Wr))},Gr.type="series.effectScatter",Gr.dependencies=["grid","polar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},Gr}(Pn),$B=NQ;function zA(Yr){Yr.registerChartView(KB),Yr.registerSeriesModel($B),Yr.registerLayout(ml("effectScatter"))}var FQ=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this)||this;return Jr.add(Jr.createLine(Wr,Zr,Kr)),Jr._updateEffectSymbol(Wr,Zr),Jr}return Gr.prototype.createLine=function(Wr,Zr,Kr){return new Ip(Wr,Zr,Kr)},Gr.prototype._updateEffectSymbol=function(Wr,Zr){var Kr=Wr.getItemModel(Zr),Jr=Kr.getModel("effect"),Qr=Jr.get("symbolSize"),ti=Jr.get("symbol");Ri(Qr)||(Qr=[Qr,Qr]);var ei=Wr.getItemVisual(Zr,"style"),ri=Jr.get("color")||ei&&ei.stroke,ii=this.childAt(1);this._symbolType!==ti&&(this.remove(ii),ii=Bn(ti,-.5,-.5,1,1,ri),ii.z2=100,ii.culling=!0,this.add(ii)),ii&&(ii.setStyle("shadowColor",ri),ii.setStyle(Jr.getItemStyle(["color"])),ii.scaleX=Qr[0],ii.scaleY=Qr[1],ii.setColor(ri),this._symbolType=ti,this._symbolScale=Qr,this._updateEffectAnimation(Wr,Jr,Zr))},Gr.prototype._updateEffectAnimation=function(Wr,Zr,Kr){var Jr=this.childAt(1);if(Jr){var Qr=Wr.getItemLayout(Kr),ti=Zr.get("period")*1e3,ei=Zr.get("loop"),ri=Zr.get("roundTrip"),ii=Zr.get("constantSpeed"),ni=ta(Zr.get("delay"),function(oi){return oi/Wr.count()*ti/3});if(Jr.ignore=!0,this._updateAnimationPoints(Jr,Qr),ii>0&&(ti=this._getLineLength(Jr)/ii*1e3),ti!==this._period||ei!==this._loop||ri!==this._roundTrip){Jr.stopAnimation();var ai=void 0;Wi(ni)?ai=ni(Kr):ai=ni,Jr.__t>0&&(ai=-ti*Jr.__t),this._animateSymbol(Jr,ti,ai,ei,ri)}this._period=ti,this._loop=ei,this._roundTrip=ri}},Gr.prototype._animateSymbol=function(Wr,Zr,Kr,Jr,Qr){if(Zr>0){Wr.__t=0;var ti=this,ei=Wr.animate("",Jr).when(Qr?Zr*2:Zr,{__t:Qr?2:1}).delay(Kr).during(function(){ti._updateSymbolPosition(Wr)});Jr||ei.done(function(){ti.remove(Wr)}),ei.start()}},Gr.prototype._getLineLength=function(Wr){return xs(Wr.__p1,Wr.__cp1)+xs(Wr.__cp1,Wr.__p2)},Gr.prototype._updateAnimationPoints=function(Wr,Zr){Wr.__p1=Zr[0],Wr.__p2=Zr[1],Wr.__cp1=Zr[2]||[(Zr[0][0]+Zr[1][0])/2,(Zr[0][1]+Zr[1][1])/2]},Gr.prototype.updateData=function(Wr,Zr,Kr){this.childAt(0).updateData(Wr,Zr,Kr),this._updateEffectSymbol(Wr,Zr)},Gr.prototype._updateSymbolPosition=function(Wr){var Zr=Wr.__p1,Kr=Wr.__p2,Jr=Wr.__cp1,Qr=Wr.__t<1?Wr.__t:2-Wr.__t,ti=[Wr.x,Wr.y],ei=ti.slice(),ri=_a,ii=Ed;ti[0]=ri(Zr[0],Jr[0],Kr[0],Qr),ti[1]=ri(Zr[1],Jr[1],Kr[1],Qr);var ni=Wr.__t<1?ii(Zr[0],Jr[0],Kr[0],Qr):ii(Kr[0],Jr[0],Zr[0],1-Qr),ai=Wr.__t<1?ii(Zr[1],Jr[1],Kr[1],Qr):ii(Kr[1],Jr[1],Zr[1],1-Qr);Wr.rotation=-Math.atan2(ai,ni)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(Wr.__lastT!==void 0&&Wr.__lastT<Wr.__t?(Wr.scaleY=xs(ei,ti)*1.05,Qr===1&&(ti[0]=ei[0]+(ti[0]-ei[0])/2,ti[1]=ei[1]+(ti[1]-ei[1])/2)):Wr.__lastT===1?Wr.scaleY=2*xs(Zr,ti):Wr.scaleY=this._symbolScale[1]),Wr.__lastT=Wr.__t,Wr.ignore=!1,Wr.x=ti[0],Wr.y=ti[1]},Gr.prototype.updateLayout=function(Wr,Zr){this.childAt(0).updateLayout(Wr,Zr);var Kr=Wr.getItemModel(Zr).getModel("effect");this._updateEffectAnimation(Wr,Kr,Zr)},Gr}(Zi),$x=FQ;var VQ=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr){var Jr=Yr.call(this)||this;return Jr._createPolyline(Wr,Zr,Kr),Jr}return Gr.prototype._createPolyline=function(Wr,Zr,Kr){var Jr=Wr.getItemLayout(Zr),Qr=new la({shape:{points:Jr}});this.add(Qr),this._updateCommonStl(Wr,Zr,Kr)},Gr.prototype.updateData=function(Wr,Zr,Kr){var Jr=Wr.hostModel,Qr=this.childAt(0),ti={shape:{points:Wr.getItemLayout(Zr)}};bn(Qr,ti,Jr,Zr),this._updateCommonStl(Wr,Zr,Kr)},Gr.prototype._updateCommonStl=function(Wr,Zr,Kr){var Jr=this.childAt(0),Qr=Wr.getItemModel(Zr),ti=Kr&&Kr.emphasisLineStyle,ei=Kr&&Kr.focus,ri=Kr&&Kr.blurScope,ii=Kr&&Kr.emphasisDisabled;if(!Kr||Wr.hasItemOption){var ni=Qr.getModel("emphasis");ti=ni.getModel("lineStyle").getLineStyle(),ii=ni.get("disabled"),ei=ni.get("focus"),ri=ni.get("blurScope")}Jr.useStyle(Wr.getItemVisual(Zr,"style")),Jr.style.fill=null,Jr.style.strokeNoScale=!0;var ai=Jr.ensureState("emphasis");ai.style=ti,In(this,ei,ri,ii)},Gr.prototype.updateLayout=function(Wr,Zr){var Kr=this.childAt(0);Kr.setShape("points",Wr.getItemLayout(Zr))},Gr}(Zi),Jx=VQ;var BQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr._lastFrame=0,Wr._lastFramePercent=0,Wr}return Gr.prototype.createLine=function(Wr,Zr,Kr){return new Jx(Wr,Zr,Kr)},Gr.prototype._updateAnimationPoints=function(Wr,Zr){this._points=Zr;for(var Kr=[0],Jr=0,Qr=1;Qr<Zr.length;Qr++){var ti=Zr[Qr-1],ei=Zr[Qr];Jr+=xs(ti,ei),Kr.push(Jr)}if(Jr===0){this._length=0;return}for(var Qr=0;Qr<Kr.length;Qr++)Kr[Qr]/=Jr;this._offsets=Kr,this._length=Jr},Gr.prototype._getLineLength=function(){return this._length},Gr.prototype._updateSymbolPosition=function(Wr){var Zr=Wr.__t<1?Wr.__t:2-Wr.__t,Kr=this._points,Jr=this._offsets,Qr=Kr.length;if(Jr){var ti=this._lastFrame,ei;if(Zr<this._lastFramePercent){var ri=Math.min(ti+1,Qr-1);for(ei=ri;ei>=0&&!(Jr[ei]<=Zr);ei--);ei=Math.min(ei,Qr-2)}else{for(ei=ti;ei<Qr&&!(Jr[ei]>Zr);ei++);ei=Math.min(ei-1,Qr-2)}var ii=(Zr-Jr[ei])/(Jr[ei+1]-Jr[ei]),ni=Kr[ei],ai=Kr[ei+1];Wr.x=ni[0]*(1-ii)+ii*ai[0],Wr.y=ni[1]*(1-ii)+ii*ai[1];var oi=Wr.__t<1?ai[0]-ni[0]:ni[0]-ai[0],si=Wr.__t<1?ai[1]-ni[1]:ni[1]-ai[1];Wr.rotation=-Math.atan2(si,oi)-Math.PI/2,this._lastFrame=ei,this._lastFramePercent=Zr,Wr.ignore=!1}},Gr}($x),JB=BQ;var UQ=function(){function Yr(){this.polyline=!1,this.curveness=0,this.segs=[]}return Yr}(),GQ=function(Yr){Di(Gr,Yr);function Gr(Wr){var Zr=Yr.call(this,Wr)||this;return Zr._off=0,Zr.hoverDataIdx=-1,Zr}return Gr.prototype.reset=function(){this.notClear=!1,this._off=0},Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new UQ},Gr.prototype.buildPath=function(Wr,Zr){var Kr=Zr.segs,Jr=Zr.curveness,Qr;if(Zr.polyline)for(Qr=this._off;Qr<Kr.length;){var ti=Kr[Qr++];if(ti>0){Wr.moveTo(Kr[Qr++],Kr[Qr++]);for(var ei=1;ei<ti;ei++)Wr.lineTo(Kr[Qr++],Kr[Qr++])}}else for(Qr=this._off;Qr<Kr.length;){var ri=Kr[Qr++],ii=Kr[Qr++],ni=Kr[Qr++],ai=Kr[Qr++];if(Wr.moveTo(ri,ii),Jr>0){var oi=(ri+ni)/2-(ii-ai)*Jr,si=(ii+ai)/2-(ni-ri)*Jr;Wr.quadraticCurveTo(oi,si,ni,ai)}else Wr.lineTo(ni,ai)}this.incremental&&(this._off=Qr,this.notClear=!0)},Gr.prototype.findDataIndex=function(Wr,Zr){var Kr=this.shape,Jr=Kr.segs,Qr=Kr.curveness,ti=this.style.lineWidth;if(Kr.polyline)for(var ei=0,ri=0;ri<Jr.length;){var ii=Jr[ri++];if(ii>0)for(var ni=Jr[ri++],ai=Jr[ri++],oi=1;oi<ii;oi++){var si=Jr[ri++],li=Jr[ri++];if(Dl(ni,ai,si,li,ti,Wr,Zr))return ei}ei++}else for(var ei=0,ri=0;ri<Jr.length;){var ni=Jr[ri++],ai=Jr[ri++],si=Jr[ri++],li=Jr[ri++];if(Qr>0){var ui=(ni+si)/2-(ai-li)*Qr,fi=(ai+li)/2-(si-ni)*Qr;if(ly(ni,ai,ui,fi,si,li,ti,Wr,Zr))return ei}else if(Dl(ni,ai,si,li,ti,Wr,Zr))return ei;ei++}return-1},Gr.prototype.contain=function(Wr,Zr){var Kr=this.transformCoordToLocal(Wr,Zr),Jr=this.getBoundingRect();if(Wr=Kr[0],Zr=Kr[1],Jr.contain(Wr,Zr)){var Qr=this.hoverDataIdx=this.findDataIndex(Wr,Zr);return Qr>=0}return this.hoverDataIdx=-1,!1},Gr.prototype.getBoundingRect=function(){var Wr=this._rect;if(!Wr){for(var Zr=this.shape,Kr=Zr.segs,Jr=1/0,Qr=1/0,ti=-1/0,ei=-1/0,ri=0;ri<Kr.length;){var ii=Kr[ri++],ni=Kr[ri++];Jr=Math.min(ii,Jr),ti=Math.max(ii,ti),Qr=Math.min(ni,Qr),ei=Math.max(ni,ei)}Wr=this._rect=new rn(Jr,Qr,ti,ei)}return Wr},Gr}(an),HQ=function(){function Yr(){this.group=new Zi}return Yr.prototype.updateData=function(Gr){this._clear();var Wr=this._create();Wr.setShape({segs:Gr.getLayout("linesPoints")}),this._setCommon(Wr,Gr)},Yr.prototype.incrementalPrepareUpdate=function(Gr){this.group.removeAll(),this._clear()},Yr.prototype.incrementalUpdate=function(Gr,Wr){var Zr=this._newAdded[0],Kr=Wr.getLayout("linesPoints"),Jr=Zr&&Zr.shape.segs;if(Jr&&Jr.length<2e4){var Qr=Jr.length,ti=new Float32Array(Qr+Kr.length);ti.set(Jr),ti.set(Kr,Qr),Zr.setShape({segs:ti})}else{this._newAdded=[];var ei=this._create();ei.incremental=!0,ei.setShape({segs:Kr}),this._setCommon(ei,Wr),ei.__startIndex=Gr.start}},Yr.prototype.remove=function(){this._clear()},Yr.prototype.eachRendered=function(Gr){this._newAdded[0]&&Gr(this._newAdded[0])},Yr.prototype._create=function(){var Gr=new GQ({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(Gr),this.group.add(Gr),Gr},Yr.prototype._setCommon=function(Gr,Wr,Zr){var Kr=Wr.hostModel;Gr.setShape({polyline:Kr.get("polyline"),curveness:Kr.get(["lineStyle","curveness"])}),Gr.useStyle(Kr.getModel("lineStyle").getLineStyle()),Gr.style.strokeNoScale=!0;var Jr=Wr.getVisual("style");Jr&&Jr.stroke&&Gr.setStyle("stroke",Jr.stroke),Gr.setStyle("fill",null);var Qr=Qi(Gr);Qr.seriesIndex=Kr.seriesIndex,Gr.on("mousemove",function(ti){Qr.dataIndex=null;var ei=Gr.hoverDataIdx;ei>0&&(Qr.dataIndex=ei+Gr.__startIndex)})},Yr.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Yr}(),QB=HQ;var WQ={seriesType:"lines",plan:cs(),reset:function(Yr){var Gr=Yr.coordinateSystem;if(Gr){var Wr=Yr.get("polyline"),Zr=Yr.pipelineContext.large;return{progress:function(Kr,Jr){var Qr=[];if(Zr){var ti=void 0,ei=Kr.end-Kr.start;if(Wr){for(var ri=0,ii=Kr.start;ii<Kr.end;ii++)ri+=Yr.getLineCoordsCount(ii);ti=new Float32Array(ei+ri*2)}else ti=new Float32Array(ei*4);for(var ni=0,ai=[],ii=Kr.start;ii<Kr.end;ii++){var oi=Yr.getLineCoords(ii,Qr);Wr&&(ti[ni++]=oi);for(var si=0;si<oi;si++)ai=Gr.dataToPoint(Qr[si],!1,ai),ti[ni++]=ai[0],ti[ni++]=ai[1]}Jr.setLayout("linesPoints",ti)}else for(var ii=Kr.start;ii<Kr.end;ii++){var li=Jr.getItemModel(ii),oi=Yr.getLineCoords(ii,Qr),ui=[];if(Wr)for(var fi=0;fi<oi;fi++)ui.push(Gr.dataToPoint(Qr[fi]));else{ui[0]=Gr.dataToPoint(Qr[0]),ui[1]=Gr.dataToPoint(Qr[1]);var hi=li.get(["lineStyle","curveness"]);+hi&&(ui[2]=[(ui[0][0]+ui[1][0])/2-(ui[0][1]-ui[1][1])*hi,(ui[0][1]+ui[1][1])/2-(ui[1][0]-ui[0][0])*hi])}Jr.setItemLayout(ii,ui)}}}}}},Qx=WQ;var YQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this._updateLineDraw(Jr,Wr),ti=Wr.get("zlevel"),ei=Wr.get(["effect","trailLength"]),ri=Kr.getZr(),ii=ri.painter.getType()==="svg";ii||ri.painter.getLayer(ti).clear(!0),this._lastZlevel!=null&&!ii&&ri.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(Wr)&&ei>0&&(ii||ri.configLayer(ti,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(ei/10+.9,1),0)})),Qr.updateData(Jr);var ni=Wr.get("clip",!0)&&Gl(Wr.coordinateSystem,!1,Wr);ni?this.group.setClipPath(ni):this.group.removeClipPath(),this._lastZlevel=ti,this._finished=!0},Gr.prototype.incrementalPrepareRender=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this._updateLineDraw(Jr,Wr);Qr.incrementalPrepareUpdate(Jr),this._clearLayer(Kr),this._finished=!1},Gr.prototype.incrementalRender=function(Wr,Zr,Kr){this._lineDraw.incrementalUpdate(Wr,Zr.getData()),this._finished=Wr.end===Zr.getData().count()},Gr.prototype.eachRendered=function(Wr){this._lineDraw&&this._lineDraw.eachRendered(Wr)},Gr.prototype.updateTransform=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=Wr.pipelineContext;if(!this._finished||Qr.large||Qr.progressiveRender)return{update:!0};var ti=Qx.reset(Wr,Zr,Kr);ti.progress&&ti.progress({start:0,end:Jr.count(),count:Jr.count()},Jr),this._lineDraw.updateLayout(),this._clearLayer(Kr)},Gr.prototype._updateLineDraw=function(Wr,Zr){var Kr=this._lineDraw,Jr=this._showEffect(Zr),Qr=!!Zr.get("polyline"),ti=Zr.pipelineContext,ei=ti.large;return(!Kr||Jr!==this._hasEffet||Qr!==this._isPolyline||ei!==this._isLargeDraw)&&(Kr&&Kr.remove(),Kr=this._lineDraw=ei?new QB:new Lp(Qr?Jr?JB:Jx:Jr?$x:Ip),this._hasEffet=Jr,this._isPolyline=Qr,this._isLargeDraw=ei),this.group.add(Kr.group),Kr},Gr.prototype._showEffect=function(Wr){return!!Wr.get(["effect","show"])},Gr.prototype._clearLayer=function(Wr){var Zr=Wr.getZr(),Kr=Zr.painter.getType()==="svg";!Kr&&this._lastZlevel!=null&&Zr.painter.getLayer(this._lastZlevel).clear(!0)},Gr.prototype.remove=function(Wr,Zr){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(Zr)},Gr.prototype.dispose=function(Wr,Zr){this.remove(Wr,Zr)},Gr.type="lines",Gr}(An),tU=YQ;var XQ=typeof Uint32Array>"u"?Array:Uint32Array,qQ=typeof Float64Array>"u"?Array:Float64Array;function eU(Yr){var Gr=Yr.data;Gr&&Gr[0]&&Gr[0][0]&&Gr[0][0].coord&&(Yr.data=Oi(Gr,function(Wr){var Zr=[Wr[0].coord,Wr[1].coord],Kr={coords:Zr};return Wr[0].name&&(Kr.fromName=Wr[0].name),Wr[1].name&&(Kr.toName=Wr[1].name),bc([Kr,Wr[0],Wr[1]])}))}var ZQ=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.visualStyleAccessPath="lineStyle",Wr.visualDrawType="stroke",Wr}return Gr.prototype.init=function(Wr){Wr.data=Wr.data||[],eU(Wr);var Zr=this._processFlatCoordsArray(Wr.data);this._flatCoords=Zr.flatCoords,this._flatCoordsOffset=Zr.flatCoordsOffset,Zr.flatCoords&&(Wr.data=new Float32Array(Zr.count)),Yr.prototype.init.apply(this,arguments)},Gr.prototype.mergeOption=function(Wr){if(eU(Wr),Wr.data){var Zr=this._processFlatCoordsArray(Wr.data);this._flatCoords=Zr.flatCoords,this._flatCoordsOffset=Zr.flatCoordsOffset,Zr.flatCoords&&(Wr.data=new Float32Array(Zr.count))}Yr.prototype.mergeOption.apply(this,arguments)},Gr.prototype.appendData=function(Wr){var Zr=this._processFlatCoordsArray(Wr.data);Zr.flatCoords&&(this._flatCoords?(this._flatCoords=Jf(this._flatCoords,Zr.flatCoords),this._flatCoordsOffset=Jf(this._flatCoordsOffset,Zr.flatCoordsOffset)):(this._flatCoords=Zr.flatCoords,this._flatCoordsOffset=Zr.flatCoordsOffset),Wr.data=new Float32Array(Zr.count)),this.getRawData().appendData(Wr.data)},Gr.prototype._getCoordsFromItemModel=function(Wr){var Zr=this.getData().getItemModel(Wr),Kr=Zr.option instanceof Array?Zr.option:Zr.getShallow("coords");return Kr},Gr.prototype.getLineCoordsCount=function(Wr){return this._flatCoordsOffset?this._flatCoordsOffset[Wr*2+1]:this._getCoordsFromItemModel(Wr).length},Gr.prototype.getLineCoords=function(Wr,Zr){if(this._flatCoordsOffset){for(var Kr=this._flatCoordsOffset[Wr*2],Jr=this._flatCoordsOffset[Wr*2+1],Qr=0;Qr<Jr;Qr++)Zr[Qr]=Zr[Qr]||[],Zr[Qr][0]=this._flatCoords[Kr+Qr*2],Zr[Qr][1]=this._flatCoords[Kr+Qr*2+1];return Jr}else{for(var ti=this._getCoordsFromItemModel(Wr),Qr=0;Qr<ti.length;Qr++)Zr[Qr]=Zr[Qr]||[],Zr[Qr][0]=ti[Qr][0],Zr[Qr][1]=ti[Qr][1];return ti.length}},Gr.prototype._processFlatCoordsArray=function(Wr){var Zr=0;if(this._flatCoords&&(Zr=this._flatCoords.length),gn(Wr[0])){for(var Kr=Wr.length,Jr=new XQ(Kr),Qr=new qQ(Kr),ti=0,ei=0,ri=0,ii=0;ii<Kr;){ri++;var ni=Wr[ii++];Jr[ei++]=ti+Zr,Jr[ei++]=ni;for(var ai=0;ai<ni;ai++){var oi=Wr[ii++],si=Wr[ii++];Qr[ti++]=oi,Qr[ti++]=si,ii>Kr}}return{flatCoordsOffset:new Uint32Array(Jr.buffer,0,ei),flatCoords:Qr,count:ri}}return{flatCoordsOffset:null,flatCoords:null,count:Wr.length}},Gr.prototype.getInitialData=function(Wr,Zr){if(0)var Kr;var Jr=new ha(["value"],this);return Jr.hasItemOption=!1,Jr.initData(Wr.data,[],function(Qr,ti,ei,ri){if(Qr instanceof Array)return NaN;Jr.hasItemOption=!0;var ii=Qr.value;if(ii!=null)return ii instanceof Array?ii[ri]:ii}),Jr},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){var Jr=this.getData(),Qr=Jr.getItemModel(Wr),ti=Qr.get("name");if(ti)return ti;var ei=Qr.get("fromName"),ri=Qr.get("toName"),ii=[];return ei!=null&&ii.push(ei),ri!=null&&ii.push(ri),Jn("nameValue",{name:ii.join(" > ")})},Gr.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},Gr.prototype.getProgressive=function(){var Wr=this.option.progressive;return Wr??(this.option.large?1e4:this.get("progressive"))},Gr.prototype.getProgressiveThreshold=function(){var Wr=this.option.progressiveThreshold;return Wr??(this.option.large?2e4:this.get("progressiveThreshold"))},Gr.prototype.getZLevelKey=function(){var Wr=this.getModel("effect"),Zr=Wr.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:Wr.get("show")&&Zr>0?Zr+"":""},Gr.type="series.lines",Gr.dependencies=["grid","polar","geo","calendar"],Gr.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},Gr}(Pn),rU=ZQ;function t_(Yr){return Yr instanceof Array||(Yr=[Yr,Yr]),Yr}var jQ={seriesType:"lines",reset:function(Yr){var Gr=t_(Yr.get("symbol")),Wr=t_(Yr.get("symbolSize")),Zr=Yr.getData();Zr.setVisual("fromSymbol",Gr&&Gr[0]),Zr.setVisual("toSymbol",Gr&&Gr[1]),Zr.setVisual("fromSymbolSize",Wr&&Wr[0]),Zr.setVisual("toSymbolSize",Wr&&Wr[1]);function Kr(Jr,Qr){var ti=Jr.getItemModel(Qr),ei=t_(ti.getShallow("symbol",!0)),ri=t_(ti.getShallow("symbolSize",!0));ei[0]&&Jr.setItemVisual(Qr,"fromSymbol",ei[0]),ei[1]&&Jr.setItemVisual(Qr,"toSymbol",ei[1]),ri[0]&&Jr.setItemVisual(Qr,"fromSymbolSize",ri[0]),ri[1]&&Jr.setItemVisual(Qr,"toSymbolSize",ri[1])}return{dataEach:Zr.hasItemOption?Kr:null}}},iU=jQ;function NA(Yr){Yr.registerChartView(tU),Yr.registerSeriesModel(rU),Yr.registerLayout(Qx),Yr.registerVisual(iU)}var KQ=256,$Q=function(){function Yr(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var Gr=fo.createCanvas();this.canvas=Gr}return Yr.prototype.update=function(Gr,Wr,Zr,Kr,Jr,Qr){var ti=this._getBrush(),ei=this._getGradient(Jr,"inRange"),ri=this._getGradient(Jr,"outOfRange"),ii=this.pointSize+this.blurSize,ni=this.canvas,ai=ni.getContext("2d"),oi=Gr.length;ni.width=Wr,ni.height=Zr;for(var si=0;si<oi;++si){var li=Gr[si],ui=li[0],fi=li[1],hi=li[2],ci=Kr(hi);ai.globalAlpha=ci,ai.drawImage(ti,ui-ii,fi-ii)}if(!ni.width||!ni.height)return ni;for(var pi=ai.getImageData(0,0,ni.width,ni.height),di=pi.data,vi=0,mi=di.length,gi=this.minOpacity,yi=this.maxOpacity,Si=yi-gi;vi<mi;){var ci=di[vi+3]/256,bi=Math.floor(ci*(KQ-1))*4;if(ci>0){var Ti=Qr(ci)?ei:ri;ci>0&&(ci=ci*Si+gi),di[vi++]=Ti[bi],di[vi++]=Ti[bi+1],di[vi++]=Ti[bi+2],di[vi++]=Ti[bi+3]*ci*256}else vi+=4}return ai.putImageData(pi,0,0),ni},Yr.prototype._getBrush=function(){var Gr=this._brushCanvas||(this._brushCanvas=fo.createCanvas()),Wr=this.pointSize+this.blurSize,Zr=Wr*2;Gr.width=Zr,Gr.height=Zr;var Kr=Gr.getContext("2d");return Kr.clearRect(0,0,Zr,Zr),Kr.shadowOffsetX=Zr,Kr.shadowBlur=this.blurSize,Kr.shadowColor="#000",Kr.beginPath(),Kr.arc(-Wr,Wr,this.pointSize,0,Math.PI*2,!0),Kr.closePath(),Kr.fill(),Gr},Yr.prototype._getGradient=function(Gr,Wr){for(var Zr=this._gradientPixels,Kr=Zr[Wr]||(Zr[Wr]=new Uint8ClampedArray(256*4)),Jr=[0,0,0,0],Qr=0,ti=0;ti<256;ti++)Gr[Wr](ti/255,!0,Jr),Kr[Qr++]=Jr[0],Kr[Qr++]=Jr[1],Kr[Qr++]=Jr[2],Kr[Qr++]=Jr[3];return Kr},Yr}(),nU=$Q;function JQ(Yr,Gr,Wr){var Zr=Yr[1]-Yr[0];Gr=Oi(Gr,function(Qr){return{interval:[(Qr.interval[0]-Yr[0])/Zr,(Qr.interval[1]-Yr[0])/Zr]}});var Kr=Gr.length,Jr=0;return function(Qr){var ti;for(ti=Jr;ti<Kr;ti++){var ei=Gr[ti].interval;if(ei[0]<=Qr&&Qr<=ei[1]){Jr=ti;break}}if(ti===Kr)for(ti=Jr-1;ti>=0;ti--){var ei=Gr[ti].interval;if(ei[0]<=Qr&&Qr<=ei[1]){Jr=ti;break}}return ti>=0&&ti<Kr&&Wr[ti]}}function QQ(Yr,Gr){var Wr=Yr[1]-Yr[0];return Gr=[(Gr[0]-Yr[0])/Wr,(Gr[1]-Yr[0])/Wr],function(Zr){return Zr>=Gr[0]&&Zr<=Gr[1]}}function aU(Yr){var Gr=Yr.dimensions;return Gr[0]==="lng"&&Gr[1]==="lat"}var ttt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr;Zr.eachComponent("visualMap",function(ti){ti.eachTargetSeries(function(ei){ei===Wr&&(Jr=ti)})}),this._progressiveEls=null,this.group.removeAll();var Qr=Wr.coordinateSystem;Qr.type==="cartesian2d"||Qr.type==="calendar"?this._renderOnCartesianAndCalendar(Wr,Kr,0,Wr.getData().count()):aU(Qr)&&this._renderOnGeo(Qr,Wr,Jr,Kr)},Gr.prototype.incrementalPrepareRender=function(Wr,Zr,Kr){this.group.removeAll()},Gr.prototype.incrementalRender=function(Wr,Zr,Kr,Jr){var Qr=Zr.coordinateSystem;Qr&&(aU(Qr)?this.render(Zr,Kr,Jr):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(Zr,Jr,Wr.start,Wr.end,!0)))},Gr.prototype.eachRendered=function(Wr){Co(this._progressiveEls||this.group,Wr)},Gr.prototype._renderOnCartesianAndCalendar=function(Wr,Zr,Kr,Jr,Qr){var ti=Wr.coordinateSystem,ei=zs(ti,"cartesian2d"),ri,ii,ni,ai;if(ei){var oi=ti.getAxis("x"),si=ti.getAxis("y");ri=oi.getBandWidth()+.5,ii=si.getBandWidth()+.5,ni=oi.scale.getExtent(),ai=si.scale.getExtent()}for(var li=this.group,ui=Wr.getData(),fi=Wr.getModel(["emphasis","itemStyle"]).getItemStyle(),hi=Wr.getModel(["blur","itemStyle"]).getItemStyle(),ci=Wr.getModel(["select","itemStyle"]).getItemStyle(),pi=Wr.get(["itemStyle","borderRadius"]),di=Hn(Wr),vi=Wr.getModel("emphasis"),mi=vi.get("focus"),gi=vi.get("blurScope"),yi=vi.get("disabled"),Si=ei?[ui.mapDimension("x"),ui.mapDimension("y"),ui.mapDimension("value")]:[ui.mapDimension("time"),ui.mapDimension("value")],bi=Kr;bi<Jr;bi++){var Ti=void 0,Ai=ui.getItemVisual(bi,"style");if(ei){var Ei=ui.get(Si[0],bi),Mi=ui.get(Si[1],bi);if(isNaN(ui.get(Si[2],bi))||isNaN(Ei)||isNaN(Mi)||Ei<ni[0]||Ei>ni[1]||Mi<ai[0]||Mi>ai[1])continue;var wi=ti.dataToPoint([Ei,Mi]);Ti=new mn({shape:{x:wi[0]-ri/2,y:wi[1]-ii/2,width:ri,height:ii},style:Ai})}else{if(isNaN(ui.get(Si[1],bi)))continue;Ti=new mn({z2:1,shape:ti.dataToRect([ui.get(Si[0],bi)]).contentShape,style:Ai})}if(ui.hasItemOption){var Pi=ui.getItemModel(bi),xi=Pi.getModel("emphasis");fi=xi.getModel("itemStyle").getItemStyle(),hi=Pi.getModel(["blur","itemStyle"]).getItemStyle(),ci=Pi.getModel(["select","itemStyle"]).getItemStyle(),pi=Pi.get(["itemStyle","borderRadius"]),mi=xi.get("focus"),gi=xi.get("blurScope"),yi=xi.get("disabled"),di=Hn(Pi)}Ti.shape.r=pi;var Ci=Wr.getRawValue(bi),Li="-";Ci&&Ci[2]!=null&&(Li=Ci[2]+""),jn(Ti,di,{labelFetcher:Wr,labelDataIndex:bi,defaultOpacity:Ai.opacity,defaultText:Li}),Ti.ensureState("emphasis").style=fi,Ti.ensureState("blur").style=hi,Ti.ensureState("select").style=ci,In(Ti,mi,gi,yi),Ti.incremental=Qr,Qr&&(Ti.states.emphasis.hoverLayer=!0),li.add(Ti),ui.setItemGraphicEl(bi,Ti),this._progressiveEls&&this._progressiveEls.push(Ti)}},Gr.prototype._renderOnGeo=function(Wr,Zr,Kr,Jr){var Qr=Kr.targetVisuals.inRange,ti=Kr.targetVisuals.outOfRange,ei=Zr.getData(),ri=this._hmLayer||this._hmLayer||new nU;ri.blurSize=Zr.get("blurSize"),ri.pointSize=Zr.get("pointSize"),ri.minOpacity=Zr.get("minOpacity"),ri.maxOpacity=Zr.get("maxOpacity");var ii=Wr.getViewRect().clone(),ni=Wr.getRoamTransform();ii.applyTransform(ni);var ai=Math.max(ii.x,0),oi=Math.max(ii.y,0),si=Math.min(ii.width+ii.x,Jr.getWidth()),li=Math.min(ii.height+ii.y,Jr.getHeight()),ui=si-ai,fi=li-oi,hi=[ei.mapDimension("lng"),ei.mapDimension("lat"),ei.mapDimension("value")],ci=ei.mapArray(hi,function(mi,gi,yi){var Si=Wr.dataToPoint([mi,gi]);return Si[0]-=ai,Si[1]-=oi,Si.push(yi),Si}),pi=Kr.getExtent(),di=Kr.type==="visualMap.continuous"?QQ(pi,Kr.option.range):JQ(pi,Kr.getPieceList(),Kr.option.selected);ri.update(ci,ui,fi,Qr.color.getNormalizer(),{inRange:Qr.color.getColorMapper(),outOfRange:ti.color.getColorMapper()},di);var vi=new Kn({style:{width:ui,height:fi,x:ai,y:oi,image:ri.canvas},silent:!0});this.group.add(vi)},Gr.type="heatmap",Gr}(An),oU=ttt;var ett=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){return ja(null,this,{generateCoord:"value"})},Gr.prototype.preventIncremental=function(){var Wr=xu.get(this.get("coordinateSystem"));if(Wr&&Wr.dimensions)return Wr.dimensions[0]==="lng"&&Wr.dimensions[1]==="lat"},Gr.type="series.heatmap",Gr.dependencies=["grid","geo","calendar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},Gr}(Pn),sU=ett;function FA(Yr){Yr.registerChartView(oU),Yr.registerSeriesModel(sU)}var rtt=["itemStyle","borderWidth"],lU=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],VA=new wo,itt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this.group,Qr=Wr.getData(),ti=this._data,ei=Wr.coordinateSystem,ri=ei.getBaseAxis(),ii=ri.isHorizontal(),ni=ei.master.getRect(),ai={ecSize:{width:Kr.getWidth(),height:Kr.getHeight()},seriesModel:Wr,coordSys:ei,coordSysExtent:[[ni.x,ni.x+ni.width],[ni.y,ni.y+ni.height]],isHorizontal:ii,valueDim:lU[+ii],categoryDim:lU[1-+ii]};Qr.diff(ti).add(function(si){if(Qr.hasValue(si)){var li=fU(Qr,si),ui=uU(Qr,si,li,ai),fi=hU(Qr,ai,ui);Qr.setItemGraphicEl(si,fi),Jr.add(fi),pU(fi,ai,ui)}}).update(function(si,li){var ui=ti.getItemGraphicEl(li);if(!Qr.hasValue(si)){Jr.remove(ui);return}var fi=fU(Qr,si),hi=uU(Qr,si,fi,ai),ci=_U(Qr,hi);ui&&ci!==ui.__pictorialShapeStr&&(Jr.remove(ui),Qr.setItemGraphicEl(si,null),ui=null),ui?ftt(ui,ai,hi):ui=hU(Qr,ai,hi,!0),Qr.setItemGraphicEl(si,ui),ui.__pictorialSymbolMeta=hi,Jr.add(ui),pU(ui,ai,hi)}).remove(function(si){var li=ti.getItemGraphicEl(si);li&&cU(ti,si,li.__pictorialSymbolMeta.animationModel,li)}).execute();var oi=Wr.get("clip",!0)?Gl(Wr.coordinateSystem,!1,Wr):null;return oi?Jr.setClipPath(oi):Jr.removeClipPath(),this._data=Qr,this.group},Gr.prototype.remove=function(Wr,Zr){var Kr=this.group,Jr=this._data;Wr.get("animation")?Jr&&Jr.eachItemGraphicEl(function(Qr){cU(Jr,Qi(Qr).dataIndex,Wr,Qr)}):Kr.removeAll()},Gr.type="pictorialBar",Gr}(An);function uU(Yr,Gr,Wr,Zr){var Kr=Yr.getItemLayout(Gr),Jr=Wr.get("symbolRepeat"),Qr=Wr.get("symbolClip"),ti=Wr.get("symbolPosition")||"start",ei=Wr.get("symbolRotate"),ri=(ei||0)*Math.PI/180||0,ii=Wr.get("symbolPatternSize")||2,ni=Wr.isAnimationEnabled(),ai={dataIndex:Gr,layout:Kr,itemModel:Wr,symbolType:Yr.getItemVisual(Gr,"symbol")||"circle",style:Yr.getItemVisual(Gr,"style"),symbolClip:Qr,symbolRepeat:Jr,symbolRepeatDirection:Wr.get("symbolRepeatDirection"),symbolPatternSize:ii,rotation:ri,animationModel:ni?Wr:null,hoverScale:ni&&Wr.get(["emphasis","scale"]),z2:Wr.getShallow("z",!0)||0};ntt(Wr,Jr,Kr,Zr,ai),att(Yr,Gr,Kr,Jr,Qr,ai.boundingLength,ai.pxSign,ii,Zr,ai),ott(Wr,ai.symbolScale,ri,Zr,ai);var oi=ai.symbolSize,si=ps(Wr.get("symbolOffset"),oi);return stt(Wr,oi,Kr,Jr,Qr,si,ti,ai.valueLineWidth,ai.boundingLength,ai.repeatCutLength,Zr,ai),ai}function ntt(Yr,Gr,Wr,Zr,Kr){var Jr=Zr.valueDim,Qr=Yr.get("symbolBoundingData"),ti=Zr.coordSys.getOtherAxis(Zr.coordSys.getBaseAxis()),ei=ti.toGlobalCoord(ti.dataToCoord(0)),ri=1-+(Wr[Jr.wh]<=0),ii;if(Ri(Qr)){var ni=[BA(ti,Qr[0])-ei,BA(ti,Qr[1])-ei];ni[1]<ni[0]&&ni.reverse(),ii=ni[ri]}else Qr!=null?ii=BA(ti,Qr)-ei:Gr?ii=Zr.coordSysExtent[Jr.index][ri]-ei:ii=Wr[Jr.wh];Kr.boundingLength=ii,Gr&&(Kr.repeatCutLength=Wr[Jr.wh]),Kr.pxSign=ii>0?1:-1}function BA(Yr,Gr){return Yr.toGlobalCoord(Yr.dataToCoord(Yr.scale.parse(Gr)))}function att(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){var ii=ei.valueDim,ni=ei.categoryDim,ai=Math.abs(Wr[ni.wh]),oi=Yr.getItemVisual(Gr,"symbolSize"),si;Ri(oi)?si=oi.slice():oi==null?si=["100%","100%"]:si=[oi,oi],si[ni.index]=Ui(si[ni.index],ai),si[ii.index]=Ui(si[ii.index],Zr?ai:Math.abs(Jr)),ri.symbolSize=si;var li=ri.symbolScale=[si[0]/ti,si[1]/ti];li[ii.index]*=(ei.isHorizontal?-1:1)*Qr}function ott(Yr,Gr,Wr,Zr,Kr){var Jr=Yr.get(rtt)||0;Jr&&(VA.attr({scaleX:Gr[0],scaleY:Gr[1],rotation:Wr}),VA.updateTransform(),Jr/=VA.getLineScale(),Jr*=Gr[Zr.valueDim.index]),Kr.valueLineWidth=Jr||0}function stt(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii,ni){var ai=ii.categoryDim,oi=ii.valueDim,si=ni.pxSign,li=Math.max(Gr[oi.index]+ti,0),ui=li;if(Zr){var fi=Math.abs(ei),hi=ta(Yr.get("symbolMargin"),"15%")+"",ci=!1;hi.lastIndexOf("!")===hi.length-1&&(ci=!0,hi=hi.slice(0,hi.length-1));var pi=Ui(hi,Gr[oi.index]),di=Math.max(li+pi*2,0),vi=ci?0:pi*2,mi=Ud(Zr),gi=mi?Zr:dU((fi+vi)/di),yi=fi-gi*li;pi=yi/2/(ci?gi:Math.max(gi-1,1)),di=li+pi*2,vi=ci?0:pi*2,!mi&&Zr!=="fixed"&&(gi=ri?dU((Math.abs(ri)+vi)/di):0),ui=gi*di-vi,ni.repeatTimes=gi,ni.symbolMargin=pi}var Si=si*(ui/2),bi=ni.pathPosition=[];bi[ai.index]=Wr[ai.wh]/2,bi[oi.index]=Qr==="start"?Si:Qr==="end"?ei-Si:ei/2,Jr&&(bi[0]+=Jr[0],bi[1]+=Jr[1]);var Ti=ni.bundlePosition=[];Ti[ai.index]=Wr[ai.xy],Ti[oi.index]=Wr[oi.xy];var Ai=ni.barRectShape=ki({},Wr);Ai[oi.wh]=si*Math.max(Math.abs(Wr[oi.wh]),Math.abs(bi[oi.index]+Si)),Ai[ai.wh]=Wr[ai.wh];var Ei=ni.clipShape={};Ei[ai.xy]=-Wr[ai.xy],Ei[ai.wh]=ii.ecSize[ai.wh],Ei[oi.xy]=0,Ei[oi.wh]=Wr[oi.wh]}function vU(Yr){var Gr=Yr.symbolPatternSize,Wr=Bn(Yr.symbolType,-Gr/2,-Gr/2,Gr,Gr);return Wr.attr({culling:!0}),Wr.type!=="image"&&Wr.setStyle({strokeNoScale:!0}),Wr}function mU(Yr,Gr,Wr,Zr){var Kr=Yr.__pictorialBundle,Jr=Wr.symbolSize,Qr=Wr.valueLineWidth,ti=Wr.pathPosition,ei=Gr.valueDim,ri=Wr.repeatTimes||0,ii=0,ni=Jr[Gr.valueDim.index]+Qr+Wr.symbolMargin*2;for(UA(Yr,function(li){li.__pictorialAnimationIndex=ii,li.__pictorialRepeatTimes=ri,ii<ri?Fp(li,null,si(ii),Wr,Zr):Fp(li,null,{scaleX:0,scaleY:0},Wr,Zr,function(){Kr.remove(li)}),ii++});ii<ri;ii++){var ai=vU(Wr);ai.__pictorialAnimationIndex=ii,ai.__pictorialRepeatTimes=ri,Kr.add(ai);var oi=si(ii);Fp(ai,{x:oi.x,y:oi.y,scaleX:0,scaleY:0},{scaleX:oi.scaleX,scaleY:oi.scaleY,rotation:oi.rotation},Wr,Zr)}function si(li){var ui=ti.slice(),fi=Wr.pxSign,hi=li;return(Wr.symbolRepeatDirection==="start"?fi>0:fi<0)&&(hi=ri-1-li),ui[ei.index]=ni*(hi-ri/2+.5)+ti[ei.index],{x:ui[0],y:ui[1],scaleX:Wr.symbolScale[0],scaleY:Wr.symbolScale[1],rotation:Wr.rotation}}}function gU(Yr,Gr,Wr,Zr){var Kr=Yr.__pictorialBundle,Jr=Yr.__pictorialMainPath;Jr?Fp(Jr,null,{x:Wr.pathPosition[0],y:Wr.pathPosition[1],scaleX:Wr.symbolScale[0],scaleY:Wr.symbolScale[1],rotation:Wr.rotation},Wr,Zr):(Jr=Yr.__pictorialMainPath=vU(Wr),Kr.add(Jr),Fp(Jr,{x:Wr.pathPosition[0],y:Wr.pathPosition[1],scaleX:0,scaleY:0,rotation:Wr.rotation},{scaleX:Wr.symbolScale[0],scaleY:Wr.symbolScale[1]},Wr,Zr))}function yU(Yr,Gr,Wr){var Zr=ki({},Gr.barRectShape),Kr=Yr.__pictorialBarRect;Kr?Fp(Kr,null,{shape:Zr},Gr,Wr):(Kr=Yr.__pictorialBarRect=new mn({z2:2,shape:Zr,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),Kr.disableMorphing=!0,Yr.add(Kr))}function xU(Yr,Gr,Wr,Zr){if(Wr.symbolClip){var Kr=Yr.__pictorialClipPath,Jr=ki({},Wr.clipShape),Qr=Gr.valueDim,ti=Wr.animationModel,ei=Wr.dataIndex;if(Kr)bn(Kr,{shape:Jr},ti,ei);else{Jr[Qr.wh]=0,Kr=new mn({shape:Jr}),Yr.__pictorialBundle.setClipPath(Kr),Yr.__pictorialClipPath=Kr;var ri={};ri[Qr.wh]=Wr.clipShape[Qr.wh],yn[Zr?"updateProps":"initProps"](Kr,{shape:ri},ti,ei)}}}function fU(Yr,Gr){var Wr=Yr.getItemModel(Gr);return Wr.getAnimationDelayParams=ltt,Wr.isAnimationEnabled=utt,Wr}function ltt(Yr){return{index:Yr.__pictorialAnimationIndex,count:Yr.__pictorialRepeatTimes}}function utt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function hU(Yr,Gr,Wr,Zr){var Kr=new Zi,Jr=new Zi;return Kr.add(Jr),Kr.__pictorialBundle=Jr,Jr.x=Wr.bundlePosition[0],Jr.y=Wr.bundlePosition[1],Wr.symbolRepeat?mU(Kr,Gr,Wr):gU(Kr,Gr,Wr),yU(Kr,Wr,Zr),xU(Kr,Gr,Wr,Zr),Kr.__pictorialShapeStr=_U(Yr,Wr),Kr.__pictorialSymbolMeta=Wr,Kr}function ftt(Yr,Gr,Wr){var Zr=Wr.animationModel,Kr=Wr.dataIndex,Jr=Yr.__pictorialBundle;bn(Jr,{x:Wr.bundlePosition[0],y:Wr.bundlePosition[1]},Zr,Kr),Wr.symbolRepeat?mU(Yr,Gr,Wr,!0):gU(Yr,Gr,Wr,!0),yU(Yr,Wr,!0),xU(Yr,Gr,Wr,!0)}function cU(Yr,Gr,Wr,Zr){var Kr=Zr.__pictorialBarRect;Kr&&Kr.removeTextContent();var Jr=[];UA(Zr,function(Qr){Jr.push(Qr)}),Zr.__pictorialMainPath&&Jr.push(Zr.__pictorialMainPath),Zr.__pictorialClipPath&&(Wr=null),_i(Jr,function(Qr){Es(Qr,{scaleX:0,scaleY:0},Wr,Gr,function(){Zr.parent&&Zr.parent.remove(Zr)})}),Yr.setItemGraphicEl(Gr,null)}function _U(Yr,Gr){return[Yr.getItemVisual(Gr.dataIndex,"symbol")||"none",!!Gr.symbolRepeat,!!Gr.symbolClip].join(":")}function UA(Yr,Gr,Wr){_i(Yr.__pictorialBundle.children(),function(Zr){Zr!==Yr.__pictorialBarRect&&Gr.call(Wr,Zr)})}function Fp(Yr,Gr,Wr,Zr,Kr,Jr){Gr&&Yr.attr(Gr),Zr.symbolClip&&!Kr?Wr&&Yr.attr(Wr):Wr&&yn[Kr?"updateProps":"initProps"](Yr,Wr,Zr.animationModel,Zr.dataIndex,Jr)}function pU(Yr,Gr,Wr){var Zr=Wr.dataIndex,Kr=Wr.itemModel,Jr=Kr.getModel("emphasis"),Qr=Jr.getModel("itemStyle").getItemStyle(),ti=Kr.getModel(["blur","itemStyle"]).getItemStyle(),ei=Kr.getModel(["select","itemStyle"]).getItemStyle(),ri=Kr.getShallow("cursor"),ii=Jr.get("focus"),ni=Jr.get("blurScope"),ai=Jr.get("scale");UA(Yr,function(li){if(li instanceof Kn){var ui=li.style;li.useStyle(ki({image:ui.image,x:ui.x,y:ui.y,width:ui.width,height:ui.height},Wr.style))}else li.useStyle(Wr.style);var fi=li.ensureState("emphasis");fi.style=Qr,ai&&(fi.scaleX=li.scaleX*1.1,fi.scaleY=li.scaleY*1.1),li.ensureState("blur").style=ti,li.ensureState("select").style=ei,ri&&(li.cursor=ri),li.z2=Wr.z2});var oi=Gr.valueDim.posDesc[+(Wr.boundingLength>0)],si=Yr.__pictorialBarRect;si.ignoreClip=!0,jn(si,Hn(Kr),{labelFetcher:Gr.seriesModel,labelDataIndex:Zr,defaultText:vl(Gr.seriesModel.getData(),Zr),inheritColor:Wr.style.fill,defaultOpacity:Wr.style.opacity,defaultOutsidePosition:oi}),In(Yr,ii,ni,Jr.get("disabled"))}function dU(Yr){var Gr=Math.round(Yr);return Math.abs(Yr-Gr)<1e-4?Gr:Math.ceil(Yr)}var bU=itt;var htt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.hasSymbolVisual=!0,Wr.defaultSymbol="roundRect",Wr}return Gr.prototype.getInitialData=function(Wr){return Wr.stack=null,Yr.prototype.getInitialData.apply(this,arguments)},Gr.type="series.pictorialBar",Gr.dependencies=["grid"],Gr.defaultOption=mo(xp.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),Gr}(xp),SU=htt;function GA(Yr){Yr.registerChartView(bU),Yr.registerSeriesModel(SU),Yr.registerLayout(Yr.PRIORITY.VISUAL.LAYOUT,en(O0,"pictorialBar")),Yr.registerLayout(Yr.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,z0("pictorialBar"))}var ctt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._layers=[],Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Wr.getData(),Qr=this,ti=this.group,ei=Wr.getLayerSeries(),ri=Jr.getLayout("layoutInfo"),ii=ri.rect,ni=ri.boundaryGap;ti.x=0,ti.y=ii.y+ni[0];function ai(ui){return ui.name}var oi=new oo(this._layersSeries||[],ei,ai,ai),si=[];oi.add(Gi(li,this,"add")).update(Gi(li,this,"update")).remove(Gi(li,this,"remove")).execute();function li(ui,fi,hi){var ci=Qr._layers;if(ui==="remove"){ti.remove(ci[fi]);return}for(var pi=[],di=[],vi,mi=ei[fi].indices,gi=0;gi<mi.length;gi++){var yi=Jr.getItemLayout(mi[gi]),Si=yi.x,bi=yi.y0,Ti=yi.y;pi.push(Si,bi),di.push(Si,bi+Ti),vi=Jr.getItemVisual(mi[gi],"style")}var Ai,Ei=Jr.getItemLayout(mi[0]),Mi=Wr.getModel("label"),wi=Mi.get("margin"),Pi=Wr.getModel("emphasis");if(ui==="add"){var xi=si[fi]=new Zi;Ai=new hx({shape:{points:pi,stackedOnPoints:di,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),xi.add(Ai),ti.add(xi),Wr.isAnimationEnabled()&&Ai.setClipPath(ptt(Ai.getBoundingRect(),Wr,function(){Ai.removeClipPath()}))}else{var xi=ci[hi];Ai=xi.childAt(0),ti.add(xi),si[fi]=xi,bn(Ai,{shape:{points:pi,stackedOnPoints:di}},Wr),La(Ai)}jn(Ai,Hn(Wr),{labelDataIndex:mi[gi-1],defaultText:Jr.getName(mi[gi-1]),inheritColor:vi.fill},{normal:{verticalAlign:"middle"}}),Ai.setTextConfig({position:null,local:!0});var Ci=Ai.getTextContent();Ci&&(Ci.x=Ei.x-wi,Ci.y=Ei.y0+Ei.y/2),Ai.useStyle(vi),Jr.setItemGraphicEl(fi,Ai),ia(Ai,Wr),In(Ai,Pi.get("focus"),Pi.get("blurScope"),Pi.get("disabled"))}this._layersSeries=ei,this._layers=si},Gr.type="themeRiver",Gr}(An);function ptt(Yr,Gr,Wr){var Zr=new mn({shape:{x:Yr.x-10,y:Yr.y-10,width:0,height:Yr.height+20}});return Ln(Zr,{shape:{x:Yr.x-50,width:Yr.width+100,height:Yr.height+20}},Gr,Wr),Zr}var wU=ctt;var HA=2,dtt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr){Yr.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wl(Gi(this.getData,this),Gi(this.getRawData,this))},Gr.prototype.fixData=function(Wr){var Zr=Wr.length,Kr={},Jr=Wd(Wr,function(ai){return Kr.hasOwnProperty(ai[0]+"")||(Kr[ai[0]+""]=-1),ai[2]}),Qr=[];Jr.buckets.each(function(ai,oi){Qr.push({name:oi,dataList:ai})});for(var ti=Qr.length,ei=0;ei<ti;++ei){for(var ri=Qr[ei].name,ii=0;ii<Qr[ei].dataList.length;++ii){var ni=Qr[ei].dataList[ii][0]+"";Kr[ni]=ei}for(var ni in Kr)Kr.hasOwnProperty(ni)&&Kr[ni]!==ei&&(Kr[ni]=ei,Wr[Zr]=[ni,0,ri],Zr++)}return Wr},Gr.prototype.getInitialData=function(Wr,Zr){for(var Kr=this.getReferringComponents("singleAxis",Yn).models[0],Jr=Kr.get("type"),Qr=Tn(Wr.data,function(si){return si[2]!==void 0}),ti=this.fixData(Qr||[]),ei=[],ri=this.nameMap=Hi(),ii=0,ni=0;ni<ti.length;++ni)ei.push(ti[ni][HA]),ri.get(ti[ni][HA])||(ri.set(ti[ni][HA],ii),ii++);var ai=hl(ti,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Wh(Jr)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,oi=new ha(ai,this);return oi.initData(ti),oi},Gr.prototype.getLayerSeries=function(){for(var Wr=this.getData(),Zr=Wr.count(),Kr=[],Jr=0;Jr<Zr;++Jr)Kr[Jr]=Jr;var Qr=Wr.mapDimension("single"),ti=Wd(Kr,function(ri){return Wr.get("name",ri)}),ei=[];return ti.buckets.each(function(ri,ii){ri.sort(function(ni,ai){return Wr.get(Qr,ni)-Wr.get(Qr,ai)}),ei.push({name:ii,indices:ri})}),ei},Gr.prototype.getAxisTooltipData=function(Wr,Zr,Kr){Ri(Wr)||(Wr=Wr?[Wr]:[]);for(var Jr=this.getData(),Qr=this.getLayerSeries(),ti=[],ei=Qr.length,ri,ii=0;ii<ei;++ii){for(var ni=Number.MAX_VALUE,ai=-1,oi=Qr[ii].indices.length,si=0;si<oi;++si){var li=Jr.get(Wr[0],Qr[ii].indices[si]),ui=Math.abs(li-Zr);ui<=ni&&(ri=li,ni=ui,ai=Qr[ii].indices[si])}ti.push(ai)}return{dataIndices:ti,nestestValue:ri}},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){var Jr=this.getData(),Qr=Jr.getName(Wr),ti=Jr.get(Jr.mapDimension("value"),Wr);return Jn("nameValue",{name:Qr,value:ti})},Gr.type="series.themeRiver",Gr.dependencies=["singleAxis"],Gr.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},Gr}(Pn),CU=dtt;function WA(Yr,Gr){Yr.eachSeriesByType("themeRiver",function(Wr){var Zr=Wr.getData(),Kr=Wr.coordinateSystem,Jr={},Qr=Kr.getRect();Jr.rect=Qr;var ti=Wr.get("boundaryGap"),ei=Kr.getAxis();if(Jr.boundaryGap=ti,ei.orient==="horizontal"){ti[0]=Ui(ti[0],Qr.height),ti[1]=Ui(ti[1],Qr.height);var ri=Qr.height-ti[0]-ti[1];TU(Zr,Wr,ri)}else{ti[0]=Ui(ti[0],Qr.width),ti[1]=Ui(ti[1],Qr.width);var ii=Qr.width-ti[0]-ti[1];TU(Zr,Wr,ii)}Zr.setLayout("layoutInfo",Jr)})}function TU(Yr,Gr,Wr){if(Yr.count())for(var Zr=Gr.coordinateSystem,Kr=Gr.getLayerSeries(),Jr=Yr.mapDimension("single"),Qr=Yr.mapDimension("value"),ti=Oi(Kr,function(ui){return Oi(ui.indices,function(fi){var hi=Zr.dataToPoint(Yr.get(Jr,fi));return hi[1]=Yr.get(Qr,fi),hi})}),ei=vtt(ti),ri=ei.y0,ii=Wr/ei.max,ni=Kr.length,ai=Kr[0].indices.length,oi,si=0;si<ai;++si){oi=ri[si]*ii,Yr.setItemLayout(Kr[0].indices[si],{layerIndex:0,x:ti[0][si][0],y0:oi,y:ti[0][si][1]*ii});for(var li=1;li<ni;++li)oi+=ti[li-1][si][1]*ii,Yr.setItemLayout(Kr[li].indices[si],{layerIndex:li,x:ti[li][si][0],y0:oi,y:ti[li][si][1]*ii})}}function vtt(Yr){for(var Gr=Yr.length,Wr=Yr[0].length,Zr=[],Kr=[],Jr=0,Qr=0;Qr<Wr;++Qr){for(var ti=0,ei=0;ei<Gr;++ei)ti+=Yr[ei][Qr][1];ti>Jr&&(Jr=ti),Zr.push(ti)}for(var ri=0;ri<Wr;++ri)Kr[ri]=(Jr-Zr[ri])/2;Jr=0;for(var ii=0;ii<Wr;++ii){var ni=Zr[ii]+Kr[ii];ni>Jr&&(Jr=ni)}return{y0:Kr,max:Jr}}function YA(Yr){Yr.registerChartView(wU),Yr.registerSeriesModel(CU),Yr.registerLayout(WA),Yr.registerProcessor(gl("themeRiver"))}var mtt=2,gtt=4,ytt=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr){var Qr=Yr.call(this)||this;Qr.z2=mtt,Qr.textConfig={inside:!0},Qi(Qr).seriesIndex=Zr.seriesIndex;var ti=new xn({z2:gtt,silent:Wr.getModel().get(["label","silent"])});return Qr.setTextContent(ti),Qr.updateData(!0,Wr,Zr,Kr,Jr),Qr}return Gr.prototype.updateData=function(Wr,Zr,Kr,Jr,Qr){this.node=Zr,Zr.piece=this,Kr=Kr||this._seriesModel,Jr=Jr||this._ecModel;var ti=this;Qi(ti).dataIndex=Zr.dataIndex;var ei=Zr.getModel(),ri=ei.getModel("emphasis"),ii=Zr.getLayout(),ni=ki({},ii);ni.label=null;var ai=Zr.getVisual("style");ai.lineJoin="bevel";var oi=Zr.getVisual("decal");oi&&(ai.decal=ul(oi,Qr));var si=Hl(ei.getModel("itemStyle"),ni,!0);ki(ni,si),_i(za,function(hi){var ci=ti.ensureState(hi),pi=ei.getModel([hi,"itemStyle"]);ci.style=pi.getItemStyle();var di=Hl(pi,ni);di&&(ci.shape=di)}),Wr?(ti.setShape(ni),ti.shape.r=ii.r0,Ln(ti,{shape:{r:ii.r}},Kr,Zr.dataIndex)):(bn(ti,{shape:ni},Kr),La(ti)),ti.useStyle(ai),this._updateLabel(Kr);var li=ei.getShallow("cursor");li&&ti.attr("cursor",li),this._seriesModel=Kr||this._seriesModel,this._ecModel=Jr||this._ecModel;var ui=ri.get("focus"),fi=ui==="ancestor"?Zr.getAncestorsIndices():ui==="descendant"?Zr.getDescendantIndices():ui;In(this,fi,ri.get("blurScope"),ri.get("disabled"))},Gr.prototype._updateLabel=function(Wr){var Zr=this,Kr=this.node.getModel(),Jr=Kr.getModel("label"),Qr=this.node.getLayout(),ti=Qr.endAngle-Qr.startAngle,ei=(Qr.startAngle+Qr.endAngle)/2,ri=Math.cos(ei),ii=Math.sin(ei),ni=this,ai=ni.getTextContent(),oi=this.node.dataIndex,si=Jr.get("minAngle")/180*Math.PI,li=Jr.get("show")&&!(si!=null&&Math.abs(ti)<si);ai.ignore=!li,_i(rf,function(fi){var hi=fi==="normal"?Kr.getModel("label"):Kr.getModel([fi,"label"]),ci=fi==="normal",pi=ci?ai:ai.ensureState(fi),di=Wr.getFormattedLabel(oi,fi);ci&&(di=di||Zr.node.name),pi.style=On(hi,{},null,fi!=="normal",!0),di&&(pi.style.text=di);var vi=hi.get("show");vi!=null&&!ci&&(pi.ignore=!vi);var mi=ui(hi,"position"),gi=ci?ni:ni.states[fi],yi=gi.style.fill;gi.textConfig={outsideFill:hi.get("color")==="inherit"?yi:null,inside:mi!=="outside"};var Si,bi=ui(hi,"distance")||0,Ti=ui(hi,"align"),Ai=ui(hi,"rotate"),Ei=Math.PI*.5,Mi=Math.PI*1.5,wi=ro(Ai==="tangential"?Math.PI/2-ei:ei),Pi=wi>Ei&&!mh(wi-Ei)&&wi<Mi;mi==="outside"?(Si=Qr.r+bi,Ti=Pi?"right":"left"):!Ti||Ti==="center"?(ti===2*Math.PI&&Qr.r0===0?Si=0:Si=(Qr.r+Qr.r0)/2,Ti="center"):Ti==="left"?(Si=Qr.r0+bi,Ti=Pi?"right":"left"):Ti==="right"&&(Si=Qr.r-bi,Ti=Pi?"left":"right"),pi.style.align=Ti,pi.style.verticalAlign=ui(hi,"verticalAlign")||"middle",pi.x=Si*ri+Qr.cx,pi.y=Si*ii+Qr.cy;var xi=0;Ai==="radial"?xi=ro(-ei)+(Pi?Math.PI:0):Ai==="tangential"?xi=ro(Math.PI/2-ei)+(Pi?Math.PI:0):gn(Ai)&&(xi=Ai*Math.PI/180),pi.rotation=ro(xi)});function ui(fi,hi){var ci=fi.get(hi);return ci??Jr.get(hi)}ai.dirtyStyle()},Gr}(Sa),XA=ytt;var e_="sunburstRootToNode",AU="sunburstHighlight",xtt="sunburstUnhighlight";function MU(Yr){Yr.registerAction({type:e_,update:"updateView"},function(Gr,Wr){Wr.eachComponent({mainType:"series",subType:"sunburst",query:Gr},Zr);function Zr(Kr,Jr){var Qr=Au(Gr,[e_],Kr);if(Qr){var ti=Kr.getViewRoot();ti&&(Gr.direction=Ap(ti,Qr.node)?"rollUp":"drillDown"),Kr.resetViewRoot(Qr.node)}}}),Yr.registerAction({type:AU,update:"none"},function(Gr,Wr,Zr){Gr=ki({},Gr),Wr.eachComponent({mainType:"series",subType:"sunburst",query:Gr},Kr);function Kr(Jr){var Qr=Au(Gr,[AU],Jr);Qr&&(Gr.dataIndex=Qr.node.dataIndex)}Zr.dispatchAction(ki(Gr,{type:"highlight"}))}),Yr.registerAction({type:xtt,update:"updateView"},function(Gr,Wr,Zr){Gr=ki({},Gr),Zr.dispatchAction(ki(Gr,{type:"downplay"}))})}var _tt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){var Qr=this;this.seriesModel=Wr,this.api=Kr,this.ecModel=Zr;var ti=Wr.getData(),ei=ti.tree.root,ri=Wr.getViewRoot(),ii=this.group,ni=Wr.get("renderLabelForZeroData"),ai=[];ri.eachNode(function(hi){ai.push(hi)});var oi=this._oldChildren||[];si(ai,oi),fi(ei,ri),this._initEvents(),this._oldChildren=ai;function si(hi,ci){if(hi.length===0&&ci.length===0)return;new oo(ci,hi,pi,pi).add(di).update(di).remove(en(di,null)).execute();function pi(vi){return vi.getId()}function di(vi,mi){var gi=vi==null?null:hi[vi],yi=mi==null?null:ci[mi];li(gi,yi)}}function li(hi,ci){if(!ni&&hi&&!hi.getValue()&&(hi=null),hi!==ei&&ci!==ei){if(ci&&ci.piece)hi?(ci.piece.updateData(!1,hi,Wr,Zr,Kr),ti.setItemGraphicEl(hi.dataIndex,ci.piece)):ui(ci);else if(hi){var pi=new XA(hi,Wr,Zr,Kr);ii.add(pi),ti.setItemGraphicEl(hi.dataIndex,pi)}}}function ui(hi){hi&&hi.piece&&(ii.remove(hi.piece),hi.piece=null)}function fi(hi,ci){ci.depth>0?(Qr.virtualPiece?Qr.virtualPiece.updateData(!1,hi,Wr,Zr,Kr):(Qr.virtualPiece=new XA(hi,Wr,Zr,Kr),ii.add(Qr.virtualPiece)),ci.piece.off("click"),Qr.virtualPiece.on("click",function(pi){Qr._rootToNode(ci.parentNode)})):Qr.virtualPiece&&(ii.remove(Qr.virtualPiece),Qr.virtualPiece=null)}},Gr.prototype._initEvents=function(){var Wr=this;this.group.off("click"),this.group.on("click",function(Zr){var Kr=!1,Jr=Wr.seriesModel.getViewRoot();Jr.eachNode(function(Qr){if(!Kr&&Qr.piece&&Qr.piece===Zr.target){var ti=Qr.getModel().get("nodeClick");if(ti==="rootToNode")Wr._rootToNode(Qr);else if(ti==="link"){var ei=Qr.getModel(),ri=ei.get("link");if(ri){var ii=ei.get("target",!0)||"_blank";Fh(ri,ii)}}Kr=!0}})})},Gr.prototype._rootToNode=function(Wr){Wr!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:e_,from:this.uid,seriesId:this.seriesModel.id,targetNode:Wr})},Gr.prototype.containPoint=function(Wr,Zr){var Kr=Zr.getData(),Jr=Kr.getItemLayout(0);if(Jr){var Qr=Wr[0]-Jr.cx,ti=Wr[1]-Jr.cy,ei=Math.sqrt(Qr*Qr+ti*ti);return ei<=Jr.r&&ei>=Jr.r0}},Gr.type="sunburst",Gr}(An),PU=_tt;var btt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.ignoreStyleOnData=!0,Wr}return Gr.prototype.getInitialData=function(Wr,Zr){var Kr={name:Wr.name,children:Wr.data};EU(Kr);var Jr=this._levelModels=Oi(Wr.levels||[],function(ei){return new Mn(ei,this,Zr)},this),Qr=Tp.createTree(Kr,this,ti);function ti(ei){ei.wrapMethod("getItemModel",function(ri,ii){var ni=Qr.getNodeByDataIndex(ii),ai=Jr[ni.depth];return ai&&(ri.parentModel=ai),ri})}return Qr.data},Gr.prototype.optionUpdated=function(){this.resetViewRoot()},Gr.prototype.getDataParams=function(Wr){var Zr=Yr.prototype.getDataParams.apply(this,arguments),Kr=this.getData().tree.getNodeByDataIndex(Wr);return Zr.treePathInfo=Af(Kr,this),Zr},Gr.prototype.getLevelModel=function(Wr){return this._levelModels&&this._levelModels[Wr.depth]},Gr.prototype.getViewRoot=function(){return this._viewRoot},Gr.prototype.resetViewRoot=function(Wr){Wr?this._viewRoot=Wr:Wr=this._viewRoot;var Zr=this.getRawData().tree.root;(!Wr||Wr!==Zr&&!Zr.contains(Wr))&&(this._viewRoot=Zr)},Gr.prototype.enableAriaDecal=function(){am(this)},Gr.type="series.sunburst",Gr.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},Gr}(Pn);function EU(Yr){var Gr=0;_i(Yr.children,function(Zr){EU(Zr);var Kr=Zr.value;Ri(Kr)&&(Kr=Kr[0]),Gr+=Kr});var Wr=Yr.value;Ri(Wr)&&(Wr=Wr[0]),(Wr==null||isNaN(Wr))&&(Wr=Gr),Wr<0&&(Wr=0),Ri(Yr.value)?Yr.value[0]=Wr:Yr.value=Wr}var DU=btt;var IU=Math.PI/180;function qA(Yr,Gr,Wr){Gr.eachSeriesByType(Yr,function(Zr){var Kr=Zr.get("center"),Jr=Zr.get("radius");Ri(Jr)||(Jr=[0,Jr]),Ri(Kr)||(Kr=[Kr,Kr]);var Qr=Wr.getWidth(),ti=Wr.getHeight(),ei=Math.min(Qr,ti),ri=Ui(Kr[0],Qr),ii=Ui(Kr[1],ti),ni=Ui(Jr[0],ei/2),ai=Ui(Jr[1],ei/2),oi=-Zr.get("startAngle")*IU,si=Zr.get("minAngle")*IU,li=Zr.getData().tree.root,ui=Zr.getViewRoot(),fi=ui.depth,hi=Zr.get("sort");hi!=null&&LU(ui,hi);var ci=0;_i(ui.children,function(wi){!isNaN(wi.getValue())&&ci++});var pi=ui.getValue(),di=Math.PI/(pi||ci)*2,vi=ui.depth>0,mi=ui.height-(vi?-1:1),gi=(ai-ni)/(mi||1),yi=Zr.get("clockwise"),Si=Zr.get("stillShowZeroSum"),bi=yi?1:-1,Ti=function(wi,Pi){if(wi){var xi=Pi;if(wi!==li){var Ci=wi.getValue(),Li=pi===0&&Si?di:Ci*di;Li<si&&(Li=si),xi=Pi+bi*Li;var Ii=wi.depth-fi-(vi?-1:1),zi=ni+gi*Ii,Bi=ni+gi*(Ii+1),Vi=Zr.getLevelModel(wi);if(Vi){var ji=Vi.get("r0",!0),tn=Vi.get("r",!0),hn=Vi.get("radius",!0);hn!=null&&(ji=hn[0],tn=hn[1]),ji!=null&&(zi=Ui(ji,ei/2)),tn!=null&&(Bi=Ui(tn,ei/2))}wi.setLayout({angle:Li,startAngle:Pi,endAngle:xi,clockwise:yi,cx:ri,cy:ii,r0:zi,r:Bi})}if(wi.children&&wi.children.length){var nn=0;_i(wi.children,function(dn){nn+=Ti(dn,Pi+nn)})}return xi-Pi}};if(vi){var Ai=ni,Ei=ni+gi,Mi=Math.PI*2;li.setLayout({angle:Mi,startAngle:oi,endAngle:oi+Mi,clockwise:yi,cx:ri,cy:ii,r0:Ai,r:Ei})}Ti(ui,oi)})}function LU(Yr,Gr){var Wr=Yr.children||[];Yr.children=Stt(Wr,Gr),Wr.length&&_i(Yr.children,function(Zr){LU(Zr,Gr)})}function Stt(Yr,Gr){if(Wi(Gr)){var Wr=Oi(Yr,function(Kr,Jr){var Qr=Kr.getValue();return{params:{depth:Kr.depth,height:Kr.height,dataIndex:Kr.dataIndex,getValue:function(){return Qr}},index:Jr}});return Wr.sort(function(Kr,Jr){return Gr(Kr.params,Jr.params)}),Oi(Wr,function(Kr){return Yr[Kr.index]})}else{var Zr=Gr==="asc";return Yr.sort(function(Kr,Jr){var Qr=(Kr.getValue()-Jr.getValue())*(Zr?1:-1);return Qr===0?(Kr.dataIndex-Jr.dataIndex)*(Zr?-1:1):Qr})}}function ZA(Yr){var Gr={};function Wr(Zr,Kr,Jr){for(var Qr=Zr;Qr&&Qr.depth>1;)Qr=Qr.parentNode;var ti=Kr.getColorFromPalette(Qr.name||Qr.dataIndex+"",Gr);return Zr.depth>1&&Ni(ti)&&(ti=Lg(ti,(Zr.depth-1)/(Jr-1)*.5)),ti}Yr.eachSeriesByType("sunburst",function(Zr){var Kr=Zr.getData(),Jr=Kr.tree;Jr.eachNode(function(Qr){var ti=Qr.getModel(),ei=ti.getModel("itemStyle").getItemStyle();ei.fill||(ei.fill=Wr(Qr,Zr,Jr.root.height));var ri=Kr.ensureUniqueItemVisual(Qr.dataIndex,"style");ki(ri,ei)})})}function jA(Yr){Yr.registerChartView(PU),Yr.registerSeriesModel(DU),Yr.registerLayout(en(qA,"sunburst")),Yr.registerProcessor(en(gl,"sunburst")),Yr.registerVisual(ZA),MU(Yr)}var KA={color:"fill",borderColor:"stroke"},kU={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Xl=ln(),wtt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},Gr.prototype.getInitialData=function(Wr,Zr){return ja(null,this)},Gr.prototype.getDataParams=function(Wr,Zr,Kr){var Jr=Yr.prototype.getDataParams.call(this,Wr,Zr);return Kr&&(Jr.info=Xl(Kr).info),Jr},Gr.type="series.custom",Gr.dependencies=["grid","polar","geo","singleAxis","calendar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},Gr}(Pn),RU=wtt;function Ctt(Yr,Gr){return Gr=Gr||[0,0],Oi(["x","y"],function(Wr,Zr){var Kr=this.getAxis(Wr),Jr=Gr[Zr],Qr=Yr[Zr]/2;return Kr.type==="category"?Kr.getBandWidth():Math.abs(Kr.dataToCoord(Jr-Qr)-Kr.dataToCoord(Jr+Qr))},this)}function $A(Yr){var Gr=Yr.master.getRect();return{coordSys:{type:"cartesian2d",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height},api:{coord:function(Wr){return Yr.dataToPoint(Wr)},size:Gi(Ctt,Yr)}}}function Ttt(Yr,Gr){return Gr=Gr||[0,0],Oi([0,1],function(Wr){var Zr=Gr[Wr],Kr=Yr[Wr]/2,Jr=[],Qr=[];return Jr[Wr]=Zr-Kr,Qr[Wr]=Zr+Kr,Jr[1-Wr]=Qr[1-Wr]=Gr[1-Wr],Math.abs(this.dataToPoint(Jr)[Wr]-this.dataToPoint(Qr)[Wr])},this)}function JA(Yr){var Gr=Yr.getBoundingRect();return{coordSys:{type:"geo",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height,zoom:Yr.getZoom()},api:{coord:function(Wr){return Yr.dataToPoint(Wr)},size:Gi(Ttt,Yr)}}}function Att(Yr,Gr){var Wr=this.getAxis(),Zr=Gr instanceof Array?Gr[0]:Gr,Kr=(Yr instanceof Array?Yr[0]:Yr)/2;return Wr.type==="category"?Wr.getBandWidth():Math.abs(Wr.dataToCoord(Zr-Kr)-Wr.dataToCoord(Zr+Kr))}function QA(Yr){var Gr=Yr.getRect();return{coordSys:{type:"singleAxis",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height},api:{coord:function(Wr){return Yr.dataToPoint(Wr)},size:Gi(Att,Yr)}}}function Mtt(Yr,Gr){return Gr=Gr||[0,0],Oi(["Radius","Angle"],function(Wr,Zr){var Kr="get"+Wr+"Axis",Jr=this[Kr](),Qr=Gr[Zr],ti=Yr[Zr]/2,ei=Jr.type==="category"?Jr.getBandWidth():Math.abs(Jr.dataToCoord(Qr-ti)-Jr.dataToCoord(Qr+ti));return Wr==="Angle"&&(ei=ei*Math.PI/180),ei},this)}function tM(Yr){var Gr=Yr.getRadiusAxis(),Wr=Yr.getAngleAxis(),Zr=Gr.getExtent();return Zr[0]>Zr[1]&&Zr.reverse(),{coordSys:{type:"polar",cx:Yr.cx,cy:Yr.cy,r:Zr[1],r0:Zr[0]},api:{coord:function(Kr){var Jr=Gr.dataToRadius(Kr[0]),Qr=Wr.dataToAngle(Kr[1]),ti=Yr.coordToPoint([Jr,Qr]);return ti.push(Jr,Qr*Math.PI/180),ti},size:Gi(Mtt,Yr)}}}function eM(Yr){var Gr=Yr.getRect(),Wr=Yr.getRangeInfo();return{coordSys:{type:"calendar",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height,cellWidth:Yr.getCellWidth(),cellHeight:Yr.getCellHeight(),rangeInfo:{start:Wr.start,end:Wr.end,weeks:Wr.weeks,dayCount:Wr.allDay}},api:{coord:function(Zr,Kr){return Yr.dataToPoint(Zr,Kr)}}}}function r_(Yr,Gr,Wr,Zr){return Yr&&(Yr.legacy||Yr.legacy!==!1&&!Wr&&!Zr&&Gr!=="tspan"&&(Gr==="text"||$i(Yr,"text")))}function i_(Yr,Gr,Wr){var Zr=Yr,Kr,Jr,Qr;if(Gr==="text")Qr=Zr;else{Qr={},$i(Zr,"text")&&(Qr.text=Zr.text),$i(Zr,"rich")&&(Qr.rich=Zr.rich),$i(Zr,"textFill")&&(Qr.fill=Zr.textFill),$i(Zr,"textStroke")&&(Qr.stroke=Zr.textStroke),$i(Zr,"fontFamily")&&(Qr.fontFamily=Zr.fontFamily),$i(Zr,"fontSize")&&(Qr.fontSize=Zr.fontSize),$i(Zr,"fontStyle")&&(Qr.fontStyle=Zr.fontStyle),$i(Zr,"fontWeight")&&(Qr.fontWeight=Zr.fontWeight),Jr={type:"text",style:Qr,silent:!0},Kr={};var ti=$i(Zr,"textPosition");Wr?Kr.position=ti?Zr.textPosition:"inside":ti&&(Kr.position=Zr.textPosition),$i(Zr,"textPosition")&&(Kr.position=Zr.textPosition),$i(Zr,"textOffset")&&(Kr.offset=Zr.textOffset),$i(Zr,"textRotation")&&(Kr.rotation=Zr.textRotation),$i(Zr,"textDistance")&&(Kr.distance=Zr.textDistance)}return OU(Qr,Yr),_i(Qr.rich,function(ei){OU(ei,ei)}),{textConfig:Kr,textContent:Jr}}function OU(Yr,Gr){Gr&&(Gr.font=Gr.textFont||Gr.font,$i(Gr,"textStrokeWidth")&&(Yr.lineWidth=Gr.textStrokeWidth),$i(Gr,"textAlign")&&(Yr.align=Gr.textAlign),$i(Gr,"textVerticalAlign")&&(Yr.verticalAlign=Gr.textVerticalAlign),$i(Gr,"textLineHeight")&&(Yr.lineHeight=Gr.textLineHeight),$i(Gr,"textWidth")&&(Yr.width=Gr.textWidth),$i(Gr,"textHeight")&&(Yr.height=Gr.textHeight),$i(Gr,"textBackgroundColor")&&(Yr.backgroundColor=Gr.textBackgroundColor),$i(Gr,"textPadding")&&(Yr.padding=Gr.textPadding),$i(Gr,"textBorderColor")&&(Yr.borderColor=Gr.textBorderColor),$i(Gr,"textBorderWidth")&&(Yr.borderWidth=Gr.textBorderWidth),$i(Gr,"textBorderRadius")&&(Yr.borderRadius=Gr.textBorderRadius),$i(Gr,"textBoxShadowColor")&&(Yr.shadowColor=Gr.textBoxShadowColor),$i(Gr,"textBoxShadowBlur")&&(Yr.shadowBlur=Gr.textBoxShadowBlur),$i(Gr,"textBoxShadowOffsetX")&&(Yr.shadowOffsetX=Gr.textBoxShadowOffsetX),$i(Gr,"textBoxShadowOffsetY")&&(Yr.shadowOffsetY=Gr.textBoxShadowOffsetY))}function rM(Yr,Gr,Wr){var Zr=Yr;Zr.textPosition=Zr.textPosition||Wr.position||"inside",Wr.offset!=null&&(Zr.textOffset=Wr.offset),Wr.rotation!=null&&(Zr.textRotation=Wr.rotation),Wr.distance!=null&&(Zr.textDistance=Wr.distance);var Kr=Zr.textPosition.indexOf("inside")>=0,Jr=Yr.fill||"#000";zU(Zr,Gr);var Qr=Zr.textFill==null;return Kr?Qr&&(Zr.textFill=Wr.insideFill||"#fff",!Zr.textStroke&&Wr.insideStroke&&(Zr.textStroke=Wr.insideStroke),!Zr.textStroke&&(Zr.textStroke=Jr),Zr.textStrokeWidth==null&&(Zr.textStrokeWidth=2)):(Qr&&(Zr.textFill=Yr.fill||Wr.outsideFill||"#000"),!Zr.textStroke&&Wr.outsideStroke&&(Zr.textStroke=Wr.outsideStroke)),Zr.text=Gr.text,Zr.rich=Gr.rich,_i(Gr.rich,function(ti){zU(ti,ti)}),Zr}function zU(Yr,Gr){Gr&&($i(Gr,"fill")&&(Yr.textFill=Gr.fill),$i(Gr,"stroke")&&(Yr.textStroke=Gr.fill),$i(Gr,"lineWidth")&&(Yr.textStrokeWidth=Gr.lineWidth),$i(Gr,"font")&&(Yr.font=Gr.font),$i(Gr,"fontStyle")&&(Yr.fontStyle=Gr.fontStyle),$i(Gr,"fontWeight")&&(Yr.fontWeight=Gr.fontWeight),$i(Gr,"fontSize")&&(Yr.fontSize=Gr.fontSize),$i(Gr,"fontFamily")&&(Yr.fontFamily=Gr.fontFamily),$i(Gr,"align")&&(Yr.textAlign=Gr.align),$i(Gr,"verticalAlign")&&(Yr.textVerticalAlign=Gr.verticalAlign),$i(Gr,"lineHeight")&&(Yr.textLineHeight=Gr.lineHeight),$i(Gr,"width")&&(Yr.textWidth=Gr.width),$i(Gr,"height")&&(Yr.textHeight=Gr.height),$i(Gr,"backgroundColor")&&(Yr.textBackgroundColor=Gr.backgroundColor),$i(Gr,"padding")&&(Yr.textPadding=Gr.padding),$i(Gr,"borderColor")&&(Yr.textBorderColor=Gr.borderColor),$i(Gr,"borderWidth")&&(Yr.textBorderWidth=Gr.borderWidth),$i(Gr,"borderRadius")&&(Yr.textBorderRadius=Gr.borderRadius),$i(Gr,"shadowColor")&&(Yr.textBoxShadowColor=Gr.shadowColor),$i(Gr,"shadowBlur")&&(Yr.textBoxShadowBlur=Gr.shadowBlur),$i(Gr,"shadowOffsetX")&&(Yr.textBoxShadowOffsetX=Gr.shadowOffsetX),$i(Gr,"shadowOffsetY")&&(Yr.textBoxShadowOffsetY=Gr.shadowOffsetY),$i(Gr,"textShadowColor")&&(Yr.textShadowColor=Gr.textShadowColor),$i(Gr,"textShadowBlur")&&(Yr.textShadowBlur=Gr.textShadowBlur),$i(Gr,"textShadowOffsetX")&&(Yr.textShadowOffsetX=Gr.textShadowOffsetX),$i(Gr,"textShadowOffsetY")&&(Yr.textShadowOffsetY=Gr.textShadowOffsetY))}var BU={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},NU=fn(BU),iFt=Ja(ss,function(Yr,Gr){return Yr[Gr]=1,Yr},{}),nFt=ss.join(", "),ym=["","style","shape","extra"],Vp=ln();function iM(Yr,Gr,Wr,Zr,Kr){var Jr=Yr+"Animation",Qr=Rl(Yr,Zr,Kr)||{},ti=Vp(Gr).userDuring;return Qr.duration>0&&(Qr.during=ti?Gi(Ltt,{el:Gr,userDuring:ti}):null,Qr.setToFinal=!0,Qr.scope=Yr),ki(Qr,Wr[Jr]),Qr}function Bp(Yr,Gr,Wr,Zr){Zr=Zr||{};var Kr=Zr.dataIndex,Jr=Zr.isInit,Qr=Zr.clearStyle,ti=Wr.isAnimationEnabled(),ei=Vp(Yr),ri=Gr.style;ei.userDuring=Gr.during;var ii={},ni={};if(Rtt(Yr,Gr,ni),VU("shape",Gr,ni),VU("extra",Gr,ni),!Jr&&ti&&(ktt(Yr,Gr,ii),FU("shape",Yr,Gr,ii),FU("extra",Yr,Gr,ii),Ott(Yr,Gr,ri,ii)),ni.style=ri,Ptt(Yr,ni,Qr),Dtt(Yr,Gr),ti)if(Jr){var ai={};_i(ym,function(si){var li=si?Gr[si]:Gr;li&&li.enterFrom&&(si&&(ai[si]=ai[si]||{}),ki(si?ai[si]:ai,li.enterFrom))});var oi=iM("enter",Yr,Gr,Wr,Kr);oi.duration>0&&Yr.animateFrom(ai,oi)}else Ett(Yr,Gr,Kr||0,Wr,ii);nM(Yr,Gr),ri?Yr.dirty():Yr.markRedraw()}function nM(Yr,Gr){for(var Wr=Vp(Yr).leaveToProps,Zr=0;Zr<ym.length;Zr++){var Kr=ym[Zr],Jr=Kr?Gr[Kr]:Gr;Jr&&Jr.leaveTo&&(Wr||(Wr=Vp(Yr).leaveToProps={}),Kr&&(Wr[Kr]=Wr[Kr]||{}),ki(Kr?Wr[Kr]:Wr,Jr.leaveTo))}}function Up(Yr,Gr,Wr,Zr){if(Yr){var Kr=Yr.parent,Jr=Vp(Yr).leaveToProps;if(Jr){var Qr=iM("update",Yr,Gr,Wr,0);Qr.done=function(){Kr.remove(Yr),Zr&&Zr()},Yr.animateTo(Jr,Qr)}else Kr.remove(Yr),Zr&&Zr()}}function Ef(Yr){return Yr==="all"}function Ptt(Yr,Gr,Wr){var Zr=Gr.style;if(!Yr.isGroup&&Zr){if(Wr){Yr.useStyle({});for(var Kr=Yr.animators,Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr];Qr.targetName==="style"&&Qr.changeTarget(Yr.style)}}Yr.setStyle(Zr)}Gr&&(Gr.style=null,Gr&&Yr.attr(Gr),Gr.style=Zr)}function Ett(Yr,Gr,Wr,Zr,Kr){if(Kr){var Jr=iM("update",Yr,Gr,Zr,Wr);Jr.duration>0&&Yr.animateFrom(Kr,Jr)}}function Dtt(Yr,Gr){$i(Gr,"silent")&&(Yr.silent=Gr.silent),$i(Gr,"ignore")&&(Yr.ignore=Gr.ignore),Yr instanceof ba&&$i(Gr,"invisible")&&(Yr.invisible=Gr.invisible),Yr instanceof an&&$i(Gr,"autoBatch")&&(Yr.autoBatch=Gr.autoBatch)}var ql={},Itt={setTransform:function(Yr,Gr){return ql.el[Yr]=Gr,this},getTransform:function(Yr){return ql.el[Yr]},setShape:function(Yr,Gr){var Wr=ql.el,Zr=Wr.shape||(Wr.shape={});return Zr[Yr]=Gr,Wr.dirtyShape&&Wr.dirtyShape(),this},getShape:function(Yr){var Gr=ql.el.shape;if(Gr)return Gr[Yr]},setStyle:function(Yr,Gr){var Wr=ql.el,Zr=Wr.style;return Zr&&(Zr[Yr]=Gr,Wr.dirtyStyle&&Wr.dirtyStyle()),this},getStyle:function(Yr){var Gr=ql.el.style;if(Gr)return Gr[Yr]},setExtra:function(Yr,Gr){var Wr=ql.el.extra||(ql.el.extra={});return Wr[Yr]=Gr,this},getExtra:function(Yr){var Gr=ql.el.extra;if(Gr)return Gr[Yr]}};function Ltt(){var Yr=this,Gr=Yr.el;if(Gr){var Wr=Vp(Gr).userDuring,Zr=Yr.userDuring;if(Wr!==Zr){Yr.el=Yr.userDuring=null;return}ql.el=Gr,Zr(Itt)}}function FU(Yr,Gr,Wr,Zr){var Kr=Wr[Yr];if(Kr){var Jr=Gr[Yr],Qr;if(Jr){var ti=Wr.transition,ei=Kr.transition;if(ei)if(!Qr&&(Qr=Zr[Yr]={}),Ef(ei))ki(Qr,Jr);else for(var ri=En(ei),ii=0;ii<ri.length;ii++){var ni=ri[ii],ai=Jr[ni];Qr[ni]=ai}else if(Ef(ti)||sn(ti,Yr)>=0){!Qr&&(Qr=Zr[Yr]={});for(var oi=fn(Jr),ii=0;ii<oi.length;ii++){var ni=oi[ii],ai=Jr[ni];ztt(Kr[ni],ai)&&(Qr[ni]=ai)}}}}}function VU(Yr,Gr,Wr){var Zr=Gr[Yr];if(Zr)for(var Kr=Wr[Yr]={},Jr=fn(Zr),Qr=0;Qr<Jr.length;Qr++){var ti=Jr[Qr];Kr[ti]=uh(Zr[ti])}}function ktt(Yr,Gr,Wr){for(var Zr=Gr.transition,Kr=Ef(Zr)?ss:En(Zr||[]),Jr=0;Jr<Kr.length;Jr++){var Qr=Kr[Jr];if(!(Qr==="style"||Qr==="shape"||Qr==="extra")){var ti=Yr[Qr];Wr[Qr]=ti}}}function Rtt(Yr,Gr,Wr){for(var Zr=0;Zr<NU.length;Zr++){var Kr=NU[Zr],Jr=BU[Kr],Qr=Gr[Kr];Qr&&(Wr[Jr[0]]=Qr[0],Wr[Jr[1]]=Qr[1])}for(var Zr=0;Zr<ss.length;Zr++){var ti=ss[Zr];Gr[ti]!=null&&(Wr[ti]=Gr[ti])}}function Ott(Yr,Gr,Wr,Zr){if(Wr){var Kr=Yr.style,Jr;if(Kr){var Qr=Wr.transition,ti=Gr.transition;if(Qr&&!Ef(Qr)){var ei=En(Qr);!Jr&&(Jr=Zr.style={});for(var ri=0;ri<ei.length;ri++){var ii=ei[ri],ni=Kr[ii];Jr[ii]=ni}}else if(Yr.getAnimationStyleProps&&(Ef(ti)||Ef(Qr)||sn(ti,"style")>=0)){var ai=Yr.getAnimationStyleProps(),oi=ai?ai.style:null;if(oi){!Jr&&(Jr=Zr.style={});for(var si=fn(Wr),ri=0;ri<si.length;ri++){var ii=si[ri];if(oi[ii]){var ni=Kr[ii];Jr[ii]=ni}}}}}}}function ztt(Yr,Gr){return va(Yr)?Yr!==Gr:Yr!=null&&isFinite(Yr)}var UU=ln(),Ntt=["percent","easing","shape","style","extra"];function n_(Yr){Yr.stopAnimation("keyframe"),Yr.attr(UU(Yr))}function Gp(Yr,Gr,Wr){if(!(!Wr.isAnimationEnabled()||!Gr)){if(Ri(Gr)){_i(Gr,function(ti){Gp(Yr,ti,Wr)});return}var Zr=Gr.keyframes,Kr=Gr.duration;if(Wr&&Kr==null){var Jr=Rl("enter",Wr,0);Kr=Jr&&Jr.duration}if(!(!Zr||!Kr)){var Qr=UU(Yr);_i(ym,function(ti){if(!(ti&&!Yr[ti])){var ei,ri=!1;Zr.sort(function(ii,ni){return ii.percent-ni.percent}),_i(Zr,function(ii){var ni=Yr.animators,ai=ti?ii[ti]:ii;if(ai){var oi=fn(ai);if(ti||(oi=Tn(oi,function(ui){return sn(Ntt,ui)<0})),!!oi.length){ei||(ei=Yr.animate(ti,Gr.loop,!0),ei.scope="keyframe");for(var si=0;si<ni.length;si++)ni[si]!==ei&&ni[si].targetName===ei.targetName&&ni[si].stopTracks(oi);ti&&(Qr[ti]=Qr[ti]||{});var li=ti?Qr[ti]:Qr;_i(oi,function(ui){li[ui]=((ti?Yr[ti]:Yr)||{})[ui]}),ei.whenWithKeys(Kr*ii.percent,ai,oi,ii.easing)}}}),ei&&ei.delay(Gr.delay||0).duration(Kr).start(Gr.easing)}})}}}var Pu="emphasis",Df="normal",fM="blur",hM="select",If=[Df,Pu,fM,hM],aM={normal:["itemStyle"],emphasis:[Pu,"itemStyle"],blur:[fM,"itemStyle"],select:[hM,"itemStyle"]},oM={normal:["label"],emphasis:[Pu,"label"],blur:[fM,"label"],select:[hM,"label"]},Ftt=["x","y"],Vtt="e\0\0",Bs={normal:{},emphasis:{},blur:{},select:{}},Btt={cartesian2d:$A,geo:JA,single:QA,polar:tM,calendar:eM};function lM(Yr){return Yr instanceof an}function uM(Yr){return Yr instanceof ba}function Utt(Yr,Gr){Gr.copyTransform(Yr),uM(Gr)&&uM(Yr)&&(Gr.setStyle(Yr.style),Gr.z=Yr.z,Gr.z2=Yr.z2,Gr.zlevel=Yr.zlevel,Gr.invisible=Yr.invisible,Gr.ignore=Yr.ignore,lM(Gr)&&lM(Yr)&&Gr.setShape(Yr.shape))}var Gtt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){this._progressiveEls=null;var Qr=this._data,ti=Wr.getData(),ei=this.group,ri=GU(Wr,ti,Zr,Kr);Qr||ei.removeAll(),ti.diff(Qr).add(function(ni){sM(Kr,null,ni,ri(ni,Jr),Wr,ei,ti)}).remove(function(ni){var ai=Qr.getItemGraphicEl(ni);ai&&Up(ai,Xl(ai).option,Wr)}).update(function(ni,ai){var oi=Qr.getItemGraphicEl(ai);sM(Kr,oi,ni,ri(ni,Jr),Wr,ei,ti)}).execute();var ii=Wr.get("clip",!0)?Gl(Wr.coordinateSystem,!1,Wr):null;ii?ei.setClipPath(ii):ei.removeClipPath(),this._data=ti},Gr.prototype.incrementalPrepareRender=function(Wr,Zr,Kr){this.group.removeAll(),this._data=null},Gr.prototype.incrementalRender=function(Wr,Zr,Kr,Jr,Qr){var ti=Zr.getData(),ei=GU(Zr,ti,Kr,Jr),ri=this._progressiveEls=[];function ii(oi){oi.isGroup||(oi.incremental=!0,oi.ensureState("emphasis").hoverLayer=!0)}for(var ni=Wr.start;ni<Wr.end;ni++){var ai=sM(null,null,ni,ei(ni,Qr),Zr,this.group,ti);ai&&(ai.traverse(ii),ri.push(ai))}},Gr.prototype.eachRendered=function(Wr){Co(this._progressiveEls||this.group,Wr)},Gr.prototype.filterForExposedEvent=function(Wr,Zr,Kr,Jr){var Qr=Zr.element;if(Qr==null||Kr.name===Qr)return!0;for(;(Kr=Kr.__hostTarget||Kr.parent)&&Kr!==this.group;)if(Kr.name===Qr)return!0;return!1},Gr.type="custom",Gr}(An),XU=Gtt;function cM(Yr){var Gr=Yr.type,Wr;if(Gr==="path"){var Zr=Yr.shape,Kr=Zr.width!=null&&Zr.height!=null?{x:Zr.x||0,y:Zr.y||0,width:Zr.width,height:Zr.height}:null,Jr=jU(Zr);Wr=$c(Jr,null,Kr,Zr.layout||"center"),Xl(Wr).customPathData=Jr}else if(Gr==="image")Wr=new Kn({}),Xl(Wr).customImagePath=Yr.style.image;else if(Gr==="text")Wr=new xn({});else if(Gr==="group")Wr=new Zi;else{if(Gr==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var Qr=av(Gr);if(!Qr){var ti="";Rn(ti)}Wr=new Qr}return Xl(Wr).customGraphicType=Gr,Wr.name=Yr.name,Wr.z2EmphasisLift=1,Wr.z2SelectLift=1,Wr}function pM(Yr,Gr,Wr,Zr,Kr,Jr,Qr){n_(Gr);var ti=Kr&&Kr.normal.cfg;ti&&Gr.setTextConfig(ti),Zr&&Zr.transition==null&&(Zr.transition=Ftt);var ei=Zr&&Zr.style;if(ei){if(Gr.type==="text"){var ri=ei;$i(ri,"textFill")&&(ri.fill=ri.textFill),$i(ri,"textStroke")&&(ri.stroke=ri.textStroke)}var ii=void 0,ni=lM(Gr)?ei.decal:null;Yr&&ni&&(ni.dirty=!0,ii=ul(ni,Yr)),ei.__decalPattern=ii}if(uM(Gr)&&ei){var ii=ei.__decalPattern;ii&&(ei.decal=ii)}Bp(Gr,Zr,Jr,{dataIndex:Wr,isInit:Qr,clearStyle:!0}),Gp(Gr,Zr.keyframeAnimation,Jr)}function qU(Yr,Gr,Wr,Zr,Kr){var Jr=Gr.isGroup?null:Gr,Qr=Kr&&Kr[Yr].cfg;if(Jr){var ti=Jr.ensureState(Yr);if(Zr===!1){var ei=Jr.getState(Yr);ei&&(ei.style=null)}else ti.style=Zr||null;Qr&&(ti.textConfig=Qr),Js(Jr)}}function Htt(Yr,Gr,Wr){if(!Yr.isGroup){var Zr=Yr,Kr=Wr.currentZ,Jr=Wr.currentZLevel;Zr.z=Kr,Zr.zlevel=Jr;var Qr=Gr.z2;Qr!=null&&(Zr.z2=Qr||0);for(var ti=0;ti<If.length;ti++)Wtt(Zr,Gr,If[ti])}}function Wtt(Yr,Gr,Wr){var Zr=Wr===Df,Kr=Zr?Gr:a_(Gr,Wr),Jr=Kr?Kr.z2:null,Qr;Jr!=null&&(Qr=Zr?Yr:Yr.ensureState(Wr),Qr.z2=Jr||0)}function GU(Yr,Gr,Wr,Zr){var Kr=Yr.get("renderItem"),Jr=Yr.coordinateSystem,Qr={};Jr&&(Qr=Jr.prepareCustoms?Jr.prepareCustoms(Jr):Btt[Jr.type](Jr));for(var ti=Yi({getWidth:Zr.getWidth,getHeight:Zr.getHeight,getZr:Zr.getZr,getDevicePixelRatio:Zr.getDevicePixelRatio,value:pi,style:vi,ordinalRawValue:di,styleEmphasis:mi,visual:Si,barLayout:bi,currentSeriesIndices:Ti,font:Ai},Qr.api||{}),ei={context:{},seriesId:Yr.id,seriesName:Yr.name,seriesIndex:Yr.seriesIndex,coordSys:Qr.coordSys,dataInsideLength:Gr.count(),encode:Ytt(Yr.getData())},ri,ii,ni={},ai={},oi={},si={},li=0;li<If.length;li++){var ui=If[li];oi[ui]=Yr.getModel(aM[ui]),si[ui]=Yr.getModel(oM[ui])}function fi(Ei){return Ei===ri?ii||(ii=Gr.getItemModel(Ei)):Gr.getItemModel(Ei)}function hi(Ei,Mi){return Gr.hasItemOption?Ei===ri?ni[Mi]||(ni[Mi]=fi(Ei).getModel(aM[Mi])):fi(Ei).getModel(aM[Mi]):oi[Mi]}function ci(Ei,Mi){return Gr.hasItemOption?Ei===ri?ai[Mi]||(ai[Mi]=fi(Ei).getModel(oM[Mi])):fi(Ei).getModel(oM[Mi]):si[Mi]}return function(Ei,Mi){return ri=Ei,ii=null,ni={},ai={},Kr&&Kr(Yi({dataIndexInside:Ei,dataIndex:Gr.getRawIndex(Ei),actionType:Mi?Mi.type:null},ei),ti)};function pi(Ei,Mi){return Mi==null&&(Mi=ri),Gr.getStore().get(Gr.getDimensionIndex(Ei||0),Mi)}function di(Ei,Mi){Mi==null&&(Mi=ri),Ei=Ei||0;var wi=Gr.getDimensionInfo(Ei);if(!wi){var Pi=Gr.getDimensionIndex(Ei);return Pi>=0?Gr.getStore().get(Pi,Mi):void 0}var xi=Gr.get(wi.name,Mi),Ci=wi&&wi.ordinalMeta;return Ci?Ci.categories[xi]:xi}function vi(Ei,Mi){Mi==null&&(Mi=ri);var wi=Gr.getItemVisual(Mi,"style"),Pi=wi&&wi.fill,xi=wi&&wi.opacity,Ci=hi(Mi,Df).getItemStyle();Pi!=null&&(Ci.fill=Pi),xi!=null&&(Ci.opacity=xi);var Li={inheritColor:Ni(Pi)?Pi:"#000"},Ii=ci(Mi,Df),zi=On(Ii,null,Li,!1,!0);zi.text=Ii.getShallow("show")?on(Yr.getFormattedLabel(Mi,Df),vl(Gr,Mi)):null;var Bi=sv(Ii,Li,!1);return yi(Ei,Ci),Ci=rM(Ci,zi,Bi),Ei&&gi(Ci,Ei),Ci.legacy=!0,Ci}function mi(Ei,Mi){Mi==null&&(Mi=ri);var wi=hi(Mi,Pu).getItemStyle(),Pi=ci(Mi,Pu),xi=On(Pi,null,null,!0,!0);xi.text=Pi.getShallow("show")?Fa(Yr.getFormattedLabel(Mi,Pu),Yr.getFormattedLabel(Mi,Df),vl(Gr,Mi)):null;var Ci=sv(Pi,null,!0);return yi(Ei,wi),wi=rM(wi,xi,Ci),Ei&&gi(wi,Ei),wi.legacy=!0,wi}function gi(Ei,Mi){for(var wi in Mi)$i(Mi,wi)&&(Ei[wi]=Mi[wi])}function yi(Ei,Mi){Ei&&(Ei.textFill&&(Mi.textFill=Ei.textFill),Ei.textPosition&&(Mi.textPosition=Ei.textPosition))}function Si(Ei,Mi){if(Mi==null&&(Mi=ri),$i(KA,Ei)){var wi=Gr.getItemVisual(Mi,"style");return wi?wi[KA[Ei]]:null}if($i(kU,Ei))return Gr.getItemVisual(Mi,Ei)}function bi(Ei){if(Jr.type==="cartesian2d"){var Mi=Jr.getBaseAxis();return IO(Yi({axis:Mi},Ei))}}function Ti(){return Wr.getCurrentSeriesIndices()}function Ai(Ei){return Qc(Ei,Wr)}}function Ytt(Yr){var Gr={};return _i(Yr.dimensions,function(Wr){var Zr=Yr.getDimensionInfo(Wr);if(!Zr.isExtraCoord){var Kr=Zr.coordDim,Jr=Gr[Kr]=Gr[Kr]||[];Jr[Zr.coordDimIndex]=Yr.getDimensionIndex(Wr)}}),Gr}function sM(Yr,Gr,Wr,Zr,Kr,Jr,Qr){if(!Zr){Jr.remove(Gr);return}var ti=dM(Yr,Gr,Wr,Zr,Kr,Jr);return ti&&Qr.setItemGraphicEl(Wr,ti),ti&&In(ti,Zr.focus,Zr.blurScope,Zr.emphasisDisabled),ti}function dM(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=-1,ti=Gr;Gr&&ZU(Gr,Zr,Kr)&&(Qr=sn(Jr.childrenRef(),Gr),Gr=null);var ei=!Gr,ri=Gr;ri?ri.clearStates():(ri=cM(Zr),ti&&Utt(ti,ri)),Zr.morph===!1?ri.disableMorphing=!0:ri.disableMorphing&&(ri.disableMorphing=!1),Bs.normal.cfg=Bs.normal.conOpt=Bs.emphasis.cfg=Bs.emphasis.conOpt=Bs.blur.cfg=Bs.blur.conOpt=Bs.select.cfg=Bs.select.conOpt=null,Bs.isLegacy=!1,qtt(ri,Wr,Zr,Kr,ei,Bs),Xtt(ri,Wr,Zr,Kr,ei),pM(Yr,ri,Wr,Zr,Bs,Kr,ei),$i(Zr,"info")&&(Xl(ri).info=Zr.info);for(var ii=0;ii<If.length;ii++){var ni=If[ii];if(ni!==Df){var ai=a_(Zr,ni),oi=vM(Zr,ai,ni);qU(ni,ri,ai,oi,Bs)}}return Htt(ri,Zr,Kr),Zr.type==="group"&&Ztt(Yr,ri,Wr,Zr,Kr),Qr>=0?Jr.replaceAt(ri,Qr):Jr.add(ri),ri}function ZU(Yr,Gr,Wr){var Zr=Xl(Yr),Kr=Gr.type,Jr=Gr.shape,Qr=Gr.style;return Wr.isUniversalTransitionEnabled()||Kr!=null&&Kr!==Zr.customGraphicType||Kr==="path"&&Jtt(Jr)&&jU(Jr)!==Zr.customPathData||Kr==="image"&&$i(Qr,"image")&&Qr.image!==Zr.customImagePath}function Xtt(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.clipPath;if(Jr===!1)Yr&&Yr.getClipPath()&&Yr.removeClipPath();else if(Jr){var Qr=Yr.getClipPath();Qr&&ZU(Qr,Jr,Zr)&&(Qr=null),Qr||(Qr=cM(Jr),Yr.setClipPath(Qr)),pM(null,Qr,Gr,Jr,null,Zr,Kr)}}function qtt(Yr,Gr,Wr,Zr,Kr,Jr){if(!Yr.isGroup){HU(Wr,null,Jr),HU(Wr,Pu,Jr);var Qr=Jr.normal.conOpt,ti=Jr.emphasis.conOpt,ei=Jr.blur.conOpt,ri=Jr.select.conOpt;if(Qr!=null||ti!=null||ri!=null||ei!=null){var ii=Yr.getTextContent();if(Qr===!1)ii&&Yr.removeTextContent();else{Qr=Jr.normal.conOpt=Qr||{type:"text"},ii?ii.clearStates():(ii=cM(Qr),Yr.setTextContent(ii)),pM(null,ii,Gr,Qr,null,Zr,Kr);for(var ni=Qr&&Qr.style,ai=0;ai<If.length;ai++){var oi=If[ai];if(oi!==Df){var si=Jr[oi].conOpt;qU(oi,ii,si,vM(Qr,si,oi),null)}}ni?ii.dirty():ii.markRedraw()}}}}function HU(Yr,Gr,Wr){var Zr=Gr?a_(Yr,Gr):Yr,Kr=Gr?vM(Yr,Zr,Pu):Yr.style,Jr=Yr.type,Qr=Zr?Zr.textConfig:null,ti=Yr.textContent,ei=ti?Gr?a_(ti,Gr):ti:null;if(Kr&&(Wr.isLegacy||r_(Kr,Jr,!!Qr,!!ei))){Wr.isLegacy=!0;var ri=i_(Kr,Jr,!Gr);!Qr&&ri.textConfig&&(Qr=ri.textConfig),!ei&&ri.textContent&&(ei=ri.textContent)}if(!Gr&&ei){var ii=ei;!ii.type&&(ii.type="text")}var ni=Gr?Wr[Gr]:Wr.normal;ni.cfg=Qr,ni.conOpt=ei}function a_(Yr,Gr){return Gr?Yr?Yr[Gr]:null:Yr}function vM(Yr,Gr,Wr){var Zr=Gr&&Gr.style;return Zr==null&&Wr===Pu&&Yr&&(Zr=Yr.styleEmphasis),Zr}function Ztt(Yr,Gr,Wr,Zr,Kr){var Jr=Zr.children,Qr=Jr?Jr.length:0,ti=Zr.$mergeChildren,ei=ti==="byName"||Zr.diffChildrenByName,ri=ti===!1;if(!(!Qr&&!ei&&!ri)){if(ei){Ktt({api:Yr,oldChildren:Gr.children()||[],newChildren:Jr||[],dataIndex:Wr,seriesModel:Kr,group:Gr});return}ri&&Gr.removeAll();for(var ii=0;ii<Qr;ii++){var ni=Jr[ii],ai=Gr.childAt(ii);ni?(ni.ignore==null&&(ni.ignore=!1),dM(Yr,ai,Wr,ni,Kr,Gr)):ai.ignore=!0}for(var oi=Gr.childCount()-1;oi>=ii;oi--){var si=Gr.childAt(oi);jtt(Gr,si,Kr)}}}function jtt(Yr,Gr,Wr){Gr&&Up(Gr,Xl(Yr).option,Wr)}function Ktt(Yr){new oo(Yr.oldChildren,Yr.newChildren,WU,WU,Yr).add(YU).update(YU).remove($tt).execute()}function WU(Yr,Gr){var Wr=Yr&&Yr.name;return Wr??Vtt+Gr}function YU(Yr,Gr){var Wr=this.context,Zr=Yr!=null?Wr.newChildren[Yr]:null,Kr=Gr!=null?Wr.oldChildren[Gr]:null;dM(Wr.api,Kr,Wr.dataIndex,Zr,Wr.seriesModel,Wr.group)}function $tt(Yr){var Gr=this.context,Wr=Gr.oldChildren[Yr];Wr&&Up(Wr,Xl(Wr).option,Gr.seriesModel)}function jU(Yr){return Yr&&(Yr.pathData||Yr.d)}function Jtt(Yr){return Yr&&($i(Yr,"pathData")||$i(Yr,"d"))}function mM(Yr){Yr.registerChartView(XU),Yr.registerSeriesModel(RU)}var lc=ln(),KU=Ki,gM=Gi,Qtt=function(){function Yr(){this._dragging=!1,this.animationThreshold=15}return Yr.prototype.render=function(Gr,Wr,Zr,Kr){var Jr=Wr.get("value"),Qr=Wr.get("status");if(this._axisModel=Gr,this._axisPointerModel=Wr,this._api=Zr,!(!Kr&&this._lastValue===Jr&&this._lastStatus===Qr)){this._lastValue=Jr,this._lastStatus=Qr;var ti=this._group,ei=this._handle;if(!Qr||Qr==="hide"){ti&&ti.hide(),ei&&ei.hide();return}ti&&ti.show(),ei&&ei.show();var ri={};this.makeElOption(ri,Jr,Gr,Wr,Zr);var ii=ri.graphicKey;ii!==this._lastGraphicKey&&this.clear(Zr),this._lastGraphicKey=ii;var ni=this._moveAnimation=this.determineAnimation(Gr,Wr);if(!ti)ti=this._group=new Zi,this.createPointerEl(ti,ri,Gr,Wr),this.createLabelEl(ti,ri,Gr,Wr),Zr.getZr().add(ti);else{var ai=en($U,Wr,ni);this.updatePointerEl(ti,ri,ai),this.updateLabelEl(ti,ri,ai,Wr)}QU(ti,Wr,!0),this._renderHandle(Jr)}},Yr.prototype.remove=function(Gr){this.clear(Gr)},Yr.prototype.dispose=function(Gr){this.clear(Gr)},Yr.prototype.determineAnimation=function(Gr,Wr){var Zr=Wr.get("animation"),Kr=Gr.axis,Jr=Kr.type==="category",Qr=Wr.get("snap");if(!Qr&&!Jr)return!1;if(Zr==="auto"||Zr==null){var ti=this.animationThreshold;if(Jr&&Kr.getBandWidth()>ti)return!0;if(Qr){var ei=_x(Gr).seriesDataCount,ri=Kr.getExtent();return Math.abs(ri[0]-ri[1])/ei>ti}return!1}return Zr===!0},Yr.prototype.makeElOption=function(Gr,Wr,Zr,Kr,Jr){},Yr.prototype.createPointerEl=function(Gr,Wr,Zr,Kr){var Jr=Wr.pointer;if(Jr){var Qr=lc(Gr).pointerEl=new yn[Jr.type](KU(Wr.pointer));Gr.add(Qr)}},Yr.prototype.createLabelEl=function(Gr,Wr,Zr,Kr){if(Wr.label){var Jr=lc(Gr).labelEl=new xn(KU(Wr.label));Gr.add(Jr),JU(Jr,Kr)}},Yr.prototype.updatePointerEl=function(Gr,Wr,Zr){var Kr=lc(Gr).pointerEl;Kr&&Wr.pointer&&(Kr.setStyle(Wr.pointer.style),Zr(Kr,{shape:Wr.pointer.shape}))},Yr.prototype.updateLabelEl=function(Gr,Wr,Zr,Kr){var Jr=lc(Gr).labelEl;Jr&&(Jr.setStyle(Wr.label.style),Zr(Jr,{x:Wr.label.x,y:Wr.label.y}),JU(Jr,Kr))},Yr.prototype._renderHandle=function(Gr){if(!(this._dragging||!this.updateHandleTransform)){var Wr=this._axisPointerModel,Zr=this._api.getZr(),Kr=this._handle,Jr=Wr.getModel("handle"),Qr=Wr.get("status");if(!Jr.get("show")||!Qr||Qr==="hide"){Kr&&Zr.remove(Kr),this._handle=null;return}var ti;this._handle||(ti=!0,Kr=this._handle=vu(Jr.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(ri){Ro(ri.event)},onmousedown:gM(this._onHandleDragMove,this,0,0),drift:gM(this._onHandleDragMove,this),ondragend:gM(this._onHandleDragEnd,this)}),Zr.add(Kr)),QU(Kr,Wr,!1),Kr.setStyle(Jr.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var ei=Jr.get("size");Ri(ei)||(ei=[ei,ei]),Kr.scaleX=ei[0]/2,Kr.scaleY=ei[1]/2,Rs(this,"_doDispatchAxisPointer",Jr.get("throttle")||0,"fixRate"),this._moveHandleToValue(Gr,ti)}},Yr.prototype._moveHandleToValue=function(Gr,Wr){$U(this._axisPointerModel,!Wr&&this._moveAnimation,this._handle,yM(this.getHandleTransform(Gr,this._axisModel,this._axisPointerModel)))},Yr.prototype._onHandleDragMove=function(Gr,Wr){var Zr=this._handle;if(Zr){this._dragging=!0;var Kr=this.updateHandleTransform(yM(Zr),[Gr,Wr],this._axisModel,this._axisPointerModel);this._payloadInfo=Kr,Zr.stopAnimation(),Zr.attr(yM(Kr)),lc(Zr).lastProp=null,this._doDispatchAxisPointer()}},Yr.prototype._doDispatchAxisPointer=function(){var Gr=this._handle;if(Gr){var Wr=this._payloadInfo,Zr=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:Wr.cursorPoint[0],y:Wr.cursorPoint[1],tooltipOption:Wr.tooltipOption,axesInfo:[{axisDim:Zr.axis.dim,axisIndex:Zr.componentIndex}]})}},Yr.prototype._onHandleDragEnd=function(){this._dragging=!1;var Gr=this._handle;if(Gr){var Wr=this._axisPointerModel.get("value");this._moveHandleToValue(Wr),this._api.dispatchAction({type:"hideTip"})}},Yr.prototype.clear=function(Gr){this._lastValue=null,this._lastStatus=null;var Wr=Gr.getZr(),Zr=this._group,Kr=this._handle;Wr&&Zr&&(this._lastGraphicKey=null,Zr&&Wr.remove(Zr),Kr&&Wr.remove(Kr),this._group=null,this._handle=null,this._payloadInfo=null),Su(this,"_doDispatchAxisPointer")},Yr.prototype.doClear=function(){},Yr.prototype.buildLabel=function(Gr,Wr,Zr){return Zr=Zr||0,{x:Gr[Zr],y:Gr[1-Zr],width:Wr[Zr],height:Wr[1-Zr]}},Yr}();function $U(Yr,Gr,Wr,Zr){tG(lc(Wr).lastProp,Zr)||(lc(Wr).lastProp=Zr,Gr?bn(Wr,Zr,Yr):(Wr.stopAnimation(),Wr.attr(Zr)))}function tG(Yr,Gr){if(qi(Yr)&&qi(Gr)){var Wr=!0;return _i(Gr,function(Zr,Kr){Wr=Wr&&tG(Yr[Kr],Zr)}),!!Wr}else return Yr===Gr}function JU(Yr,Gr){Yr[Gr.get(["label","show"])?"show":"hide"]()}function yM(Yr){return{x:Yr.x||0,y:Yr.y||0,rotation:Yr.rotation||0}}function QU(Yr,Gr,Wr){var Zr=Gr.get("z"),Kr=Gr.get("zlevel");Yr&&Yr.traverse(function(Jr){Jr.type!=="group"&&(Zr!=null&&(Jr.z=Zr),Kr!=null&&(Jr.zlevel=Kr),Jr.silent=Wr)})}var Hp=Qtt;function Wp(Yr){var Gr=Yr.get("type"),Wr=Yr.getModel(Gr+"Style"),Zr;return Gr==="line"?(Zr=Wr.getLineStyle(),Zr.fill=null):Gr==="shadow"&&(Zr=Wr.getAreaStyle(),Zr.stroke=null),Zr}function xM(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.get("value"),Qr=_M(Jr,Gr.axis,Gr.ecModel,Wr.get("seriesDataIndices"),{precision:Wr.get(["label","precision"]),formatter:Wr.get(["label","formatter"])}),ti=Wr.getModel("label"),ei=il(ti.get("padding")||0),ri=ti.getFont(),ii=Tl(Qr,ri),ni=Kr.position,ai=ii.width+ei[1]+ei[3],oi=ii.height+ei[0]+ei[2],si=Kr.align;si==="right"&&(ni[0]-=ai),si==="center"&&(ni[0]-=ai/2);var li=Kr.verticalAlign;li==="bottom"&&(ni[1]-=oi),li==="middle"&&(ni[1]-=oi/2),tet(ni,ai,oi,Zr);var ui=ti.get("backgroundColor");(!ui||ui==="auto")&&(ui=Gr.get(["axisLine","lineStyle","color"])),Yr.label={x:ni[0],y:ni[1],style:On(ti,{text:Qr,font:ri,fill:ti.getTextColor(),padding:ei,backgroundColor:ui}),z2:10}}function tet(Yr,Gr,Wr,Zr){var Kr=Zr.getWidth(),Jr=Zr.getHeight();Yr[0]=Math.min(Yr[0]+Gr,Kr)-Gr,Yr[1]=Math.min(Yr[1]+Wr,Jr)-Wr,Yr[0]=Math.max(Yr[0],0),Yr[1]=Math.max(Yr[1],0)}function _M(Yr,Gr,Wr,Zr,Kr){Yr=Gr.scale.parse(Yr);var Jr=Gr.scale.getLabel({value:Yr},{precision:Kr.precision}),Qr=Kr.formatter;if(Qr){var ti={value:Wv(Gr,{value:Yr}),axisDimension:Gr.dim,axisIndex:Gr.index,seriesData:[]};_i(Zr,function(ei){var ri=Wr.getSeriesByIndex(ei.seriesIndex),ii=ei.dataIndexInside,ni=ri&&ri.getDataParams(ii);ni&&ti.seriesData.push(ni)}),Ni(Qr)?Jr=Qr.replace("{value}",Jr):Wi(Qr)&&(Jr=Qr(ti))}return Jr}function xm(Yr,Gr,Wr){var Zr=Aa();return zo(Zr,Zr,Wr.rotation),to(Zr,Zr,Wr.position),io([Yr.dataToCoord(Gr),(Wr.labelOffset||0)+(Wr.labelDirection||1)*(Wr.labelMargin||0)],Zr)}function o_(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=so.innerTextLayout(Wr.rotation,0,Wr.labelDirection);Wr.labelMargin=Kr.get(["label","margin"]),xM(Gr,Zr,Kr,Jr,{position:xm(Zr.axis,Yr,Wr),align:Qr.textAlign,verticalAlign:Qr.textVerticalAlign})}function Yp(Yr,Gr,Wr){return Wr=Wr||0,{x1:Yr[Wr],y1:Yr[1-Wr],x2:Gr[Wr],y2:Gr[1-Wr]}}function s_(Yr,Gr,Wr){return Wr=Wr||0,{x:Yr[Wr],y:Yr[1-Wr],width:Gr[Wr],height:Gr[1-Wr]}}function bM(Yr,Gr,Wr,Zr,Kr,Jr){return{cx:Yr,cy:Gr,r0:Wr,r:Zr,startAngle:Kr,endAngle:Jr,clockwise:!0}}var eet=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.makeElOption=function(Wr,Zr,Kr,Jr,Qr){var ti=Kr.axis,ei=ti.grid,ri=Jr.get("type"),ii=eG(ei,ti).getOtherAxis(ti).getGlobalExtent(),ni=ti.toGlobalCoord(ti.dataToCoord(Zr,!0));if(ri&&ri!=="none"){var ai=Wp(Jr),oi=ret[ri](ti,ni,ii);oi.style=ai,Wr.graphicKey=oi.type,Wr.pointer=oi}var si=em(ei.model,Kr);o_(Zr,Wr,si,Kr,Jr,Qr)},Gr.prototype.getHandleTransform=function(Wr,Zr,Kr){var Jr=em(Zr.axis.grid.model,Zr,{labelInside:!1});Jr.labelMargin=Kr.get(["handle","margin"]);var Qr=xm(Zr.axis,Wr,Jr);return{x:Qr[0],y:Qr[1],rotation:Jr.rotation+(Jr.labelDirection<0?Math.PI:0)}},Gr.prototype.updateHandleTransform=function(Wr,Zr,Kr,Jr){var Qr=Kr.axis,ti=Qr.grid,ei=Qr.getGlobalExtent(!0),ri=eG(ti,Qr).getOtherAxis(Qr).getGlobalExtent(),ii=Qr.dim==="x"?0:1,ni=[Wr.x,Wr.y];ni[ii]+=Zr[ii],ni[ii]=Math.min(ei[1],ni[ii]),ni[ii]=Math.max(ei[0],ni[ii]);var ai=(ri[1]+ri[0])/2,oi=[ai,ai];oi[ii]=ni[ii];var si=[{verticalAlign:"middle"},{align:"center"}];return{x:ni[0],y:ni[1],rotation:Wr.rotation,cursorPoint:oi,tooltipOption:si[ii]}},Gr}(Hp);function eG(Yr,Gr){var Wr={};return Wr[Gr.dim+"AxisIndex"]=Gr.index,Yr.getCartesian(Wr)}var ret={line:function(Yr,Gr,Wr){var Zr=Yp([Gr,Wr[0]],[Gr,Wr[1]],rG(Yr));return{type:"Line",subPixelOptimize:!0,shape:Zr}},shadow:function(Yr,Gr,Wr){var Zr=Math.max(1,Yr.getBandWidth()),Kr=Wr[1]-Wr[0];return{type:"Rect",shape:s_([Gr-Zr/2,Wr[0]],[Zr,Kr],rG(Yr))}}};function rG(Yr){return Yr.dim==="x"?0:1}var iG=eet;var iet=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="axisPointer",Gr.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},Gr}(_n),nG=iet;var Eu=ln(),net=_i;function u_(Yr,Gr,Wr){if(!Cn.node){var Zr=Gr.getZr();Eu(Zr).records||(Eu(Zr).records={}),aet(Zr,Gr);var Kr=Eu(Zr).records[Yr]||(Eu(Zr).records[Yr]={});Kr.handler=Wr}}function aet(Yr,Gr){if(Eu(Yr).initialized)return;Eu(Yr).initialized=!0,Wr("click",en(aG,"click")),Wr("mousemove",en(aG,"mousemove")),Wr("globalout",set);function Wr(Zr,Kr){Yr.on(Zr,function(Jr){var Qr=uet(Gr);net(Eu(Yr).records,function(ti){ti&&Kr(ti,Jr,Qr.dispatchAction)}),oet(Qr.pendings,Gr)})}}function oet(Yr,Gr){var Wr=Yr.showTip.length,Zr=Yr.hideTip.length,Kr;Wr?Kr=Yr.showTip[Wr-1]:Zr&&(Kr=Yr.hideTip[Zr-1]),Kr&&(Kr.dispatchAction=null,Gr.dispatchAction(Kr))}function set(Yr,Gr,Wr){Yr.handler("leave",null,Wr)}function aG(Yr,Gr,Wr,Zr){Gr.handler(Yr,Wr,Zr)}function uet(Yr){var Gr={showTip:[],hideTip:[]},Wr=function(Zr){var Kr=Gr[Zr.type];Kr?Kr.push(Zr):(Zr.dispatchAction=Wr,Yr.dispatchAction(Zr))};return{dispatchAction:Wr,pendings:Gr}}function _m(Yr,Gr){if(!Cn.node){var Wr=Gr.getZr(),Zr=(Eu(Wr).records||{})[Yr];Zr&&(Eu(Wr).records[Yr]=null)}}var fet=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=Zr.getComponent("tooltip"),Qr=Wr.get("triggerOn")||Jr&&Jr.get("triggerOn")||"mousemove|click";u_("axisPointer",Kr,function(ti,ei,ri){Qr!=="none"&&(ti==="leave"||Qr.indexOf(ti)>=0)&&ri({type:"updateAxisPointer",currTrigger:ti,x:ei&&ei.offsetX,y:ei&&ei.offsetY})})},Gr.prototype.remove=function(Wr,Zr){_m("axisPointer",Zr)},Gr.prototype.dispose=function(Wr,Zr){_m("axisPointer",Zr)},Gr.type="axisPointer",Gr}(Dn),sG=fet;function bm(Yr,Gr){var Wr=[],Zr=Yr.seriesIndex,Kr;if(Zr==null||!(Kr=Gr.getSeriesByIndex(Zr)))return{point:[]};var Jr=Kr.getData(),Qr=As(Jr,Yr);if(Qr==null||Qr<0||Ri(Qr))return{point:[]};var ti=Jr.getItemGraphicEl(Qr),ei=Kr.coordinateSystem;if(Kr.getTooltipPosition)Wr=Kr.getTooltipPosition(Qr)||[];else if(ei&&ei.dataToPoint)if(Yr.isStacked){var ri=ei.getBaseAxis(),ii=ei.getOtherAxis(ri),ni=ii.dim,ai=ri.dim,oi=ni==="x"||ni==="radius"?1:0,si=Jr.mapDimension(ai),li=[];li[oi]=Jr.get(si,Qr),li[1-oi]=Jr.get(Jr.getCalculationInfo("stackResultDimension"),Qr),Wr=ei.dataToPoint(li)||[]}else Wr=ei.dataToPoint(Jr.getValues(Oi(ei.dimensions,function(fi){return Jr.mapDimension(fi)}),Qr))||[];else if(ti){var ui=ti.getBoundingRect().clone();ui.applyTransform(ti.transform),Wr=[ui.x+ui.width/2,ui.y+ui.height/2]}return{point:Wr,el:ti}}var lG=ln();function SM(Yr,Gr,Wr){var Zr=Yr.currTrigger,Kr=[Yr.x,Yr.y],Jr=Yr,Qr=Yr.dispatchAction||Gi(Wr.dispatchAction,Wr),ti=Gr.getComponent("axisPointer").coordSysAxesInfo;if(ti){f_(Kr)&&(Kr=bm({seriesIndex:Jr.seriesIndex,dataIndex:Jr.dataIndex},Gr).point);var ei=f_(Kr),ri=Jr.axesInfo,ii=ti.axesInfo,ni=Zr==="leave"||f_(Kr),ai={},oi={},si={list:[],map:{}},li={showPointer:en(cet,oi),showTooltip:en(pet,si)};_i(ti.coordSysMap,function(fi,hi){var ci=ei||fi.containPoint(Kr);_i(ti.coordSysAxesInfo[hi],function(pi,di){var vi=pi.axis,mi=get(ri,pi);if(!ni&&ci&&(!ri||mi)){var gi=mi&&mi.value;gi==null&&!ei&&(gi=vi.pointToData(Kr)),gi!=null&&uG(pi,gi,li,!1,ai)}})});var ui={};return _i(ii,function(fi,hi){var ci=fi.linkGroup;ci&&!oi[hi]&&_i(ci.axesInfo,function(pi,di){var vi=oi[di];if(pi!==fi&&vi){var mi=vi.value;ci.mapper&&(mi=fi.axis.scale.parse(ci.mapper(mi,fG(pi),fG(fi)))),ui[fi.key]=mi}})}),_i(ui,function(fi,hi){uG(ii[hi],fi,li,!0,ai)}),det(oi,ii,ai),vet(si,Kr,Yr,Qr),met(ii,Qr,Wr),ai}}function uG(Yr,Gr,Wr,Zr,Kr){var Jr=Yr.axis;if(!(Jr.scale.isBlank()||!Jr.containData(Gr))){if(!Yr.involveSeries){Wr.showPointer(Yr,Gr);return}var Qr=het(Gr,Yr),ti=Qr.payloadBatch,ei=Qr.snapToValue;ti[0]&&Kr.seriesIndex==null&&ki(Kr,ti[0]),!Zr&&Yr.snap&&Jr.containData(ei)&&ei!=null&&(Gr=ei),Wr.showPointer(Yr,Gr,ti),Wr.showTooltip(Yr,Qr,ei)}}function het(Yr,Gr){var Wr=Gr.axis,Zr=Wr.dim,Kr=Yr,Jr=[],Qr=Number.MAX_VALUE,ti=-1;return _i(Gr.seriesModels,function(ei,ri){var ii=ei.getData().mapDimensionsAll(Zr),ni,ai;if(ei.getAxisTooltipData){var oi=ei.getAxisTooltipData(ii,Yr,Wr);ai=oi.dataIndices,ni=oi.nestestValue}else{if(ai=ei.getData().indicesOfNearest(ii[0],Yr,Wr.type==="category"?.5:null),!ai.length)return;ni=ei.getData().get(ii[0],ai[0])}if(!(ni==null||!isFinite(ni))){var si=Yr-ni,li=Math.abs(si);li<=Qr&&((li<Qr||si>=0&&ti<0)&&(Qr=li,ti=si,Kr=ni,Jr.length=0),_i(ai,function(ui){Jr.push({seriesIndex:ei.seriesIndex,dataIndexInside:ui,dataIndex:ei.getData().getRawIndex(ui)})}))}}),{payloadBatch:Jr,snapToValue:Kr}}function cet(Yr,Gr,Wr,Zr){Yr[Gr.key]={value:Wr,payloadBatch:Zr}}function pet(Yr,Gr,Wr,Zr){var Kr=Wr.payloadBatch,Jr=Gr.axis,Qr=Jr.model,ti=Gr.axisPointerModel;if(!(!Gr.triggerTooltip||!Kr.length)){var ei=Gr.coordSys.model,ri=bp(ei),ii=Yr.map[ri];ii||(ii=Yr.map[ri]={coordSysId:ei.id,coordSysIndex:ei.componentIndex,coordSysType:ei.type,coordSysMainType:ei.mainType,dataByAxis:[]},Yr.list.push(ii)),ii.dataByAxis.push({axisDim:Jr.dim,axisIndex:Qr.componentIndex,axisType:Qr.type,axisId:Qr.id,value:Zr,valueLabelOpt:{precision:ti.get(["label","precision"]),formatter:ti.get(["label","formatter"])},seriesDataIndices:Kr.slice()})}}function det(Yr,Gr,Wr){var Zr=Wr.axesInfo=[];_i(Gr,function(Kr,Jr){var Qr=Kr.axisPointerModel.option,ti=Yr[Jr];ti?(!Kr.useHandle&&(Qr.status="show"),Qr.value=ti.value,Qr.seriesDataIndices=(ti.payloadBatch||[]).slice()):!Kr.useHandle&&(Qr.status="hide"),Qr.status==="show"&&Zr.push({axisDim:Kr.axis.dim,axisIndex:Kr.axis.model.componentIndex,value:Qr.value})})}function vet(Yr,Gr,Wr,Zr){if(f_(Gr)||!Yr.list.length){Zr({type:"hideTip"});return}var Kr=((Yr.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};Zr({type:"showTip",escapeConnect:!0,x:Gr[0],y:Gr[1],tooltipOption:Wr.tooltipOption,position:Wr.position,dataIndexInside:Kr.dataIndexInside,dataIndex:Kr.dataIndex,seriesIndex:Kr.seriesIndex,dataByCoordSys:Yr.list})}function met(Yr,Gr,Wr){var Zr=Wr.getZr(),Kr="axisPointerLastHighlights",Jr=lG(Zr)[Kr]||{},Qr=lG(Zr)[Kr]={};_i(Yr,function(ri,ii){var ni=ri.axisPointerModel.option;ni.status==="show"&&ri.triggerEmphasis&&_i(ni.seriesDataIndices,function(ai){var oi=ai.seriesIndex+" | "+ai.dataIndex;Qr[oi]=ai})});var ti=[],ei=[];_i(Jr,function(ri,ii){!Qr[ii]&&ei.push(ri)}),_i(Qr,function(ri,ii){!Jr[ii]&&ti.push(ri)}),ei.length&&Wr.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:ei}),ti.length&&Wr.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ti})}function get(Yr,Gr){for(var Wr=0;Wr<(Yr||[]).length;Wr++){var Zr=Yr[Wr];if(Gr.axis.dim===Zr.axisDim&&Gr.axis.model.componentIndex===Zr.axisIndex)return Zr}}function fG(Yr){var Gr=Yr.axis.model,Wr={},Zr=Wr.axisDim=Yr.axis.dim;return Wr.axisIndex=Wr[Zr+"AxisIndex"]=Gr.componentIndex,Wr.axisName=Wr[Zr+"AxisName"]=Gr.name,Wr.axisId=Wr[Zr+"AxisId"]=Gr.id,Wr}function f_(Yr){return!Yr||Yr[0]==null||isNaN(Yr[0])||Yr[1]==null||isNaN(Yr[1])}function xl(Yr){$o.registerAxisPointerClass("CartesianAxisPointer",iG),Yr.registerComponentModel(nG),Yr.registerComponentView(sG),Yr.registerPreprocessor(function(Gr){if(Gr){(!Gr.axisPointer||Gr.axisPointer.length===0)&&(Gr.axisPointer={});var Wr=Gr.axisPointer.link;Wr&&!Ri(Wr)&&(Gr.axisPointer.link=[Wr])}}),Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.STATISTIC,function(Gr,Wr){Gr.getComponent("axisPointer").coordSysAxesInfo=NN(Gr,Wr)}),Yr.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},SM)}function wM(Yr){Sn(Cx),Sn(xl)}var yet=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.makeElOption=function(Wr,Zr,Kr,Jr,Qr){var ti=Kr.axis;ti.dim==="angle"&&(this.animationThreshold=Math.PI/18);var ei=ti.polar,ri=ei.getOtherAxis(ti),ii=ri.getExtent(),ni=ti.dataToCoord(Zr),ai=Jr.get("type");if(ai&&ai!=="none"){var oi=Wp(Jr),si=_et[ai](ti,ei,ni,ii);si.style=oi,Wr.graphicKey=si.type,Wr.pointer=si}var li=Jr.get(["label","margin"]),ui=xet(Zr,Kr,Jr,ei,li);xM(Wr,Kr,Jr,Qr,ui)},Gr}(Hp);function xet(Yr,Gr,Wr,Zr,Kr){var Jr=Gr.axis,Qr=Jr.dataToCoord(Yr),ti=Zr.getAngleAxis().getExtent()[0];ti=ti/180*Math.PI;var ei=Zr.getRadiusAxis().getExtent(),ri,ii,ni;if(Jr.dim==="radius"){var ai=Aa();zo(ai,ai,ti),to(ai,ai,[Zr.cx,Zr.cy]),ri=io([Qr,-Kr],ai);var oi=Gr.getModel("axisLabel").get("rotate")||0,si=so.innerTextLayout(ti,oi*Math.PI/180,-1);ii=si.textAlign,ni=si.textVerticalAlign}else{var li=ei[1];ri=Zr.coordToPoint([li+Kr,Qr]);var ui=Zr.cx,fi=Zr.cy;ii=Math.abs(ri[0]-ui)/li<.3?"center":ri[0]>ui?"left":"right",ni=Math.abs(ri[1]-fi)/li<.3?"middle":ri[1]>fi?"top":"bottom"}return{position:ri,align:ii,verticalAlign:ni}}var _et={line:function(Yr,Gr,Wr,Zr){return Yr.dim==="angle"?{type:"Line",shape:Yp(Gr.coordToPoint([Zr[0],Wr]),Gr.coordToPoint([Zr[1],Wr]))}:{type:"Circle",shape:{cx:Gr.cx,cy:Gr.cy,r:Wr}}},shadow:function(Yr,Gr,Wr,Zr){var Kr=Math.max(1,Yr.getBandWidth()),Jr=Math.PI/180;return Yr.dim==="angle"?{type:"Sector",shape:bM(Gr.cx,Gr.cy,Zr[0],Zr[1],(-Wr-Kr/2)*Jr,(-Wr+Kr/2)*Jr)}:{type:"Sector",shape:bM(Gr.cx,Gr.cy,Wr-Kr/2,Wr+Kr/2,0,Math.PI*2)}}},hG=yet;var bet=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.findAxisModel=function(Wr){var Zr,Kr=this.ecModel;return Kr.eachComponent(Wr,function(Jr){Jr.getCoordSysModel()===this&&(Zr=Jr)},this),Zr},Gr.type="polar",Gr.dependencies=["radiusAxis","angleAxis"],Gr.defaultOption={z:0,center:["50%","50%"],radius:"80%"},Gr}(_n),cG=bet;var CM=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Yn).models[0]},Gr.type="polarAxis",Gr}(_n);Gn(CM,Nl);var pG=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="angleAxis",Gr}(CM);var dG=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="radiusAxis",Gr}(CM);var TM=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr){return Yr.call(this,"radius",Wr,Zr)||this}return Gr.prototype.pointToData=function(Wr,Zr){return this.polar.pointToData(Wr,Zr)[this.dim==="radius"?0:1]},Gr}(Ka);TM.prototype.dataToRadius=Ka.prototype.dataToCoord;TM.prototype.radiusToData=Ka.prototype.coordToData;var vG=TM;var wet=ln(),AM=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr){return Yr.call(this,"angle",Wr,Zr||[0,360])||this}return Gr.prototype.pointToData=function(Wr,Zr){return this.polar.pointToData(Wr,Zr)[this.dim==="radius"?0:1]},Gr.prototype.calculateCategoryInterval=function(){var Wr=this,Zr=Wr.getLabelModel(),Kr=Wr.scale,Jr=Kr.getExtent(),Qr=Kr.count();if(Jr[1]-Jr[0]<1)return 0;var ti=Jr[0],ei=Wr.dataToCoord(ti+1)-Wr.dataToCoord(ti),ri=Math.abs(ei),ii=Tl(ti==null?"":ti+"",Zr.getFont(),"center","top"),ni=Math.max(ii.height,7),ai=ni/ri;isNaN(ai)&&(ai=1/0);var oi=Math.max(0,Math.floor(ai)),si=wet(Wr.model),li=si.lastAutoInterval,ui=si.lastTickCount;return li!=null&&ui!=null&&Math.abs(li-oi)<=1&&Math.abs(ui-Qr)<=1&&li>oi?oi=li:(si.lastTickCount=Qr,si.lastAutoInterval=oi),oi},Gr}(Ka);AM.prototype.dataToAngle=Ka.prototype.dataToCoord;AM.prototype.angleToData=Ka.prototype.coordToData;var mG=AM;var MM=["radius","angle"],Cet=function(){function Yr(Gr){this.dimensions=MM,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new vG,this._angleAxis=new mG,this.axisPointerEnabled=!0,this.name=Gr||"",this._radiusAxis.polar=this._angleAxis.polar=this}return Yr.prototype.containPoint=function(Gr){var Wr=this.pointToCoord(Gr);return this._radiusAxis.contain(Wr[0])&&this._angleAxis.contain(Wr[1])},Yr.prototype.containData=function(Gr){return this._radiusAxis.containData(Gr[0])&&this._angleAxis.containData(Gr[1])},Yr.prototype.getAxis=function(Gr){var Wr="_"+Gr+"Axis";return this[Wr]},Yr.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},Yr.prototype.getAxesByScale=function(Gr){var Wr=[],Zr=this._angleAxis,Kr=this._radiusAxis;return Zr.scale.type===Gr&&Wr.push(Zr),Kr.scale.type===Gr&&Wr.push(Kr),Wr},Yr.prototype.getAngleAxis=function(){return this._angleAxis},Yr.prototype.getRadiusAxis=function(){return this._radiusAxis},Yr.prototype.getOtherAxis=function(Gr){var Wr=this._angleAxis;return Gr===Wr?this._radiusAxis:Wr},Yr.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},Yr.prototype.getTooltipAxes=function(Gr){var Wr=Gr!=null&&Gr!=="auto"?this.getAxis(Gr):this.getBaseAxis();return{baseAxes:[Wr],otherAxes:[this.getOtherAxis(Wr)]}},Yr.prototype.dataToPoint=function(Gr,Wr){return this.coordToPoint([this._radiusAxis.dataToRadius(Gr[0],Wr),this._angleAxis.dataToAngle(Gr[1],Wr)])},Yr.prototype.pointToData=function(Gr,Wr){var Zr=this.pointToCoord(Gr);return[this._radiusAxis.radiusToData(Zr[0],Wr),this._angleAxis.angleToData(Zr[1],Wr)]},Yr.prototype.pointToCoord=function(Gr){var Wr=Gr[0]-this.cx,Zr=Gr[1]-this.cy,Kr=this.getAngleAxis(),Jr=Kr.getExtent(),Qr=Math.min(Jr[0],Jr[1]),ti=Math.max(Jr[0],Jr[1]);Kr.inverse?Qr=ti-360:ti=Qr+360;var ei=Math.sqrt(Wr*Wr+Zr*Zr);Wr/=ei,Zr/=ei;for(var ri=Math.atan2(-Zr,Wr)/Math.PI*180,ii=ri<Qr?1:-1;ri<Qr||ri>ti;)ri+=ii*360;return[ei,ri]},Yr.prototype.coordToPoint=function(Gr){var Wr=Gr[0],Zr=Gr[1]/180*Math.PI,Kr=Math.cos(Zr)*Wr+this.cx,Jr=-Math.sin(Zr)*Wr+this.cy;return[Kr,Jr]},Yr.prototype.getArea=function(){var Gr=this.getAngleAxis(),Wr=this.getRadiusAxis(),Zr=Wr.getExtent().slice();Zr[0]>Zr[1]&&Zr.reverse();var Kr=Gr.getExtent(),Jr=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:Zr[0],r:Zr[1],startAngle:-Kr[0]*Jr,endAngle:-Kr[1]*Jr,clockwise:Gr.inverse,contain:function(Qr,ti){var ei=Qr-this.cx,ri=ti-this.cy,ii=ei*ei+ri*ri-1e-4,ni=this.r,ai=this.r0;return ii<=ni*ni&&ii>=ai*ai}}},Yr.prototype.convertToPixel=function(Gr,Wr,Zr){var Kr=gG(Wr);return Kr===this?this.dataToPoint(Zr):null},Yr.prototype.convertFromPixel=function(Gr,Wr,Zr){var Kr=gG(Wr);return Kr===this?this.pointToData(Zr):null},Yr}();function gG(Yr){var Gr=Yr.seriesModel,Wr=Yr.polarModel;return Wr&&Wr.coordinateSystem||Gr&&Gr.coordinateSystem}var yG=Cet;function Tet(Yr,Gr,Wr){var Zr=Gr.get("center"),Kr=Wr.getWidth(),Jr=Wr.getHeight();Yr.cx=Ui(Zr[0],Kr),Yr.cy=Ui(Zr[1],Jr);var Qr=Yr.getRadiusAxis(),ti=Math.min(Kr,Jr)/2,ei=Gr.get("radius");ei==null?ei=[0,"100%"]:Ri(ei)||(ei=[0,ei]);var ri=[Ui(ei[0],ti),Ui(ei[1],ti)];Qr.inverse?Qr.setExtent(ri[1],ri[0]):Qr.setExtent(ri[0],ri[1])}function Aet(Yr,Gr){var Wr=this,Zr=Wr.getAngleAxis(),Kr=Wr.getRadiusAxis();if(Zr.scale.setExtent(1/0,-1/0),Kr.scale.setExtent(1/0,-1/0),Yr.eachSeries(function(ti){if(ti.coordinateSystem===Wr){var ei=ti.getData();_i(vp(ei,"radius"),function(ri){Kr.scale.unionExtentFromData(ei,ri)}),_i(vp(ei,"angle"),function(ri){Zr.scale.unionExtentFromData(ei,ri)})}}),zl(Zr.scale,Zr.model),zl(Kr.scale,Kr.model),Zr.type==="category"&&!Zr.onBand){var Jr=Zr.getExtent(),Qr=360/Zr.scale.count();Zr.inverse?Jr[1]+=Qr:Jr[1]-=Qr,Zr.setExtent(Jr[0],Jr[1])}}function Met(Yr){return Yr.mainType==="angleAxis"}function xG(Yr,Gr){var Wr;if(Yr.type=Gr.get("type"),Yr.scale=yf(Gr),Yr.onBand=Gr.get("boundaryGap")&&Yr.type==="category",Yr.inverse=Gr.get("inverse"),Met(Gr)){Yr.inverse=Yr.inverse!==Gr.get("clockwise");var Zr=Gr.get("startAngle"),Kr=(Wr=Gr.get("endAngle"))!==null&&Wr!==void 0?Wr:Zr+(Yr.inverse?-360:360);Yr.setExtent(Zr,Kr)}Gr.axis=Yr,Yr.model=Gr}var Pet={dimensions:MM,create:function(Yr,Gr){var Wr=[];return Yr.eachComponent("polar",function(Zr,Kr){var Jr=new yG(Kr+"");Jr.update=Aet;var Qr=Jr.getRadiusAxis(),ti=Jr.getAngleAxis(),ei=Zr.findAxisModel("radiusAxis"),ri=Zr.findAxisModel("angleAxis");xG(Qr,ei),xG(ti,ri),Tet(Jr,Zr,Gr),Wr.push(Jr),Zr.coordinateSystem=Jr,Jr.model=Zr}),Yr.eachSeries(function(Zr){if(Zr.get("coordinateSystem")==="polar"){var Kr=Zr.getReferringComponents("polar",Yn).models[0];Zr.coordinateSystem=Kr.coordinateSystem}}),Wr}},_G=Pet;var Eet=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function h_(Yr,Gr,Wr){Gr[1]>Gr[0]&&(Gr=Gr.slice().reverse());var Zr=Yr.coordToPoint([Gr[0],Wr]),Kr=Yr.coordToPoint([Gr[1],Wr]);return{x1:Zr[0],y1:Zr[1],x2:Kr[0],y2:Kr[1]}}function c_(Yr){var Gr=Yr.getRadiusAxis();return Gr.inverse?0:1}function bG(Yr){var Gr=Yr[0],Wr=Yr[Yr.length-1];Gr&&Wr&&Math.abs(Math.abs(Gr.coord-Wr.coord)-360)<1e-4&&Yr.pop()}var Det=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.axisPointerClass="PolarAxisPointer",Wr}return Gr.prototype.render=function(Wr,Zr){if(this.group.removeAll(),!!Wr.get("show")){var Kr=Wr.axis,Jr=Kr.polar,Qr=Jr.getRadiusAxis().getExtent(),ti=Kr.getTicksCoords(),ei=Kr.getMinorTicksCoords(),ri=Oi(Kr.getViewLabels(),function(ii){ii=Ki(ii);var ni=Kr.scale,ai=ni.type==="ordinal"?ni.getRawOrdinalNumber(ii.tickValue):ii.tickValue;return ii.coord=Kr.dataToCoord(ai),ii});bG(ri),bG(ti),_i(Eet,function(ii){Wr.get([ii,"show"])&&(!Kr.scale.isBlank()||ii==="axisLine")&&Iet[ii](this.group,Wr,Jr,ti,ei,Qr,ri)},this)}},Gr.type="angleAxis",Gr}($o),Iet={axisLine:function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Gr.getModel(["axisLine","lineStyle"]),ti=Wr.getAngleAxis(),ei=Math.PI/180,ri=ti.getExtent(),ii=c_(Wr),ni=ii?0:1,ai,oi=Math.abs(ri[1]-ri[0])===360?"Circle":"Arc";Jr[ni]===0?ai=new yn[oi]({shape:{cx:Wr.cx,cy:Wr.cy,r:Jr[ii],startAngle:-ri[0]*ei,endAngle:-ri[1]*ei,clockwise:ti.inverse},style:Qr.getLineStyle(),z2:1,silent:!0}):ai=new Eh({shape:{cx:Wr.cx,cy:Wr.cy,r:Jr[ii],r0:Jr[ni]},style:Qr.getLineStyle(),z2:1,silent:!0}),ai.style.fill=null,Yr.add(ai)},axisTick:function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Gr.getModel("axisTick"),ti=(Qr.get("inside")?-1:1)*Qr.get("length"),ei=Jr[c_(Wr)],ri=Oi(Zr,function(ii){return new sa({shape:h_(Wr,[ei,ei+ti],ii.coord)})});Yr.add(vo(ri,{style:Yi(Qr.getModel("lineStyle").getLineStyle(),{stroke:Gr.get(["axisLine","lineStyle","color"])})}))},minorTick:function(Yr,Gr,Wr,Zr,Kr,Jr){if(Kr.length){for(var Qr=Gr.getModel("axisTick"),ti=Gr.getModel("minorTick"),ei=(Qr.get("inside")?-1:1)*ti.get("length"),ri=Jr[c_(Wr)],ii=[],ni=0;ni<Kr.length;ni++)for(var ai=0;ai<Kr[ni].length;ai++)ii.push(new sa({shape:h_(Wr,[ri,ri+ei],Kr[ni][ai].coord)}));Yr.add(vo(ii,{style:Yi(ti.getModel("lineStyle").getLineStyle(),Yi(Qr.getLineStyle(),{stroke:Gr.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Gr.getCategories(!0),ei=Gr.getModel("axisLabel"),ri=ei.get("margin"),ii=Gr.get("triggerEvent");_i(Qr,function(ni,ai){var oi=ei,si=ni.tickValue,li=Jr[c_(Wr)],ui=Wr.coordToPoint([li+ri,ni.coord]),fi=Wr.cx,hi=Wr.cy,ci=Math.abs(ui[0]-fi)/li<.3?"center":ui[0]>fi?"left":"right",pi=Math.abs(ui[1]-hi)/li<.3?"middle":ui[1]>hi?"top":"bottom";if(ti&&ti[si]){var di=ti[si];qi(di)&&di.textStyle&&(oi=new Mn(di.textStyle,ei,ei.ecModel))}var vi=new xn({silent:so.isLabelSilent(Gr),style:On(oi,{x:ui[0],y:ui[1],fill:oi.getTextColor()||Gr.get(["axisLine","lineStyle","color"]),text:ni.formattedLabel,align:ci,verticalAlign:pi})});if(Yr.add(vi),ii){var mi=so.makeAxisEventDataBase(Gr);mi.targetType="axisLabel",mi.value=ni.rawLabel,Qi(vi).eventData=mi}},this)},splitLine:function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Gr.getModel("splitLine"),ti=Qr.getModel("lineStyle"),ei=ti.get("color"),ri=0;ei=ei instanceof Array?ei:[ei];for(var ii=[],ni=0;ni<Zr.length;ni++){var ai=ri++%ei.length;ii[ai]=ii[ai]||[],ii[ai].push(new sa({shape:h_(Wr,Jr,Zr[ni].coord)}))}for(var ni=0;ni<ii.length;ni++)Yr.add(vo(ii[ni],{style:Yi({stroke:ei[ni%ei.length]},ti.getLineStyle()),silent:!0,z:Gr.get("z")}))},minorSplitLine:function(Yr,Gr,Wr,Zr,Kr,Jr){if(Kr.length){for(var Qr=Gr.getModel("minorSplitLine"),ti=Qr.getModel("lineStyle"),ei=[],ri=0;ri<Kr.length;ri++)for(var ii=0;ii<Kr[ri].length;ii++)ei.push(new sa({shape:h_(Wr,Jr,Kr[ri][ii].coord)}));Yr.add(vo(ei,{style:ti.getLineStyle(),silent:!0,z:Gr.get("z")}))}},splitArea:function(Yr,Gr,Wr,Zr,Kr,Jr){if(Zr.length){var Qr=Gr.getModel("splitArea"),ti=Qr.getModel("areaStyle"),ei=ti.get("color"),ri=0;ei=ei instanceof Array?ei:[ei];for(var ii=[],ni=Math.PI/180,ai=-Zr[0].coord*ni,oi=Math.min(Jr[0],Jr[1]),si=Math.max(Jr[0],Jr[1]),li=Gr.get("clockwise"),ui=1,fi=Zr.length;ui<=fi;ui++){var hi=ui===fi?Zr[0].coord:Zr[ui].coord,ci=ri++%ei.length;ii[ci]=ii[ci]||[],ii[ci].push(new Sa({shape:{cx:Wr.cx,cy:Wr.cy,r0:oi,r:si,startAngle:ai,endAngle:-hi*ni,clockwise:li},silent:!0})),ai=-hi*ni}for(var ui=0;ui<ii.length;ui++)Yr.add(vo(ii[ui],{style:Yi({fill:ei[ui%ei.length]},ti.getAreaStyle()),silent:!0}))}}},SG=Det;var Let=["axisLine","axisTickLabel","axisName"],ket=["splitLine","splitArea","minorSplitLine"],Ret=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.axisPointerClass="PolarAxisPointer",Wr}return Gr.prototype.render=function(Wr,Zr){if(this.group.removeAll(),!!Wr.get("show")){var Kr=this._axisGroup,Jr=this._axisGroup=new Zi;this.group.add(Jr);var Qr=Wr.axis,ti=Qr.polar,ei=ti.getAngleAxis(),ri=Qr.getTicksCoords(),ii=Qr.getMinorTicksCoords(),ni=ei.getExtent()[0],ai=Qr.getExtent(),oi=zet(ti,Wr,ni),si=new so(Wr,oi);_i(Let,si.add,si),Jr.add(si.getGroup()),du(Kr,Jr,Wr),_i(ket,function(li){Wr.get([li,"show"])&&!Qr.scale.isBlank()&&Oet[li](this.group,Wr,ti,ni,ai,ri,ii)},this)}},Gr.type="radiusAxis",Gr}($o),Oet={splitLine:function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Gr.getModel("splitLine"),ti=Qr.getModel("lineStyle"),ei=ti.get("color"),ri=0,ii=Wr.getAngleAxis(),ni=Math.PI/180,ai=ii.getExtent(),oi=Math.abs(ai[1]-ai[0])===360?"Circle":"Arc";ei=ei instanceof Array?ei:[ei];for(var si=[],li=0;li<Jr.length;li++){var ui=ri++%ei.length;si[ui]=si[ui]||[],si[ui].push(new yn[oi]({shape:{cx:Wr.cx,cy:Wr.cy,r:Math.max(Jr[li].coord,0),startAngle:-ai[0]*ni,endAngle:-ai[1]*ni,clockwise:ii.inverse}}))}for(var li=0;li<si.length;li++)Yr.add(vo(si[li],{style:Yi({stroke:ei[li%ei.length],fill:null},ti.getLineStyle()),silent:!0}))},minorSplitLine:function(Yr,Gr,Wr,Zr,Kr,Jr,Qr){if(Qr.length){for(var ti=Gr.getModel("minorSplitLine"),ei=ti.getModel("lineStyle"),ri=[],ii=0;ii<Qr.length;ii++)for(var ni=0;ni<Qr[ii].length;ni++)ri.push(new wo({shape:{cx:Wr.cx,cy:Wr.cy,r:Qr[ii][ni].coord}}));Yr.add(vo(ri,{style:Yi({fill:null},ei.getLineStyle()),silent:!0}))}},splitArea:function(Yr,Gr,Wr,Zr,Kr,Jr){if(Jr.length){var Qr=Gr.getModel("splitArea"),ti=Qr.getModel("areaStyle"),ei=ti.get("color"),ri=0;ei=ei instanceof Array?ei:[ei];for(var ii=[],ni=Jr[0].coord,ai=1;ai<Jr.length;ai++){var oi=ri++%ei.length;ii[oi]=ii[oi]||[],ii[oi].push(new Sa({shape:{cx:Wr.cx,cy:Wr.cy,r0:ni,r:Jr[ai].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),ni=Jr[ai].coord}for(var ai=0;ai<ii.length;ai++)Yr.add(vo(ii[ai],{style:Yi({fill:ei[ai%ei.length]},ti.getAreaStyle()),silent:!0}))}}};function zet(Yr,Gr,Wr){return{position:[Yr.cx,Yr.cy],rotation:Wr/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:Gr.getModel("axisLabel").get("rotate"),z2:1}}var wG=Ret;function CG(Yr){return Yr.get("stack")||"__ec_stack_"+Yr.seriesIndex}function TG(Yr,Gr){return Gr.dim+Yr.model.componentIndex}function Net(Yr,Gr,Wr){var Zr={},Kr=Fet(Tn(Gr.getSeriesByType(Yr),function(Jr){return!Gr.isSeriesFiltered(Jr)&&Jr.coordinateSystem&&Jr.coordinateSystem.type==="polar"}));Gr.eachSeriesByType(Yr,function(Jr){if(Jr.coordinateSystem.type==="polar"){var Qr=Jr.getData(),ti=Jr.coordinateSystem,ei=ti.getBaseAxis(),ri=TG(ti,ei),ii=CG(Jr),ni=Kr[ri][ii],ai=ni.offset,oi=ni.width,si=ti.getOtherAxis(ei),li=Jr.coordinateSystem.cx,ui=Jr.coordinateSystem.cy,fi=Jr.get("barMinHeight")||0,hi=Jr.get("barMinAngle")||0;Zr[ii]=Zr[ii]||[];for(var ci=Qr.mapDimension(si.dim),pi=Qr.mapDimension(ei.dim),di=ds(Qr,ci),vi=ei.dim!=="radius"||!Jr.get("roundCap",!0),mi=si.dataToCoord(0),gi=0,yi=Qr.count();gi<yi;gi++){var Si=Qr.get(ci,gi),bi=Qr.get(pi,gi),Ti=Si>=0?"p":"n",Ai=mi;di&&(Zr[ii][bi]||(Zr[ii][bi]={p:mi,n:mi}),Ai=Zr[ii][bi][Ti]);var Ei=void 0,Mi=void 0,wi=void 0,Pi=void 0;if(si.dim==="radius"){var xi=si.dataToCoord(Si)-mi,Ci=ei.dataToCoord(bi);Math.abs(xi)<fi&&(xi=(xi<0?-1:1)*fi),Ei=Ai,Mi=Ai+xi,wi=Ci-ai,Pi=wi-oi,di&&(Zr[ii][bi][Ti]=Mi)}else{var Li=si.dataToCoord(Si,vi)-mi,Ii=ei.dataToCoord(bi);Math.abs(Li)<hi&&(Li=(Li<0?-1:1)*hi),Ei=Ii+ai,Mi=Ei+oi,wi=Ai,Pi=Ai+Li,di&&(Zr[ii][bi][Ti]=Pi)}Qr.setItemLayout(gi,{cx:li,cy:ui,r0:Ei,r:Mi,startAngle:-wi*Math.PI/180,endAngle:-Pi*Math.PI/180,clockwise:wi>=Pi})}}})}function Fet(Yr){var Gr={};_i(Yr,function(Zr,Kr){var Jr=Zr.getData(),Qr=Zr.coordinateSystem,ti=Qr.getBaseAxis(),ei=TG(Qr,ti),ri=ti.getExtent(),ii=ti.type==="category"?ti.getBandWidth():Math.abs(ri[1]-ri[0])/Jr.count(),ni=Gr[ei]||{bandWidth:ii,remainedWidth:ii,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},ai=ni.stacks;Gr[ei]=ni;var oi=CG(Zr);ai[oi]||ni.autoWidthCount++,ai[oi]=ai[oi]||{width:0,maxWidth:0};var si=Ui(Zr.get("barWidth"),ii),li=Ui(Zr.get("barMaxWidth"),ii),ui=Zr.get("barGap"),fi=Zr.get("barCategoryGap");si&&!ai[oi].width&&(si=Math.min(ni.remainedWidth,si),ai[oi].width=si,ni.remainedWidth-=si),li&&(ai[oi].maxWidth=li),ui!=null&&(ni.gap=ui),fi!=null&&(ni.categoryGap=fi)});var Wr={};return _i(Gr,function(Zr,Kr){Wr[Kr]={};var Jr=Zr.stacks,Qr=Zr.bandWidth,ti=Ui(Zr.categoryGap,Qr),ei=Ui(Zr.gap,1),ri=Zr.remainedWidth,ii=Zr.autoWidthCount,ni=(ri-ti)/(ii+(ii-1)*ei);ni=Math.max(ni,0),_i(Jr,function(li,ui){var fi=li.maxWidth;fi&&fi<ni&&(fi=Math.min(fi,ri),li.width&&(fi=Math.min(fi,li.width)),ri-=fi,li.width=fi,ii--)}),ni=(ri-ti)/(ii+(ii-1)*ei),ni=Math.max(ni,0);var ai=0,oi;_i(Jr,function(li,ui){li.width||(li.width=ni),oi=li,ai+=li.width*(1+ei)}),oi&&(ai-=oi.width*ei);var si=-ai/2;_i(Jr,function(li,ui){Wr[Kr][ui]=Wr[Kr][ui]||{offset:si,width:li.width},si+=li.width*(1+ei)})}),Wr}var AG=Net;var Vet={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Bet={splitNumber:5},Uet=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="polar",Gr}(Dn);function PM(Yr){Sn(xl),$o.registerAxisPointerClass("PolarAxisPointer",hG),Yr.registerCoordinateSystem("polar",_G),Yr.registerComponentModel(cG),Yr.registerComponentView(Uet),yl(Yr,"angle",pG,Vet),yl(Yr,"radius",dG,Bet),Yr.registerComponentView(SG),Yr.registerComponentView(wG),Yr.registerLayout(en(AG,"bar"))}function Sm(Yr,Gr){Gr=Gr||{};var Wr=Yr.coordinateSystem,Zr=Yr.axis,Kr={},Jr=Zr.position,Qr=Zr.orient,ti=Wr.getRect(),ei=[ti.x,ti.x+ti.width,ti.y,ti.y+ti.height],ri={horizontal:{top:ei[2],bottom:ei[3]},vertical:{left:ei[0],right:ei[1]}};Kr.position=[Qr==="vertical"?ri.vertical[Jr]:ei[0],Qr==="horizontal"?ri.horizontal[Jr]:ei[3]];var ii={horizontal:0,vertical:1};Kr.rotation=Math.PI/2*ii[Qr];var ni={top:-1,bottom:1,right:1,left:-1};Kr.labelDirection=Kr.tickDirection=Kr.nameDirection=ni[Jr],Yr.get(["axisTick","inside"])&&(Kr.tickDirection=-Kr.tickDirection),ta(Gr.labelInside,Yr.get(["axisLabel","inside"]))&&(Kr.labelDirection=-Kr.labelDirection);var ai=Gr.rotate;return ai==null&&(ai=Yr.get(["axisLabel","rotate"])),Kr.labelRotation=Jr==="top"?-ai:ai,Kr.z2=1,Kr}var Get=["axisLine","axisTickLabel","axisName"],Het=["splitArea","splitLine"],Wet=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.axisPointerClass="SingleAxisPointer",Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){var Qr=this.group;Qr.removeAll();var ti=this._axisGroup;this._axisGroup=new Zi;var ei=Sm(Wr),ri=new so(Wr,ei);_i(Get,ri.add,ri),Qr.add(this._axisGroup),Qr.add(ri.getGroup()),_i(Het,function(ii){Wr.get([ii,"show"])&&Yet[ii](this,this.group,this._axisGroup,Wr)},this),du(ti,this._axisGroup,Wr),Yr.prototype.render.call(this,Wr,Zr,Kr,Jr)},Gr.prototype.remove=function(){Sx(this)},Gr.type="singleAxis",Gr}($o),Yet={splitLine:function(Yr,Gr,Wr,Zr){var Kr=Zr.axis;if(!Kr.scale.isBlank()){var Jr=Zr.getModel("splitLine"),Qr=Jr.getModel("lineStyle"),ti=Qr.get("color");ti=ti instanceof Array?ti:[ti];for(var ei=Qr.get("width"),ri=Zr.coordinateSystem.getRect(),ii=Kr.isHorizontal(),ni=[],ai=0,oi=Kr.getTicksCoords({tickModel:Jr}),si=[],li=[],ui=0;ui<oi.length;++ui){var fi=Kr.toGlobalCoord(oi[ui].coord);ii?(si[0]=fi,si[1]=ri.y,li[0]=fi,li[1]=ri.y+ri.height):(si[0]=ri.x,si[1]=fi,li[0]=ri.x+ri.width,li[1]=fi);var hi=new sa({shape:{x1:si[0],y1:si[1],x2:li[0],y2:li[1]},silent:!0});pu(hi.shape,ei);var ci=ai++%ti.length;ni[ci]=ni[ci]||[],ni[ci].push(hi)}for(var pi=Qr.getLineStyle(["color"]),ui=0;ui<ni.length;++ui)Gr.add(vo(ni[ui],{style:Yi({stroke:ti[ui%ti.length]},pi),silent:!0}))}},splitArea:function(Yr,Gr,Wr,Zr){bx(Yr,Wr,Zr,Zr)}},PG=Wet;var EG=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.getCoordSysModel=function(){return this},Gr.type="singleAxis",Gr.layoutMode="box",Gr.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},Gr}(_n);Gn(EG,Nl.prototype);var p_=EG;var Xet=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr,Qr){var ti=Yr.call(this,Wr,Zr,Kr)||this;return ti.type=Jr||"value",ti.position=Qr||"bottom",ti}return Gr.prototype.isHorizontal=function(){var Wr=this.position;return Wr==="top"||Wr==="bottom"},Gr.prototype.pointToData=function(Wr,Zr){return this.coordinateSystem.pointToData(Wr)[0]},Gr}(Ka),DG=Xet;var EM=["single"],qet=function(){function Yr(Gr,Wr,Zr){this.type="single",this.dimension="single",this.dimensions=EM,this.axisPointerEnabled=!0,this.model=Gr,this._init(Gr,Wr,Zr)}return Yr.prototype._init=function(Gr,Wr,Zr){var Kr=this.dimension,Jr=new DG(Kr,yf(Gr),[0,0],Gr.get("type"),Gr.get("position")),Qr=Jr.type==="category";Jr.onBand=Qr&&Gr.get("boundaryGap"),Jr.inverse=Gr.get("inverse"),Jr.orient=Gr.get("orient"),Gr.axis=Jr,Jr.model=Gr,Jr.coordinateSystem=this,this._axis=Jr},Yr.prototype.update=function(Gr,Wr){Gr.eachSeries(function(Zr){if(Zr.coordinateSystem===this){var Kr=Zr.getData();_i(Kr.mapDimensionsAll(this.dimension),function(Jr){this._axis.scale.unionExtentFromData(Kr,Jr)},this),zl(this._axis.scale,this._axis.model)}},this)},Yr.prototype.resize=function(Gr,Wr){this._rect=Vn({left:Gr.get("left"),top:Gr.get("top"),right:Gr.get("right"),bottom:Gr.get("bottom"),width:Gr.get("width"),height:Gr.get("height")},{width:Wr.getWidth(),height:Wr.getHeight()}),this._adjustAxis()},Yr.prototype.getRect=function(){return this._rect},Yr.prototype._adjustAxis=function(){var Gr=this._rect,Wr=this._axis,Zr=Wr.isHorizontal(),Kr=Zr?[0,Gr.width]:[0,Gr.height],Jr=Wr.inverse?1:0;Wr.setExtent(Kr[Jr],Kr[1-Jr]),this._updateAxisTransform(Wr,Zr?Gr.x:Gr.y)},Yr.prototype._updateAxisTransform=function(Gr,Wr){var Zr=Gr.getExtent(),Kr=Zr[0]+Zr[1],Jr=Gr.isHorizontal();Gr.toGlobalCoord=Jr?function(Qr){return Qr+Wr}:function(Qr){return Kr-Qr+Wr},Gr.toLocalCoord=Jr?function(Qr){return Qr-Wr}:function(Qr){return Kr-Qr+Wr}},Yr.prototype.getAxis=function(){return this._axis},Yr.prototype.getBaseAxis=function(){return this._axis},Yr.prototype.getAxes=function(){return[this._axis]},Yr.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Yr.prototype.containPoint=function(Gr){var Wr=this.getRect(),Zr=this.getAxis(),Kr=Zr.orient;return Kr==="horizontal"?Zr.contain(Zr.toLocalCoord(Gr[0]))&&Gr[1]>=Wr.y&&Gr[1]<=Wr.y+Wr.height:Zr.contain(Zr.toLocalCoord(Gr[1]))&&Gr[0]>=Wr.y&&Gr[0]<=Wr.y+Wr.height},Yr.prototype.pointToData=function(Gr){var Wr=this.getAxis();return[Wr.coordToData(Wr.toLocalCoord(Gr[Wr.orient==="horizontal"?0:1]))]},Yr.prototype.dataToPoint=function(Gr){var Wr=this.getAxis(),Zr=this.getRect(),Kr=[],Jr=Wr.orient==="horizontal"?0:1;return Gr instanceof Array&&(Gr=Gr[0]),Kr[Jr]=Wr.toGlobalCoord(Wr.dataToCoord(+Gr)),Kr[1-Jr]=Jr===0?Zr.y+Zr.height/2:Zr.x+Zr.width/2,Kr},Yr.prototype.convertToPixel=function(Gr,Wr,Zr){var Kr=IG(Wr);return Kr===this?this.dataToPoint(Zr):null},Yr.prototype.convertFromPixel=function(Gr,Wr,Zr){var Kr=IG(Wr);return Kr===this?this.pointToData(Zr):null},Yr}();function IG(Yr){var Gr=Yr.seriesModel,Wr=Yr.singleAxisModel;return Wr&&Wr.coordinateSystem||Gr&&Gr.coordinateSystem}var LG=qet;function Zet(Yr,Gr){var Wr=[];return Yr.eachComponent("singleAxis",function(Zr,Kr){var Jr=new LG(Zr,Yr,Gr);Jr.name="single_"+Kr,Jr.resize(Zr,Gr),Zr.coordinateSystem=Jr,Wr.push(Jr)}),Yr.eachSeries(function(Zr){if(Zr.get("coordinateSystem")==="singleAxis"){var Kr=Zr.getReferringComponents("singleAxis",Yn).models[0];Zr.coordinateSystem=Kr&&Kr.coordinateSystem}}),Wr}var jet={create:Zet,dimensions:EM},kG=jet;var RG=["x","y"],Ket=["width","height"],$et=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.makeElOption=function(Wr,Zr,Kr,Jr,Qr){var ti=Kr.axis,ei=ti.coordinateSystem,ri=DM(ei,1-d_(ti)),ii=ei.dataToPoint(Zr)[0],ni=Jr.get("type");if(ni&&ni!=="none"){var ai=Wp(Jr),oi=Jet[ni](ti,ii,ri);oi.style=ai,Wr.graphicKey=oi.type,Wr.pointer=oi}var si=Sm(Kr);o_(Zr,Wr,si,Kr,Jr,Qr)},Gr.prototype.getHandleTransform=function(Wr,Zr,Kr){var Jr=Sm(Zr,{labelInside:!1});Jr.labelMargin=Kr.get(["handle","margin"]);var Qr=xm(Zr.axis,Wr,Jr);return{x:Qr[0],y:Qr[1],rotation:Jr.rotation+(Jr.labelDirection<0?Math.PI:0)}},Gr.prototype.updateHandleTransform=function(Wr,Zr,Kr,Jr){var Qr=Kr.axis,ti=Qr.coordinateSystem,ei=d_(Qr),ri=DM(ti,ei),ii=[Wr.x,Wr.y];ii[ei]+=Zr[ei],ii[ei]=Math.min(ri[1],ii[ei]),ii[ei]=Math.max(ri[0],ii[ei]);var ni=DM(ti,1-ei),ai=(ni[1]+ni[0])/2,oi=[ai,ai];return oi[ei]=ii[ei],{x:ii[0],y:ii[1],rotation:Wr.rotation,cursorPoint:oi,tooltipOption:{verticalAlign:"middle"}}},Gr}(Hp),Jet={line:function(Yr,Gr,Wr){var Zr=Yp([Gr,Wr[0]],[Gr,Wr[1]],d_(Yr));return{type:"Line",subPixelOptimize:!0,shape:Zr}},shadow:function(Yr,Gr,Wr){var Zr=Yr.getBandWidth(),Kr=Wr[1]-Wr[0];return{type:"Rect",shape:s_([Gr-Zr/2,Wr[0]],[Zr,Kr],d_(Yr))}}};function d_(Yr){return Yr.isHorizontal()?0:1}function DM(Yr,Gr){var Wr=Yr.getRect();return[Wr[RG[Gr]],Wr[RG[Gr]]+Wr[Ket[Gr]]]}var OG=$et;var Qet=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="single",Gr}(Dn);function IM(Yr){Sn(xl),$o.registerAxisPointerClass("SingleAxisPointer",OG),Yr.registerComponentView(Qet),Yr.registerComponentView(PG),Yr.registerComponentModel(p_),yl(Yr,"single",p_,p_.defaultOption),Yr.registerCoordinateSystem("single",kG)}var trt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr,Kr){var Jr=Is(Wr);Yr.prototype.init.apply(this,arguments),zG(Wr,Jr)},Gr.prototype.mergeOption=function(Wr){Yr.prototype.mergeOption.apply(this,arguments),zG(this.option,Wr)},Gr.prototype.getCellSize=function(){return this.option.cellSize},Gr.type="calendar",Gr.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},Gr}(_n);function zG(Yr,Gr){var Wr=Yr.cellSize,Zr;Ri(Wr)?Zr=Wr:Zr=Yr.cellSize=[Wr,Wr],Zr.length===1&&(Zr[1]=Zr[0]);var Kr=Oi([0,1],function(Jr){return i2(Gr,Jr)&&(Zr[Jr]="auto"),Zr[Jr]!=null&&Zr[Jr]!=="auto"});Yo(Yr,Gr,{type:"box",ignoreSize:Kr})}var NG=trt;var ert=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this.group;Jr.removeAll();var Qr=Wr.coordinateSystem,ti=Qr.getRangeInfo(),ei=Qr.getOrient(),ri=Zr.getLocaleModel();this._renderDayRect(Wr,ti,Jr),this._renderLines(Wr,ti,ei,Jr),this._renderYearText(Wr,ti,ei,Jr),this._renderMonthText(Wr,ri,ei,Jr),this._renderWeekText(Wr,ri,ti,ei,Jr)},Gr.prototype._renderDayRect=function(Wr,Zr,Kr){for(var Jr=Wr.coordinateSystem,Qr=Wr.getModel("itemStyle").getItemStyle(),ti=Jr.getCellWidth(),ei=Jr.getCellHeight(),ri=Zr.start.time;ri<=Zr.end.time;ri=Jr.getNextNDay(ri,1).time){var ii=Jr.dataToRect([ri],!1).tl,ni=new mn({shape:{x:ii[0],y:ii[1],width:ti,height:ei},cursor:"default",style:Qr});Kr.add(ni)}},Gr.prototype._renderLines=function(Wr,Zr,Kr,Jr){var Qr=this,ti=Wr.coordinateSystem,ei=Wr.getModel(["splitLine","lineStyle"]).getLineStyle(),ri=Wr.get(["splitLine","show"]),ii=ei.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var ni=Zr.start,ai=0;ni.time<=Zr.end.time;ai++){si(ni.formatedDate),ai===0&&(ni=ti.getDateInfo(Zr.start.y+"-"+Zr.start.m));var oi=ni.date;oi.setMonth(oi.getMonth()+1),ni=ti.getDateInfo(oi)}si(ti.getNextNDay(Zr.end.time,1).formatedDate);function si(li){Qr._firstDayOfMonth.push(ti.getDateInfo(li)),Qr._firstDayPoints.push(ti.dataToRect([li],!1).tl);var ui=Qr._getLinePointsOfOneWeek(Wr,li,Kr);Qr._tlpoints.push(ui[0]),Qr._blpoints.push(ui[ui.length-1]),ri&&Qr._drawSplitline(ui,ei,Jr)}ri&&this._drawSplitline(Qr._getEdgesPoints(Qr._tlpoints,ii,Kr),ei,Jr),ri&&this._drawSplitline(Qr._getEdgesPoints(Qr._blpoints,ii,Kr),ei,Jr)},Gr.prototype._getEdgesPoints=function(Wr,Zr,Kr){var Jr=[Wr[0].slice(),Wr[Wr.length-1].slice()],Qr=Kr==="horizontal"?0:1;return Jr[0][Qr]=Jr[0][Qr]-Zr/2,Jr[1][Qr]=Jr[1][Qr]+Zr/2,Jr},Gr.prototype._drawSplitline=function(Wr,Zr,Kr){var Jr=new la({z2:20,shape:{points:Wr},style:Zr});Kr.add(Jr)},Gr.prototype._getLinePointsOfOneWeek=function(Wr,Zr,Kr){for(var Jr=Wr.coordinateSystem,Qr=Jr.getDateInfo(Zr),ti=[],ei=0;ei<7;ei++){var ri=Jr.getNextNDay(Qr.time,ei),ii=Jr.dataToRect([ri.time],!1);ti[2*ri.day]=ii.tl,ti[2*ri.day+1]=ii[Kr==="horizontal"?"bl":"tr"]}return ti},Gr.prototype._formatterLabel=function(Wr,Zr){return Ni(Wr)&&Wr?t2(Wr,Zr):Wi(Wr)?Wr(Zr):Zr.nameMap},Gr.prototype._yearTextPositionControl=function(Wr,Zr,Kr,Jr,Qr){var ti=Zr[0],ei=Zr[1],ri=["center","bottom"];Jr==="bottom"?(ei+=Qr,ri=["center","top"]):Jr==="left"?ti-=Qr:Jr==="right"?(ti+=Qr,ri=["center","top"]):ei-=Qr;var ii=0;return(Jr==="left"||Jr==="right")&&(ii=Math.PI/2),{rotation:ii,x:ti,y:ei,style:{align:ri[0],verticalAlign:ri[1]}}},Gr.prototype._renderYearText=function(Wr,Zr,Kr,Jr){var Qr=Wr.getModel("yearLabel");if(Qr.get("show")){var ti=Qr.get("margin"),ei=Qr.get("position");ei||(ei=Kr!=="horizontal"?"top":"left");var ri=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],ii=(ri[0][0]+ri[1][0])/2,ni=(ri[0][1]+ri[1][1])/2,ai=Kr==="horizontal"?0:1,oi={top:[ii,ri[ai][1]],bottom:[ii,ri[1-ai][1]],left:[ri[1-ai][0],ni],right:[ri[ai][0],ni]},si=Zr.start.y;+Zr.end.y>+Zr.start.y&&(si=si+"-"+Zr.end.y);var li=Qr.get("formatter"),ui={start:Zr.start.y,end:Zr.end.y,nameMap:si},fi=this._formatterLabel(li,ui),hi=new xn({z2:30,style:On(Qr,{text:fi})});hi.attr(this._yearTextPositionControl(hi,oi[ei],Kr,ei,ti)),Jr.add(hi)}},Gr.prototype._monthTextPositionControl=function(Wr,Zr,Kr,Jr,Qr){var ti="left",ei="top",ri=Wr[0],ii=Wr[1];return Kr==="horizontal"?(ii=ii+Qr,Zr&&(ti="center"),Jr==="start"&&(ei="bottom")):(ri=ri+Qr,Zr&&(ei="middle"),Jr==="start"&&(ti="right")),{x:ri,y:ii,align:ti,verticalAlign:ei}},Gr.prototype._renderMonthText=function(Wr,Zr,Kr,Jr){var Qr=Wr.getModel("monthLabel");if(Qr.get("show")){var ti=Qr.get("nameMap"),ei=Qr.get("margin"),ri=Qr.get("position"),ii=Qr.get("align"),ni=[this._tlpoints,this._blpoints];(!ti||Ni(ti))&&(ti&&(Zr=lv(ti)||Zr),ti=Zr.get(["time","monthAbbr"])||[]);var ai=ri==="start"?0:1,oi=Kr==="horizontal"?0:1;ei=ri==="start"?-ei:ei;for(var si=ii==="center",li=0;li<ni[ai].length-1;li++){var ui=ni[ai][li].slice(),fi=this._firstDayOfMonth[li];if(si){var hi=this._firstDayPoints[li];ui[oi]=(hi[oi]+ni[0][li+1][oi])/2}var ci=Qr.get("formatter"),pi=ti[+fi.m-1],di={yyyy:fi.y,yy:(fi.y+"").slice(2),MM:fi.m,M:+fi.m,nameMap:pi},vi=this._formatterLabel(ci,di),mi=new xn({z2:30,style:ki(On(Qr,{text:vi}),this._monthTextPositionControl(ui,si,Kr,ri,ei))});Jr.add(mi)}}},Gr.prototype._weekTextPositionControl=function(Wr,Zr,Kr,Jr,Qr){var ti="center",ei="middle",ri=Wr[0],ii=Wr[1],ni=Kr==="start";return Zr==="horizontal"?(ri=ri+Jr+(ni?1:-1)*Qr[0]/2,ti=ni?"right":"left"):(ii=ii+Jr+(ni?1:-1)*Qr[1]/2,ei=ni?"bottom":"top"),{x:ri,y:ii,align:ti,verticalAlign:ei}},Gr.prototype._renderWeekText=function(Wr,Zr,Kr,Jr,Qr){var ti=Wr.getModel("dayLabel");if(ti.get("show")){var ei=Wr.coordinateSystem,ri=ti.get("position"),ii=ti.get("nameMap"),ni=ti.get("margin"),ai=ei.getFirstDayOfWeek();if(!ii||Ni(ii)){ii&&(Zr=lv(ii)||Zr);var oi=Zr.get(["time","dayOfWeekShort"]);ii=oi||Oi(Zr.get(["time","dayOfWeekAbbr"]),function(di){return di[0]})}var si=ei.getNextNDay(Kr.end.time,7-Kr.lweek).time,li=[ei.getCellWidth(),ei.getCellHeight()];ni=Ui(ni,Math.min(li[1],li[0])),ri==="start"&&(si=ei.getNextNDay(Kr.start.time,-(7+Kr.fweek)).time,ni=-ni);for(var ui=0;ui<7;ui++){var fi=ei.getNextNDay(si,ui),hi=ei.dataToRect([fi.time],!1).center,ci=ui;ci=Math.abs((ui+ai)%7);var pi=new xn({z2:30,style:ki(On(ti,{text:ii[ci]}),this._weekTextPositionControl(hi,Jr,ri,ni,li))});Qr.add(pi)}}},Gr.type="calendar",Gr}(Dn),FG=ert;var LM=864e5,rrt=function(){function Yr(Gr,Wr,Zr){this.type="calendar",this.dimensions=Yr.dimensions,this.getDimensionsInfo=Yr.getDimensionsInfo,this._model=Gr}return Yr.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Yr.prototype.getRangeInfo=function(){return this._rangeInfo},Yr.prototype.getModel=function(){return this._model},Yr.prototype.getRect=function(){return this._rect},Yr.prototype.getCellWidth=function(){return this._sw},Yr.prototype.getCellHeight=function(){return this._sh},Yr.prototype.getOrient=function(){return this._orient},Yr.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Yr.prototype.getDateInfo=function(Gr){Gr=bo(Gr);var Wr=Gr.getFullYear(),Zr=Gr.getMonth()+1,Kr=Zr<10?"0"+Zr:""+Zr,Jr=Gr.getDate(),Qr=Jr<10?"0"+Jr:""+Jr,ti=Gr.getDay();return ti=Math.abs((ti+7-this.getFirstDayOfWeek())%7),{y:Wr+"",m:Kr,d:Qr,day:ti,time:Gr.getTime(),formatedDate:Wr+"-"+Kr+"-"+Qr,date:Gr}},Yr.prototype.getNextNDay=function(Gr,Wr){return Wr=Wr||0,Wr===0?this.getDateInfo(Gr):(Gr=new Date(this.getDateInfo(Gr).time),Gr.setDate(Gr.getDate()+Wr),this.getDateInfo(Gr))},Yr.prototype.update=function(Gr,Wr){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var Zr=this._rangeInfo.weeks||1,Kr=["width","height"],Jr=this._model.getCellSize().slice(),Qr=this._model.getBoxLayoutParams(),ti=this._orient==="horizontal"?[Zr,7]:[7,Zr];_i([0,1],function(ni){ii(Jr,ni)&&(Qr[Kr[ni]]=Jr[ni]*ti[ni])});var ei={width:Wr.getWidth(),height:Wr.getHeight()},ri=this._rect=Vn(Qr,ei);_i([0,1],function(ni){ii(Jr,ni)||(Jr[ni]=ri[Kr[ni]]/ti[ni])});function ii(ni,ai){return ni[ai]!=null&&ni[ai]!=="auto"}this._sw=Jr[0],this._sh=Jr[1]},Yr.prototype.dataToPoint=function(Gr,Wr){Ri(Gr)&&(Gr=Gr[0]),Wr==null&&(Wr=!0);var Zr=this.getDateInfo(Gr),Kr=this._rangeInfo,Jr=Zr.formatedDate;if(Wr&&!(Zr.time>=Kr.start.time&&Zr.time<Kr.end.time+LM))return[NaN,NaN];var Qr=Zr.day,ti=this._getRangeInfo([Kr.start.time,Jr]).nthWeek;return this._orient==="vertical"?[this._rect.x+Qr*this._sw+this._sw/2,this._rect.y+ti*this._sh+this._sh/2]:[this._rect.x+ti*this._sw+this._sw/2,this._rect.y+Qr*this._sh+this._sh/2]},Yr.prototype.pointToData=function(Gr){var Wr=this.pointToDate(Gr);return Wr&&Wr.time},Yr.prototype.dataToRect=function(Gr,Wr){var Zr=this.dataToPoint(Gr,Wr);return{contentShape:{x:Zr[0]-(this._sw-this._lineWidth)/2,y:Zr[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:Zr,tl:[Zr[0]-this._sw/2,Zr[1]-this._sh/2],tr:[Zr[0]+this._sw/2,Zr[1]-this._sh/2],br:[Zr[0]+this._sw/2,Zr[1]+this._sh/2],bl:[Zr[0]-this._sw/2,Zr[1]+this._sh/2]}},Yr.prototype.pointToDate=function(Gr){var Wr=Math.floor((Gr[0]-this._rect.x)/this._sw)+1,Zr=Math.floor((Gr[1]-this._rect.y)/this._sh)+1,Kr=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(Zr,Wr-1,Kr):this._getDateByWeeksAndDay(Wr,Zr-1,Kr)},Yr.prototype.convertToPixel=function(Gr,Wr,Zr){var Kr=VG(Wr);return Kr===this?Kr.dataToPoint(Zr):null},Yr.prototype.convertFromPixel=function(Gr,Wr,Zr){var Kr=VG(Wr);return Kr===this?Kr.pointToData(Zr):null},Yr.prototype.containPoint=function(Gr){return console.warn("Not implemented."),!1},Yr.prototype._initRangeOption=function(){var Gr=this._model.get("range"),Wr;if(Ri(Gr)&&Gr.length===1&&(Gr=Gr[0]),Ri(Gr))Wr=Gr;else{var Zr=Gr.toString();if(/^\d{4}$/.test(Zr)&&(Wr=[Zr+"-01-01",Zr+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(Zr)){var Kr=this.getDateInfo(Zr),Jr=Kr.date;Jr.setMonth(Jr.getMonth()+1);var Qr=this.getNextNDay(Jr,-1);Wr=[Kr.formatedDate,Qr.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(Zr)&&(Wr=[Zr,Zr])}if(!Wr)return Gr;var ti=this._getRangeInfo(Wr);return ti.start.time>ti.end.time&&Wr.reverse(),Wr},Yr.prototype._getRangeInfo=function(Gr){var Wr=[this.getDateInfo(Gr[0]),this.getDateInfo(Gr[1])],Zr;Wr[0].time>Wr[1].time&&(Zr=!0,Wr.reverse());var Kr=Math.floor(Wr[1].time/LM)-Math.floor(Wr[0].time/LM)+1,Jr=new Date(Wr[0].time),Qr=Jr.getDate(),ti=Wr[1].date.getDate();Jr.setDate(Qr+Kr-1);var ei=Jr.getDate();if(ei!==ti)for(var ri=Jr.getTime()-Wr[1].time>0?1:-1;(ei=Jr.getDate())!==ti&&(Jr.getTime()-Wr[1].time)*ri>0;)Kr-=ri,Jr.setDate(ei-ri);var ii=Math.floor((Kr+Wr[0].day+6)/7),ni=Zr?-ii+1:ii-1;return Zr&&Wr.reverse(),{range:[Wr[0].formatedDate,Wr[1].formatedDate],start:Wr[0],end:Wr[1],allDay:Kr,weeks:ii,nthWeek:ni,fweek:Wr[0].day,lweek:Wr[1].day}},Yr.prototype._getDateByWeeksAndDay=function(Gr,Wr,Zr){var Kr=this._getRangeInfo(Zr);if(Gr>Kr.weeks||Gr===0&&Wr<Kr.fweek||Gr===Kr.weeks&&Wr>Kr.lweek)return null;var Jr=(Gr-1)*7-Kr.fweek+Wr,Qr=new Date(Kr.start.time);return Qr.setDate(+Kr.start.d+Jr),this.getDateInfo(Qr)},Yr.create=function(Gr,Wr){var Zr=[];return Gr.eachComponent("calendar",function(Kr){var Jr=new Yr(Kr,Gr,Wr);Zr.push(Jr),Kr.coordinateSystem=Jr}),Gr.eachSeries(function(Kr){Kr.get("coordinateSystem")==="calendar"&&(Kr.coordinateSystem=Zr[Kr.get("calendarIndex")||0])}),Zr},Yr.dimensions=["time","value"],Yr}();function VG(Yr){var Gr=Yr.calendarModel,Wr=Yr.seriesModel,Zr=Gr?Gr.coordinateSystem:Wr?Wr.coordinateSystem:null;return Zr}var BG=rrt;function kM(Yr){Yr.registerComponentModel(NG),Yr.registerComponentView(FG),Yr.registerCoordinateSystem("calendar",BG)}function irt(Yr,Gr){var Wr=Yr.existing;if(Gr.id=Yr.keyInfo.id,!Gr.type&&Wr&&(Gr.type=Wr.type),Gr.parentId==null){var Zr=Gr.parentOption;Zr?Gr.parentId=Zr.id:Wr&&(Gr.parentId=Wr.parentId)}Gr.parentOption=null}function UG(Yr,Gr){var Wr;return _i(Gr,function(Zr){Yr[Zr]!=null&&Yr[Zr]!=="auto"&&(Wr=!0)}),Wr}function nrt(Yr,Gr,Wr){var Zr=ki({},Wr),Kr=Yr[Gr],Jr=Wr.$action||"merge";if(Jr==="merge")if(Kr){if(0)var Qr;un(Kr,Zr,!0),Yo(Kr,Zr,{ignoreSize:!0}),R1(Wr,Kr),v_(Wr,Kr),v_(Wr,Kr,"shape"),v_(Wr,Kr,"style"),v_(Wr,Kr,"extra"),Wr.clipPath=Kr.clipPath}else Yr[Gr]=Zr;else Jr==="replace"?Yr[Gr]=Zr:Jr==="remove"&&Kr&&(Yr[Gr]=null)}var GG=["transition","enterFrom","leaveTo"],art=GG.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function v_(Yr,Gr,Wr){if(Wr&&(!Yr[Wr]&&Gr[Wr]&&(Yr[Wr]={}),Yr=Yr[Wr],Gr=Gr[Wr]),!(!Yr||!Gr))for(var Zr=Wr?GG:art,Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr];Yr[Jr]==null&&Gr[Jr]!=null&&(Yr[Jr]=Gr[Jr])}}function ort(Yr,Gr){if(Yr&&(Yr.hv=Gr.hv=[UG(Gr,["left","right"]),UG(Gr,["top","bottom"])],Yr.type==="group")){var Wr=Yr,Zr=Gr;Wr.width==null&&(Wr.width=Zr.width=0),Wr.height==null&&(Wr.height=Zr.height=0)}}var HG=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.preventAutoZ=!0,Wr}return Gr.prototype.mergeOption=function(Wr,Zr){var Kr=this.option.elements;this.option.elements=null,Yr.prototype.mergeOption.call(this,Wr,Zr),this.option.elements=Kr},Gr.prototype.optionUpdated=function(Wr,Zr){var Kr=this.option,Jr=(Zr?Kr:Wr).elements,Qr=Kr.elements=Zr?[]:Kr.elements,ti=[];this._flatten(Jr,ti,null);var ei=ry(Qr,ti,"normalMerge"),ri=this._elOptionsToUpdate=[];_i(ei,function(ii,ni){var ai=ii.newOption;ai&&(ri.push(ai),irt(ii,ai),nrt(Qr,ni,ai),ort(Qr[ni],ai))},this),Kr.elements=Tn(Qr,function(ii){return ii&&delete ii.$action,ii!=null})},Gr.prototype._flatten=function(Wr,Zr,Kr){_i(Wr,function(Jr){if(Jr){Kr&&(Jr.parentOption=Kr),Zr.push(Jr);var Qr=Jr.children;Qr&&Qr.length&&this._flatten(Qr,Zr,Jr),delete Jr.children}},this)},Gr.prototype.useElOptionsToUpdate=function(){var Wr=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,Wr},Gr.type="graphic",Gr.defaultOption={elements:[]},Gr}(_n);var WG={path:null,compoundPath:null,group:Zi,image:Kn,text:xn},Us=ln(),qG=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(){this._elMap=Hi()},Gr.prototype.render=function(Wr,Zr,Kr){Wr!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=Wr,this._updateElements(Wr),this._relocate(Wr,Kr)},Gr.prototype._updateElements=function(Wr){var Zr=Wr.useElOptionsToUpdate();if(Zr){var Kr=this._elMap,Jr=this.group,Qr=Wr.get("z"),ti=Wr.get("zlevel");_i(Zr,function(ei){var ri=aa(ei.id,null),ii=ri!=null?Kr.get(ri):null,ni=aa(ei.parentId,null),ai=ni!=null?Kr.get(ni):Jr,oi=ei.type,si=ei.style;oi==="text"&&si&&ei.hv&&ei.hv[1]&&(si.textVerticalAlign=si.textBaseline=si.verticalAlign=si.align=null);var li=ei.textContent,ui=ei.textConfig;if(si&&r_(si,oi,!!ui,!!li)){var fi=i_(si,oi,!0);!ui&&fi.textConfig&&(ui=ei.textConfig=fi.textConfig),!li&&fi.textContent&&(li=fi.textContent)}var hi=srt(ei),ci=ei.$action||"merge",pi=ci==="merge",di=ci==="replace";if(pi){var vi=!ii,mi=ii;vi?mi=YG(ri,ai,ei.type,Kr):(mi&&(Us(mi).isNew=!1),n_(mi)),mi&&(Bp(mi,hi,Wr,{isInit:vi}),XG(mi,ei,Qr,ti))}else if(di){m_(ii,ei,Kr,Wr);var gi=YG(ri,ai,ei.type,Kr);gi&&(Bp(gi,hi,Wr,{isInit:!0}),XG(gi,ei,Qr,ti))}else ci==="remove"&&(nM(ii,ei),m_(ii,ei,Kr,Wr));var yi=Kr.get(ri);if(yi&&li)if(pi){var Si=yi.getTextContent();Si?Si.attr(li):yi.setTextContent(new xn(li))}else di&&yi.setTextContent(new xn(li));if(yi){var bi=ei.clipPath;if(bi){var Ti=bi.type,Ai=void 0,vi=!1;if(pi){var Ei=yi.getClipPath();vi=!Ei||Us(Ei).type!==Ti,Ai=vi?RM(Ti):Ei}else di&&(vi=!0,Ai=RM(Ti));yi.setClipPath(Ai),Bp(Ai,bi,Wr,{isInit:vi}),Gp(Ai,bi.keyframeAnimation,Wr)}var Mi=Us(yi);yi.setTextConfig(ui),Mi.option=ei,lrt(yi,Wr,ei),rl({el:yi,componentModel:Wr,itemName:yi.name,itemTooltipOption:ei.tooltip}),Gp(yi,ei.keyframeAnimation,Wr)}})}},Gr.prototype._relocate=function(Wr,Zr){for(var Kr=Wr.option.elements,Jr=this.group,Qr=this._elMap,ti=Zr.getWidth(),ei=Zr.getHeight(),ri=["x","y"],ii=0;ii<Kr.length;ii++){var ni=Kr[ii],ai=aa(ni.id,null),oi=ai!=null?Qr.get(ai):null;if(!(!oi||!oi.isGroup)){var si=oi.parent,li=si===Jr,ui=Us(oi),fi=Us(si);ui.width=Ui(ui.option.width,li?ti:fi.width)||0,ui.height=Ui(ui.option.height,li?ei:fi.height)||0}}for(var ii=Kr.length-1;ii>=0;ii--){var ni=Kr[ii],ai=aa(ni.id,null),oi=ai!=null?Qr.get(ai):null;if(oi){var si=oi.parent,fi=Us(si),hi=si===Jr?{width:ti,height:ei}:{width:fi.width,height:fi.height},ci={},pi=of(oi,ni,hi,null,{hv:ni.hv,boundingMode:ni.bounding},ci);if(!Us(oi).isNew&&pi){for(var di=ni.transition,vi={},mi=0;mi<ri.length;mi++){var gi=ri[mi],yi=ci[gi];di&&(Ef(di)||sn(di,gi)>=0)?vi[gi]=yi:oi[gi]=yi}bn(oi,vi,Wr,0)}else oi.attr(ci)}}},Gr.prototype._clear=function(){var Wr=this,Zr=this._elMap;Zr.each(function(Kr){m_(Kr,Us(Kr).option,Zr,Wr._lastGraphicModel)}),this._elMap=Hi()},Gr.prototype.dispose=function(){this._clear()},Gr.type="graphic",Gr}(Dn);function RM(Yr){var Gr=$i(WG,Yr)?WG[Yr]:av(Yr),Wr=new Gr({});return Us(Wr).type=Yr,Wr}function YG(Yr,Gr,Wr,Zr){var Kr=RM(Wr);return Gr.add(Kr),Zr.set(Yr,Kr),Us(Kr).id=Yr,Us(Kr).isNew=!0,Kr}function m_(Yr,Gr,Wr,Zr){var Kr=Yr&&Yr.parent;Kr&&(Yr.type==="group"&&Yr.traverse(function(Jr){m_(Jr,Gr,Wr,Zr)}),Up(Yr,Gr,Zr),Wr.removeKey(Us(Yr).id))}function XG(Yr,Gr,Wr,Zr){Yr.isGroup||_i([["cursor",ba.prototype.cursor],["zlevel",Zr||0],["z",Wr||0],["z2",0]],function(Kr){var Jr=Kr[0];$i(Gr,Jr)?Yr[Jr]=on(Gr[Jr],Kr[1]):Yr[Jr]==null&&(Yr[Jr]=Kr[1])}),_i(fn(Gr),function(Kr){if(Kr.indexOf("on")===0){var Jr=Gr[Kr];Yr[Kr]=Wi(Jr)?Jr:null}}),$i(Gr,"draggable")&&(Yr.draggable=Gr.draggable),Gr.name!=null&&(Yr.name=Gr.name),Gr.id!=null&&(Yr.id=Gr.id)}function srt(Yr){return Yr=ki({},Yr),_i(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(L1),function(Gr){delete Yr[Gr]}),Yr}function lrt(Yr,Gr,Wr){var Zr=Qi(Yr).eventData;!Yr.silent&&!Yr.ignore&&!Zr&&(Zr=Qi(Yr).eventData={componentType:"graphic",componentIndex:Gr.componentIndex,name:Yr.name}),Zr&&(Zr.info=Wr.info)}function OM(Yr){Yr.registerComponentModel(HG),Yr.registerComponentView(qG),Yr.registerPreprocessor(function(Gr){var Wr=Gr.graphic;Ri(Wr)?!Wr[0]||!Wr[0].elements?Gr.graphic=[{elements:Wr}]:Gr.graphic=[Gr.graphic[0]]:Wr&&!Wr.elements&&(Gr.graphic=[{elements:[Wr]}])})}var zM=["x","y","radius","angle","single"],urt=["cartesian2d","polar","singleAxis"];function ZG(Yr){var Gr=Yr.get("coordinateSystem");return sn(urt,Gr)>=0}function Gs(Yr){return Yr+"Axis"}function jG(Yr,Gr){var Wr=Hi(),Zr=[],Kr=Hi();Yr.eachComponent({mainType:"dataZoom",query:Gr},function(ii){Kr.get(ii.uid)||ti(ii)});var Jr;do Jr=!1,Yr.eachComponent("dataZoom",Qr);while(Jr);function Qr(ii){!Kr.get(ii.uid)&&ei(ii)&&(ti(ii),Jr=!0)}function ti(ii){Kr.set(ii.uid,!0),Zr.push(ii),ri(ii)}function ei(ii){var ni=!1;return ii.eachTargetAxis(function(ai,oi){var si=Wr.get(ai);si&&si[oi]&&(ni=!0)}),ni}function ri(ii){ii.eachTargetAxis(function(ni,ai){(Wr.get(ni)||Wr.set(ni,[]))[ai]=!0})}return Zr}function g_(Yr){var Gr=Yr.ecModel,Wr={infoList:[],infoMap:Hi()};return Yr.eachTargetAxis(function(Zr,Kr){var Jr=Gr.getComponent(Gs(Zr),Kr);if(Jr){var Qr=Jr.getCoordSysModel();if(Qr){var ti=Qr.uid,ei=Wr.infoMap.get(ti);ei||(ei={model:Qr,axisModels:[]},Wr.infoList.push(ei),Wr.infoMap.set(ti,ei)),ei.axisModels.push(Jr)}}}),Wr}var NM=function(){function Yr(){this.indexList=[],this.indexMap=[]}return Yr.prototype.add=function(Gr){this.indexMap[Gr]||(this.indexList.push(Gr),this.indexMap[Gr]=!0)},Yr}(),frt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._autoThrottle=!0,Wr._noTarget=!0,Wr._rangePropMode=["percent","percent"],Wr}return Gr.prototype.init=function(Wr,Zr,Kr){var Jr=KG(Wr);this.settledOption=Jr,this.mergeDefaultAndTheme(Wr,Kr),this._doInit(Jr)},Gr.prototype.mergeOption=function(Wr){var Zr=KG(Wr);un(this.option,Wr,!0),un(this.settledOption,Zr,!0),this._doInit(Zr)},Gr.prototype._doInit=function(Wr){var Zr=this.option;this._setDefaultThrottle(Wr),this._updateRangeUse(Wr);var Kr=this.settledOption;_i([["start","startValue"],["end","endValue"]],function(Jr,Qr){this._rangePropMode[Qr]==="value"&&(Zr[Jr[0]]=Kr[Jr[0]]=null)},this),this._resetTarget()},Gr.prototype._resetTarget=function(){var Wr=this.get("orient",!0),Zr=this._targetAxisInfoMap=Hi(),Kr=this._fillSpecifiedTargetAxis(Zr);Kr?this._orient=Wr||this._makeAutoOrientByTargetAxis():(this._orient=Wr||"horizontal",this._fillAutoTargetAxisByOrient(Zr,this._orient)),this._noTarget=!0,Zr.each(function(Jr){Jr.indexList.length&&(this._noTarget=!1)},this)},Gr.prototype._fillSpecifiedTargetAxis=function(Wr){var Zr=!1;return _i(zM,function(Kr){var Jr=this.getReferringComponents(Gs(Kr),XI);if(Jr.specified){Zr=!0;var Qr=new NM;_i(Jr.models,function(ti){Qr.add(ti.componentIndex)}),Wr.set(Kr,Qr)}},this),Zr},Gr.prototype._fillAutoTargetAxisByOrient=function(Wr,Zr){var Kr=this.ecModel,Jr=!0;if(Jr){var Qr=Zr==="vertical"?"y":"x",ti=Kr.findComponents({mainType:Qr+"Axis"});ei(ti,Qr)}if(Jr){var ti=Kr.findComponents({mainType:"singleAxis",filter:function(ii){return ii.get("orient",!0)===Zr}});ei(ti,"single")}function ei(ri,ii){var ni=ri[0];if(ni){var ai=new NM;if(ai.add(ni.componentIndex),Wr.set(ii,ai),Jr=!1,ii==="x"||ii==="y"){var oi=ni.getReferringComponents("grid",Yn).models[0];oi&&_i(ri,function(si){ni.componentIndex!==si.componentIndex&&oi===si.getReferringComponents("grid",Yn).models[0]&&ai.add(si.componentIndex)})}}}Jr&&_i(zM,function(ri){if(Jr){var ii=Kr.findComponents({mainType:Gs(ri),filter:function(ai){return ai.get("type",!0)==="category"}});if(ii[0]){var ni=new NM;ni.add(ii[0].componentIndex),Wr.set(ri,ni),Jr=!1}}},this)},Gr.prototype._makeAutoOrientByTargetAxis=function(){var Wr;return this.eachTargetAxis(function(Zr){!Wr&&(Wr=Zr)},this),Wr==="y"?"vertical":"horizontal"},Gr.prototype._setDefaultThrottle=function(Wr){if(Wr.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var Zr=this.ecModel.option;this.option.throttle=Zr.animation&&Zr.animationDurationUpdate>0?100:20}},Gr.prototype._updateRangeUse=function(Wr){var Zr=this._rangePropMode,Kr=this.get("rangeMode");_i([["start","startValue"],["end","endValue"]],function(Jr,Qr){var ti=Wr[Jr[0]]!=null,ei=Wr[Jr[1]]!=null;ti&&!ei?Zr[Qr]="percent":!ti&&ei?Zr[Qr]="value":Kr?Zr[Qr]=Kr[Qr]:ti&&(Zr[Qr]="percent")})},Gr.prototype.noTarget=function(){return this._noTarget},Gr.prototype.getFirstTargetAxisModel=function(){var Wr;return this.eachTargetAxis(function(Zr,Kr){Wr==null&&(Wr=this.ecModel.getComponent(Gs(Zr),Kr))},this),Wr},Gr.prototype.eachTargetAxis=function(Wr,Zr){this._targetAxisInfoMap.each(function(Kr,Jr){_i(Kr.indexList,function(Qr){Wr.call(Zr,Jr,Qr)})})},Gr.prototype.getAxisProxy=function(Wr,Zr){var Kr=this.getAxisModel(Wr,Zr);if(Kr)return Kr.__dzAxisProxy},Gr.prototype.getAxisModel=function(Wr,Zr){var Kr=this._targetAxisInfoMap.get(Wr);if(Kr&&Kr.indexMap[Zr])return this.ecModel.getComponent(Gs(Wr),Zr)},Gr.prototype.setRawRange=function(Wr){var Zr=this.option,Kr=this.settledOption;_i([["start","startValue"],["end","endValue"]],function(Jr){(Wr[Jr[0]]!=null||Wr[Jr[1]]!=null)&&(Zr[Jr[0]]=Kr[Jr[0]]=Wr[Jr[0]],Zr[Jr[1]]=Kr[Jr[1]]=Wr[Jr[1]])},this),this._updateRangeUse(Wr)},Gr.prototype.setCalculatedRange=function(Wr){var Zr=this.option;_i(["start","startValue","end","endValue"],function(Kr){Zr[Kr]=Wr[Kr]})},Gr.prototype.getPercentRange=function(){var Wr=this.findRepresentativeAxisProxy();if(Wr)return Wr.getDataPercentWindow()},Gr.prototype.getValueRange=function(Wr,Zr){if(Wr==null&&Zr==null){var Kr=this.findRepresentativeAxisProxy();if(Kr)return Kr.getDataValueWindow()}else return this.getAxisProxy(Wr,Zr).getDataValueWindow()},Gr.prototype.findRepresentativeAxisProxy=function(Wr){if(Wr)return Wr.__dzAxisProxy;for(var Zr,Kr=this._targetAxisInfoMap.keys(),Jr=0;Jr<Kr.length;Jr++)for(var Qr=Kr[Jr],ti=this._targetAxisInfoMap.get(Qr),ei=0;ei<ti.indexList.length;ei++){var ri=this.getAxisProxy(Qr,ti.indexList[ei]);if(ri.hostedBy(this))return ri;Zr||(Zr=ri)}return Zr},Gr.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},Gr.prototype.getOrient=function(){return this._orient},Gr.type="dataZoom",Gr.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],Gr.defaultOption={z:4,filterMode:"filter",start:0,end:100},Gr}(_n);function KG(Yr){var Gr={};return _i(["start","end","startValue","endValue","throttle"],function(Wr){Yr.hasOwnProperty(Wr)&&(Gr[Wr]=Yr[Wr])}),Gr}var Lf=frt;var hrt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="dataZoom.select",Gr}(Lf),$G=hrt;var crt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){this.dataZoomModel=Wr,this.ecModel=Zr,this.api=Kr},Gr.type="dataZoom",Gr}(Dn),Xp=crt;var prt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="dataZoom.select",Gr}(Xp),JG=prt;var qp=_i,QG=Oa,drt=function(){function Yr(Gr,Wr,Zr,Kr){this._dimName=Gr,this._axisIndex=Wr,this.ecModel=Kr,this._dataZoomModel=Zr}return Yr.prototype.hostedBy=function(Gr){return this._dataZoomModel===Gr},Yr.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},Yr.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},Yr.prototype.getTargetSeriesModels=function(){var Gr=[];return this.ecModel.eachSeries(function(Wr){if(ZG(Wr)){var Zr=Gs(this._dimName),Kr=Wr.getReferringComponents(Zr,Yn).models[0];Kr&&this._axisIndex===Kr.componentIndex&&Gr.push(Wr)}},this),Gr},Yr.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},Yr.prototype.getMinMaxSpan=function(){return Ki(this._minMaxSpan)},Yr.prototype.calculateDataWindow=function(Gr){var Wr=this._dataExtent,Zr=this.getAxisModel(),Kr=Zr.axis.scale,Jr=this._dataZoomModel.getRangePropMode(),Qr=[0,100],ti=[],ei=[],ri;qp(["start","end"],function(ai,oi){var si=Gr[ai],li=Gr[ai+"Value"];Jr[oi]==="percent"?(si==null&&(si=Qr[oi]),li=Kr.parse(kn(si,Qr,Wr))):(ri=!0,li=li==null?Wr[oi]:Kr.parse(li),si=kn(li,Wr,Qr)),ei[oi]=li==null||isNaN(li)?Wr[oi]:li,ti[oi]=si==null||isNaN(si)?Qr[oi]:si}),QG(ei),QG(ti);var ii=this._minMaxSpan;ri?ni(ei,ti,Wr,Qr,!1):ni(ti,ei,Qr,Wr,!0);function ni(ai,oi,si,li,ui){var fi=ui?"Span":"ValueSpan";Jo(0,ai,si,"all",ii["min"+fi],ii["max"+fi]);for(var hi=0;hi<2;hi++)oi[hi]=kn(ai[hi],si,li,!0),ui&&(oi[hi]=Kr.parse(oi[hi]))}return{valueWindow:ei,percentWindow:ti}},Yr.prototype.reset=function(Gr){if(Gr===this._dataZoomModel){var Wr=this.getTargetSeriesModels();this._dataExtent=vrt(this,this._dimName,Wr),this._updateMinMaxSpan();var Zr=this.calculateDataWindow(Gr.settledOption);this._valueWindow=Zr.valueWindow,this._percentWindow=Zr.percentWindow,this._setAxisModel()}},Yr.prototype.filterData=function(Gr,Wr){if(Gr!==this._dataZoomModel)return;var Zr=this._dimName,Kr=this.getTargetSeriesModels(),Jr=Gr.get("filterMode"),Qr=this._valueWindow;if(Jr==="none")return;qp(Kr,function(ei){var ri=ei.getData(),ii=ri.mapDimensionsAll(Zr);if(ii.length){if(Jr==="weakFilter"){var ni=ri.getStore(),ai=Oi(ii,function(oi){return ri.getDimensionIndex(oi)},ri);ri.filterSelf(function(oi){for(var si,li,ui,fi=0;fi<ii.length;fi++){var hi=ni.get(ai[fi],oi),ci=!isNaN(hi),pi=hi<Qr[0],di=hi>Qr[1];if(ci&&!pi&&!di)return!0;ci&&(ui=!0),pi&&(si=!0),di&&(li=!0)}return ui&&si&&li})}else qp(ii,function(oi){if(Jr==="empty")ei.setData(ri=ri.map(oi,function(li){return ti(li)?li:NaN}));else{var si={};si[oi]=Qr,ri.selectRange(si)}});qp(ii,function(oi){ri.setApproximateExtent(Qr,oi)})}});function ti(ei){return ei>=Qr[0]&&ei<=Qr[1]}},Yr.prototype._updateMinMaxSpan=function(){var Gr=this._minMaxSpan={},Wr=this._dataZoomModel,Zr=this._dataExtent;qp(["min","max"],function(Kr){var Jr=Wr.get(Kr+"Span"),Qr=Wr.get(Kr+"ValueSpan");Qr!=null&&(Qr=this.getAxisModel().axis.scale.parse(Qr)),Qr!=null?Jr=kn(Zr[0]+Qr,Zr,[0,100],!0):Jr!=null&&(Qr=kn(Jr,[0,100],Zr,!0)-Zr[0]),Gr[Kr+"Span"]=Jr,Gr[Kr+"ValueSpan"]=Qr},this)},Yr.prototype._setAxisModel=function(){var Gr=this.getAxisModel(),Wr=this._percentWindow,Zr=this._valueWindow;if(Wr){var Kr=$g(Zr,[0,500]);Kr=Math.min(Kr,20);var Jr=Gr.axis.scale.rawExtentInfo;Wr[0]!==0&&Jr.setDeterminedMinMax("min",+Zr[0].toFixed(Kr)),Wr[1]!==100&&Jr.setDeterminedMinMax("max",+Zr[1].toFixed(Kr)),Jr.freeze()}},Yr}();function vrt(Yr,Gr,Wr){var Zr=[1/0,-1/0];qp(Wr,function(Qr){HO(Zr,Qr.getData(),Gr)});var Kr=Yr.getAxisModel(),Jr=G0(Kr.axis.scale,Kr,Zr).calculate();return[Jr.min,Jr.max]}var t5=drt;var mrt={getTargetSeries:function(Yr){function Gr(Kr){Yr.eachComponent("dataZoom",function(Jr){Jr.eachTargetAxis(function(Qr,ti){var ei=Yr.getComponent(Gs(Qr),ti);Kr(Qr,ti,ei,Jr)})})}Gr(function(Kr,Jr,Qr,ti){Qr.__dzAxisProxy=null});var Wr=[];Gr(function(Kr,Jr,Qr,ti){Qr.__dzAxisProxy||(Qr.__dzAxisProxy=new t5(Kr,Jr,ti,Yr),Wr.push(Qr.__dzAxisProxy))});var Zr=Hi();return _i(Wr,function(Kr){_i(Kr.getTargetSeriesModels(),function(Jr){Zr.set(Jr.uid,Jr)})}),Zr},overallReset:function(Yr,Gr){Yr.eachComponent("dataZoom",function(Wr){Wr.eachTargetAxis(function(Zr,Kr){Wr.getAxisProxy(Zr,Kr).reset(Wr)}),Wr.eachTargetAxis(function(Zr,Kr){Wr.getAxisProxy(Zr,Kr).filterData(Wr,Gr)})}),Yr.eachComponent("dataZoom",function(Wr){var Zr=Wr.findRepresentativeAxisProxy();if(Zr){var Kr=Zr.getDataPercentWindow(),Jr=Zr.getDataValueWindow();Wr.setCalculatedRange({start:Kr[0],end:Kr[1],startValue:Jr[0],endValue:Jr[1]})}})}},e5=mrt;function FM(Yr){Yr.registerAction("dataZoom",function(Gr,Wr){var Zr=jG(Wr,Gr);_i(Zr,function(Kr){Kr.setRawRange({start:Gr.start,end:Gr.end,startValue:Gr.startValue,endValue:Gr.endValue})})})}var r5=!1;function uc(Yr){r5||(r5=!0,Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.FILTER,e5),FM(Yr),Yr.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function i5(Yr){Yr.registerComponentModel($G),Yr.registerComponentView(JG),uc(Yr)}var Ya=function(){function Yr(){}return Yr}();var n5={};function kf(Yr,Gr){n5[Yr]=Gr}function y_(Yr){return n5[Yr]}var yrt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.optionUpdated=function(){Yr.prototype.optionUpdated.apply(this,arguments);var Wr=this.ecModel;_i(this.option.feature,function(Zr,Kr){var Jr=y_(Kr);Jr&&(Jr.getDefaultOption&&(Jr.defaultOption=Jr.getDefaultOption(Wr)),un(Zr,Jr.defaultOption))})},Gr.type="toolbox",Gr.layoutMode={type:"box",ignoreSize:!0},Gr.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},Gr}(_n),a5=yrt;function o5(Yr,Gr,Wr){var Zr=Gr.getBoxLayoutParams(),Kr=Gr.get("padding"),Jr={width:Wr.getWidth(),height:Wr.getHeight()},Qr=Vn(Zr,Jr,Kr);al(Gr.get("orient"),Yr,Gr.get("itemGap"),Qr.width,Qr.height),of(Yr,Zr,Jr,Kr)}function x_(Yr,Gr){var Wr=il(Gr.get("padding")),Zr=Gr.getItemStyle(["color","opacity"]);return Zr.fill=Gr.get("backgroundColor"),Yr=new mn({shape:{x:Yr.x-Wr[3],y:Yr.y-Wr[0],width:Yr.width+Wr[1]+Wr[3],height:Yr.height+Wr[0]+Wr[2],r:Gr.get("borderRadius")},style:Zr,silent:!0,z2:-1}),Yr}var _rt=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){var Qr=this.group;if(Qr.removeAll(),!Wr.get("show"))return;var ti=+Wr.get("itemSize"),ei=Wr.get("orient")==="vertical",ri=Wr.get("feature")||{},ii=this._features||(this._features={}),ni=[];_i(ri,function(si,li){ni.push(li)}),new oo(this._featureNames||[],ni).add(ai).update(ai).remove(en(ai,null)).execute(),this._featureNames=ni;function ai(si,li){var ui=ni[si],fi=ni[li],hi=ri[ui],ci=new Mn(hi,Wr,Wr.ecModel),pi;if(Jr&&Jr.newTitle!=null&&Jr.featureName===ui&&(hi.title=Jr.newTitle),ui&&!fi){if(brt(ui))pi={onclick:ci.option.onclick,featureName:ui};else{var di=y_(ui);if(!di)return;pi=new di}ii[ui]=pi}else if(pi=ii[fi],!pi)return;pi.uid=Ds("toolbox-feature"),pi.model=ci,pi.ecModel=Zr,pi.api=Kr;var vi=pi instanceof Ya;if(!ui&&fi){vi&&pi.dispose&&pi.dispose(Zr,Kr);return}if(!ci.get("show")||vi&&pi.unusable){vi&&pi.remove&&pi.remove(Zr,Kr);return}oi(ci,pi,ui),ci.setIconStatus=function(mi,gi){var yi=this.option,Si=this.iconPaths;yi.iconStatus=yi.iconStatus||{},yi.iconStatus[mi]=gi,Si[mi]&&(gi==="emphasis"?ho:co)(Si[mi])},pi instanceof Ya&&pi.render&&pi.render(ci,Zr,Kr,Jr)}function oi(si,li,ui){var fi=si.getModel("iconStyle"),hi=si.getModel(["emphasis","iconStyle"]),ci=li instanceof Ya&&li.getIcons?li.getIcons():si.get("icon"),pi=si.get("title")||{},di,vi;Ni(ci)?(di={},di[ui]=ci):di=ci,Ni(pi)?(vi={},vi[ui]=pi):vi=pi;var mi=si.iconPaths={};_i(di,function(gi,yi){var Si=vu(gi,{},{x:-ti/2,y:-ti/2,width:ti,height:ti});Si.setStyle(fi.getItemStyle());var bi=Si.ensureState("emphasis");bi.style=hi.getItemStyle();var Ti=new xn({style:{text:vi[yi],align:hi.get("textAlign"),borderRadius:hi.get("textBorderRadius"),padding:hi.get("textPadding"),fill:null,font:Qc({fontStyle:hi.get("textFontStyle"),fontFamily:hi.get("textFontFamily"),fontSize:hi.get("textFontSize"),fontWeight:hi.get("textFontWeight")},Zr)},ignore:!0});Si.setTextContent(Ti),rl({el:Si,componentModel:Wr,itemName:yi,formatterParamsExtra:{title:vi[yi]}}),Si.__title=vi[yi],Si.on("mouseover",function(){var Ai=hi.getItemStyle(),Ei=ei?Wr.get("right")==null&&Wr.get("left")!=="right"?"right":"left":Wr.get("bottom")==null&&Wr.get("top")!=="bottom"?"bottom":"top";Ti.setStyle({fill:hi.get("textFill")||Ai.fill||Ai.stroke||"#000",backgroundColor:hi.get("textBackgroundColor")}),Si.setTextConfig({position:hi.get("textPosition")||Ei}),Ti.ignore=!Wr.get("showTitle"),Kr.enterEmphasis(this)}).on("mouseout",function(){si.get(["iconStatus",yi])!=="emphasis"&&Kr.leaveEmphasis(this),Ti.hide()}),(si.get(["iconStatus",yi])==="emphasis"?ho:co)(Si),Qr.add(Si),Si.on("click",Gi(li.onclick,li,Zr,Kr,yi)),mi[yi]=Si})}o5(Qr,Wr,Kr),Qr.add(x_(Qr.getBoundingRect(),Wr)),ei||Qr.eachChild(function(si){var li=si.__title,ui=si.ensureState("emphasis"),fi=ui.textConfig||(ui.textConfig={}),hi=si.getTextContent(),ci=hi&&hi.ensureState("emphasis");if(ci&&!Wi(ci)&&li){var pi=ci.style||(ci.style={}),di=Tl(li,xn.makeFont(pi)),vi=si.x+Qr.x,mi=si.y+Qr.y+ti,gi=!1;mi+di.height>Kr.getHeight()&&(fi.position="top",gi=!0);var yi=gi?-5-di.height:ti+10;vi+di.width/2>Kr.getWidth()?(fi.position=["100%",yi],pi.align="right"):vi-di.width/2<0&&(fi.position=[0,yi],pi.align="left")}})},Gr.prototype.updateView=function(Wr,Zr,Kr,Jr){_i(this._features,function(Qr){Qr instanceof Ya&&Qr.updateView&&Qr.updateView(Qr.model,Zr,Kr,Jr)})},Gr.prototype.remove=function(Wr,Zr){_i(this._features,function(Kr){Kr instanceof Ya&&Kr.remove&&Kr.remove(Wr,Zr)}),this.group.removeAll()},Gr.prototype.dispose=function(Wr,Zr){_i(this._features,function(Kr){Kr instanceof Ya&&Kr.dispose&&Kr.dispose(Wr,Zr)})},Gr.type="toolbox",Gr}(Dn);function brt(Yr){return Yr.indexOf("my")===0}var s5=_rt;var Srt=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.onclick=function(Wr,Zr){var Kr=this.model,Jr=Kr.get("name")||Wr.get("title.0.text")||"echarts",Qr=Zr.getZr().painter.getType()==="svg",ti=Qr?"svg":Kr.get("type",!0)||"png",ei=Zr.getConnectedDataURL({type:ti,backgroundColor:Kr.get("backgroundColor",!0)||Wr.get("backgroundColor")||"#fff",connectedBackgroundColor:Kr.get("connectedBackgroundColor"),excludeComponents:Kr.get("excludeComponents"),pixelRatio:Kr.get("pixelRatio")}),ri=Cn.browser;if(Wi(MouseEvent)&&(ri.newEdge||!ri.ie&&!ri.edge)){var ii=document.createElement("a");ii.download=Jr+"."+ti,ii.target="_blank",ii.href=ei;var ni=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});ii.dispatchEvent(ni)}else if(window.navigator.msSaveOrOpenBlob||Qr){var ai=ei.split(","),oi=ai[0].indexOf("base64")>-1,si=Qr?decodeURIComponent(ai[1]):ai[1];oi&&(si=window.atob(si));var li=Jr+"."+ti;if(window.navigator.msSaveOrOpenBlob){for(var ui=si.length,fi=new Uint8Array(ui);ui--;)fi[ui]=si.charCodeAt(ui);var hi=new Blob([fi]);window.navigator.msSaveOrOpenBlob(hi,li)}else{var ci=document.createElement("iframe");document.body.appendChild(ci);var pi=ci.contentWindow,di=pi.document;di.open("image/svg+xml","replace"),di.write(si),di.close(),pi.focus(),di.execCommand("SaveAs",!0,li),document.body.removeChild(ci)}}else{var vi=Kr.get("lang"),mi='<body style="margin:0;"><img src="'+ei+'" style="max-width:100%;" title="'+(vi&&vi[0]||"")+'" /></body>',gi=window.open();gi.document.write(mi),gi.document.title=Jr}},Gr.getDefaultOption=function(Wr){var Zr={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Wr.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:Wr.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return Zr},Gr}(Ya),l5=Srt;var u5="__ec_magicType_stack__";var wrt=[["line","bar"],["stack"]],Crt=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.getIcons=function(){var Wr=this.model,Zr=Wr.get("icon"),Kr={};return _i(Wr.get("type"),function(Jr){Zr[Jr]&&(Kr[Jr]=Zr[Jr])}),Kr},Gr.getDefaultOption=function(Wr){var Zr={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:Wr.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return Zr},Gr.prototype.onclick=function(Wr,Zr,Kr){var Jr=this.model,Qr=Jr.get(["seriesIndex",Kr]);if(f5[Kr]){var ti={series:[]},ei=function(ni){var ai=ni.subType,oi=ni.id,si=f5[Kr](ai,oi,ni,Jr);si&&(Yi(si,ni.option),ti.series.push(si));var li=ni.coordinateSystem;if(li&&li.type==="cartesian2d"&&(Kr==="line"||Kr==="bar")){var ui=li.getAxesByScale("ordinal")[0];if(ui){var fi=ui.dim,hi=fi+"Axis",ci=ni.getReferringComponents(hi,Yn).models[0],pi=ci.componentIndex;ti[hi]=ti[hi]||[];for(var di=0;di<=pi;di++)ti[hi][pi]=ti[hi][pi]||{};ti[hi][pi].boundaryGap=Kr==="bar"}}};_i(wrt,function(ni){sn(ni,Kr)>=0&&_i(ni,function(ai){Jr.setIconStatus(ai,"normal")})}),Jr.setIconStatus(Kr,"emphasis"),Wr.eachComponent({mainType:"series",query:Qr==null?null:{seriesIndex:Qr}},ei);var ri,ii=Kr;Kr==="stack"&&(ri=un({stack:Jr.option.title.tiled,tiled:Jr.option.title.stack},Jr.option.title),Jr.get(["iconStatus",Kr])!=="emphasis"&&(ii="tiled")),Zr.dispatchAction({type:"changeMagicType",currentType:ii,newOption:ti,newTitle:ri,featureName:"magicType"})}},Gr}(Ya),f5={line:function(Yr,Gr,Wr,Zr){if(Yr==="bar")return un({id:Gr,type:"line",data:Wr.get("data"),stack:Wr.get("stack"),markPoint:Wr.get("markPoint"),markLine:Wr.get("markLine")},Zr.get(["option","line"])||{},!0)},bar:function(Yr,Gr,Wr,Zr){if(Yr==="line")return un({id:Gr,type:"bar",data:Wr.get("data"),stack:Wr.get("stack"),markPoint:Wr.get("markPoint"),markLine:Wr.get("markLine")},Zr.get(["option","bar"])||{},!0)},stack:function(Yr,Gr,Wr,Zr){var Kr=Wr.get("stack")===u5;if(Yr==="line"||Yr==="bar")return Zr.setIconStatus("stack",Kr?"normal":"emphasis"),un({id:Gr,stack:Kr?"":u5},Zr.get(["option","stack"])||{},!0)}};Ao({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(Yr,Gr){Gr.mergeOption(Yr.newOption)});var h5=Crt;var b_=new Array(60).join("-"),Zp="	";function Trt(Yr){var Gr={},Wr=[],Zr=[];return Yr.eachRawSeries(function(Kr){var Jr=Kr.coordinateSystem;if(Jr&&(Jr.type==="cartesian2d"||Jr.type==="polar")){var Qr=Jr.getBaseAxis();if(Qr.type==="category"){var ti=Qr.dim+"_"+Qr.index;Gr[ti]||(Gr[ti]={categoryAxis:Qr,valueAxis:Jr.getOtherAxis(Qr),series:[]},Zr.push({axisDim:Qr.dim,axisIndex:Qr.index})),Gr[ti].series.push(Kr)}else Wr.push(Kr)}else Wr.push(Kr)}),{seriesGroupByCategoryAxis:Gr,other:Wr,meta:Zr}}function Art(Yr){var Gr=[];return _i(Yr,function(Wr,Zr){var Kr=Wr.categoryAxis,Jr=Wr.valueAxis,Qr=Jr.dim,ti=[" "].concat(Oi(Wr.series,function(oi){return oi.name})),ei=[Kr.model.getCategories()];_i(Wr.series,function(oi){var si=oi.getRawData();ei.push(oi.getRawData().mapArray(si.mapDimension(Qr),function(li){return li}))});for(var ri=[ti.join(Zp)],ii=0;ii<ei[0].length;ii++){for(var ni=[],ai=0;ai<ei.length;ai++)ni.push(ei[ai][ii]);ri.push(ni.join(Zp))}Gr.push(ri.join(`
`))}),Gr.join(`

`+b_+`

`)}function Mrt(Yr){return Oi(Yr,function(Gr){var Wr=Gr.getRawData(),Zr=[Gr.name],Kr=[];return Wr.each(Wr.dimensions,function(){for(var Jr=arguments.length,Qr=arguments[Jr-1],ti=Wr.getName(Qr),ei=0;ei<Jr-1;ei++)Kr[ei]=arguments[ei];Zr.push((ti?ti+Zp:"")+Kr.join(Zp))}),Zr.join(`
`)}).join(`

`+b_+`

`)}function Prt(Yr){var Gr=Trt(Yr);return{value:Tn([Art(Gr.seriesGroupByCategoryAxis),Mrt(Gr.other)],function(Wr){return!!Wr.replace(/[\n\t\s]/g,"")}).join(`

`+b_+`

`),meta:Gr.meta}}function __(Yr){return Yr.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ert(Yr){var Gr=Yr.slice(0,Yr.indexOf(`
`));if(Gr.indexOf(Zp)>=0)return!0}var VM=new RegExp("["+Zp+"]+","g");function Drt(Yr){for(var Gr=Yr.split(/\n+/g),Wr=__(Gr.shift()).split(VM),Zr=[],Kr=Oi(Wr,function(ei){return{name:ei,data:[]}}),Jr=0;Jr<Gr.length;Jr++){var Qr=__(Gr[Jr]).split(VM);Zr.push(Qr.shift());for(var ti=0;ti<Qr.length;ti++)Kr[ti]&&(Kr[ti].data[Jr]=Qr[ti])}return{series:Kr,categories:Zr}}function Irt(Yr){for(var Gr=Yr.split(/\n+/g),Wr=__(Gr.shift()),Zr=[],Kr=0;Kr<Gr.length;Kr++){var Jr=__(Gr[Kr]);if(Jr){var Qr=Jr.split(VM),ti="",ei=void 0,ri=!1;isNaN(Qr[0])?(ri=!0,ti=Qr[0],Qr=Qr.slice(1),Zr[Kr]={name:ti,value:[]},ei=Zr[Kr].value):ei=Zr[Kr]=[];for(var ii=0;ii<Qr.length;ii++)ei.push(+Qr[ii]);ei.length===1&&(ri?Zr[Kr].value=ei[0]:Zr[Kr]=ei[0])}}return{name:Wr,data:Zr}}function Lrt(Yr,Gr){var Wr=Yr.split(new RegExp(`
*`+b_+`
*`,"g")),Zr={series:[]};return _i(Wr,function(Kr,Jr){if(Ert(Kr)){var Qr=Drt(Kr),ti=Gr[Jr],ei=ti.axisDim+"Axis";ti&&(Zr[ei]=Zr[ei]||[],Zr[ei][ti.axisIndex]={data:Qr.categories},Zr.series=Zr.series.concat(Qr.series))}else{var Qr=Irt(Kr);Zr.series.push(Qr)}}),Zr}var krt=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.onclick=function(Wr,Zr){setTimeout(function(){Zr.dispatchAction({type:"hideTip"})});var Kr=Zr.getDom(),Jr=this.model;this._dom&&Kr.removeChild(this._dom);var Qr=document.createElement("div");Qr.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",Qr.style.backgroundColor=Jr.get("backgroundColor")||"#fff";var ti=document.createElement("h4"),ei=Jr.get("lang")||[];ti.innerHTML=ei[0]||Jr.get("title"),ti.style.cssText="margin:10px 20px",ti.style.color=Jr.get("textColor");var ri=document.createElement("div"),ii=document.createElement("textarea");ri.style.cssText="overflow:auto";var ni=Jr.get("optionToContent"),ai=Jr.get("contentToOption"),oi=Prt(Wr);if(Wi(ni)){var si=ni(Zr.getOption());Ni(si)?ri.innerHTML=si:Fu(si)&&ri.appendChild(si)}else{ii.readOnly=Jr.get("readOnly");var li=ii.style;li.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",li.color=Jr.get("textColor"),li.borderColor=Jr.get("textareaBorderColor"),li.backgroundColor=Jr.get("textareaColor"),ii.value=oi.value,ri.appendChild(ii)}var ui=oi.meta,fi=document.createElement("div");fi.style.cssText="position:absolute;bottom:5px;left:0;right:0";var hi="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",ci=document.createElement("div"),pi=document.createElement("div");hi+=";background-color:"+Jr.get("buttonColor"),hi+=";color:"+Jr.get("buttonTextColor");var di=this;function vi(){Kr.removeChild(Qr),di._dom=null}Sd(ci,"click",vi),Sd(pi,"click",function(){if(ai==null&&ni!=null||ai!=null&&ni==null){vi();return}var mi;try{Wi(ai)?mi=ai(ri,Zr.getOption()):mi=Lrt(ii.value,ui)}catch(gi){throw vi(),new Error("Data view format error "+gi)}mi&&Zr.dispatchAction({type:"changeDataView",newOption:mi}),vi()}),ci.innerHTML=ei[1],pi.innerHTML=ei[2],pi.style.cssText=ci.style.cssText=hi,!Jr.get("readOnly")&&fi.appendChild(pi),fi.appendChild(ci),Qr.appendChild(ti),Qr.appendChild(ri),Qr.appendChild(fi),ri.style.height=Kr.clientHeight-80+"px",Kr.appendChild(Qr),this._dom=Qr},Gr.prototype.remove=function(Wr,Zr){this._dom&&Zr.getDom().removeChild(this._dom)},Gr.prototype.dispose=function(Wr,Zr){this.remove(Wr,Zr)},Gr.getDefaultOption=function(Wr){var Zr={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Wr.getLocaleModel().get(["toolbox","dataView","title"]),lang:Wr.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return Zr},Gr}(Ya);function Rrt(Yr,Gr){return Oi(Yr,function(Wr,Zr){var Kr=Gr&&Gr[Zr];if(qi(Kr)&&!Ri(Kr)){var Jr=qi(Wr)&&!Ri(Wr);Jr||(Wr={value:Wr});var Qr=Kr.name!=null&&Wr.name==null;return Wr=Yi(Wr,Kr),Qr&&delete Wr.name,Wr}else return Wr})}Ao({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(Yr,Gr){var Wr=[];_i(Yr.newOption.series,function(Zr){var Kr=Gr.getSeriesByName(Zr.name)[0];if(!Kr)Wr.push(ki({type:"scatter"},Zr));else{var Jr=Kr.get("data");Wr.push({name:Zr.name,data:Rrt(Zr.data,Jr)})}}),Gr.mergeOption(Yi({series:Wr},Yr.newOption))});var c5=krt;var p5=_i,d5=ln();function v5(Yr,Gr){var Wr=BM(Yr);p5(Gr,function(Zr,Kr){for(var Jr=Wr.length-1;Jr>=0;Jr--){var Qr=Wr[Jr];if(Qr[Kr])break}if(Jr<0){var ti=Yr.queryComponents({mainType:"dataZoom",subType:"select",id:Kr})[0];if(ti){var ei=ti.getPercentRange();Wr[0][Kr]={dataZoomId:Kr,start:ei[0],end:ei[1]}}}}),Wr.push(Gr)}function m5(Yr){var Gr=BM(Yr),Wr=Gr[Gr.length-1];Gr.length>1&&Gr.pop();var Zr={};return p5(Wr,function(Kr,Jr){for(var Qr=Gr.length-1;Qr>=0;Qr--)if(Kr=Gr[Qr][Jr],Kr){Zr[Jr]=Kr;break}}),Zr}function g5(Yr){d5(Yr).snapshots=null}function y5(Yr){return BM(Yr).length}function BM(Yr){var Gr=d5(Yr);return Gr.snapshots||(Gr.snapshots=[{}]),Gr.snapshots}var Ort=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.onclick=function(Wr,Zr){g5(Wr),Zr.dispatchAction({type:"restore",from:this.uid})},Gr.getDefaultOption=function(Wr){var Zr={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Wr.getLocaleModel().get(["toolbox","restore","title"])};return Zr},Gr}(Ya);Ao({type:"restore",event:"restore",update:"prepareAndUpdate"},function(Yr,Gr){Gr.resetOption("recreate")});var _5=Ort;var zrt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Nrt=function(){function Yr(Gr,Wr,Zr){var Kr=this;this._targetInfoList=[];var Jr=b5(Wr,Gr);_i(Frt,function(Qr,ti){(!Zr||!Zr.include||sn(Zr.include,ti)>=0)&&Qr(Jr,Kr._targetInfoList)})}return Yr.prototype.setOutputRanges=function(Gr,Wr){return this.matchOutputRanges(Gr,Wr,function(Zr,Kr,Jr){if((Zr.coordRanges||(Zr.coordRanges=[])).push(Kr),!Zr.coordRange){Zr.coordRange=Kr;var Qr=UM[Zr.brushType](0,Jr,Kr);Zr.__rangeOffset={offset:T5[Zr.brushType](Qr.values,Zr.range,[1,1]),xyMinMax:Qr.xyMinMax}}}),Gr},Yr.prototype.matchOutputRanges=function(Gr,Wr,Zr){_i(Gr,function(Kr){var Jr=this.findTargetInfo(Kr,Wr);Jr&&Jr!==!0&&_i(Jr.coordSyses,function(Qr){var ti=UM[Kr.brushType](1,Qr,Kr.range,!0);Zr(Kr,ti.values,Qr,Wr)})},this)},Yr.prototype.setInputRanges=function(Gr,Wr){_i(Gr,function(Zr){var Kr=this.findTargetInfo(Zr,Wr);if(Zr.range=Zr.range||[],Kr&&Kr!==!0){Zr.panelId=Kr.panelId;var Jr=UM[Zr.brushType](0,Kr.coordSys,Zr.coordRange),Qr=Zr.__rangeOffset;Zr.range=Qr?T5[Zr.brushType](Jr.values,Qr.offset,Vrt(Jr.xyMinMax,Qr.xyMinMax)):Jr.values}},this)},Yr.prototype.makePanelOpts=function(Gr,Wr){return Oi(this._targetInfoList,function(Zr){var Kr=Zr.getPanelRect();return{panelId:Zr.panelId,defaultBrushType:Wr?Wr(Zr):null,clipPath:Xx(Kr),isTargetByCursor:Zx(Kr,Gr,Zr.coordSysModel),getLinearBrushOtherExtent:qx(Kr)}})},Yr.prototype.controlSeries=function(Gr,Wr,Zr){var Kr=this.findTargetInfo(Gr,Zr);return Kr===!0||Kr&&sn(Kr.coordSyses,Wr.coordinateSystem)>=0},Yr.prototype.findTargetInfo=function(Gr,Wr){for(var Zr=this._targetInfoList,Kr=b5(Wr,Gr),Jr=0;Jr<Zr.length;Jr++){var Qr=Zr[Jr],ti=Gr.panelId;if(ti){if(Qr.panelId===ti)return Qr}else for(var ei=0;ei<S5.length;ei++)if(S5[ei](Kr,Qr))return Qr}return!0},Yr}();function GM(Yr){return Yr[0]>Yr[1]&&Yr.reverse(),Yr}function b5(Yr,Gr){return ju(Yr,Gr,{includeMainTypes:zrt})}var Frt={grid:function(Yr,Gr){var Wr=Yr.xAxisModels,Zr=Yr.yAxisModels,Kr=Yr.gridModels,Jr=Hi(),Qr={},ti={};!Wr&&!Zr&&!Kr||(_i(Wr,function(ei){var ri=ei.axis.grid.model;Jr.set(ri.id,ri),Qr[ri.id]=!0}),_i(Zr,function(ei){var ri=ei.axis.grid.model;Jr.set(ri.id,ri),ti[ri.id]=!0}),_i(Kr,function(ei){Jr.set(ei.id,ei),Qr[ei.id]=!0,ti[ei.id]=!0}),Jr.each(function(ei){var ri=ei.coordinateSystem,ii=[];_i(ri.getCartesians(),function(ni,ai){(sn(Wr,ni.getAxis("x").model)>=0||sn(Zr,ni.getAxis("y").model)>=0)&&ii.push(ni)}),Gr.push({panelId:"grid--"+ei.id,gridModel:ei,coordSysModel:ei,coordSys:ii[0],coordSyses:ii,getPanelRect:w5.grid,xAxisDeclared:Qr[ei.id],yAxisDeclared:ti[ei.id]})}))},geo:function(Yr,Gr){_i(Yr.geoModels,function(Wr){var Zr=Wr.coordinateSystem;Gr.push({panelId:"geo--"+Wr.id,geoModel:Wr,coordSysModel:Wr,coordSys:Zr,coordSyses:[Zr],getPanelRect:w5.geo})})}},S5=[function(Yr,Gr){var Wr=Yr.xAxisModel,Zr=Yr.yAxisModel,Kr=Yr.gridModel;return!Kr&&Wr&&(Kr=Wr.axis.grid.model),!Kr&&Zr&&(Kr=Zr.axis.grid.model),Kr&&Kr===Gr.gridModel},function(Yr,Gr){var Wr=Yr.geoModel;return Wr&&Wr===Gr.geoModel}],w5={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var Yr=this.coordSys,Gr=Yr.getBoundingRect().clone();return Gr.applyTransform(el(Yr)),Gr}},UM={lineX:en(C5,0),lineY:en(C5,1),rect:function(Yr,Gr,Wr,Zr){var Kr=Yr?Gr.pointToData([Wr[0][0],Wr[1][0]],Zr):Gr.dataToPoint([Wr[0][0],Wr[1][0]],Zr),Jr=Yr?Gr.pointToData([Wr[0][1],Wr[1][1]],Zr):Gr.dataToPoint([Wr[0][1],Wr[1][1]],Zr),Qr=[GM([Kr[0],Jr[0]]),GM([Kr[1],Jr[1]])];return{values:Qr,xyMinMax:Qr}},polygon:function(Yr,Gr,Wr,Zr){var Kr=[[1/0,-1/0],[1/0,-1/0]],Jr=Oi(Wr,function(Qr){var ti=Yr?Gr.pointToData(Qr,Zr):Gr.dataToPoint(Qr,Zr);return Kr[0][0]=Math.min(Kr[0][0],ti[0]),Kr[1][0]=Math.min(Kr[1][0],ti[1]),Kr[0][1]=Math.max(Kr[0][1],ti[0]),Kr[1][1]=Math.max(Kr[1][1],ti[1]),ti});return{values:Jr,xyMinMax:Kr}}};function C5(Yr,Gr,Wr,Zr){var Kr=Wr.getAxis(["x","y"][Yr]),Jr=GM(Oi([0,1],function(ti){return Gr?Kr.coordToData(Kr.toLocalCoord(Zr[ti]),!0):Kr.toGlobalCoord(Kr.dataToCoord(Zr[ti]))})),Qr=[];return Qr[Yr]=Jr,Qr[1-Yr]=[NaN,NaN],{values:Jr,xyMinMax:Qr}}var T5={lineX:en(A5,0),lineY:en(A5,1),rect:function(Yr,Gr,Wr){return[[Yr[0][0]-Wr[0]*Gr[0][0],Yr[0][1]-Wr[0]*Gr[0][1]],[Yr[1][0]-Wr[1]*Gr[1][0],Yr[1][1]-Wr[1]*Gr[1][1]]]},polygon:function(Yr,Gr,Wr){return Oi(Yr,function(Zr,Kr){return[Zr[0]-Wr[0]*Gr[Kr][0],Zr[1]-Wr[1]*Gr[Kr][1]]})}};function A5(Yr,Gr,Wr,Zr){return[Gr[0]-Zr[Yr]*Wr[0],Gr[1]-Zr[Yr]*Wr[1]]}function Vrt(Yr,Gr){var Wr=M5(Yr),Zr=M5(Gr),Kr=[Wr[0]/Zr[0],Wr[1]/Zr[1]];return isNaN(Kr[0])&&(Kr[0]=1),isNaN(Kr[1])&&(Kr[1]=1),Kr}function M5(Yr){return Yr?[Yr[0][1]-Yr[0][0],Yr[1][1]-Yr[1][0]]:[NaN,NaN]}var wm=Nrt;var HM=_i,Brt=HI("toolbox-dataZoom_");var Urt=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.render=function(Wr,Zr,Kr,Jr){this._brushController||(this._brushController=new Np(Kr.getZr()),this._brushController.on("brush",Gi(this._onBrush,this)).mount()),Wrt(Wr,Zr,this,Jr,Kr),Hrt(Wr,Zr)},Gr.prototype.onclick=function(Wr,Zr,Kr){Grt[Kr].call(this)},Gr.prototype.remove=function(Wr,Zr){this._brushController&&this._brushController.unmount()},Gr.prototype.dispose=function(Wr,Zr){this._brushController&&this._brushController.dispose()},Gr.prototype._onBrush=function(Wr){var Zr=Wr.areas;if(!Wr.isEnd||!Zr.length)return;var Kr={},Jr=this.ecModel;this._brushController.updateCovers([]);var Qr=new wm(WM(this.model),Jr,{include:["grid"]});Qr.matchOutputRanges(Zr,Jr,function(ri,ii,ni){if(ni.type==="cartesian2d"){var ai=ri.brushType;ai==="rect"?(ti("x",ni,ii[0]),ti("y",ni,ii[1])):ti({lineX:"x",lineY:"y"}[ai],ni,ii)}}),v5(Jr,Kr),this._dispatchZoomAction(Kr);function ti(ri,ii,ni){var ai=ii.getAxis(ri),oi=ai.model,si=ei(ri,oi,Jr),li=si.findRepresentativeAxisProxy(oi).getMinMaxSpan();(li.minValueSpan!=null||li.maxValueSpan!=null)&&(ni=Jo(0,ni.slice(),ai.scale.getExtent(),0,li.minValueSpan,li.maxValueSpan)),si&&(Kr[si.id]={dataZoomId:si.id,startValue:ni[0],endValue:ni[1]})}function ei(ri,ii,ni){var ai;return ni.eachComponent({mainType:"dataZoom",subType:"select"},function(oi){var si=oi.getAxisModel(ri,ii.componentIndex);si&&(ai=oi)}),ai}},Gr.prototype._dispatchZoomAction=function(Wr){var Zr=[];HM(Wr,function(Kr,Jr){Zr.push(Ki(Kr))}),Zr.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:Zr})},Gr.getDefaultOption=function(Wr){var Zr={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Wr.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return Zr},Gr}(Ya),Grt={zoom:function(){var Yr=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:Yr})},back:function(){this._dispatchZoomAction(m5(this.ecModel))}};function WM(Yr){var Gr={xAxisIndex:Yr.get("xAxisIndex",!0),yAxisIndex:Yr.get("yAxisIndex",!0),xAxisId:Yr.get("xAxisId",!0),yAxisId:Yr.get("yAxisId",!0)};return Gr.xAxisIndex==null&&Gr.xAxisId==null&&(Gr.xAxisIndex="all"),Gr.yAxisIndex==null&&Gr.yAxisId==null&&(Gr.yAxisIndex="all"),Gr}function Hrt(Yr,Gr){Yr.setIconStatus("back",y5(Gr)>1?"emphasis":"normal")}function Wrt(Yr,Gr,Wr,Zr,Kr){var Jr=Wr._isZoomActive;Zr&&Zr.type==="takeGlobalCursor"&&(Jr=Zr.key==="dataZoomSelect"?Zr.dataZoomSelectActive:!1),Wr._isZoomActive=Jr,Yr.setIconStatus("zoom",Jr?"emphasis":"normal");var Qr=new wm(WM(Yr),Gr,{include:["grid"]}),ti=Qr.makePanelOpts(Kr,function(ei){return ei.xAxisDeclared&&!ei.yAxisDeclared?"lineX":!ei.xAxisDeclared&&ei.yAxisDeclared?"lineY":"rect"});Wr._brushController.setPanels(ti).enableBrush(Jr&&ti.length?{brushType:"auto",brushStyle:Yr.getModel("brushStyle").getItemStyle()}:!1)}f2("dataZoom",function(Yr){var Gr=Yr.getComponent("toolbox",0),Wr=["feature","dataZoom"];if(!Gr||Gr.get(Wr)==null)return;var Zr=Gr.getModel(Wr),Kr=[],Jr=WM(Zr),Qr=ju(Yr,Jr);HM(Qr.xAxisModels,function(ei){return ti(ei,"xAxis","xAxisIndex")}),HM(Qr.yAxisModels,function(ei){return ti(ei,"yAxis","yAxisIndex")});function ti(ei,ri,ii){var ni=ei.componentIndex,ai={type:"select",$fromToolbox:!0,filterMode:Zr.get("filterMode",!0)||"filter",id:Brt+ri+ni};ai[ii]=ni,Kr.push(ai)}return Kr});var P5=Urt;function YM(Yr){Yr.registerComponentModel(a5),Yr.registerComponentView(s5),kf("saveAsImage",l5),kf("magicType",h5),kf("dataView",c5),kf("dataZoom",P5),kf("restore",_5),Sn(i5)}var Yrt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="tooltip",Gr.dependencies=["axisPointer"],Gr.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},Gr}(_n),E5=Yrt;function S_(Yr){var Gr=Yr.get("confine");return Gr!=null?!!Gr:Yr.get("renderMode")==="richText"}function D5(Yr){if(Cn.domSupported){for(var Gr=document.documentElement.style,Wr=0,Zr=Yr.length;Wr<Zr;Wr++)if(Yr[Wr]in Gr)return Yr[Wr]}}var XM=D5(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),I5=D5(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function qM(Yr,Gr){if(!Yr)return Gr;Gr=Vy(Gr,!0);var Wr=Yr.indexOf(Gr);return Yr=Wr===-1?Gr:"-"+Yr.slice(0,Wr)+"-"+Gr,Yr.toLowerCase()}function L5(Yr,Gr){var Wr=Yr.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(Yr);return Wr?Gr?Wr[Gr]:Wr:null}var Xrt=qM(I5,"transition"),ZM=qM(XM,"transform"),qrt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Cn.transform3dSupported?"will-change:transform;":"");function Zrt(Yr){return Yr=Yr==="left"?"right":Yr==="right"?"left":Yr==="top"?"bottom":"top",Yr}function jrt(Yr,Gr,Wr){if(!Ni(Wr)||Wr==="inside")return"";var Zr=Yr.get("backgroundColor"),Kr=Yr.get("borderWidth");Gr=nl(Gr);var Jr=Zrt(Wr),Qr=Math.max(Math.round(Kr)*1.5,6),ti="",ei=ZM+":",ri;sn(["left","right"],Jr)>-1?(ti+="top:50%",ei+="translateY(-50%) rotate("+(ri=Jr==="left"?-225:-45)+"deg)"):(ti+="left:50%",ei+="translateX(-50%) rotate("+(ri=Jr==="top"?225:45)+"deg)");var ii=ri*Math.PI/180,ni=Qr+Kr,ai=ni*Math.abs(Math.cos(ii))+ni*Math.abs(Math.sin(ii)),oi=Math.round(((ai-Math.SQRT2*Kr)/2+Math.SQRT2*Kr-(ai-ni)/2)*100)/100;ti+=";"+Jr+":-"+oi+"px";var si=Gr+" solid "+Kr+"px;",li=["position:absolute;width:"+Qr+"px;height:"+Qr+"px;z-index:-1;",ti+";"+ei+";","border-bottom:"+si,"border-right:"+si,"background-color:"+Zr+";"];return'<div style="'+li.join("")+'"></div>'}function Krt(Yr,Gr){var Wr="cubic-bezier(0.23,1,0.32,1)",Zr=" "+Yr/2+"s "+Wr,Kr="opacity"+Zr+",visibility"+Zr;return Gr||(Zr=" "+Yr+"s "+Wr,Kr+=Cn.transformSupported?","+ZM+Zr:",left"+Zr+",top"+Zr),Xrt+":"+Kr}function k5(Yr,Gr,Wr){var Zr=Yr.toFixed(0)+"px",Kr=Gr.toFixed(0)+"px";if(!Cn.transformSupported)return Wr?"top:"+Kr+";left:"+Zr+";":[["top",Kr],["left",Zr]];var Jr=Cn.transform3dSupported,Qr="translate"+(Jr?"3d":"")+"("+Zr+","+Kr+(Jr?",0":"")+")";return Wr?"top:0;left:0;"+ZM+":"+Qr+";":[["top",0],["left",0],[XM,Qr]]}function $rt(Yr){var Gr=[],Wr=Yr.get("fontSize"),Zr=Yr.getTextColor();Zr&&Gr.push("color:"+Zr),Gr.push("font:"+Yr.getFont()),Wr&&Gr.push("line-height:"+Math.round(Wr*3/2)+"px");var Kr=Yr.get("textShadowColor"),Jr=Yr.get("textShadowBlur")||0,Qr=Yr.get("textShadowOffsetX")||0,ti=Yr.get("textShadowOffsetY")||0;return Kr&&Jr&&Gr.push("text-shadow:"+Qr+"px "+ti+"px "+Jr+"px "+Kr),_i(["decoration","align"],function(ei){var ri=Yr.get(ei);ri&&Gr.push("text-"+ei+":"+ri)}),Gr.join(";")}function Jrt(Yr,Gr,Wr){var Zr=[],Kr=Yr.get("transitionDuration"),Jr=Yr.get("backgroundColor"),Qr=Yr.get("shadowBlur"),ti=Yr.get("shadowColor"),ei=Yr.get("shadowOffsetX"),ri=Yr.get("shadowOffsetY"),ii=Yr.getModel("textStyle"),ni=o0(Yr,"html"),ai=ei+"px "+ri+"px "+Qr+"px "+ti;return Zr.push("box-shadow:"+ai),Gr&&Kr&&Zr.push(Krt(Kr,Wr)),Jr&&Zr.push("background-color:"+Jr),_i(["width","color","radius"],function(oi){var si="border-"+oi,li=Vy(si),ui=Yr.get(li);ui!=null&&Zr.push(si+":"+ui+(oi==="color"?"":"px"))}),Zr.push($rt(ii)),ni!=null&&Zr.push("padding:"+il(ni).join("px ")+"px"),Zr.join(";")+";"}function R5(Yr,Gr,Wr,Zr,Kr){var Jr=Gr&&Gr.painter;if(Wr){var Qr=Jr&&Jr.getViewportRoot();Qr&&TD(Yr,Qr,Wr,Zr,Kr)}else{Yr[0]=Zr,Yr[1]=Kr;var ti=Jr&&Jr.getViewportRootOffset();ti&&(Yr[0]+=ti.offsetLeft,Yr[1]+=ti.offsetTop)}Yr[2]=Yr[0]/Gr.getWidth(),Yr[3]=Yr[1]/Gr.getHeight()}var Qrt=function(){function Yr(Gr,Wr){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Cn.wxa)return null;var Zr=document.createElement("div");Zr.domBelongToZr=!0,this.el=Zr;var Kr=this._zr=Gr.getZr(),Jr=Wr.appendTo,Qr=Jr&&(Ni(Jr)?document.querySelector(Jr):Fu(Jr)?Jr:Wi(Jr)&&Jr(Gr.getDom()));R5(this._styleCoord,Kr,Qr,Gr.getWidth()/2,Gr.getHeight()/2),(Qr||Gr.getDom()).appendChild(Zr),this._api=Gr,this._container=Qr;var ti=this;Zr.onmouseenter=function(){ti._enterable&&(clearTimeout(ti._hideTimeout),ti._show=!0),ti._inContent=!0},Zr.onmousemove=function(ei){if(ei=ei||window.event,!ti._enterable){var ri=Kr.handler,ii=Kr.painter.getViewportRoot();ko(ii,ei,!0),ri.dispatch("mousemove",ei)}},Zr.onmouseleave=function(){ti._inContent=!1,ti._enterable&&ti._show&&ti.hideLater(ti._hideDelay)}}return Yr.prototype.update=function(Gr){if(!this._container){var Wr=this._api.getDom(),Zr=L5(Wr,"position"),Kr=Wr.style;Kr.position!=="absolute"&&Zr!=="absolute"&&(Kr.position="relative")}var Jr=Gr.get("alwaysShowContent");Jr&&this._moveIfResized(),this._alwaysShowContent=Jr,this.el.className=Gr.get("className")||""},Yr.prototype.show=function(Gr,Wr){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Zr=this.el,Kr=Zr.style,Jr=this._styleCoord;Zr.innerHTML?Kr.cssText=qrt+Jrt(Gr,!this._firstShow,this._longHide)+k5(Jr[0],Jr[1],!0)+("border-color:"+nl(Wr)+";")+(Gr.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):Kr.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},Yr.prototype.setContent=function(Gr,Wr,Zr,Kr,Jr){var Qr=this.el;if(Gr==null){Qr.innerHTML="";return}var ti="";if(Ni(Jr)&&Zr.get("trigger")==="item"&&!S_(Zr)&&(ti=jrt(Zr,Kr,Jr)),Ni(Gr))Qr.innerHTML=Gr+ti;else if(Gr){Qr.innerHTML="",Ri(Gr)||(Gr=[Gr]);for(var ei=0;ei<Gr.length;ei++)Fu(Gr[ei])&&Gr[ei].parentNode!==Qr&&Qr.appendChild(Gr[ei]);if(ti&&Qr.childNodes.length){var ri=document.createElement("div");ri.innerHTML=ti,Qr.appendChild(ri)}}},Yr.prototype.setEnterable=function(Gr){this._enterable=Gr},Yr.prototype.getSize=function(){var Gr=this.el;return[Gr.offsetWidth,Gr.offsetHeight]},Yr.prototype.moveTo=function(Gr,Wr){var Zr=this._styleCoord;if(R5(Zr,this._zr,this._container,Gr,Wr),Zr[0]!=null&&Zr[1]!=null){var Kr=this.el.style,Jr=k5(Zr[0],Zr[1]);_i(Jr,function(Qr){Kr[Qr[0]]=Qr[1]})}},Yr.prototype._moveIfResized=function(){var Gr=this._styleCoord[2],Wr=this._styleCoord[3];this.moveTo(Gr*this._zr.getWidth(),Wr*this._zr.getHeight())},Yr.prototype.hide=function(){var Gr=this,Wr=this.el.style;Wr.visibility="hidden",Wr.opacity="0",Cn.transform3dSupported&&(Wr.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return Gr._longHide=!0},500)},Yr.prototype.hideLater=function(Gr){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(Gr?(this._hideDelay=Gr,this._show=!1,this._hideTimeout=setTimeout(Gi(this.hide,this),Gr)):this.hide())},Yr.prototype.isShow=function(){return this._show},Yr.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Gr=this.el.parentNode;Gr&&Gr.removeChild(this.el),this.el=this._container=null},Yr}(),O5=Qrt;var tit=function(){function Yr(Gr){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=Gr.getZr(),N5(this._styleCoord,this._zr,Gr.getWidth()/2,Gr.getHeight()/2)}return Yr.prototype.update=function(Gr){var Wr=Gr.get("alwaysShowContent");Wr&&this._moveIfResized(),this._alwaysShowContent=Wr},Yr.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},Yr.prototype.setContent=function(Gr,Wr,Zr,Kr,Jr){var Qr=this;qi(Gr)&&Rn(""),this.el&&this._zr.remove(this.el);var ti=Zr.getModel("textStyle");this.el=new xn({style:{rich:Wr.richTextStyles,text:Gr,lineHeight:22,borderWidth:1,borderColor:Kr,textShadowColor:ti.get("textShadowColor"),fill:Zr.get(["textStyle","color"]),padding:o0(Zr,"richText"),verticalAlign:"top",align:"left"},z:Zr.get("z")}),_i(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(ri){Qr.el.style[ri]=Zr.get(ri)}),_i(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(ri){Qr.el.style[ri]=ti.get(ri)||0}),this._zr.add(this.el);var ei=this;this.el.on("mouseover",function(){ei._enterable&&(clearTimeout(ei._hideTimeout),ei._show=!0),ei._inContent=!0}),this.el.on("mouseout",function(){ei._enterable&&ei._show&&ei.hideLater(ei._hideDelay),ei._inContent=!1})},Yr.prototype.setEnterable=function(Gr){this._enterable=Gr},Yr.prototype.getSize=function(){var Gr=this.el,Wr=this.el.getBoundingRect(),Zr=z5(Gr.style);return[Wr.width+Zr.left+Zr.right,Wr.height+Zr.top+Zr.bottom]},Yr.prototype.moveTo=function(Gr,Wr){var Zr=this.el;if(Zr){var Kr=this._styleCoord;N5(Kr,this._zr,Gr,Wr),Gr=Kr[0],Wr=Kr[1];var Jr=Zr.style,Qr=Rf(Jr.borderWidth||0),ti=z5(Jr);Zr.x=Gr+Qr+ti.left,Zr.y=Wr+Qr+ti.top,Zr.markRedraw()}},Yr.prototype._moveIfResized=function(){var Gr=this._styleCoord[2],Wr=this._styleCoord[3];this.moveTo(Gr*this._zr.getWidth(),Wr*this._zr.getHeight())},Yr.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},Yr.prototype.hideLater=function(Gr){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(Gr?(this._hideDelay=Gr,this._show=!1,this._hideTimeout=setTimeout(Gi(this.hide,this),Gr)):this.hide())},Yr.prototype.isShow=function(){return this._show},Yr.prototype.dispose=function(){this._zr.remove(this.el)},Yr}();function Rf(Yr){return Math.max(0,Yr)}function z5(Yr){var Gr=Rf(Yr.shadowBlur||0),Wr=Rf(Yr.shadowOffsetX||0),Zr=Rf(Yr.shadowOffsetY||0);return{left:Rf(Gr-Wr),right:Rf(Gr+Wr),top:Rf(Gr-Zr),bottom:Rf(Gr+Zr)}}function N5(Yr,Gr,Wr,Zr){Yr[0]=Wr,Yr[1]=Zr,Yr[2]=Yr[0]/Gr.getWidth(),Yr[3]=Yr[1]/Gr.getHeight()}var F5=tit;var eit=new mn({shape:{x:-1,y:-1,width:2,height:2}}),rit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr){if(!(Cn.node||!Zr.getDom())){var Kr=Wr.getComponent("tooltip"),Jr=this._renderMode=ZI(Kr.get("renderMode"));this._tooltipContent=Jr==="richText"?new F5(Zr):new O5(Zr,{appendTo:Kr.get("appendToBody",!0)?"body":Kr.get("appendTo",!0)})}},Gr.prototype.render=function(Wr,Zr,Kr){if(!(Cn.node||!Kr.getDom())){this.group.removeAll(),this._tooltipModel=Wr,this._ecModel=Zr,this._api=Kr;var Jr=this._tooltipContent;Jr.update(Wr),Jr.setEnterable(Wr.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&Wr.get("transitionDuration")?Rs(this,"_updatePosition",50,"fixRate"):Su(this,"_updatePosition")}},Gr.prototype._initGlobalListener=function(){var Wr=this._tooltipModel,Zr=Wr.get("triggerOn");u_("itemTooltip",this._api,Gi(function(Kr,Jr,Qr){Zr!=="none"&&(Zr.indexOf(Kr)>=0?this._tryShow(Jr,Qr):Kr==="leave"&&this._hide(Qr))},this))},Gr.prototype._keepShow=function(){var Wr=this._tooltipModel,Zr=this._ecModel,Kr=this._api,Jr=Wr.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&Jr!=="none"&&Jr!=="click"){var Qr=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!Kr.isDisposed()&&Qr.manuallyShowTip(Wr,Zr,Kr,{x:Qr._lastX,y:Qr._lastY,dataByCoordSys:Qr._lastDataByCoordSys})})}},Gr.prototype.manuallyShowTip=function(Wr,Zr,Kr,Jr){if(!(Jr.from===this.uid||Cn.node||!Kr.getDom())){var Qr=V5(Jr,Kr);this._ticket="";var ti=Jr.dataByCoordSys,ei=oit(Jr,Zr,Kr);if(ei){var ri=ei.el.getBoundingRect().clone();ri.applyTransform(ei.el.transform),this._tryShow({offsetX:ri.x+ri.width/2,offsetY:ri.y+ri.height/2,target:ei.el,position:Jr.position,positionDefault:"bottom"},Qr)}else if(Jr.tooltip&&Jr.x!=null&&Jr.y!=null){var ii=eit;ii.x=Jr.x,ii.y=Jr.y,ii.update(),Qi(ii).tooltipConfig={name:null,option:Jr.tooltip},this._tryShow({offsetX:Jr.x,offsetY:Jr.y,target:ii},Qr)}else if(ti)this._tryShow({offsetX:Jr.x,offsetY:Jr.y,position:Jr.position,dataByCoordSys:ti,tooltipOption:Jr.tooltipOption},Qr);else if(Jr.seriesIndex!=null){if(this._manuallyAxisShowTip(Wr,Zr,Kr,Jr))return;var ni=bm(Jr,Zr),ai=ni.point[0],oi=ni.point[1];ai!=null&&oi!=null&&this._tryShow({offsetX:ai,offsetY:oi,target:ni.el,position:Jr.position,positionDefault:"bottom"},Qr)}else Jr.x!=null&&Jr.y!=null&&(Kr.dispatchAction({type:"updateAxisPointer",x:Jr.x,y:Jr.y}),this._tryShow({offsetX:Jr.x,offsetY:Jr.y,position:Jr.position,target:Kr.getZr().findHover(Jr.x,Jr.y).target},Qr))}},Gr.prototype.manuallyHideTip=function(Wr,Zr,Kr,Jr){var Qr=this._tooltipContent;this._tooltipModel&&Qr.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,Jr.from!==this.uid&&this._hide(V5(Jr,Kr))},Gr.prototype._manuallyAxisShowTip=function(Wr,Zr,Kr,Jr){var Qr=Jr.seriesIndex,ti=Jr.dataIndex,ei=Zr.getComponent("axisPointer").coordSysAxesInfo;if(!(Qr==null||ti==null||ei==null)){var ri=Zr.getSeriesByIndex(Qr);if(ri){var ii=ri.getData(),ni=Cm([ii.getItemModel(ti),ri,(ri.coordinateSystem||{}).model],this._tooltipModel);if(ni.get("trigger")==="axis")return Kr.dispatchAction({type:"updateAxisPointer",seriesIndex:Qr,dataIndex:ti,position:Jr.position}),!0}}},Gr.prototype._tryShow=function(Wr,Zr){var Kr=Wr.target,Jr=this._tooltipModel;if(Jr){this._lastX=Wr.offsetX,this._lastY=Wr.offsetY;var Qr=Wr.dataByCoordSys;if(Qr&&Qr.length)this._showAxisTooltip(Qr,Wr);else if(Kr){var ti=Qi(Kr);if(ti.ssrType==="legend")return;this._lastDataByCoordSys=null;var ei,ri;sl(Kr,function(ii){if(Qi(ii).dataIndex!=null)return ei=ii,!0;if(Qi(ii).tooltipConfig!=null)return ri=ii,!0},!0),ei?this._showSeriesItemTooltip(Wr,ei,Zr):ri?this._showComponentItemTooltip(Wr,ri,Zr):this._hide(Zr)}else this._lastDataByCoordSys=null,this._hide(Zr)}},Gr.prototype._showOrMove=function(Wr,Zr){var Kr=Wr.get("showDelay");Zr=Gi(Zr,this),clearTimeout(this._showTimout),Kr>0?this._showTimout=setTimeout(Zr,Kr):Zr()},Gr.prototype._showAxisTooltip=function(Wr,Zr){var Kr=this._ecModel,Jr=this._tooltipModel,Qr=[Zr.offsetX,Zr.offsetY],ti=Cm([Zr.tooltipOption],Jr),ei=this._renderMode,ri=[],ii=Jn("section",{blocks:[],noHeader:!0}),ni=[],ai=new s0;_i(Wr,function(hi){_i(hi.dataByAxis,function(ci){var pi=Kr.getComponent(ci.axisDim+"Axis",ci.axisIndex),di=ci.value;if(!(!pi||di==null)){var vi=_M(di,pi.axis,Kr,ci.seriesDataIndices,ci.valueLabelOpt),mi=Jn("section",{header:vi,noHeader:!Va(vi),sortBlocks:!0,blocks:[]});ii.blocks.push(mi),_i(ci.seriesDataIndices,function(gi){var yi=Kr.getSeriesByIndex(gi.seriesIndex),Si=gi.dataIndexInside,bi=yi.getDataParams(Si);if(!(bi.dataIndex<0)){bi.axisDim=ci.axisDim,bi.axisIndex=ci.axisIndex,bi.axisType=ci.axisType,bi.axisId=ci.axisId,bi.axisValue=Wv(pi.axis,{value:di}),bi.axisValueLabel=vi,bi.marker=ai.makeTooltipMarker("item",nl(bi.color),ei);var Ti=Z1(yi.formatTooltip(Si,!0,null)),Ai=Ti.frag;if(Ai){var Ei=Cm([yi],Jr).get("valueFormatter");mi.blocks.push(Ei?ki({valueFormatter:Ei},Ai):Ai)}Ti.text&&ni.push(Ti.text),ri.push(bi)}})}})}),ii.blocks.reverse(),ni.reverse();var oi=Zr.position,si=ti.get("order"),li=ew(ii,ai,ei,si,Kr.get("useUTC"),ti.get("textStyle"));li&&ni.unshift(li);var ui=ei==="richText"?`

`:"<br/>",fi=ni.join(ui);this._showOrMove(ti,function(){this._updateContentNotChangedOnAxis(Wr,ri)?this._updatePosition(ti,oi,Qr[0],Qr[1],this._tooltipContent,ri):this._showTooltipContent(ti,fi,ri,Math.random()+"",Qr[0],Qr[1],oi,null,ai)})},Gr.prototype._showSeriesItemTooltip=function(Wr,Zr,Kr){var Jr=this._ecModel,Qr=Qi(Zr),ti=Qr.seriesIndex,ei=Jr.getSeriesByIndex(ti),ri=Qr.dataModel||ei,ii=Qr.dataIndex,ni=Qr.dataType,ai=ri.getData(ni),oi=this._renderMode,si=Wr.positionDefault,li=Cm([ai.getItemModel(ii),ri,ei&&(ei.coordinateSystem||{}).model],this._tooltipModel,si?{position:si}:null),ui=li.get("trigger");if(!(ui!=null&&ui!=="item")){var fi=ri.getDataParams(ii,ni),hi=new s0;fi.marker=hi.makeTooltipMarker("item",nl(fi.color),oi);var ci=Z1(ri.formatTooltip(ii,!1,ni)),pi=li.get("order"),di=li.get("valueFormatter"),vi=ci.frag,mi=vi?ew(di?ki({valueFormatter:di},vi):vi,hi,oi,pi,Jr.get("useUTC"),li.get("textStyle")):ci.text,gi="item_"+ri.name+"_"+ii;this._showOrMove(li,function(){this._showTooltipContent(li,mi,fi,gi,Wr.offsetX,Wr.offsetY,Wr.position,Wr.target,hi)}),Kr({type:"showTip",dataIndexInside:ii,dataIndex:ai.getRawIndex(ii),seriesIndex:ti,from:this.uid})}},Gr.prototype._showComponentItemTooltip=function(Wr,Zr,Kr){var Jr=Qi(Zr),Qr=Jr.tooltipConfig,ti=Qr.option||{};if(Ni(ti)){var ei=ti;ti={content:ei,formatter:ei}}var ri=[ti],ii=this._ecModel.getComponent(Jr.componentMainType,Jr.componentIndex);ii&&ri.push(ii),ri.push({formatter:ti.content});var ni=Wr.positionDefault,ai=Cm(ri,this._tooltipModel,ni?{position:ni}:null),oi=ai.get("content"),si=Math.random()+"",li=new s0;this._showOrMove(ai,function(){var ui=Ki(ai.get("formatterParams")||{});this._showTooltipContent(ai,oi,ui,si,Wr.offsetX,Wr.offsetY,Wr.position,Zr,li)}),Kr({type:"showTip",from:this.uid})},Gr.prototype._showTooltipContent=function(Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii){if(this._ticket="",!(!Wr.get("showContent")||!Wr.get("show"))){var ni=this._tooltipContent;ni.setEnterable(Wr.get("enterable"));var ai=Wr.get("formatter");ei=ei||Wr.get("position");var oi=Zr,si=this._getNearestPoint([Qr,ti],Kr,Wr.get("trigger"),Wr.get("borderColor")),li=si.color;if(ai)if(Ni(ai)){var ui=Wr.ecModel.get("useUTC"),fi=Ri(Kr)?Kr[0]:Kr,hi=fi&&fi.axisType&&fi.axisType.indexOf("time")>=0;oi=ai,hi&&(oi=Nh(fi.axisValue,oi,ui)),oi=Uy(oi,Kr,!0)}else if(Wi(ai)){var ci=Gi(function(pi,di){pi===this._ticket&&(ni.setContent(di,ii,Wr,li,ei),this._updatePosition(Wr,ei,Qr,ti,ni,Kr,ri))},this);this._ticket=Jr,oi=ai(Kr,Jr,ci)}else oi=ai;ni.setContent(oi,ii,Wr,li,ei),ni.show(Wr,li),this._updatePosition(Wr,ei,Qr,ti,ni,Kr,ri)}},Gr.prototype._getNearestPoint=function(Wr,Zr,Kr,Jr){if(Kr==="axis"||Ri(Zr))return{color:Jr||(this._renderMode==="html"?"#fff":"none")};if(!Ri(Zr))return{color:Jr||Zr.color||Zr.borderColor}},Gr.prototype._updatePosition=function(Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=this._api.getWidth(),ii=this._api.getHeight();Zr=Zr||Wr.get("position");var ni=Qr.getSize(),ai=Wr.get("align"),oi=Wr.get("verticalAlign"),si=ei&&ei.getBoundingRect().clone();if(ei&&si.applyTransform(ei.transform),Wi(Zr)&&(Zr=Zr([Kr,Jr],ti,Qr.el,si,{viewSize:[ri,ii],contentSize:ni.slice()})),Ri(Zr))Kr=Ui(Zr[0],ri),Jr=Ui(Zr[1],ii);else if(qi(Zr)){var li=Zr;li.width=ni[0],li.height=ni[1];var ui=Vn(li,{width:ri,height:ii});Kr=ui.x,Jr=ui.y,ai=null,oi=null}else if(Ni(Zr)&&ei){var fi=ait(Zr,si,ni,Wr.get("borderWidth"));Kr=fi[0],Jr=fi[1]}else{var fi=iit(Kr,Jr,Qr,ri,ii,ai?null:20,oi?null:20);Kr=fi[0],Jr=fi[1]}if(ai&&(Kr-=B5(ai)?ni[0]/2:ai==="right"?ni[0]:0),oi&&(Jr-=B5(oi)?ni[1]/2:oi==="bottom"?ni[1]:0),S_(Wr)){var fi=nit(Kr,Jr,Qr,ri,ii);Kr=fi[0],Jr=fi[1]}Qr.moveTo(Kr,Jr)},Gr.prototype._updateContentNotChangedOnAxis=function(Wr,Zr){var Kr=this._lastDataByCoordSys,Jr=this._cbParamsList,Qr=!!Kr&&Kr.length===Wr.length;return Qr&&_i(Kr,function(ti,ei){var ri=ti.dataByAxis||[],ii=Wr[ei]||{},ni=ii.dataByAxis||[];Qr=Qr&&ri.length===ni.length,Qr&&_i(ri,function(ai,oi){var si=ni[oi]||{},li=ai.seriesDataIndices||[],ui=si.seriesDataIndices||[];Qr=Qr&&ai.value===si.value&&ai.axisType===si.axisType&&ai.axisId===si.axisId&&li.length===ui.length,Qr&&_i(li,function(fi,hi){var ci=ui[hi];Qr=Qr&&fi.seriesIndex===ci.seriesIndex&&fi.dataIndex===ci.dataIndex}),Jr&&_i(ai.seriesDataIndices,function(fi){var hi=fi.seriesIndex,ci=Zr[hi],pi=Jr[hi];ci&&pi&&pi.data!==ci.data&&(Qr=!1)})})}),this._lastDataByCoordSys=Wr,this._cbParamsList=Zr,!!Qr},Gr.prototype._hide=function(Wr){this._lastDataByCoordSys=null,Wr({type:"hideTip",from:this.uid})},Gr.prototype.dispose=function(Wr,Zr){Cn.node||!Zr.getDom()||(Su(this,"_updatePosition"),this._tooltipContent.dispose(),_m("itemTooltip",Zr))},Gr.type="tooltip",Gr}(Dn);function Cm(Yr,Gr,Wr){var Zr=Gr.ecModel,Kr;Wr?(Kr=new Mn(Wr,Zr,Zr),Kr=new Mn(Gr.option,Kr,Zr)):Kr=Gr;for(var Jr=Yr.length-1;Jr>=0;Jr--){var Qr=Yr[Jr];Qr&&(Qr instanceof Mn&&(Qr=Qr.get("tooltip",!0)),Ni(Qr)&&(Qr={formatter:Qr}),Qr&&(Kr=new Mn(Qr,Kr,Zr)))}return Kr}function V5(Yr,Gr){return Yr.dispatchAction||Gi(Gr.dispatchAction,Gr)}function iit(Yr,Gr,Wr,Zr,Kr,Jr,Qr){var ti=Wr.getSize(),ei=ti[0],ri=ti[1];return Jr!=null&&(Yr+ei+Jr+2>Zr?Yr-=ei+Jr:Yr+=Jr),Qr!=null&&(Gr+ri+Qr>Kr?Gr-=ri+Qr:Gr+=Qr),[Yr,Gr]}function nit(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.getSize(),Qr=Jr[0],ti=Jr[1];return Yr=Math.min(Yr+Qr,Zr)-Qr,Gr=Math.min(Gr+ti,Kr)-ti,Yr=Math.max(Yr,0),Gr=Math.max(Gr,0),[Yr,Gr]}function ait(Yr,Gr,Wr,Zr){var Kr=Wr[0],Jr=Wr[1],Qr=Math.ceil(Math.SQRT2*Zr)+8,ti=0,ei=0,ri=Gr.width,ii=Gr.height;switch(Yr){case"inside":ti=Gr.x+ri/2-Kr/2,ei=Gr.y+ii/2-Jr/2;break;case"top":ti=Gr.x+ri/2-Kr/2,ei=Gr.y-Jr-Qr;break;case"bottom":ti=Gr.x+ri/2-Kr/2,ei=Gr.y+ii+Qr;break;case"left":ti=Gr.x-Kr-Qr,ei=Gr.y+ii/2-Jr/2;break;case"right":ti=Gr.x+ri+Qr,ei=Gr.y+ii/2-Jr/2}return[ti,ei]}function B5(Yr){return Yr==="center"||Yr==="middle"}function oit(Yr,Gr,Wr){var Zr=Hd(Yr).queryOptionMap,Kr=Zr.keys()[0];if(!(!Kr||Kr==="series")){var Jr=Ku(Gr,Kr,Zr.get(Kr),{useDefault:!1,enableAll:!1,enableNone:!1}),Qr=Jr.models[0];if(Qr){var ti=Wr.getViewOfComponentModel(Qr),ei;if(ti.group.traverse(function(ri){var ii=Qi(ri).tooltipConfig;if(ii&&ii.name===Yr.name)return ei=ri,!0}),ei)return{componentMainType:Kr,componentIndex:Qr.componentIndex,el:ei}}}}var U5=rit;function jM(Yr){Sn(xl),Yr.registerComponentModel(E5),Yr.registerComponentView(U5),Yr.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},qn),Yr.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},qn)}var sit=["rect","polygon","keep","clear"];function KM(Yr,Gr){var Wr=En(Yr?Yr.brush:[]);if(Wr.length){var Zr=[];_i(Wr,function(ei){var ri=ei.hasOwnProperty("toolbox")?ei.toolbox:[];ri instanceof Array&&(Zr=Zr.concat(ri))});var Kr=Yr&&Yr.toolbox;Ri(Kr)&&(Kr=Kr[0]),Kr||(Kr={feature:{}},Yr.toolbox=[Kr]);var Jr=Kr.feature||(Kr.feature={}),Qr=Jr.brush||(Jr.brush={}),ti=Qr.type||(Qr.type=[]);ti.push.apply(ti,Zr),lit(ti),Gr&&!ti.length&&ti.push.apply(ti,sit)}}function lit(Yr){var Gr={};_i(Yr,function(Wr){Gr[Wr]=1}),Yr.length=0,_i(Gr,function(Wr,Zr){Yr.push(Zr)})}var G5=_i;function H5(Yr){if(Yr){for(var Gr in Yr)if(Yr.hasOwnProperty(Gr))return!0}}function Tm(Yr,Gr,Wr){var Zr={};return G5(Gr,function(Jr){var Qr=Zr[Jr]=Kr();G5(Yr[Jr],function(ti,ei){if(ya.isValidType(ei)){var ri={type:ei,visual:ti};Wr&&Wr(ri,Jr),Qr[ei]=new ya(ri),ei==="opacity"&&(ri=Ki(ri),ri.type="colorAlpha",Qr.__hidden.__alphaForOpacity=new ya(ri))}})}),Zr;function Kr(){var Jr=function(){};Jr.prototype.__hidden=Jr.prototype;var Qr=new Jr;return Qr}}function w_(Yr,Gr,Wr){var Zr;_i(Wr,function(Kr){Gr.hasOwnProperty(Kr)&&H5(Gr[Kr])&&(Zr=!0)}),Zr&&_i(Wr,function(Kr){Gr.hasOwnProperty(Kr)&&H5(Gr[Kr])?Yr[Kr]=Ki(Gr[Kr]):delete Yr[Kr]})}function W5(Yr,Gr,Wr,Zr,Kr,Jr){var Qr={};_i(Yr,function(ni){var ai=ya.prepareVisualTypes(Gr[ni]);Qr[ni]=ai});var ti;function ei(ni){return Pv(Wr,ti,ni)}function ri(ni,ai){lw(Wr,ti,ni,ai)}Jr==null?Wr.each(ii):Wr.each([Jr],ii);function ii(ni,ai){ti=Jr==null?ni:ai;var oi=Wr.getRawDataItem(ti);if(!(oi&&oi.visualMap===!1))for(var si=Zr.call(Kr,ni),li=Gr[si],ui=Qr[si],fi=0,hi=ui.length;fi<hi;fi++){var ci=ui[fi];li[ci]&&li[ci].applyVisual(ni,ei,ri)}}}function Y5(Yr,Gr,Wr,Zr){var Kr={};return _i(Yr,function(Jr){var Qr=ya.prepareVisualTypes(Gr[Jr]);Kr[Jr]=Qr}),{progress:function(Qr,ti){var ei;Zr!=null&&(ei=ti.getDimensionIndex(Zr));function ri(di){return Pv(ti,ni,di)}function ii(di,vi){lw(ti,ni,di,vi)}for(var ni,ai=ti.getStore();(ni=Qr.next())!=null;){var oi=ti.getRawDataItem(ni);if(!(oi&&oi.visualMap===!1))for(var si=Zr!=null?ai.get(ei,ni):ni,li=Wr(si),ui=Gr[li],fi=Kr[li],hi=0,ci=fi.length;hi<ci;hi++){var pi=fi[hi];ui[pi]&&ui[pi].applyVisual(si,ri,ii)}}}}}function Z5(Yr){var Gr=Yr.brushType,Wr={point:function(Zr){return X5[Gr].point(Zr,Wr,Yr)},rect:function(Zr){return X5[Gr].rect(Zr,Wr,Yr)}};return Wr}var X5={lineX:q5(0),lineY:q5(1),rect:{point:function(Yr,Gr,Wr){return Yr&&Wr.boundingRect.contain(Yr[0],Yr[1])},rect:function(Yr,Gr,Wr){return Yr&&Wr.boundingRect.intersect(Yr)}},polygon:{point:function(Yr,Gr,Wr){return Yr&&Wr.boundingRect.contain(Yr[0],Yr[1])&&wu(Wr.range,Yr[0],Yr[1])},rect:function(Yr,Gr,Wr){var Zr=Wr.range;if(!Yr||Zr.length<=1)return!1;var Kr=Yr.x,Jr=Yr.y,Qr=Yr.width,ti=Yr.height,ei=Zr[0];if(wu(Zr,Kr,Jr)||wu(Zr,Kr+Qr,Jr)||wu(Zr,Kr,Jr+ti)||wu(Zr,Kr+Qr,Jr+ti)||rn.create(Yr).contain(ei[0],ei[1])||Jc(Kr,Jr,Kr+Qr,Jr,Zr)||Jc(Kr,Jr,Kr,Jr+ti,Zr)||Jc(Kr+Qr,Jr,Kr+Qr,Jr+ti,Zr)||Jc(Kr,Jr+ti,Kr+Qr,Jr+ti,Zr))return!0}}};function q5(Yr){var Gr=["x","y"],Wr=["width","height"];return{point:function(Zr,Kr,Jr){if(Zr){var Qr=Jr.range,ti=Zr[Yr];return Am(ti,Qr)}},rect:function(Zr,Kr,Jr){if(Zr){var Qr=Jr.range,ti=[Zr[Gr[Yr]],Zr[Gr[Yr]]+Zr[Wr[Yr]]];return ti[1]<ti[0]&&ti.reverse(),Am(ti[0],Qr)||Am(ti[1],Qr)||Am(Qr[0],ti)||Am(Qr[1],ti)}}}}function Am(Yr,Gr){return Gr[0]<=Yr&&Yr<=Gr[1]}var j5=["inBrush","outOfBrush"],$M="__ecBrushSelect",JM="__ecInBrushSelectEvent";function QM(Yr){Yr.eachComponent({mainType:"brush"},function(Gr){var Wr=Gr.brushTargetManager=new wm(Gr.option,Yr);Wr.setInputRanges(Gr.areas,Yr)})}function tP(Yr,Gr,Wr){var Zr=[],Kr,Jr;Yr.eachComponent({mainType:"brush"},function(Qr){Wr&&Wr.type==="takeGlobalCursor"&&Qr.setBrushOption(Wr.key==="brush"?Wr.brushOption:{brushType:!1})}),QM(Yr),Yr.eachComponent({mainType:"brush"},function(Qr,ti){var ei={brushId:Qr.id,brushIndex:ti,brushName:Qr.name,areas:Ki(Qr.areas),selected:[]};Zr.push(ei);var ri=Qr.option,ii=ri.brushLink,ni=[],ai=[],oi=[],si=!1;ti||(Kr=ri.throttleType,Jr=ri.throttleDelay);var li=Oi(Qr.areas,function(di){var vi=cit[di.brushType],mi=Yi({boundingRect:vi?vi(di):void 0},di);return mi.selectors=Z5(mi),mi}),ui=Tm(Qr.option,j5,function(di){di.mappingMethod="fixed"});Ri(ii)&&_i(ii,function(di){ni[di]=1});function fi(di){return ii==="all"||!!ni[di]}function hi(di){return!!di.length}Yr.eachSeries(function(di,vi){var mi=oi[vi]=[];di.subType==="parallel"?ci(di,vi):pi(di,vi,mi)});function ci(di,vi){var mi=di.coordinateSystem;si=si||mi.hasAxisBrushed(),fi(vi)&&mi.eachActiveState(di.getData(),function(gi,yi){gi==="active"&&(ai[yi]=1)})}function pi(di,vi,mi){if(!(!di.brushSelector||hit(Qr,vi))&&(_i(li,function(yi){Qr.brushTargetManager.controlSeries(yi,di,Yr)&&mi.push(yi),si=si||hi(mi)}),fi(vi)&&hi(mi))){var gi=di.getData();gi.each(function(yi){K5(di,mi,gi,yi)&&(ai[yi]=1)})}}Yr.eachSeries(function(di,vi){var mi={seriesId:di.id,seriesIndex:vi,seriesName:di.name,dataIndex:[]};ei.selected.push(mi);var gi=oi[vi],yi=di.getData(),Si=fi(vi)?function(bi){return ai[bi]?(mi.dataIndex.push(yi.getRawIndex(bi)),"inBrush"):"outOfBrush"}:function(bi){return K5(di,gi,yi,bi)?(mi.dataIndex.push(yi.getRawIndex(bi)),"inBrush"):"outOfBrush"};(fi(vi)?si:hi(gi))&&W5(j5,ui,yi,Si)})}),uit(Gr,Kr,Jr,Zr,Wr)}function uit(Yr,Gr,Wr,Zr,Kr){if(Kr){var Jr=Yr.getZr();if(!Jr[JM]){Jr[$M]||(Jr[$M]=fit);var Qr=Rs(Jr,$M,Wr,Gr);Qr(Yr,Zr)}}}function fit(Yr,Gr){if(!Yr.isDisposed()){var Wr=Yr.getZr();Wr[JM]=!0,Yr.dispatchAction({type:"brushSelect",batch:Gr}),Wr[JM]=!1}}function K5(Yr,Gr,Wr,Zr){for(var Kr=0,Jr=Gr.length;Kr<Jr;Kr++){var Qr=Gr[Kr];if(Yr.brushSelector(Zr,Wr,Qr.selectors,Qr))return!0}}function hit(Yr,Gr){var Wr=Yr.option.seriesIndex;return Wr!=null&&Wr!=="all"&&(Ri(Wr)?sn(Wr,Gr)<0:Gr!==Wr)}var cit={rect:function(Yr){return $5(Yr.range)},polygon:function(Yr){for(var Gr,Wr=Yr.range,Zr=0,Kr=Wr.length;Zr<Kr;Zr++){Gr=Gr||[[1/0,-1/0],[1/0,-1/0]];var Jr=Wr[Zr];Jr[0]<Gr[0][0]&&(Gr[0][0]=Jr[0]),Jr[0]>Gr[0][1]&&(Gr[0][1]=Jr[0]),Jr[1]<Gr[1][0]&&(Gr[1][0]=Jr[1]),Jr[1]>Gr[1][1]&&(Gr[1][1]=Jr[1])}return Gr&&$5(Gr)}};function $5(Yr){return new rn(Yr[0][0],Yr[1][0],Yr[0][1]-Yr[0][0],Yr[1][1]-Yr[1][0])}var pit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr){this.ecModel=Wr,this.api=Zr,this.model,(this._brushController=new Np(Zr.getZr())).on("brush",Gi(this._onBrush,this)).mount()},Gr.prototype.render=function(Wr,Zr,Kr,Jr){this.model=Wr,this._updateController(Wr,Zr,Kr,Jr)},Gr.prototype.updateTransform=function(Wr,Zr,Kr,Jr){QM(Zr),this._updateController(Wr,Zr,Kr,Jr)},Gr.prototype.updateVisual=function(Wr,Zr,Kr,Jr){this.updateTransform(Wr,Zr,Kr,Jr)},Gr.prototype.updateView=function(Wr,Zr,Kr,Jr){this._updateController(Wr,Zr,Kr,Jr)},Gr.prototype._updateController=function(Wr,Zr,Kr,Jr){(!Jr||Jr.$from!==Wr.id)&&this._brushController.setPanels(Wr.brushTargetManager.makePanelOpts(Kr)).enableBrush(Wr.brushOption).updateCovers(Wr.areas.slice())},Gr.prototype.dispose=function(){this._brushController.dispose()},Gr.prototype._onBrush=function(Wr){var Zr=this.model.id,Kr=this.model.brushTargetManager.setOutputRanges(Wr.areas,this.ecModel);(!Wr.isEnd||Wr.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:Zr,areas:Ki(Kr),$from:Zr}),Wr.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:Zr,areas:Ki(Kr),$from:Zr})},Gr.type="brush",Gr}(Dn),J5=pit;var dit="#ddd",vit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.areas=[],Wr.brushOption={},Wr}return Gr.prototype.optionUpdated=function(Wr,Zr){var Kr=this.option;!Zr&&w_(Kr,Wr,["inBrush","outOfBrush"]);var Jr=Kr.inBrush=Kr.inBrush||{};Kr.outOfBrush=Kr.outOfBrush||{color:dit},Jr.hasOwnProperty("liftZ")||(Jr.liftZ=5)},Gr.prototype.setAreas=function(Wr){Wr&&(this.areas=Oi(Wr,function(Zr){return Q5(this.option,Zr)},this))},Gr.prototype.setBrushOption=function(Wr){this.brushOption=Q5(this.option,Wr),this.brushType=this.brushOption.brushType},Gr.type="brush",Gr.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],Gr.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},Gr}(_n);function Q5(Yr,Gr){return un({brushType:Yr.brushType,brushMode:Yr.brushMode,transformable:Yr.transformable,brushStyle:new Mn(Yr.brushStyle).getItemStyle(),removeOnClick:Yr.removeOnClick,z:Yr.z},Gr,!0)}var tH=vit;var mit=["rect","polygon","lineX","lineY","keep","clear"],git=function(Yr){Di(Gr,Yr);function Gr(){return Yr!==null&&Yr.apply(this,arguments)||this}return Gr.prototype.render=function(Wr,Zr,Kr){var Jr,Qr,ti;Zr.eachComponent({mainType:"brush"},function(ei){Jr=ei.brushType,Qr=ei.brushOption.brushMode||"single",ti=ti||!!ei.areas.length}),this._brushType=Jr,this._brushMode=Qr,_i(Wr.get("type",!0),function(ei){Wr.setIconStatus(ei,(ei==="keep"?Qr==="multiple":ei==="clear"?ti:ei===Jr)?"emphasis":"normal")})},Gr.prototype.updateView=function(Wr,Zr,Kr){this.render(Wr,Zr,Kr)},Gr.prototype.getIcons=function(){var Wr=this.model,Zr=Wr.get("icon",!0),Kr={};return _i(Wr.get("type",!0),function(Jr){Zr[Jr]&&(Kr[Jr]=Zr[Jr])}),Kr},Gr.prototype.onclick=function(Wr,Zr,Kr){var Jr=this._brushType,Qr=this._brushMode;Kr==="clear"?(Zr.dispatchAction({type:"axisAreaSelect",intervals:[]}),Zr.dispatchAction({type:"brush",command:"clear",areas:[]})):Zr.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Kr==="keep"?Jr:Jr===Kr?!1:Kr,brushMode:Kr==="keep"?Qr==="multiple"?"single":"multiple":Qr}})},Gr.getDefaultOption=function(Wr){var Zr={show:!0,type:mit.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Wr.getLocaleModel().get(["toolbox","brush","title"])};return Zr},Gr}(Ya),eH=git;function eP(Yr){Yr.registerComponentView(J5),Yr.registerComponentModel(tH),Yr.registerPreprocessor(KM),Yr.registerVisual(Yr.PRIORITY.VISUAL.BRUSH,tP),Yr.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(Gr,Wr){Wr.eachComponent({mainType:"brush",query:Gr},function(Zr){Zr.setAreas(Gr.areas)})}),Yr.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},qn),Yr.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},qn),kf("brush",eH)}var yit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.layoutMode={type:"box",ignoreSize:!0},Wr}return Gr.type="title",Gr.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},Gr}(_n),xit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.render=function(Wr,Zr,Kr){if(this.group.removeAll(),!!Wr.get("show")){var Jr=this.group,Qr=Wr.getModel("textStyle"),ti=Wr.getModel("subtextStyle"),ei=Wr.get("textAlign"),ri=on(Wr.get("textBaseline"),Wr.get("textVerticalAlign")),ii=new xn({style:On(Qr,{text:Wr.get("text"),fill:Qr.getTextColor()},{disableBox:!0}),z2:10}),ni=ii.getBoundingRect(),ai=Wr.get("subtext"),oi=new xn({style:On(ti,{text:ai,fill:ti.getTextColor(),y:ni.height+Wr.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),si=Wr.get("link"),li=Wr.get("sublink"),ui=Wr.get("triggerEvent",!0);ii.silent=!si&&!ui,oi.silent=!li&&!ui,si&&ii.on("click",function(){Fh(si,"_"+Wr.get("target"))}),li&&oi.on("click",function(){Fh(li,"_"+Wr.get("subtarget"))}),Qi(ii).eventData=Qi(oi).eventData=ui?{componentType:"title",componentIndex:Wr.componentIndex}:null,Jr.add(ii),ai&&Jr.add(oi);var fi=Jr.getBoundingRect(),hi=Wr.getBoxLayoutParams();hi.width=fi.width,hi.height=fi.height;var ci=Vn(hi,{width:Kr.getWidth(),height:Kr.getHeight()},Wr.get("padding"));ei||(ei=Wr.get("left")||Wr.get("right"),ei==="middle"&&(ei="center"),ei==="right"?ci.x+=ci.width:ei==="center"&&(ci.x+=ci.width/2)),ri||(ri=Wr.get("top")||Wr.get("bottom"),ri==="center"&&(ri="middle"),ri==="bottom"?ci.y+=ci.height:ri==="middle"&&(ci.y+=ci.height/2),ri=ri||"top"),Jr.x=ci.x,Jr.y=ci.y,Jr.markRedraw();var pi={align:ei,verticalAlign:ri};ii.setStyle(pi),oi.setStyle(pi),fi=Jr.getBoundingRect();var di=ci.margin,vi=Wr.getItemStyle(["color","opacity"]);vi.fill=Wr.get("backgroundColor");var mi=new mn({shape:{x:fi.x-di[3],y:fi.y-di[0],width:fi.width+di[1]+di[3],height:fi.height+di[0]+di[2],r:Wr.get("borderRadius")},style:vi,subPixelOptimize:!0,silent:!0});Jr.add(mi)}},Gr.type="title",Gr}(Dn);function rP(Yr){Yr.registerComponentModel(yit),Yr.registerComponentView(xit)}var _it=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.layoutMode="box",Wr}return Gr.prototype.init=function(Wr,Zr,Kr){this.mergeDefaultAndTheme(Wr,Kr),this._initData()},Gr.prototype.mergeOption=function(Wr){Yr.prototype.mergeOption.apply(this,arguments),this._initData()},Gr.prototype.setCurrentIndex=function(Wr){Wr==null&&(Wr=this.option.currentIndex);var Zr=this._data.count();this.option.loop?Wr=(Wr%Zr+Zr)%Zr:(Wr>=Zr&&(Wr=Zr-1),Wr<0&&(Wr=0)),this.option.currentIndex=Wr},Gr.prototype.getCurrentIndex=function(){return this.option.currentIndex},Gr.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},Gr.prototype.setPlayState=function(Wr){this.option.autoPlay=!!Wr},Gr.prototype.getPlayState=function(){return!!this.option.autoPlay},Gr.prototype._initData=function(){var Wr=this.option,Zr=Wr.data||[],Kr=Wr.axisType,Jr=this._names=[],Qr;Kr==="category"?(Qr=[],_i(Zr,function(ri,ii){var ni=aa($s(ri),""),ai;qi(ri)?(ai=Ki(ri),ai.value=ii):ai=ii,Qr.push(ai),Jr.push(ni)})):Qr=Zr;var ti={category:"ordinal",time:"time",value:"number"}[Kr]||"number",ei=this._data=new ha([{name:"value",type:ti}],this);ei.initData(Qr,Jr)},Gr.prototype.getData=function(){return this._data},Gr.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},Gr.type="timeline",Gr.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},Gr}(_n),iP=_it;var rH=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="timeline.slider",Gr.defaultOption=mo(iP.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),Gr}(iP);Gn(rH,lp.prototype);var iH=rH;var bit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="timeline",Gr}(Dn),nH=bit;var Sit=function(Yr){Di(Gr,Yr);function Gr(Wr,Zr,Kr,Jr){var Qr=Yr.call(this,Wr,Zr,Kr)||this;return Qr.type=Jr||"value",Qr}return Gr.prototype.getLabelModel=function(){return this.model.getModel("label")},Gr.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},Gr}(Ka),aH=Sit;var nP=Math.PI,oH=ln(),wit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(Wr,Zr){this.api=Zr},Gr.prototype.render=function(Wr,Zr,Kr){if(this.model=Wr,this.api=Kr,this.ecModel=Zr,this.group.removeAll(),Wr.get("show",!0)){var Jr=this._layout(Wr,Kr),Qr=this._createGroup("_mainGroup"),ti=this._createGroup("_labelGroup"),ei=this._axis=this._createAxis(Jr,Wr);Wr.formatTooltip=function(ri){var ii=ei.scale.getLabel({value:ri});return Jn("nameValue",{noName:!0,value:ii})},_i(["AxisLine","AxisTick","Control","CurrentPointer"],function(ri){this["_render"+ri](Jr,Qr,ei,Wr)},this),this._renderAxisLabel(Jr,ti,ei,Wr),this._position(Jr,Wr)}this._doPlayStop(),this._updateTicksStatus()},Gr.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},Gr.prototype.dispose=function(){this._clearTimer()},Gr.prototype._layout=function(Wr,Zr){var Kr=Wr.get(["label","position"]),Jr=Wr.get("orient"),Qr=Tit(Wr,Zr),ti;Kr==null||Kr==="auto"?ti=Jr==="horizontal"?Qr.y+Qr.height/2<Zr.getHeight()/2?"-":"+":Qr.x+Qr.width/2<Zr.getWidth()/2?"+":"-":Ni(Kr)?ti={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[Jr][Kr]:ti=Kr;var ei={horizontal:"center",vertical:ti>=0||ti==="+"?"left":"right"},ri={horizontal:ti>=0||ti==="+"?"top":"bottom",vertical:"middle"},ii={horizontal:0,vertical:nP/2},ni=Jr==="vertical"?Qr.height:Qr.width,ai=Wr.getModel("controlStyle"),oi=ai.get("show",!0),si=oi?ai.get("itemSize"):0,li=oi?ai.get("itemGap"):0,ui=si+li,fi=Wr.get(["label","rotate"])||0;fi=fi*nP/180;var hi,ci,pi,di=ai.get("position",!0),vi=oi&&ai.get("showPlayBtn",!0),mi=oi&&ai.get("showPrevBtn",!0),gi=oi&&ai.get("showNextBtn",!0),yi=0,Si=ni;di==="left"||di==="bottom"?(vi&&(hi=[0,0],yi+=ui),mi&&(ci=[yi,0],yi+=ui),gi&&(pi=[Si-si,0],Si-=ui)):(vi&&(hi=[Si-si,0],Si-=ui),mi&&(ci=[0,0],yi+=ui),gi&&(pi=[Si-si,0],Si-=ui));var bi=[yi,Si];return Wr.get("inverse")&&bi.reverse(),{viewRect:Qr,mainLength:ni,orient:Jr,rotation:ii[Jr],labelRotation:fi,labelPosOpt:ti,labelAlign:Wr.get(["label","align"])||ei[Jr],labelBaseline:Wr.get(["label","verticalAlign"])||Wr.get(["label","baseline"])||ri[Jr],playPosition:hi,prevBtnPosition:ci,nextBtnPosition:pi,axisExtent:bi,controlSize:si,controlGap:li}},Gr.prototype._position=function(Wr,Zr){var Kr=this._mainGroup,Jr=this._labelGroup,Qr=Wr.viewRect;if(Wr.orient==="vertical"){var ti=Aa(),ei=Qr.x,ri=Qr.y+Qr.height;to(ti,ti,[-ei,-ri]),zo(ti,ti,-nP/2),to(ti,ti,[ei,ri]),Qr=Qr.clone(),Qr.applyTransform(ti)}var ii=hi(Qr),ni=hi(Kr.getBoundingRect()),ai=hi(Jr.getBoundingRect()),oi=[Kr.x,Kr.y],si=[Jr.x,Jr.y];si[0]=oi[0]=ii[0][0];var li=Wr.labelPosOpt;if(li==null||Ni(li)){var ui=li==="+"?0:1;ci(oi,ni,ii,1,ui),ci(si,ai,ii,1,1-ui)}else{var ui=li>=0?0:1;ci(oi,ni,ii,1,ui),si[1]=oi[1]+li}Kr.setPosition(oi),Jr.setPosition(si),Kr.rotation=Jr.rotation=Wr.rotation,fi(Kr),fi(Jr);function fi(pi){pi.originX=ii[0][0]-pi.x,pi.originY=ii[1][0]-pi.y}function hi(pi){return[[pi.x,pi.x+pi.width],[pi.y,pi.y+pi.height]]}function ci(pi,di,vi,mi,gi){pi[mi]+=vi[mi][gi]-di[mi][gi]}},Gr.prototype._createAxis=function(Wr,Zr){var Kr=Zr.getData(),Jr=Zr.get("axisType"),Qr=Cit(Zr,Jr);Qr.getTicks=function(){return Kr.mapArray(["value"],function(ri){return{value:ri}})};var ti=Kr.getDataExtent("value");Qr.setExtent(ti[0],ti[1]),Qr.calcNiceTicks();var ei=new aH("value",Qr,Wr.axisExtent,Jr);return ei.model=Zr,ei},Gr.prototype._createGroup=function(Wr){var Zr=this[Wr]=new Zi;return this.group.add(Zr),Zr},Gr.prototype._renderAxisLine=function(Wr,Zr,Kr,Jr){var Qr=Kr.getExtent();if(Jr.get(["lineStyle","show"])){var ti=new sa({shape:{x1:Qr[0],y1:0,x2:Qr[1],y2:0},style:ki({lineCap:"round"},Jr.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});Zr.add(ti);var ei=this._progressLine=new sa({shape:{x1:Qr[0],x2:this._currentPointer?this._currentPointer.x:Qr[0],y1:0,y2:0},style:Yi({lineCap:"round",lineWidth:ti.style.lineWidth},Jr.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});Zr.add(ei)}},Gr.prototype._renderAxisTick=function(Wr,Zr,Kr,Jr){var Qr=this,ti=Jr.getData(),ei=Kr.scale.getTicks();this._tickSymbols=[],_i(ei,function(ri){var ii=Kr.dataToCoord(ri.value),ni=ti.getItemModel(ri.value),ai=ni.getModel("itemStyle"),oi=ni.getModel(["emphasis","itemStyle"]),si=ni.getModel(["progress","itemStyle"]),li={x:ii,y:0,onclick:Gi(Qr._changeTimeline,Qr,ri.value)},ui=sH(ni,ai,Zr,li);ui.ensureState("emphasis").style=oi.getItemStyle(),ui.ensureState("progress").style=si.getItemStyle(),Il(ui);var fi=Qi(ui);ni.get("tooltip")?(fi.dataIndex=ri.value,fi.dataModel=Jr):fi.dataIndex=fi.dataModel=null,Qr._tickSymbols.push(ui)})},Gr.prototype._renderAxisLabel=function(Wr,Zr,Kr,Jr){var Qr=this,ti=Kr.getLabelModel();if(ti.get("show")){var ei=Jr.getData(),ri=Kr.getViewLabels();this._tickLabels=[],_i(ri,function(ii){var ni=ii.tickValue,ai=ei.getItemModel(ni),oi=ai.getModel("label"),si=ai.getModel(["emphasis","label"]),li=ai.getModel(["progress","label"]),ui=Kr.dataToCoord(ii.tickValue),fi=new xn({x:ui,y:0,rotation:Wr.labelRotation-Wr.rotation,onclick:Gi(Qr._changeTimeline,Qr,ni),silent:!1,style:On(oi,{text:ii.formattedLabel,align:Wr.labelAlign,verticalAlign:Wr.labelBaseline})});fi.ensureState("emphasis").style=On(si),fi.ensureState("progress").style=On(li),Zr.add(fi),Il(fi),oH(fi).dataIndex=ni,Qr._tickLabels.push(fi)})}},Gr.prototype._renderControl=function(Wr,Zr,Kr,Jr){var Qr=Wr.controlSize,ti=Wr.rotation,ei=Jr.getModel("controlStyle").getItemStyle(),ri=Jr.getModel(["emphasis","controlStyle"]).getItemStyle(),ii=Jr.getPlayState(),ni=Jr.get("inverse",!0);ai(Wr.nextBtnPosition,"next",Gi(this._changeTimeline,this,ni?"-":"+")),ai(Wr.prevBtnPosition,"prev",Gi(this._changeTimeline,this,ni?"+":"-")),ai(Wr.playPosition,ii?"stop":"play",Gi(this._handlePlayClick,this,!ii),!0);function ai(oi,si,li,ui){if(oi){var fi=eo(on(Jr.get(["controlStyle",si+"BtnSize"]),Qr),Qr),hi=[0,-fi/2,fi,fi],ci=Ait(Jr,si+"Icon",hi,{x:oi[0],y:oi[1],originX:Qr/2,originY:0,rotation:ui?-ti:0,rectHover:!0,style:ei,onclick:li});ci.ensureState("emphasis").style=ri,Zr.add(ci),Il(ci)}}},Gr.prototype._renderCurrentPointer=function(Wr,Zr,Kr,Jr){var Qr=Jr.getData(),ti=Jr.getCurrentIndex(),ei=Qr.getItemModel(ti).getModel("checkpointStyle"),ri=this,ii={onCreate:function(ni){ni.draggable=!0,ni.drift=Gi(ri._handlePointerDrag,ri),ni.ondragend=Gi(ri._handlePointerDragend,ri),lH(ni,ri._progressLine,ti,Kr,Jr,!0)},onUpdate:function(ni){lH(ni,ri._progressLine,ti,Kr,Jr)}};this._currentPointer=sH(ei,ei,this._mainGroup,{},this._currentPointer,ii)},Gr.prototype._handlePlayClick=function(Wr){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:Wr,from:this.uid})},Gr.prototype._handlePointerDrag=function(Wr,Zr,Kr){this._clearTimer(),this._pointerChangeTimeline([Kr.offsetX,Kr.offsetY])},Gr.prototype._handlePointerDragend=function(Wr){this._pointerChangeTimeline([Wr.offsetX,Wr.offsetY],!0)},Gr.prototype._pointerChangeTimeline=function(Wr,Zr){var Kr=this._toAxisCoord(Wr)[0],Jr=this._axis,Qr=Oa(Jr.getExtent().slice());Kr>Qr[1]&&(Kr=Qr[1]),Kr<Qr[0]&&(Kr=Qr[0]),this._currentPointer.x=Kr,this._currentPointer.markRedraw();var ti=this._progressLine;ti&&(ti.shape.x2=Kr,ti.dirty());var ei=this._findNearestTick(Kr),ri=this.model;(Zr||ei!==ri.getCurrentIndex()&&ri.get("realtime"))&&this._changeTimeline(ei)},Gr.prototype._doPlayStop=function(){var Wr=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var Zr=Wr.model;Wr._changeTimeline(Zr.getCurrentIndex()+(Zr.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},Gr.prototype._toAxisCoord=function(Wr){var Zr=this._mainGroup.getLocalTransform();return io(Wr,Zr,!0)},Gr.prototype._findNearestTick=function(Wr){var Zr=this.model.getData(),Kr=1/0,Jr,Qr=this._axis;return Zr.each(["value"],function(ti,ei){var ri=Qr.dataToCoord(ti),ii=Math.abs(ri-Wr);ii<Kr&&(Kr=ii,Jr=ei)}),Jr},Gr.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},Gr.prototype._changeTimeline=function(Wr){var Zr=this.model.getCurrentIndex();Wr==="+"?Wr=Zr+1:Wr==="-"&&(Wr=Zr-1),this.api.dispatchAction({type:"timelineChange",currentIndex:Wr,from:this.uid})},Gr.prototype._updateTicksStatus=function(){var Wr=this.model.getCurrentIndex(),Zr=this._tickSymbols,Kr=this._tickLabels;if(Zr)for(var Jr=0;Jr<Zr.length;Jr++)Zr&&Zr[Jr]&&Zr[Jr].toggleState("progress",Jr<Wr);if(Kr)for(var Jr=0;Jr<Kr.length;Jr++)Kr&&Kr[Jr]&&Kr[Jr].toggleState("progress",oH(Kr[Jr]).dataIndex<=Wr)},Gr.type="timeline.slider",Gr}(nH);function Cit(Yr,Gr){if(Gr=Gr||Yr.get("type"),Gr)switch(Gr){case"category":return new Gv({ordinalMeta:Yr.getCategories(),extent:[1/0,-1/0]});case"time":return new F0({locale:Yr.ecModel.getLocaleModel(),useUTC:Yr.ecModel.get("useUTC")});default:return new Ko}}function Tit(Yr,Gr){return Vn(Yr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()},Yr.get("padding"))}function Ait(Yr,Gr,Wr,Zr){var Kr=Zr.style,Jr=vu(Yr.get(["controlStyle",Gr]),Zr||{},new rn(Wr[0],Wr[1],Wr[2],Wr[3]));return Kr&&Jr.setStyle(Kr),Jr}function sH(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=Gr.get("color");if(Kr)Kr.setColor(Qr),Wr.add(Kr),Jr&&Jr.onUpdate(Kr);else{var ti=Yr.get("symbol");Kr=Bn(ti,-1,-1,2,2,Qr),Kr.setStyle("strokeNoScale",!0),Wr.add(Kr),Jr&&Jr.onCreate(Kr)}var ei=Gr.getItemStyle(["color"]);Kr.setStyle(ei),Zr=un({rectHover:!0,z2:100},Zr,!0);var ri=ll(Yr.get("symbolSize"));Zr.scaleX=ri[0]/2,Zr.scaleY=ri[1]/2;var ii=ps(Yr.get("symbolOffset"),ri);ii&&(Zr.x=(Zr.x||0)+ii[0],Zr.y=(Zr.y||0)+ii[1]);var ni=Yr.get("symbolRotate");return Zr.rotation=(ni||0)*Math.PI/180||0,Kr.attr(Zr),Kr.updateTransform(),Kr}function lH(Yr,Gr,Wr,Zr,Kr,Jr){if(!Yr.dragging){var Qr=Kr.getModel("checkpointStyle"),ti=Zr.dataToCoord(Kr.getData().get("value",Wr));if(Jr||!Qr.get("animation",!0))Yr.attr({x:ti,y:0}),Gr&&Gr.attr({shape:{x2:ti}});else{var ei={duration:Qr.get("animationDuration",!0),easing:Qr.get("animationEasing",!0)};Yr.stopAnimation(null,!0),Yr.animateTo({x:ti,y:0},ei),Gr&&Gr.animateTo({shape:{x2:ti}},ei)}}}var uH=wit;function fH(Yr){Yr.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(Gr,Wr,Zr){var Kr=Wr.getComponent("timeline");return Kr&&Gr.currentIndex!=null&&(Kr.setCurrentIndex(Gr.currentIndex),!Kr.get("loop",!0)&&Kr.isIndexMax()&&Kr.getPlayState()&&(Kr.setPlayState(!1),Zr.dispatchAction({type:"timelinePlayChange",playState:!1,from:Gr.from}))),Wr.resetOption("timeline",{replaceMerge:Kr.get("replaceMerge",!0)}),Yi({currentIndex:Kr.option.currentIndex},Gr)}),Yr.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(Gr,Wr){var Zr=Wr.getComponent("timeline");Zr&&Gr.playState!=null&&Zr.setPlayState(Gr.playState)})}function aP(Yr){var Gr=Yr&&Yr.timeline;Ri(Gr)||(Gr=Gr?[Gr]:[]),_i(Gr,function(Wr){Wr&&Mit(Wr)})}function Mit(Yr){var Gr=Yr.type,Wr={number:"value",time:"time"};if(Wr[Gr]&&(Yr.axisType=Wr[Gr],delete Yr.type),hH(Yr),fc(Yr,"controlPosition")){var Zr=Yr.controlStyle||(Yr.controlStyle={});fc(Zr,"position")||(Zr.position=Yr.controlPosition),Zr.position==="none"&&!fc(Zr,"show")&&(Zr.show=!1,delete Zr.position),delete Yr.controlPosition}_i(Yr.data||[],function(Kr){qi(Kr)&&!Ri(Kr)&&(!fc(Kr,"value")&&fc(Kr,"name")&&(Kr.value=Kr.name),hH(Kr))})}function hH(Yr){var Gr=Yr.itemStyle||(Yr.itemStyle={}),Wr=Gr.emphasis||(Gr.emphasis={}),Zr=Yr.label||Yr.label||{},Kr=Zr.normal||(Zr.normal={}),Jr={normal:1,emphasis:1};_i(Zr,function(Qr,ti){!Jr[ti]&&!fc(Kr,ti)&&(Kr[ti]=Qr)}),Wr.label&&!fc(Zr,"emphasis")&&(Zr.emphasis=Wr.label,delete Wr.label)}function fc(Yr,Gr){return Yr.hasOwnProperty(Gr)}function oP(Yr){Yr.registerComponentModel(iH),Yr.registerComponentView(uH),Yr.registerSubTypeDefaulter("timeline",function(){return"slider"}),fH(Yr),Yr.registerPreprocessor(aP)}function hc(Yr,Gr){if(!Yr)return!1;for(var Wr=Ri(Yr)?Yr:[Yr],Zr=0;Zr<Wr.length;Zr++)if(Wr[Zr]&&Wr[Zr][Gr])return!0;return!1}function T_(Yr){ls(Yr,"label",["show"])}var A_=ln(),cH=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.createdBySelf=!1,Wr}return Gr.prototype.init=function(Wr,Zr,Kr){this.mergeDefaultAndTheme(Wr,Kr),this._mergeOption(Wr,Kr,!1,!0)},Gr.prototype.isAnimationEnabled=function(){if(Cn.node)return!1;var Wr=this.__hostSeries;return this.getShallow("animation")&&Wr&&Wr.isAnimationEnabled()},Gr.prototype.mergeOption=function(Wr,Zr){this._mergeOption(Wr,Zr,!1,!1)},Gr.prototype._mergeOption=function(Wr,Zr,Kr,Jr){var Qr=this.mainType;Kr||Zr.eachSeries(function(ti){var ei=ti.get(this.mainType,!0),ri=A_(ti)[Qr];if(!ei||!ei.data){A_(ti)[Qr]=null;return}ri?ri._mergeOption(ei,Zr,!0):(Jr&&T_(ei),_i(ei.data,function(ii){ii instanceof Array?(T_(ii[0]),T_(ii[1])):T_(ii)}),ri=this.createMarkerModelFromSeries(ei,this,Zr),ki(ri,{mainType:this.mainType,seriesIndex:ti.seriesIndex,name:ti.name,createdBySelf:!0}),ri.__hostSeries=ti),A_(ti)[Qr]=ri},this)},Gr.prototype.formatTooltip=function(Wr,Zr,Kr){var Jr=this.getData(),Qr=this.getRawValue(Wr),ti=Jr.getName(Wr);return Jn("section",{header:this.name,blocks:[Jn("nameValue",{name:ti,value:Qr,noName:!ti,noValue:Qr==null})]})},Gr.prototype.getData=function(){return this._data},Gr.prototype.setData=function(Wr){this._data=Wr},Gr.getMarkerModelFromSeries=function(Wr,Zr){return A_(Wr)[Zr]},Gr.type="marker",Gr.dependencies=["series","grid","polar","geo"],Gr}(_n);Gn(cH,lp.prototype);var Io=cH;var Pit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.createMarkerModelFromSeries=function(Wr,Zr,Kr){return new Gr(Wr,Zr,Kr)},Gr.type="markPoint",Gr.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},Gr}(Io),pH=Pit;function lP(Yr){return!(isNaN(parseFloat(Yr.x))&&isNaN(parseFloat(Yr.y)))}function Eit(Yr){return!isNaN(parseFloat(Yr.x))&&!isNaN(parseFloat(Yr.y))}function M_(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=[],ti=ds(Gr,Zr),ei=ti?Gr.getCalculationInfo("stackResultDimension"):Zr,ri=E_(Gr,ei,Yr),ii=Gr.indicesOfNearest(ei,ri)[0];Qr[Kr]=Gr.get(Wr,ii),Qr[Jr]=Gr.get(ei,ii);var ni=Gr.get(Zr,ii),ai=_o(Gr.get(Zr,ii));return ai=Math.min(ai,20),ai>=0&&(Qr[Jr]=+Qr[Jr].toFixed(ai)),[Qr,ni]}var sP={min:en(M_,"min"),max:en(M_,"max"),average:en(M_,"average"),median:en(M_,"median")};function Of(Yr,Gr){if(Gr){var Wr=Yr.getData(),Zr=Yr.coordinateSystem,Kr=Zr&&Zr.dimensions;if(!Eit(Gr)&&!Ri(Gr.coord)&&Ri(Kr)){var Jr=uP(Gr,Wr,Zr,Yr);if(Gr=Ki(Gr),Gr.type&&sP[Gr.type]&&Jr.baseAxis&&Jr.valueAxis){var Qr=sn(Kr,Jr.baseAxis.dim),ti=sn(Kr,Jr.valueAxis.dim),ei=sP[Gr.type](Wr,Jr.baseDataDim,Jr.valueDataDim,Qr,ti);Gr.coord=ei[0],Gr.value=ei[1]}else Gr.coord=[Gr.xAxis!=null?Gr.xAxis:Gr.radiusAxis,Gr.yAxis!=null?Gr.yAxis:Gr.angleAxis]}if(Gr.coord==null||!Ri(Kr))Gr.coord=[];else for(var ri=Gr.coord,ii=0;ii<2;ii++)sP[ri[ii]]&&(ri[ii]=E_(Wr,Wr.mapDimension(Kr[ii]),ri[ii]));return Gr}}function uP(Yr,Gr,Wr,Zr){var Kr={};return Yr.valueIndex!=null||Yr.valueDim!=null?(Kr.valueDataDim=Yr.valueIndex!=null?Gr.getDimension(Yr.valueIndex):Yr.valueDim,Kr.valueAxis=Wr.getAxis(Dit(Zr,Kr.valueDataDim)),Kr.baseAxis=Wr.getOtherAxis(Kr.valueAxis),Kr.baseDataDim=Gr.mapDimension(Kr.baseAxis.dim)):(Kr.baseAxis=Zr.getBaseAxis(),Kr.valueAxis=Wr.getOtherAxis(Kr.baseAxis),Kr.baseDataDim=Gr.mapDimension(Kr.baseAxis.dim),Kr.valueDataDim=Gr.mapDimension(Kr.valueAxis.dim)),Kr}function Dit(Yr,Gr){var Wr=Yr.getData().getDimensionInfo(Gr);return Wr&&Wr.coordDim}function zf(Yr,Gr){return Yr&&Yr.containData&&Gr.coord&&!lP(Gr)?Yr.containData(Gr.coord):!0}function dH(Yr,Gr,Wr){return Yr&&Yr.containZone&&Gr.coord&&Wr.coord&&!lP(Gr)&&!lP(Wr)?Yr.containZone(Gr.coord,Wr.coord):!0}function P_(Yr,Gr){return Yr?function(Wr,Zr,Kr,Jr){var Qr=Jr<2?Wr.coord&&Wr.coord[Jr]:Wr.value;return ks(Qr,Gr[Jr])}:function(Wr,Zr,Kr,Jr){return ks(Wr.value,Gr[Jr])}}function E_(Yr,Gr,Wr){if(Wr==="average"){var Zr=0,Kr=0;return Yr.each(Gr,function(Jr,Qr){isNaN(Jr)||(Zr+=Jr,Kr++)}),Zr/Kr}else return Wr==="median"?Yr.getMedian(Gr):Yr.getDataExtent(Gr)[Wr==="max"?1:0]}var hP=ln(),Iit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.init=function(){this.markerGroupMap=Hi()},Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this,Qr=this.markerGroupMap;Qr.each(function(ti){hP(ti).keep=!1}),Zr.eachSeries(function(ti){var ei=Io.getMarkerModelFromSeries(ti,Jr.type);ei&&Jr.renderSeries(ti,ei,Zr,Kr)}),Qr.each(function(ti){!hP(ti).keep&&Jr.group.remove(ti.group)})},Gr.prototype.markKeep=function(Wr){hP(Wr).keep=!0},Gr.prototype.toggleBlurSeries=function(Wr,Zr){var Kr=this;_i(Wr,function(Jr){var Qr=Io.getMarkerModelFromSeries(Jr,Kr.type);if(Qr){var ti=Qr.getData();ti.eachItemGraphicEl(function(ei){ei&&(Zr?py(ei):Qd(ei))})}})},Gr.type="marker",Gr}(Dn),jp=Iit;function vH(Yr,Gr,Wr){var Zr=Gr.coordinateSystem;Yr.each(function(Kr){var Jr=Yr.getItemModel(Kr),Qr,ti=Ui(Jr.get("x"),Wr.getWidth()),ei=Ui(Jr.get("y"),Wr.getHeight());if(!isNaN(ti)&&!isNaN(ei))Qr=[ti,ei];else if(Gr.getMarkerPosition)Qr=Gr.getMarkerPosition(Yr.getValues(Yr.dimensions,Kr));else if(Zr){var ri=Yr.get(Zr.dimensions[0],Kr),ii=Yr.get(Zr.dimensions[1],Kr);Qr=Zr.dataToPoint([ri,ii])}isNaN(ti)||(Qr[0]=ti),isNaN(ei)||(Qr[1]=ei),Yr.setItemLayout(Kr,Qr)})}var Lit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.updateTransform=function(Wr,Zr,Kr){Zr.eachSeries(function(Jr){var Qr=Io.getMarkerModelFromSeries(Jr,"markPoint");Qr&&(vH(Qr.getData(),Jr,Kr),this.markerGroupMap.get(Jr.id).updateLayout())},this)},Gr.prototype.renderSeries=function(Wr,Zr,Kr,Jr){var Qr=Wr.coordinateSystem,ti=Wr.id,ei=Wr.getData(),ri=this.markerGroupMap,ii=ri.get(ti)||ri.set(ti,new Ul),ni=kit(Qr,Wr,Zr);Zr.setData(ni),vH(Zr.getData(),Wr,Jr),ni.each(function(ai){var oi=ni.getItemModel(ai),si=oi.getShallow("symbol"),li=oi.getShallow("symbolSize"),ui=oi.getShallow("symbolRotate"),fi=oi.getShallow("symbolOffset"),hi=oi.getShallow("symbolKeepAspect");if(Wi(si)||Wi(li)||Wi(ui)||Wi(fi)){var ci=Zr.getRawValue(ai),pi=Zr.getDataParams(ai);Wi(si)&&(si=si(ci,pi)),Wi(li)&&(li=li(ci,pi)),Wi(ui)&&(ui=ui(ci,pi)),Wi(fi)&&(fi=fi(ci,pi))}var di=oi.getModel("itemStyle").getItemStyle(),vi=Ol(ei,"color");di.fill||(di.fill=vi),ni.setItemVisual(ai,{symbol:si,symbolSize:li,symbolRotate:ui,symbolOffset:fi,symbolKeepAspect:hi,style:di})}),ii.updateData(ni),this.group.add(ii.group),ni.eachItemGraphicEl(function(ai){ai.traverse(function(oi){Qi(oi).dataModel=Zr})}),this.markKeep(ii),ii.group.silent=Zr.get("silent")||Wr.get("silent")},Gr.type="markPoint",Gr}(jp);function kit(Yr,Gr,Wr){var Zr;Yr?Zr=Oi(Yr&&Yr.dimensions,function(ti){var ei=Gr.getData().getDimensionInfo(Gr.getData().mapDimension(ti))||{};return ki(ki({},ei),{name:ti,ordinalMeta:null})}):Zr=[{name:"value",type:"float"}];var Kr=new ha(Zr,Wr),Jr=Oi(Wr.get("data"),en(Of,Gr));Yr&&(Jr=Tn(Jr,en(zf,Yr)));var Qr=P_(!!Yr,Zr);return Kr.initData(Jr,null,Qr),Kr}var mH=Lit;function cP(Yr){Yr.registerComponentModel(pH),Yr.registerComponentView(mH),Yr.registerPreprocessor(function(Gr){hc(Gr.series,"markPoint")&&(Gr.markPoint=Gr.markPoint||{})})}var Rit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.createMarkerModelFromSeries=function(Wr,Zr,Kr){return new Gr(Wr,Zr,Kr)},Gr.type="markLine",Gr.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},Gr}(Io),gH=Rit;var D_=ln(),Oit=function(Yr,Gr,Wr,Zr){var Kr=Yr.getData(),Jr;if(Ri(Zr))Jr=Zr;else{var Qr=Zr.type;if(Qr==="min"||Qr==="max"||Qr==="average"||Qr==="median"||Zr.xAxis!=null||Zr.yAxis!=null){var ti=void 0,ei=void 0;if(Zr.yAxis!=null||Zr.xAxis!=null)ti=Gr.getAxis(Zr.yAxis!=null?"y":"x"),ei=ta(Zr.yAxis,Zr.xAxis);else{var ri=uP(Zr,Kr,Gr,Yr);ti=ri.valueAxis;var ii=L0(Kr,ri.valueDataDim);ei=E_(Kr,ii,Qr)}var ni=ti.dim==="x"?0:1,ai=1-ni,oi=Ki(Zr),si={coord:[]};oi.type=null,oi.coord=[],oi.coord[ai]=-1/0,si.coord[ai]=1/0;var li=Wr.get("precision");li>=0&&gn(ei)&&(ei=+ei.toFixed(Math.min(li,20))),oi.coord[ni]=si.coord[ni]=ei,Jr=[oi,si,{type:Qr,valueIndex:Zr.valueIndex,value:ei}]}else Jr=[]}var ui=[Of(Yr,Jr[0]),Of(Yr,Jr[1]),ki({},Jr[2])];return ui[2].type=ui[2].type||null,un(ui[2],ui[0]),un(ui[2],ui[1]),ui};function I_(Yr){return!isNaN(Yr)&&!isFinite(Yr)}function yH(Yr,Gr,Wr,Zr){var Kr=1-Yr,Jr=Zr.dimensions[Yr];return I_(Gr[Kr])&&I_(Wr[Kr])&&Gr[Yr]===Wr[Yr]&&Zr.getAxis(Jr).containData(Gr[Yr])}function zit(Yr,Gr){if(Yr.type==="cartesian2d"){var Wr=Gr[0].coord,Zr=Gr[1].coord;if(Wr&&Zr&&(yH(1,Wr,Zr,Yr)||yH(0,Wr,Zr,Yr)))return!0}return zf(Yr,Gr[0])&&zf(Yr,Gr[1])}function pP(Yr,Gr,Wr,Zr,Kr){var Jr=Zr.coordinateSystem,Qr=Yr.getItemModel(Gr),ti,ei=Ui(Qr.get("x"),Kr.getWidth()),ri=Ui(Qr.get("y"),Kr.getHeight());if(!isNaN(ei)&&!isNaN(ri))ti=[ei,ri];else{if(Zr.getMarkerPosition)ti=Zr.getMarkerPosition(Yr.getValues(Yr.dimensions,Gr));else{var ii=Jr.dimensions,ni=Yr.get(ii[0],Gr),ai=Yr.get(ii[1],Gr);ti=Jr.dataToPoint([ni,ai])}if(zs(Jr,"cartesian2d")){var oi=Jr.getAxis("x"),si=Jr.getAxis("y"),ii=Jr.dimensions;I_(Yr.get(ii[0],Gr))?ti[0]=oi.toGlobalCoord(oi.getExtent()[Wr?0:1]):I_(Yr.get(ii[1],Gr))&&(ti[1]=si.toGlobalCoord(si.getExtent()[Wr?0:1]))}isNaN(ei)||(ti[0]=ei),isNaN(ri)||(ti[1]=ri)}Yr.setItemLayout(Gr,ti)}var Nit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.updateTransform=function(Wr,Zr,Kr){Zr.eachSeries(function(Jr){var Qr=Io.getMarkerModelFromSeries(Jr,"markLine");if(Qr){var ti=Qr.getData(),ei=D_(Qr).from,ri=D_(Qr).to;ei.each(function(ii){pP(ei,ii,!0,Jr,Kr),pP(ri,ii,!1,Jr,Kr)}),ti.each(function(ii){ti.setItemLayout(ii,[ei.getItemLayout(ii),ri.getItemLayout(ii)])}),this.markerGroupMap.get(Jr.id).updateLayout()}},this)},Gr.prototype.renderSeries=function(Wr,Zr,Kr,Jr){var Qr=Wr.coordinateSystem,ti=Wr.id,ei=Wr.getData(),ri=this.markerGroupMap,ii=ri.get(ti)||ri.set(ti,new Lp);this.group.add(ii.group);var ni=Fit(Qr,Wr,Zr),ai=ni.from,oi=ni.to,si=ni.line;D_(Zr).from=ai,D_(Zr).to=oi,Zr.setData(si);var li=Zr.get("symbol"),ui=Zr.get("symbolSize"),fi=Zr.get("symbolRotate"),hi=Zr.get("symbolOffset");Ri(li)||(li=[li,li]),Ri(ui)||(ui=[ui,ui]),Ri(fi)||(fi=[fi,fi]),Ri(hi)||(hi=[hi,hi]),ni.from.each(function(pi){ci(ai,pi,!0),ci(oi,pi,!1)}),si.each(function(pi){var di=si.getItemModel(pi).getModel("lineStyle").getLineStyle();si.setItemLayout(pi,[ai.getItemLayout(pi),oi.getItemLayout(pi)]),di.stroke==null&&(di.stroke=ai.getItemVisual(pi,"style").fill),si.setItemVisual(pi,{fromSymbolKeepAspect:ai.getItemVisual(pi,"symbolKeepAspect"),fromSymbolOffset:ai.getItemVisual(pi,"symbolOffset"),fromSymbolRotate:ai.getItemVisual(pi,"symbolRotate"),fromSymbolSize:ai.getItemVisual(pi,"symbolSize"),fromSymbol:ai.getItemVisual(pi,"symbol"),toSymbolKeepAspect:oi.getItemVisual(pi,"symbolKeepAspect"),toSymbolOffset:oi.getItemVisual(pi,"symbolOffset"),toSymbolRotate:oi.getItemVisual(pi,"symbolRotate"),toSymbolSize:oi.getItemVisual(pi,"symbolSize"),toSymbol:oi.getItemVisual(pi,"symbol"),style:di})}),ii.updateData(si),ni.line.eachItemGraphicEl(function(pi){Qi(pi).dataModel=Zr,pi.traverse(function(di){Qi(di).dataModel=Zr})});function ci(pi,di,vi){var mi=pi.getItemModel(di);pP(pi,di,vi,Wr,Jr);var gi=mi.getModel("itemStyle").getItemStyle();gi.fill==null&&(gi.fill=Ol(ei,"color")),pi.setItemVisual(di,{symbolKeepAspect:mi.get("symbolKeepAspect"),symbolOffset:on(mi.get("symbolOffset",!0),hi[vi?0:1]),symbolRotate:on(mi.get("symbolRotate",!0),fi[vi?0:1]),symbolSize:on(mi.get("symbolSize"),ui[vi?0:1]),symbol:on(mi.get("symbol",!0),li[vi?0:1]),style:gi})}this.markKeep(ii),ii.group.silent=Zr.get("silent")||Wr.get("silent")},Gr.type="markLine",Gr}(jp);function Fit(Yr,Gr,Wr){var Zr;Yr?Zr=Oi(Yr&&Yr.dimensions,function(ri){var ii=Gr.getData().getDimensionInfo(Gr.getData().mapDimension(ri))||{};return ki(ki({},ii),{name:ri,ordinalMeta:null})}):Zr=[{name:"value",type:"float"}];var Kr=new ha(Zr,Wr),Jr=new ha(Zr,Wr),Qr=new ha([],Wr),ti=Oi(Wr.get("data"),en(Oit,Gr,Yr,Wr));Yr&&(ti=Tn(ti,en(zit,Yr)));var ei=P_(!!Yr,Zr);return Kr.initData(Oi(ti,function(ri){return ri[0]}),null,ei),Jr.initData(Oi(ti,function(ri){return ri[1]}),null,ei),Qr.initData(Oi(ti,function(ri){return ri[2]})),Qr.hasItemOption=!0,{from:Kr,to:Jr,line:Qr}}var xH=Nit;function dP(Yr){Yr.registerComponentModel(gH),Yr.registerComponentView(xH),Yr.registerPreprocessor(function(Gr){hc(Gr.series,"markLine")&&(Gr.markLine=Gr.markLine||{})})}var Vit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.createMarkerModelFromSeries=function(Wr,Zr,Kr){return new Gr(Wr,Zr,Kr)},Gr.type="markArea",Gr.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},Gr}(Io),_H=Vit;var L_=ln(),Bit=function(Yr,Gr,Wr,Zr){var Kr=Zr[0],Jr=Zr[1];if(!(!Kr||!Jr)){var Qr=Of(Yr,Kr),ti=Of(Yr,Jr),ei=Qr.coord,ri=ti.coord;ei[0]=ta(ei[0],-1/0),ei[1]=ta(ei[1],-1/0),ri[0]=ta(ri[0],1/0),ri[1]=ta(ri[1],1/0);var ii=bc([{},Qr,ti]);return ii.coord=[Qr.coord,ti.coord],ii.x0=Qr.x,ii.y0=Qr.y,ii.x1=ti.x,ii.y1=ti.y,ii}};function k_(Yr){return!isNaN(Yr)&&!isFinite(Yr)}function bH(Yr,Gr,Wr,Zr){var Kr=1-Yr;return k_(Gr[Kr])&&k_(Wr[Kr])}function Uit(Yr,Gr){var Wr=Gr.coord[0],Zr=Gr.coord[1],Kr={coord:Wr,x:Gr.x0,y:Gr.y0},Jr={coord:Zr,x:Gr.x1,y:Gr.y1};return zs(Yr,"cartesian2d")?Wr&&Zr&&(bH(1,Wr,Zr,Yr)||bH(0,Wr,Zr,Yr))?!0:dH(Yr,Kr,Jr):zf(Yr,Kr)||zf(Yr,Jr)}function SH(Yr,Gr,Wr,Zr,Kr){var Jr=Zr.coordinateSystem,Qr=Yr.getItemModel(Gr),ti,ei=Ui(Qr.get(Wr[0]),Kr.getWidth()),ri=Ui(Qr.get(Wr[1]),Kr.getHeight());if(!isNaN(ei)&&!isNaN(ri))ti=[ei,ri];else{if(Zr.getMarkerPosition){var ii=Yr.getValues(["x0","y0"],Gr),ni=Yr.getValues(["x1","y1"],Gr),ai=Jr.clampData(ii),oi=Jr.clampData(ni),si=[];Wr[0]==="x0"?si[0]=ai[0]>oi[0]?ni[0]:ii[0]:si[0]=ai[0]>oi[0]?ii[0]:ni[0],Wr[1]==="y0"?si[1]=ai[1]>oi[1]?ni[1]:ii[1]:si[1]=ai[1]>oi[1]?ii[1]:ni[1],ti=Zr.getMarkerPosition(si,Wr,!0)}else{var li=Yr.get(Wr[0],Gr),ui=Yr.get(Wr[1],Gr),fi=[li,ui];Jr.clampData&&Jr.clampData(fi,fi),ti=Jr.dataToPoint(fi,!0)}if(zs(Jr,"cartesian2d")){var hi=Jr.getAxis("x"),ci=Jr.getAxis("y"),li=Yr.get(Wr[0],Gr),ui=Yr.get(Wr[1],Gr);k_(li)?ti[0]=hi.toGlobalCoord(hi.getExtent()[Wr[0]==="x0"?0:1]):k_(ui)&&(ti[1]=ci.toGlobalCoord(ci.getExtent()[Wr[1]==="y0"?0:1]))}isNaN(ei)||(ti[0]=ei),isNaN(ri)||(ti[1]=ri)}return ti}var wH=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Git=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.updateTransform=function(Wr,Zr,Kr){Zr.eachSeries(function(Jr){var Qr=Io.getMarkerModelFromSeries(Jr,"markArea");if(Qr){var ti=Qr.getData();ti.each(function(ei){var ri=Oi(wH,function(ni){return SH(ti,ei,ni,Jr,Kr)});ti.setItemLayout(ei,ri);var ii=ti.getItemGraphicEl(ei);ii.setShape("points",ri)})}},this)},Gr.prototype.renderSeries=function(Wr,Zr,Kr,Jr){var Qr=Wr.coordinateSystem,ti=Wr.id,ei=Wr.getData(),ri=this.markerGroupMap,ii=ri.get(ti)||ri.set(ti,{group:new Zi});this.group.add(ii.group),this.markKeep(ii);var ni=Hit(Qr,Wr,Zr);Zr.setData(ni),ni.each(function(ai){var oi=Oi(wH,function(gi){return SH(ni,ai,gi,Wr,Jr)}),si=Qr.getAxis("x").scale,li=Qr.getAxis("y").scale,ui=si.getExtent(),fi=li.getExtent(),hi=[si.parse(ni.get("x0",ai)),si.parse(ni.get("x1",ai))],ci=[li.parse(ni.get("y0",ai)),li.parse(ni.get("y1",ai))];Oa(hi),Oa(ci);var pi=!(ui[0]>hi[1]||ui[1]<hi[0]||fi[0]>ci[1]||fi[1]<ci[0]),di=!pi;ni.setItemLayout(ai,{points:oi,allClipped:di});var vi=ni.getItemModel(ai).getModel("itemStyle").getItemStyle(),mi=Ol(ei,"color");vi.fill||(vi.fill=mi,Ni(vi.fill)&&(vi.fill=lh(vi.fill,.4))),vi.stroke||(vi.stroke=mi),ni.setItemVisual(ai,"style",vi)}),ni.diff(L_(ii).data).add(function(ai){var oi=ni.getItemLayout(ai);if(!oi.allClipped){var si=new fa({shape:{points:oi.points}});ni.setItemGraphicEl(ai,si),ii.group.add(si)}}).update(function(ai,oi){var si=L_(ii).data.getItemGraphicEl(oi),li=ni.getItemLayout(ai);li.allClipped?si&&ii.group.remove(si):(si?bn(si,{shape:{points:li.points}},Zr,ai):si=new fa({shape:{points:li.points}}),ni.setItemGraphicEl(ai,si),ii.group.add(si))}).remove(function(ai){var oi=L_(ii).data.getItemGraphicEl(ai);ii.group.remove(oi)}).execute(),ni.eachItemGraphicEl(function(ai,oi){var si=ni.getItemModel(oi),li=ni.getItemVisual(oi,"style");ai.useStyle(ni.getItemVisual(oi,"style")),jn(ai,Hn(si),{labelFetcher:Zr,labelDataIndex:oi,defaultText:ni.getName(oi)||"",inheritColor:Ni(li.fill)?lh(li.fill,1):"#000"}),ia(ai,si),In(ai,null,null,si.get(["emphasis","disabled"])),Qi(ai).dataModel=Zr}),L_(ii).data=ni,ii.group.silent=Zr.get("silent")||Wr.get("silent")},Gr.type="markArea",Gr}(jp);function Hit(Yr,Gr,Wr){var Zr,Kr,Jr=["x0","y0","x1","y1"];if(Yr){var Qr=Oi(Yr&&Yr.dimensions,function(ri){var ii=Gr.getData(),ni=ii.getDimensionInfo(ii.mapDimension(ri))||{};return ki(ki({},ni),{name:ri,ordinalMeta:null})});Kr=Oi(Jr,function(ri,ii){return{name:ri,type:Qr[ii%2].type}}),Zr=new ha(Kr,Wr)}else Kr=[{name:"value",type:"float"}],Zr=new ha(Kr,Wr);var ti=Oi(Wr.get("data"),en(Bit,Gr,Yr,Wr));Yr&&(ti=Tn(ti,en(Uit,Yr)));var ei=Yr?function(ri,ii,ni,ai){var oi=ri.coord[Math.floor(ai/2)][ai%2];return ks(oi,Kr[ai])}:function(ri,ii,ni,ai){return ks(ri.value,Kr[ai])};return Zr.initData(ti,null,ei),Zr.hasItemOption=!0,Zr}var CH=Git;function vP(Yr){Yr.registerComponentModel(_H),Yr.registerComponentView(CH),Yr.registerPreprocessor(function(Gr){hc(Gr.series,"markArea")&&(Gr.markArea=Gr.markArea||{})})}var Wit=function(Yr,Gr){if(Gr==="all")return{type:"all",title:Yr.getLocaleModel().get(["legend","selector","all"])};if(Gr==="inverse")return{type:"inverse",title:Yr.getLocaleModel().get(["legend","selector","inverse"])}},Yit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.layoutMode={type:"box",ignoreSize:!0},Wr}return Gr.prototype.init=function(Wr,Zr,Kr){this.mergeDefaultAndTheme(Wr,Kr),Wr.selected=Wr.selected||{},this._updateSelector(Wr)},Gr.prototype.mergeOption=function(Wr,Zr){Yr.prototype.mergeOption.call(this,Wr,Zr),this._updateSelector(Wr)},Gr.prototype._updateSelector=function(Wr){var Zr=Wr.selector,Kr=this.ecModel;Zr===!0&&(Zr=Wr.selector=["all","inverse"]),Ri(Zr)&&_i(Zr,function(Jr,Qr){Ni(Jr)&&(Jr={type:Jr}),Zr[Qr]=un(Jr,Wit(Kr,Jr.type))})},Gr.prototype.optionUpdated=function(){this._updateData(this.ecModel);var Wr=this._data;if(Wr[0]&&this.get("selectedMode")==="single"){for(var Zr=!1,Kr=0;Kr<Wr.length;Kr++){var Jr=Wr[Kr].get("name");if(this.isSelected(Jr)){this.select(Jr),Zr=!0;break}}!Zr&&this.select(Wr[0].get("name"))}},Gr.prototype._updateData=function(Wr){var Zr=[],Kr=[];Wr.eachRawSeries(function(ei){var ri=ei.name;Kr.push(ri);var ii;if(ei.legendVisualProvider){var ni=ei.legendVisualProvider,ai=ni.getAllNames();Wr.isSeriesFiltered(ei)||(Kr=Kr.concat(ai)),ai.length?Zr=Zr.concat(ai):ii=!0}else ii=!0;ii&&Fc(ei)&&Zr.push(ei.name)}),this._availableNames=Kr;var Jr=this.get("data")||Zr,Qr=Hi(),ti=Oi(Jr,function(ei){return(Ni(ei)||gn(ei))&&(ei={name:ei}),Qr.get(ei.name)?null:(Qr.set(ei.name,!0),new Mn(ei,this,this.ecModel))},this);this._data=Tn(ti,function(ei){return!!ei})},Gr.prototype.getData=function(){return this._data},Gr.prototype.select=function(Wr){var Zr=this.option.selected,Kr=this.get("selectedMode");if(Kr==="single"){var Jr=this._data;_i(Jr,function(Qr){Zr[Qr.get("name")]=!1})}Zr[Wr]=!0},Gr.prototype.unSelect=function(Wr){this.get("selectedMode")!=="single"&&(this.option.selected[Wr]=!1)},Gr.prototype.toggleSelected=function(Wr){var Zr=this.option.selected;Zr.hasOwnProperty(Wr)||(Zr[Wr]=!0),this[Zr[Wr]?"unSelect":"select"](Wr)},Gr.prototype.allSelect=function(){var Wr=this._data,Zr=this.option.selected;_i(Wr,function(Kr){Zr[Kr.get("name",!0)]=!0})},Gr.prototype.inverseSelect=function(){var Wr=this._data,Zr=this.option.selected;_i(Wr,function(Kr){var Jr=Kr.get("name",!0);Zr.hasOwnProperty(Jr)||(Zr[Jr]=!0),Zr[Jr]=!Zr[Jr]})},Gr.prototype.isSelected=function(Wr){var Zr=this.option.selected;return!(Zr.hasOwnProperty(Wr)&&!Zr[Wr])&&sn(this._availableNames,Wr)>=0},Gr.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},Gr.type="legend.plain",Gr.dependencies=["series"],Gr.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},Gr}(_n),Mm=Yit;var Kp=en,mP=_i,R_=Zi,Xit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.newlineDisabled=!1,Wr}return Gr.prototype.init=function(){this.group.add(this._contentGroup=new R_),this.group.add(this._selectorGroup=new R_),this._isFirstRender=!0},Gr.prototype.getContentGroup=function(){return this._contentGroup},Gr.prototype.getSelectorGroup=function(){return this._selectorGroup},Gr.prototype.render=function(Wr,Zr,Kr){var Jr=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!Wr.get("show",!0)){var Qr=Wr.get("align"),ti=Wr.get("orient");(!Qr||Qr==="auto")&&(Qr=Wr.get("left")==="right"&&ti==="vertical"?"right":"left");var ei=Wr.get("selector",!0),ri=Wr.get("selectorPosition",!0);ei&&(!ri||ri==="auto")&&(ri=ti==="horizontal"?"end":"start"),this.renderInner(Qr,Wr,Zr,Kr,ei,ti,ri);var ii=Wr.getBoxLayoutParams(),ni={width:Kr.getWidth(),height:Kr.getHeight()},ai=Wr.get("padding"),oi=Vn(ii,ni,ai),si=this.layoutInner(Wr,Qr,oi,Jr,ei,ri),li=Vn(Yi({width:si.width,height:si.height},ii),ni,ai);this.group.x=li.x-si.x,this.group.y=li.y-si.y,this.group.markRedraw(),this.group.add(this._backgroundEl=x_(si,Wr))}},Gr.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},Gr.prototype.renderInner=function(Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=this.getContentGroup(),ii=Hi(),ni=Zr.get("selectedMode"),ai=[];Kr.eachRawSeries(function(oi){!oi.get("legendHoverLink")&&ai.push(oi.id)}),mP(Zr.getData(),function(oi,si){var li=oi.get("name");if(!this.newlineDisabled&&(li===""||li===`
`)){var ui=new R_;ui.newline=!0,ri.add(ui);return}var fi=Kr.getSeriesByName(li)[0];if(!ii.get(li))if(fi){var hi=fi.getData(),ci=hi.getVisual("legendLineStyle")||{},pi=hi.getVisual("legendIcon"),di=hi.getVisual("style"),vi=this._createItem(fi,li,si,oi,Zr,Wr,ci,di,pi,ni,Jr);vi.on("click",Kp(TH,li,null,Jr,ai)).on("mouseover",Kp(gP,fi.name,null,Jr,ai)).on("mouseout",Kp(yP,fi.name,null,Jr,ai)),Kr.ssr&&vi.eachChild(function(mi){var gi=Qi(mi);gi.seriesIndex=fi.seriesIndex,gi.dataIndex=si,gi.ssrType="legend"}),ii.set(li,!0)}else Kr.eachRawSeries(function(mi){if(!ii.get(li)&&mi.legendVisualProvider){var gi=mi.legendVisualProvider;if(!gi.containName(li))return;var yi=gi.indexOfName(li),Si=gi.getItemVisual(yi,"style"),bi=gi.getItemVisual(yi,"legendIcon"),Ti=qa(Si.fill);Ti&&Ti[3]===0&&(Ti[3]=.2,Si=ki(ki({},Si),{fill:Cs(Ti,"rgba")}));var Ai=this._createItem(mi,li,si,oi,Zr,Wr,{},Si,bi,ni,Jr);Ai.on("click",Kp(TH,null,li,Jr,ai)).on("mouseover",Kp(gP,null,li,Jr,ai)).on("mouseout",Kp(yP,null,li,Jr,ai)),Kr.ssr&&Ai.eachChild(function(Ei){var Mi=Qi(Ei);Mi.seriesIndex=mi.seriesIndex,Mi.dataIndex=si,Mi.ssrType="legend"}),ii.set(li,!0)}},this)},this),Qr&&this._createSelector(Qr,Zr,Jr,ti,ei)},Gr.prototype._createSelector=function(Wr,Zr,Kr,Jr,Qr){var ti=this.getSelectorGroup();mP(Wr,function(ri){var ii=ri.type,ni=new xn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){Kr.dispatchAction({type:ii==="all"?"legendAllSelect":"legendInverseSelect"})}});ti.add(ni);var ai=Zr.getModel("selectorLabel"),oi=Zr.getModel(["emphasis","selectorLabel"]);jn(ni,{normal:ai,emphasis:oi},{defaultText:ri.title}),Il(ni)})},Gr.prototype._createItem=function(Wr,Zr,Kr,Jr,Qr,ti,ei,ri,ii,ni,ai){var oi=Wr.visualDrawType,si=Qr.get("itemWidth"),li=Qr.get("itemHeight"),ui=Qr.isSelected(Zr),fi=Jr.get("symbolRotate"),hi=Jr.get("symbolKeepAspect"),ci=Jr.get("icon");ii=ci||ii||"roundRect";var pi=qit(ii,Jr,ei,ri,oi,ui,ai),di=new R_,vi=Jr.getModel("textStyle");if(Wi(Wr.getLegendIcon)&&(!ci||ci==="inherit"))di.add(Wr.getLegendIcon({itemWidth:si,itemHeight:li,icon:ii,iconRotate:fi,itemStyle:pi.itemStyle,lineStyle:pi.lineStyle,symbolKeepAspect:hi}));else{var mi=ci==="inherit"&&Wr.getData().getVisual("symbol")?fi==="inherit"?Wr.getData().getVisual("symbolRotate"):fi:0;di.add(Zit({itemWidth:si,itemHeight:li,icon:ii,iconRotate:mi,itemStyle:pi.itemStyle,lineStyle:pi.lineStyle,symbolKeepAspect:hi}))}var gi=ti==="left"?si+5:-5,yi=ti,Si=Qr.get("formatter"),bi=Zr;Ni(Si)&&Si?bi=Si.replace("{name}",Zr??""):Wi(Si)&&(bi=Si(Zr));var Ti=ui?vi.getTextColor():Jr.get("inactiveColor");di.add(new xn({style:On(vi,{text:bi,x:gi,y:li/2,fill:Ti,align:yi,verticalAlign:"middle"},{inheritColor:Ti})}));var Ai=new mn({shape:di.getBoundingRect(),style:{fill:"transparent"}}),Ei=Jr.getModel("tooltip");return Ei.get("show")&&rl({el:Ai,componentModel:Qr,itemName:Zr,itemTooltipOption:Ei.option}),di.add(Ai),di.eachChild(function(Mi){Mi.silent=!0}),Ai.silent=!ni,this.getContentGroup().add(di),Il(di),di.__legendDataIndex=Kr,di},Gr.prototype.layoutInner=function(Wr,Zr,Kr,Jr,Qr,ti){var ei=this.getContentGroup(),ri=this.getSelectorGroup();al(Wr.get("orient"),ei,Wr.get("itemGap"),Kr.width,Kr.height);var ii=ei.getBoundingRect(),ni=[-ii.x,-ii.y];if(ri.markRedraw(),ei.markRedraw(),Qr){al("horizontal",ri,Wr.get("selectorItemGap",!0));var ai=ri.getBoundingRect(),oi=[-ai.x,-ai.y],si=Wr.get("selectorButtonGap",!0),li=Wr.getOrient().index,ui=li===0?"width":"height",fi=li===0?"height":"width",hi=li===0?"y":"x";ti==="end"?oi[li]+=ii[ui]+si:ni[li]+=ai[ui]+si,oi[1-li]+=ii[fi]/2-ai[fi]/2,ri.x=oi[0],ri.y=oi[1],ei.x=ni[0],ei.y=ni[1];var ci={x:0,y:0};return ci[ui]=ii[ui]+si+ai[ui],ci[fi]=Math.max(ii[fi],ai[fi]),ci[hi]=Math.min(0,ai[hi]+oi[1-li]),ci}else return ei.x=ni[0],ei.y=ni[1],this.group.getBoundingRect()},Gr.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},Gr.type="legend.plain",Gr}(Dn);function qit(Yr,Gr,Wr,Zr,Kr,Jr,Qr){function ti(ui,fi){ui.lineWidth==="auto"&&(ui.lineWidth=fi.lineWidth>0?2:0),mP(ui,function(hi,ci){ui[ci]==="inherit"&&(ui[ci]=fi[ci])})}var ei=Gr.getModel("itemStyle"),ri=ei.getItemStyle(),ii=Yr.lastIndexOf("empty",0)===0?"fill":"stroke",ni=ei.getShallow("decal");ri.decal=!ni||ni==="inherit"?Zr.decal:ul(ni,Qr),ri.fill==="inherit"&&(ri.fill=Zr[Kr]),ri.stroke==="inherit"&&(ri.stroke=Zr[ii]),ri.opacity==="inherit"&&(ri.opacity=(Kr==="fill"?Zr:Wr).opacity),ti(ri,Zr);var ai=Gr.getModel("lineStyle"),oi=ai.getLineStyle();if(ti(oi,Wr),ri.fill==="auto"&&(ri.fill=Zr.fill),ri.stroke==="auto"&&(ri.stroke=Zr.fill),oi.stroke==="auto"&&(oi.stroke=Zr.fill),!Jr){var si=Gr.get("inactiveBorderWidth"),li=ri[ii];ri.lineWidth=si==="auto"?Zr.lineWidth>0&&li?2:0:ri.lineWidth,ri.fill=Gr.get("inactiveColor"),ri.stroke=Gr.get("inactiveBorderColor"),oi.stroke=ai.get("inactiveColor"),oi.lineWidth=ai.get("inactiveWidth")}return{itemStyle:ri,lineStyle:oi}}function Zit(Yr){var Gr=Yr.icon||"roundRect",Wr=Bn(Gr,0,0,Yr.itemWidth,Yr.itemHeight,Yr.itemStyle.fill,Yr.symbolKeepAspect);return Wr.setStyle(Yr.itemStyle),Wr.rotation=(Yr.iconRotate||0)*Math.PI/180,Wr.setOrigin([Yr.itemWidth/2,Yr.itemHeight/2]),Gr.indexOf("empty")>-1&&(Wr.style.stroke=Wr.style.fill,Wr.style.fill="#fff",Wr.style.lineWidth=2),Wr}function TH(Yr,Gr,Wr,Zr){yP(Yr,Gr,Wr,Zr),Wr.dispatchAction({type:"legendToggleSelect",name:Yr??Gr}),gP(Yr,Gr,Wr,Zr)}function AH(Yr){for(var Gr=Yr.getZr().storage.getDisplayList(),Wr,Zr=0,Kr=Gr.length;Zr<Kr&&!(Wr=Gr[Zr].states.emphasis);)Zr++;return Wr&&Wr.hoverLayer}function gP(Yr,Gr,Wr,Zr){AH(Wr)||Wr.dispatchAction({type:"highlight",seriesName:Yr,name:Gr,excludeSeriesId:Zr})}function yP(Yr,Gr,Wr,Zr){AH(Wr)||Wr.dispatchAction({type:"downplay",seriesName:Yr,name:Gr,excludeSeriesId:Zr})}var O_=Xit;function xP(Yr){var Gr=Yr.findComponents({mainType:"legend"});Gr&&Gr.length&&Yr.filterSeries(function(Wr){for(var Zr=0;Zr<Gr.length;Zr++)if(!Gr[Zr].isSelected(Wr.name))return!1;return!0})}function Pm(Yr,Gr,Wr){var Zr={},Kr=Yr==="toggleSelected",Jr;return Wr.eachComponent("legend",function(Qr){Kr&&Jr!=null?Qr[Jr?"select":"unSelect"](Gr.name):Yr==="allSelect"||Yr==="inverseSelect"?Qr[Yr]():(Qr[Yr](Gr.name),Jr=Qr.isSelected(Gr.name));var ti=Qr.getData();_i(ti,function(ei){var ri=ei.get("name");if(!(ri===`
`||ri==="")){var ii=Qr.isSelected(ri);Zr.hasOwnProperty(ri)?Zr[ri]=Zr[ri]&&ii:Zr[ri]=ii}})}),Yr==="allSelect"||Yr==="inverseSelect"?{selected:Zr}:{name:Gr.name,selected:Zr}}function MH(Yr){Yr.registerAction("legendToggleSelect","legendselectchanged",en(Pm,"toggleSelected")),Yr.registerAction("legendAllSelect","legendselectall",en(Pm,"allSelect")),Yr.registerAction("legendInverseSelect","legendinverseselect",en(Pm,"inverseSelect")),Yr.registerAction("legendSelect","legendselected",en(Pm,"select")),Yr.registerAction("legendUnSelect","legendunselected",en(Pm,"unSelect"))}function z_(Yr){Yr.registerComponentModel(Mm),Yr.registerComponentView(O_),Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.SERIES_FILTER,xP),Yr.registerSubTypeDefaulter("legend",function(){return"plain"}),MH(Yr)}var jit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.setScrollDataIndex=function(Wr){this.option.scrollDataIndex=Wr},Gr.prototype.init=function(Wr,Zr,Kr){var Jr=Is(Wr);Yr.prototype.init.call(this,Wr,Zr,Kr),PH(this,Wr,Jr)},Gr.prototype.mergeOption=function(Wr,Zr){Yr.prototype.mergeOption.call(this,Wr,Zr),PH(this,this.option,Wr)},Gr.type="legend.scroll",Gr.defaultOption=mo(Mm.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),Gr}(Mm);function PH(Yr,Gr,Wr){var Zr=Yr.getOrient(),Kr=[1,1];Kr[Zr.index]=0,Yo(Gr,Wr,{type:"box",ignoreSize:!!Kr})}var EH=jit;var DH=Zi,_P=["width","height"],bP=["x","y"],Kit=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.newlineDisabled=!0,Wr._currentIndex=0,Wr}return Gr.prototype.init=function(){Yr.prototype.init.call(this),this.group.add(this._containerGroup=new DH),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new DH)},Gr.prototype.resetInner=function(){Yr.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},Gr.prototype.renderInner=function(Wr,Zr,Kr,Jr,Qr,ti,ei){var ri=this;Yr.prototype.renderInner.call(this,Wr,Zr,Kr,Jr,Qr,ti,ei);var ii=this._controllerGroup,ni=Zr.get("pageIconSize",!0),ai=Ri(ni)?ni:[ni,ni];si("pagePrev",0);var oi=Zr.getModel("pageTextStyle");ii.add(new xn({name:"pageText",style:{text:"xx/xx",fill:oi.getTextColor(),font:oi.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),si("pageNext",1);function si(li,ui){var fi=li+"DataIndex",hi=vu(Zr.get("pageIcons",!0)[Zr.getOrient().name][ui],{onclick:Gi(ri._pageGo,ri,fi,Zr,Jr)},{x:-ai[0]/2,y:-ai[1]/2,width:ai[0],height:ai[1]});hi.name=li,ii.add(hi)}},Gr.prototype.layoutInner=function(Wr,Zr,Kr,Jr,Qr,ti){var ei=this.getSelectorGroup(),ri=Wr.getOrient().index,ii=_P[ri],ni=bP[ri],ai=_P[1-ri],oi=bP[1-ri];Qr&&al("horizontal",ei,Wr.get("selectorItemGap",!0));var si=Wr.get("selectorButtonGap",!0),li=ei.getBoundingRect(),ui=[-li.x,-li.y],fi=Ki(Kr);Qr&&(fi[ii]=Kr[ii]-li[ii]-si);var hi=this._layoutContentAndController(Wr,Jr,fi,ri,ii,ai,oi,ni);if(Qr){if(ti==="end")ui[ri]+=hi[ii]+si;else{var ci=li[ii]+si;ui[ri]-=ci,hi[ni]-=ci}hi[ii]+=li[ii]+si,ui[1-ri]+=hi[oi]+hi[ai]/2-li[ai]/2,hi[ai]=Math.max(hi[ai],li[ai]),hi[oi]=Math.min(hi[oi],li[oi]+ui[1-ri]),ei.x=ui[0],ei.y=ui[1],ei.markRedraw()}return hi},Gr.prototype._layoutContentAndController=function(Wr,Zr,Kr,Jr,Qr,ti,ei,ri){var ii=this.getContentGroup(),ni=this._containerGroup,ai=this._controllerGroup;al(Wr.get("orient"),ii,Wr.get("itemGap"),Jr?Kr.width:null,Jr?null:Kr.height),al("horizontal",ai,Wr.get("pageButtonItemGap",!0));var oi=ii.getBoundingRect(),si=ai.getBoundingRect(),li=this._showController=oi[Qr]>Kr[Qr],ui=[-oi.x,-oi.y];Zr||(ui[Jr]=ii[ri]);var fi=[0,0],hi=[-si.x,-si.y],ci=on(Wr.get("pageButtonGap",!0),Wr.get("itemGap",!0));if(li){var pi=Wr.get("pageButtonPosition",!0);pi==="end"?hi[Jr]+=Kr[Qr]-si[Qr]:fi[Jr]+=si[Qr]+ci}hi[1-Jr]+=oi[ti]/2-si[ti]/2,ii.setPosition(ui),ni.setPosition(fi),ai.setPosition(hi);var di={x:0,y:0};if(di[Qr]=li?Kr[Qr]:oi[Qr],di[ti]=Math.max(oi[ti],si[ti]),di[ei]=Math.min(0,si[ei]+hi[1-Jr]),ni.__rectSize=Kr[Qr],li){var vi={x:0,y:0};vi[Qr]=Math.max(Kr[Qr]-si[Qr]-ci,0),vi[ti]=di[ti],ni.setClipPath(new mn({shape:vi})),ni.__rectSize=vi[Qr]}else ai.eachChild(function(gi){gi.attr({invisible:!0,silent:!0})});var mi=this._getPageInfo(Wr);return mi.pageIndex!=null&&bn(ii,{x:mi.contentPosition[0],y:mi.contentPosition[1]},li?Wr:null),this._updatePageInfoView(Wr,mi),di},Gr.prototype._pageGo=function(Wr,Zr,Kr){var Jr=this._getPageInfo(Zr)[Wr];Jr!=null&&Kr.dispatchAction({type:"legendScroll",scrollDataIndex:Jr,legendId:Zr.id})},Gr.prototype._updatePageInfoView=function(Wr,Zr){var Kr=this._controllerGroup;_i(["pagePrev","pageNext"],function(ii){var ni=ii+"DataIndex",ai=Zr[ni]!=null,oi=Kr.childOfName(ii);oi&&(oi.setStyle("fill",ai?Wr.get("pageIconColor",!0):Wr.get("pageIconInactiveColor",!0)),oi.cursor=ai?"pointer":"default")});var Jr=Kr.childOfName("pageText"),Qr=Wr.get("pageFormatter"),ti=Zr.pageIndex,ei=ti!=null?ti+1:0,ri=Zr.pageCount;Jr&&Qr&&Jr.setStyle("text",Ni(Qr)?Qr.replace("{current}",ei==null?"":ei+"").replace("{total}",ri==null?"":ri+""):Qr({current:ei,total:ri}))},Gr.prototype._getPageInfo=function(Wr){var Zr=Wr.get("scrollDataIndex",!0),Kr=this.getContentGroup(),Jr=this._containerGroup.__rectSize,Qr=Wr.getOrient().index,ti=_P[Qr],ei=bP[Qr],ri=this._findTargetItemIndex(Zr),ii=Kr.children(),ni=ii[ri],ai=ii.length,oi=ai?1:0,si={contentPosition:[Kr.x,Kr.y],pageCount:oi,pageIndex:oi-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!ni)return si;var li=pi(ni);si.contentPosition[Qr]=-li.s;for(var ui=ri+1,fi=li,hi=li,ci=null;ui<=ai;++ui)ci=pi(ii[ui]),(!ci&&hi.e>fi.s+Jr||ci&&!di(ci,fi.s))&&(hi.i>fi.i?fi=hi:fi=ci,fi&&(si.pageNextDataIndex==null&&(si.pageNextDataIndex=fi.i),++si.pageCount)),hi=ci;for(var ui=ri-1,fi=li,hi=li,ci=null;ui>=-1;--ui)ci=pi(ii[ui]),(!ci||!di(hi,ci.s))&&fi.i<hi.i&&(hi=fi,si.pagePrevDataIndex==null&&(si.pagePrevDataIndex=fi.i),++si.pageCount,++si.pageIndex),fi=ci;return si;function pi(vi){if(vi){var mi=vi.getBoundingRect(),gi=mi[ei]+vi[ei];return{s:gi,e:gi+mi[ti],i:vi.__legendDataIndex}}}function di(vi,mi){return vi.e>=mi&&vi.s<=mi+Jr}},Gr.prototype._findTargetItemIndex=function(Wr){if(!this._showController)return 0;var Zr,Kr=this.getContentGroup(),Jr;return Kr.eachChild(function(Qr,ti){var ei=Qr.__legendDataIndex;Jr==null&&ei!=null&&(Jr=ti),ei===Wr&&(Zr=ti)}),Zr??Jr},Gr.type="legend.scroll",Gr}(O_),IH=Kit;function SP(Yr){Yr.registerAction("legendScroll","legendscroll",function(Gr,Wr){var Zr=Gr.scrollDataIndex;Zr!=null&&Wr.eachComponent({mainType:"legend",subType:"scroll",query:Gr},function(Kr){Kr.setScrollDataIndex(Zr)})})}function LH(Yr){Sn(z_),Yr.registerComponentModel(EH),Yr.registerComponentView(IH),SP(Yr)}function wP(Yr){Sn(z_),Sn(LH)}var $it=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="dataZoom.inside",Gr.defaultOption=mo(Lf.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Gr}(Lf),kH=$it;var CP=ln();function RH(Yr,Gr,Wr){CP(Yr).coordSysRecordMap.each(function(Zr){var Kr=Zr.dataZoomInfoMap.get(Gr.uid);Kr&&(Kr.getRange=Wr)})}function OH(Yr,Gr){for(var Wr=CP(Yr).coordSysRecordMap,Zr=Wr.keys(),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr],Qr=Wr.get(Jr),ti=Qr.dataZoomInfoMap;if(ti){var ei=Gr.uid,ri=ti.get(ei);ri&&(ti.removeKey(ei),ti.keys().length||zH(Wr,Qr))}}}function zH(Yr,Gr){if(Gr){Yr.removeKey(Gr.model.uid);var Wr=Gr.controller;Wr&&Wr.dispose()}}function Jit(Yr,Gr){var Wr={model:Gr,containsPoint:en(tnt,Gr),dispatchAction:en(Qit,Yr),dataZoomInfoMap:null,controller:null},Zr=Wr.controller=new Yl(Yr.getZr());return _i(["pan","zoom","scrollMove"],function(Kr){Zr.on(Kr,function(Jr){var Qr=[];Wr.dataZoomInfoMap.each(function(ti){if(Jr.isAvailableBehavior(ti.model.option)){var ei=(ti.getRange||{})[Kr],ri=ei&&ei(ti.dzReferCoordSysInfo,Wr.model.mainType,Wr.controller,Jr);!ti.model.get("disabled",!0)&&ri&&Qr.push({dataZoomId:ti.model.id,start:ri[0],end:ri[1]})}}),Qr.length&&Wr.dispatchAction(Qr)})}),Wr}function Qit(Yr,Gr){Yr.isDisposed()||Yr.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:Gr})}function tnt(Yr,Gr,Wr,Zr){return Yr.coordinateSystem.containPoint([Wr,Zr])}function ent(Yr){var Gr,Wr="type_",Zr={type_true:2,type_move:1,type_false:0,type_undefined:-1},Kr=!0;return Yr.each(function(Jr){var Qr=Jr.model,ti=Qr.get("disabled",!0)?!1:Qr.get("zoomLock",!0)?"move":!0;Zr[Wr+ti]>Zr[Wr+Gr]&&(Gr=ti),Kr=Kr&&Qr.get("preventDefaultMouseMove",!0)}),{controlType:Gr,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!Kr}}}function NH(Yr){Yr.registerProcessor(Yr.PRIORITY.PROCESSOR.FILTER,function(Gr,Wr){var Zr=CP(Wr),Kr=Zr.coordSysRecordMap||(Zr.coordSysRecordMap=Hi());Kr.each(function(Jr){Jr.dataZoomInfoMap=null}),Gr.eachComponent({mainType:"dataZoom",subType:"inside"},function(Jr){var Qr=g_(Jr);_i(Qr.infoList,function(ti){var ei=ti.model.uid,ri=Kr.get(ei)||Kr.set(ei,Jit(Wr,ti.model)),ii=ri.dataZoomInfoMap||(ri.dataZoomInfoMap=Hi());ii.set(Jr.uid,{dzReferCoordSysInfo:ti,model:Jr,getRange:null})})}),Kr.each(function(Jr){var Qr=Jr.controller,ti,ei=Jr.dataZoomInfoMap;if(ei){var ri=ei.keys()[0];ri!=null&&(ti=ei.get(ri))}if(!ti){zH(Kr,Jr);return}var ii=ent(ei);Qr.enable(ii.controlType,ii.opt),Qr.setPointerChecker(Jr.containsPoint),Rs(Jr,"dispatchAction",ti.model.get("throttle",!0),"fixRate")})})}var int=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="dataZoom.inside",Wr}return Gr.prototype.render=function(Wr,Zr,Kr){if(Yr.prototype.render.apply(this,arguments),Wr.noTarget()){this._clear();return}this.range=Wr.getPercentRange(),RH(Kr,Wr,{pan:Gi(TP.pan,this),zoom:Gi(TP.zoom,this),scrollMove:Gi(TP.scrollMove,this)})},Gr.prototype.dispose=function(){this._clear(),Yr.prototype.dispose.apply(this,arguments)},Gr.prototype._clear=function(){OH(this.api,this.dataZoomModel),this.range=null},Gr.type="dataZoom.inside",Gr}(Xp),TP={zoom:function(Yr,Gr,Wr,Zr){var Kr=this.range,Jr=Kr.slice(),Qr=Yr.axisModels[0];if(Qr){var ti=AP[Gr](null,[Zr.originX,Zr.originY],Qr,Wr,Yr),ei=(ti.signal>0?ti.pixelStart+ti.pixelLength-ti.pixel:ti.pixel-ti.pixelStart)/ti.pixelLength*(Jr[1]-Jr[0])+Jr[0],ri=Math.max(1/Zr.scale,0);Jr[0]=(Jr[0]-ei)*ri+ei,Jr[1]=(Jr[1]-ei)*ri+ei;var ii=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Jo(0,Jr,[0,100],0,ii.minSpan,ii.maxSpan),this.range=Jr,Kr[0]!==Jr[0]||Kr[1]!==Jr[1])return Jr}},pan:FH(function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=AP[Zr]([Jr.oldX,Jr.oldY],[Jr.newX,Jr.newY],Gr,Kr,Wr);return Qr.signal*(Yr[1]-Yr[0])*Qr.pixel/Qr.pixelLength}),scrollMove:FH(function(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=AP[Zr]([0,0],[Jr.scrollDelta,Jr.scrollDelta],Gr,Kr,Wr);return Qr.signal*(Yr[1]-Yr[0])*Jr.scrollDelta})};function FH(Yr){return function(Gr,Wr,Zr,Kr){var Jr=this.range,Qr=Jr.slice(),ti=Gr.axisModels[0];if(ti){var ei=Yr(Qr,ti,Gr,Wr,Zr,Kr);if(Jo(ei,Qr,[0,100],"all"),this.range=Qr,Jr[0]!==Qr[0]||Jr[1]!==Qr[1])return Qr}}}var AP={grid:function(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.axis,Qr={},ti=Kr.model.coordinateSystem.getRect();return Yr=Yr||[0,0],Jr.dim==="x"?(Qr.pixel=Gr[0]-Yr[0],Qr.pixelLength=ti.width,Qr.pixelStart=ti.x,Qr.signal=Jr.inverse?1:-1):(Qr.pixel=Gr[1]-Yr[1],Qr.pixelLength=ti.height,Qr.pixelStart=ti.y,Qr.signal=Jr.inverse?-1:1),Qr},polar:function(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.axis,Qr={},ti=Kr.model.coordinateSystem,ei=ti.getRadiusAxis().getExtent(),ri=ti.getAngleAxis().getExtent();return Yr=Yr?ti.pointToCoord(Yr):[0,0],Gr=ti.pointToCoord(Gr),Wr.mainType==="radiusAxis"?(Qr.pixel=Gr[0]-Yr[0],Qr.pixelLength=ei[1]-ei[0],Qr.pixelStart=ei[0],Qr.signal=Jr.inverse?1:-1):(Qr.pixel=Gr[1]-Yr[1],Qr.pixelLength=ri[1]-ri[0],Qr.pixelStart=ri[0],Qr.signal=Jr.inverse?-1:1),Qr},singleAxis:function(Yr,Gr,Wr,Zr,Kr){var Jr=Wr.axis,Qr=Kr.model.coordinateSystem.getRect(),ti={};return Yr=Yr||[0,0],Jr.orient==="horizontal"?(ti.pixel=Gr[0]-Yr[0],ti.pixelLength=Qr.width,ti.pixelStart=Qr.x,ti.signal=Jr.inverse?1:-1):(ti.pixel=Gr[1]-Yr[1],ti.pixelLength=Qr.height,ti.pixelStart=Qr.y,ti.signal=Jr.inverse?-1:1),ti}},VH=int;function Em(Yr){uc(Yr),Yr.registerComponentModel(kH),Yr.registerComponentView(VH),NH(Yr)}var nnt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.type="dataZoom.slider",Gr.layoutMode="box",Gr.defaultOption=mo(Lf.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),Gr}(Lf),BH=nnt;var Dm=mn,UH=7,ant=1,MP=30,ont=7,Im="horizontal",GH="vertical",snt=5,lnt=["line","bar","candlestick","scatter"],unt={easing:"cubicOut",duration:100,delay:0},fnt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._displayables={},Wr}return Gr.prototype.init=function(Wr,Zr){this.api=Zr,this._onBrush=Gi(this._onBrush,this),this._onBrushEnd=Gi(this._onBrushEnd,this)},Gr.prototype.render=function(Wr,Zr,Kr,Jr){if(Yr.prototype.render.apply(this,arguments),Rs(this,"_dispatchZoomAction",Wr.get("throttle"),"fixRate"),this._orient=Wr.getOrient(),Wr.get("show")===!1){this.group.removeAll();return}if(Wr.noTarget()){this._clear(),this.group.removeAll();return}(!Jr||Jr.type!=="dataZoom"||Jr.from!==this.uid)&&this._buildView(),this._updateView()},Gr.prototype.dispose=function(){this._clear(),Yr.prototype.dispose.apply(this,arguments)},Gr.prototype._clear=function(){Su(this,"_dispatchZoomAction");var Wr=this.api.getZr();Wr.off("mousemove",this._onBrush),Wr.off("mouseup",this._onBrushEnd)},Gr.prototype._buildView=function(){var Wr=this.group;Wr.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var Zr=this._displayables.sliderGroup=new Zi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),Wr.add(Zr),this._positionGroup()},Gr.prototype._resetLocation=function(){var Wr=this.dataZoomModel,Zr=this.api,Kr=Wr.get("brushSelect"),Jr=Kr?ont:0,Qr=this._findCoordRect(),ti={width:Zr.getWidth(),height:Zr.getHeight()},ei=this._orient===Im?{right:ti.width-Qr.x-Qr.width,top:ti.height-MP-UH-Jr,width:Qr.width,height:MP}:{right:UH,top:Qr.y,width:MP,height:Qr.height},ri=Is(Wr.option);_i(["right","top","width","height"],function(ni){ri[ni]==="ph"&&(ri[ni]=ei[ni])});var ii=Vn(ri,ti);this._location={x:ii.x,y:ii.y},this._size=[ii.width,ii.height],this._orient===GH&&this._size.reverse()},Gr.prototype._positionGroup=function(){var Wr=this.group,Zr=this._location,Kr=this._orient,Jr=this.dataZoomModel.getFirstTargetAxisModel(),Qr=Jr&&Jr.get("inverse"),ti=this._displayables.sliderGroup,ei=(this._dataShadowInfo||{}).otherAxisInverse;ti.attr(Kr===Im&&!Qr?{scaleY:ei?1:-1,scaleX:1}:Kr===Im&&Qr?{scaleY:ei?1:-1,scaleX:-1}:Kr===GH&&!Qr?{scaleY:ei?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:ei?-1:1,scaleX:-1,rotation:Math.PI/2});var ri=Wr.getBoundingRect([ti]);Wr.x=Zr.x-ri.x,Wr.y=Zr.y-ri.y,Wr.markRedraw()},Gr.prototype._getViewExtent=function(){return[0,this._size[0]]},Gr.prototype._renderBackground=function(){var Wr=this.dataZoomModel,Zr=this._size,Kr=this._displayables.sliderGroup,Jr=Wr.get("brushSelect");Kr.add(new Dm({silent:!0,shape:{x:0,y:0,width:Zr[0],height:Zr[1]},style:{fill:Wr.get("backgroundColor")},z2:-40}));var Qr=new Dm({shape:{x:0,y:0,width:Zr[0],height:Zr[1]},style:{fill:"transparent"},z2:0,onclick:Gi(this._onClickPanel,this)}),ti=this.api.getZr();Jr?(Qr.on("mousedown",this._onBrushStart,this),Qr.cursor="crosshair",ti.on("mousemove",this._onBrush),ti.on("mouseup",this._onBrushEnd)):(ti.off("mousemove",this._onBrush),ti.off("mouseup",this._onBrushEnd)),Kr.add(Qr)},Gr.prototype._renderDataShadow=function(){var Wr=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!Wr)return;var Zr=this._size,Kr=this._shadowSize||[],Jr=Wr.series,Qr=Jr.getRawData(),ti=Jr.getShadowDim&&Jr.getShadowDim(),ei=ti&&Qr.getDimensionInfo(ti)?Jr.getShadowDim():Wr.otherDim;if(ei==null)return;var ri=this._shadowPolygonPts,ii=this._shadowPolylinePts;if(Qr!==this._shadowData||ei!==this._shadowDim||Zr[0]!==Kr[0]||Zr[1]!==Kr[1]){var ni=Qr.getDataExtent(ei),ai=(ni[1]-ni[0])*.3;ni=[ni[0]-ai,ni[1]+ai];var oi=[0,Zr[1]],si=[0,Zr[0]],li=[[Zr[0],0],[0,0]],ui=[],fi=si[1]/(Qr.count()-1),hi=0,ci=Math.round(Qr.count()/Zr[0]),pi;Qr.each([ei],function(yi,Si){if(ci>0&&Si%ci){hi+=fi;return}var bi=yi==null||isNaN(yi)||yi==="",Ti=bi?0:kn(yi,ni,oi,!0);bi&&!pi&&Si?(li.push([li[li.length-1][0],0]),ui.push([ui[ui.length-1][0],0])):!bi&&pi&&(li.push([hi,0]),ui.push([hi,0])),li.push([hi,Ti]),ui.push([hi,Ti]),hi+=fi,pi=bi}),ri=this._shadowPolygonPts=li,ii=this._shadowPolylinePts=ui}this._shadowData=Qr,this._shadowDim=ei,this._shadowSize=[Zr[0],Zr[1]];var di=this.dataZoomModel;function vi(yi){var Si=di.getModel(yi?"selectedDataBackground":"dataBackground"),bi=new Zi,Ti=new fa({shape:{points:ri},segmentIgnoreThreshold:1,style:Si.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Ai=new la({shape:{points:ii},segmentIgnoreThreshold:1,style:Si.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return bi.add(Ti),bi.add(Ai),bi}for(var mi=0;mi<3;mi++){var gi=vi(mi===1);this._displayables.sliderGroup.add(gi),this._displayables.dataShadowSegs.push(gi)}},Gr.prototype._prepareDataShadowInfo=function(){var Wr=this.dataZoomModel,Zr=Wr.get("showDataShadow");if(Zr!==!1){var Kr,Jr=this.ecModel;return Wr.eachTargetAxis(function(Qr,ti){var ei=Wr.getAxisProxy(Qr,ti).getTargetSeriesModels();_i(ei,function(ri){if(!Kr&&!(Zr!==!0&&sn(lnt,ri.get("type"))<0)){var ii=Jr.getComponent(Gs(Qr),ti).axis,ni=hnt(Qr),ai,oi=ri.coordinateSystem;ni!=null&&oi.getOtherAxis&&(ai=oi.getOtherAxis(ii).inverse),ni=ri.getData().mapDimension(ni),Kr={thisAxis:ii,series:ri,thisDim:Qr,otherDim:ni,otherAxisInverse:ai}}},this)},this),Kr}},Gr.prototype._renderHandle=function(){var Wr=this.group,Zr=this._displayables,Kr=Zr.handles=[null,null],Jr=Zr.handleLabels=[null,null],Qr=this._displayables.sliderGroup,ti=this._size,ei=this.dataZoomModel,ri=this.api,ii=ei.get("borderRadius")||0,ni=ei.get("brushSelect"),ai=Zr.filler=new Dm({silent:ni,style:{fill:ei.get("fillerColor")},textConfig:{position:"inside"}});Qr.add(ai),Qr.add(new Dm({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:ti[0],height:ti[1],r:ii},style:{stroke:ei.get("dataBackgroundColor")||ei.get("borderColor"),lineWidth:ant,fill:"rgba(0,0,0,0)"}})),_i([0,1],function(ci){var pi=ei.get("handleIcon");!Ev[pi]&&pi.indexOf("path://")<0&&pi.indexOf("image://")<0&&(pi="path://"+pi);var di=Bn(pi,-1,0,2,2,null,!0);di.attr({cursor:HH(this._orient),draggable:!0,drift:Gi(this._onDragMove,this,ci),ondragend:Gi(this._onDragEnd,this),onmouseover:Gi(this._showDataInfo,this,!0),onmouseout:Gi(this._showDataInfo,this,!1),z2:5});var vi=di.getBoundingRect(),mi=ei.get("handleSize");this._handleHeight=Ui(mi,this._size[1]),this._handleWidth=vi.width/vi.height*this._handleHeight,di.setStyle(ei.getModel("handleStyle").getItemStyle()),di.style.strokeNoScale=!0,di.rectHover=!0,di.ensureState("emphasis").style=ei.getModel(["emphasis","handleStyle"]).getItemStyle(),Il(di);var gi=ei.get("handleColor");gi!=null&&(di.style.fill=gi),Qr.add(Kr[ci]=di);var yi=ei.getModel("textStyle");Wr.add(Jr[ci]=new xn({silent:!0,invisible:!0,style:On(yi,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:yi.getTextColor(),font:yi.getFont()}),z2:10}))},this);var oi=ai;if(ni){var si=Ui(ei.get("moveHandleSize"),ti[1]),li=Zr.moveHandle=new mn({style:ei.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:ti[1]-.5,height:si}}),ui=si*.8,fi=Zr.moveHandleIcon=Bn(ei.get("moveHandleIcon"),-ui/2,-ui/2,ui,ui,"#fff",!0);fi.silent=!0,fi.y=ti[1]+si/2-.5,li.ensureState("emphasis").style=ei.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var hi=Math.min(ti[1]/2,Math.max(si,10));oi=Zr.moveZone=new mn({invisible:!0,shape:{y:ti[1]-hi,height:si+hi}}),oi.on("mouseover",function(){ri.enterEmphasis(li)}).on("mouseout",function(){ri.leaveEmphasis(li)}),Qr.add(li),Qr.add(fi),Qr.add(oi)}oi.attr({draggable:!0,cursor:HH(this._orient),drift:Gi(this._onDragMove,this,"all"),ondragstart:Gi(this._showDataInfo,this,!0),ondragend:Gi(this._onDragEnd,this),onmouseover:Gi(this._showDataInfo,this,!0),onmouseout:Gi(this._showDataInfo,this,!1)})},Gr.prototype._resetInterval=function(){var Wr=this._range=this.dataZoomModel.getPercentRange(),Zr=this._getViewExtent();this._handleEnds=[kn(Wr[0],[0,100],Zr,!0),kn(Wr[1],[0,100],Zr,!0)]},Gr.prototype._updateInterval=function(Wr,Zr){var Kr=this.dataZoomModel,Jr=this._handleEnds,Qr=this._getViewExtent(),ti=Kr.findRepresentativeAxisProxy().getMinMaxSpan(),ei=[0,100];Jo(Zr,Jr,Qr,Kr.get("zoomLock")?"all":Wr,ti.minSpan!=null?kn(ti.minSpan,ei,Qr,!0):null,ti.maxSpan!=null?kn(ti.maxSpan,ei,Qr,!0):null);var ri=this._range,ii=this._range=Oa([kn(Jr[0],Qr,ei,!0),kn(Jr[1],Qr,ei,!0)]);return!ri||ri[0]!==ii[0]||ri[1]!==ii[1]},Gr.prototype._updateView=function(Wr){var Zr=this._displayables,Kr=this._handleEnds,Jr=Oa(Kr.slice()),Qr=this._size;_i([0,1],function(oi){var si=Zr.handles[oi],li=this._handleHeight;si.attr({scaleX:li/2,scaleY:li/2,x:Kr[oi]+(oi?-1:1),y:Qr[1]/2-li/2})},this),Zr.filler.setShape({x:Jr[0],y:0,width:Jr[1]-Jr[0],height:Qr[1]});var ti={x:Jr[0],width:Jr[1]-Jr[0]};Zr.moveHandle&&(Zr.moveHandle.setShape(ti),Zr.moveZone.setShape(ti),Zr.moveZone.getBoundingRect(),Zr.moveHandleIcon&&Zr.moveHandleIcon.attr("x",ti.x+ti.width/2));for(var ei=Zr.dataShadowSegs,ri=[0,Jr[0],Jr[1],Qr[0]],ii=0;ii<ei.length;ii++){var ni=ei[ii],ai=ni.getClipPath();ai||(ai=new mn,ni.setClipPath(ai)),ai.setShape({x:ri[ii],y:0,width:ri[ii+1]-ri[ii],height:Qr[1]})}this._updateDataInfo(Wr)},Gr.prototype._updateDataInfo=function(Wr){var Zr=this.dataZoomModel,Kr=this._displayables,Jr=Kr.handleLabels,Qr=this._orient,ti=["",""];if(Zr.get("showDetail")){var ei=Zr.findRepresentativeAxisProxy();if(ei){var ri=ei.getAxisModel().axis,ii=this._range,ni=Wr?ei.calculateDataWindow({start:ii[0],end:ii[1]}).valueWindow:ei.getDataValueWindow();ti=[this._formatLabel(ni[0],ri),this._formatLabel(ni[1],ri)]}}var ai=Oa(this._handleEnds.slice());oi.call(this,0),oi.call(this,1);function oi(si){var li=el(Kr.handles[si].parent,this.group),ui=kh(si===0?"right":"left",li),fi=this._handleWidth/2+snt,hi=io([ai[si]+(si===0?-fi:fi),this._size[1]/2],li);Jr[si].setStyle({x:hi[0],y:hi[1],verticalAlign:Qr===Im?"middle":ui,align:Qr===Im?ui:"center",text:ti[si]})}},Gr.prototype._formatLabel=function(Wr,Zr){var Kr=this.dataZoomModel,Jr=Kr.get("labelFormatter"),Qr=Kr.get("labelPrecision");(Qr==null||Qr==="auto")&&(Qr=Zr.getPixelPrecision());var ti=Wr==null||isNaN(Wr)?"":Zr.type==="category"||Zr.type==="time"?Zr.scale.getLabel({value:Math.round(Wr)}):Wr.toFixed(Math.min(Qr,20));return Wi(Jr)?Jr(Wr,ti):Ni(Jr)?Jr.replace("{value}",ti):ti},Gr.prototype._showDataInfo=function(Wr){Wr=this._dragging||Wr;var Zr=this._displayables,Kr=Zr.handleLabels;Kr[0].attr("invisible",!Wr),Kr[1].attr("invisible",!Wr),Zr.moveHandle&&this.api[Wr?"enterEmphasis":"leaveEmphasis"](Zr.moveHandle,1)},Gr.prototype._onDragMove=function(Wr,Zr,Kr,Jr){this._dragging=!0,Ro(Jr.event);var Qr=this._displayables.sliderGroup.getLocalTransform(),ti=io([Zr,Kr],Qr,!0),ei=this._updateInterval(Wr,ti[0]),ri=this.dataZoomModel.get("realtime");this._updateView(!ri),ei&&ri&&this._dispatchZoomAction(!0)},Gr.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var Wr=this.dataZoomModel.get("realtime");!Wr&&this._dispatchZoomAction(!1)},Gr.prototype._onClickPanel=function(Wr){var Zr=this._size,Kr=this._displayables.sliderGroup.transformCoordToLocal(Wr.offsetX,Wr.offsetY);if(!(Kr[0]<0||Kr[0]>Zr[0]||Kr[1]<0||Kr[1]>Zr[1])){var Jr=this._handleEnds,Qr=(Jr[0]+Jr[1])/2,ti=this._updateInterval("all",Kr[0]-Qr);this._updateView(),ti&&this._dispatchZoomAction(!1)}},Gr.prototype._onBrushStart=function(Wr){var Zr=Wr.offsetX,Kr=Wr.offsetY;this._brushStart=new wn(Zr,Kr),this._brushing=!0,this._brushStartTime=+new Date},Gr.prototype._onBrushEnd=function(Wr){if(this._brushing){var Zr=this._displayables.brushRect;if(this._brushing=!1,!!Zr){Zr.attr("ignore",!0);var Kr=Zr.shape,Jr=+new Date;if(!(Jr-this._brushStartTime<200&&Math.abs(Kr.width)<5)){var Qr=this._getViewExtent(),ti=[0,100];this._range=Oa([kn(Kr.x,Qr,ti,!0),kn(Kr.x+Kr.width,Qr,ti,!0)]),this._handleEnds=[Kr.x,Kr.x+Kr.width],this._updateView(),this._dispatchZoomAction(!1)}}}},Gr.prototype._onBrush=function(Wr){this._brushing&&(Ro(Wr.event),this._updateBrushRect(Wr.offsetX,Wr.offsetY))},Gr.prototype._updateBrushRect=function(Wr,Zr){var Kr=this._displayables,Jr=this.dataZoomModel,Qr=Kr.brushRect;Qr||(Qr=Kr.brushRect=new Dm({silent:!0,style:Jr.getModel("brushStyle").getItemStyle()}),Kr.sliderGroup.add(Qr)),Qr.attr("ignore",!1);var ti=this._brushStart,ei=this._displayables.sliderGroup,ri=ei.transformCoordToLocal(Wr,Zr),ii=ei.transformCoordToLocal(ti.x,ti.y),ni=this._size;ri[0]=Math.max(Math.min(ni[0],ri[0]),0),Qr.setShape({x:ii[0],y:0,width:ri[0]-ii[0],height:ni[1]})},Gr.prototype._dispatchZoomAction=function(Wr){var Zr=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:Wr?unt:null,start:Zr[0],end:Zr[1]})},Gr.prototype._findCoordRect=function(){var Wr,Zr=g_(this.dataZoomModel).infoList;if(!Wr&&Zr.length){var Kr=Zr[0].model.coordinateSystem;Wr=Kr.getRect&&Kr.getRect()}if(!Wr){var Jr=this.api.getWidth(),Qr=this.api.getHeight();Wr={x:Jr*.2,y:Qr*.2,width:Jr*.6,height:Qr*.6}}return Wr},Gr.type="dataZoom.slider",Gr}(Xp);function hnt(Yr){var Gr={x:"y",y:"x",radius:"angle",angle:"radius"};return Gr[Yr]}function HH(Yr){return Yr==="vertical"?"ns-resize":"ew-resize"}var WH=fnt;function Lm(Yr){Yr.registerComponentModel(BH),Yr.registerComponentView(WH),uc(Yr)}function PP(Yr){Sn(Em),Sn(Lm)}var cnt={get:function(Yr,Gr,Wr){var Zr=Ki((pnt[Yr]||{})[Gr]);return Wr&&Ri(Zr)?Zr[Zr.length-1]:Zr}},pnt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},N_=cnt;var YH=ya.mapVisual,dnt=ya.eachVisual,vnt=Ri,XH=_i,mnt=Oa,gnt=kn,ynt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.stateList=["inRange","outOfRange"],Wr.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],Wr.layoutMode={type:"box",ignoreSize:!0},Wr.dataBound=[-1/0,1/0],Wr.targetVisuals={},Wr.controllerVisuals={},Wr}return Gr.prototype.init=function(Wr,Zr,Kr){this.mergeDefaultAndTheme(Wr,Kr)},Gr.prototype.optionUpdated=function(Wr,Zr){var Kr=this.option;!Zr&&w_(Kr,Wr,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},Gr.prototype.resetVisual=function(Wr){var Zr=this.stateList;Wr=Gi(Wr,this),this.controllerVisuals=Tm(this.option.controller,Zr,Wr),this.targetVisuals=Tm(this.option.target,Zr,Wr)},Gr.prototype.getItemSymbol=function(){return null},Gr.prototype.getTargetSeriesIndices=function(){var Wr=this.option.seriesIndex,Zr=[];return Wr==null||Wr==="all"?this.ecModel.eachSeries(function(Kr,Jr){Zr.push(Jr)}):Zr=En(Wr),Zr},Gr.prototype.eachTargetSeries=function(Wr,Zr){_i(this.getTargetSeriesIndices(),function(Kr){var Jr=this.ecModel.getSeriesByIndex(Kr);Jr&&Wr.call(Zr,Jr)},this)},Gr.prototype.isTargetSeries=function(Wr){var Zr=!1;return this.eachTargetSeries(function(Kr){Kr===Wr&&(Zr=!0)}),Zr},Gr.prototype.formatValueText=function(Wr,Zr,Kr){var Jr=this.option,Qr=Jr.precision,ti=this.dataBound,ei=Jr.formatter,ri;Kr=Kr||["<",">"],Ri(Wr)&&(Wr=Wr.slice(),ri=!0);var ii=Zr?Wr:ri?[ni(Wr[0]),ni(Wr[1])]:ni(Wr);if(Ni(ei))return ei.replace("{value}",ri?ii[0]:ii).replace("{value2}",ri?ii[1]:ii);if(Wi(ei))return ri?ei(Wr[0],Wr[1]):ei(Wr);if(ri)return Wr[0]===ti[0]?Kr[0]+" "+ii[1]:Wr[1]===ti[1]?Kr[1]+" "+ii[0]:ii[0]+" - "+ii[1];return ii;function ni(ai){return ai===ti[0]?"min":ai===ti[1]?"max":(+ai).toFixed(Math.min(Qr,20))}},Gr.prototype.resetExtent=function(){var Wr=this.option,Zr=mnt([Wr.min,Wr.max]);this._dataExtent=Zr},Gr.prototype.getDataDimensionIndex=function(Wr){var Zr=this.option.dimension;if(Zr!=null)return Wr.getDimensionIndex(Zr);for(var Kr=Wr.dimensions,Jr=Kr.length-1;Jr>=0;Jr--){var Qr=Kr[Jr],ti=Wr.getDimensionInfo(Qr);if(!ti.isCalculationCoord)return ti.storeDimIndex}},Gr.prototype.getExtent=function(){return this._dataExtent.slice()},Gr.prototype.completeVisualOption=function(){var Wr=this.ecModel,Zr=this.option,Kr={inRange:Zr.inRange,outOfRange:Zr.outOfRange},Jr=Zr.target||(Zr.target={}),Qr=Zr.controller||(Zr.controller={});un(Jr,Kr),un(Qr,Kr);var ti=this.isCategory();ei.call(this,Jr),ei.call(this,Qr),ri.call(this,Jr,"inRange","outOfRange"),ii.call(this,Qr);function ei(ni){vnt(Zr.color)&&!ni.inRange&&(ni.inRange={color:Zr.color.slice().reverse()}),ni.inRange=ni.inRange||{color:Wr.get("gradientColor")}}function ri(ni,ai,oi){var si=ni[ai],li=ni[oi];si&&!li&&(li=ni[oi]={},XH(si,function(ui,fi){if(ya.isValidType(fi)){var hi=N_.get(fi,"inactive",ti);hi!=null&&(li[fi]=hi,fi==="color"&&!li.hasOwnProperty("opacity")&&!li.hasOwnProperty("colorAlpha")&&(li.opacity=[0,0]))}}))}function ii(ni){var ai=(ni.inRange||{}).symbol||(ni.outOfRange||{}).symbol,oi=(ni.inRange||{}).symbolSize||(ni.outOfRange||{}).symbolSize,si=this.get("inactiveColor"),li=this.getItemSymbol(),ui=li||"roundRect";XH(this.stateList,function(fi){var hi=this.itemSize,ci=ni[fi];ci||(ci=ni[fi]={color:ti?si:[si]}),ci.symbol==null&&(ci.symbol=ai&&Ki(ai)||(ti?ui:[ui])),ci.symbolSize==null&&(ci.symbolSize=oi&&Ki(oi)||(ti?hi[0]:[hi[0],hi[0]])),ci.symbol=YH(ci.symbol,function(vi){return vi==="none"?ui:vi});var pi=ci.symbolSize;if(pi!=null){var di=-1/0;dnt(pi,function(vi){vi>di&&(di=vi)}),ci.symbolSize=YH(pi,function(vi){return gnt(vi,[0,di],[0,hi[0]],!0)})}},this)}},Gr.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},Gr.prototype.isCategory=function(){return!!this.option.categories},Gr.prototype.setSelected=function(Wr){},Gr.prototype.getSelected=function(){return null},Gr.prototype.getValueState=function(Wr){return null},Gr.prototype.getVisualMeta=function(Wr){return null},Gr.type="visualMap",Gr.dependencies=["series"],Gr.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},Gr}(_n),$p=ynt;var qH=[20,140],xnt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.optionUpdated=function(Wr,Zr){Yr.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(Kr){Kr.mappingMethod="linear",Kr.dataExtent=this.getExtent()}),this._resetRange()},Gr.prototype.resetItemSize=function(){Yr.prototype.resetItemSize.apply(this,arguments);var Wr=this.itemSize;(Wr[0]==null||isNaN(Wr[0]))&&(Wr[0]=qH[0]),(Wr[1]==null||isNaN(Wr[1]))&&(Wr[1]=qH[1])},Gr.prototype._resetRange=function(){var Wr=this.getExtent(),Zr=this.option.range;!Zr||Zr.auto?(Wr.auto=1,this.option.range=Wr):Ri(Zr)&&(Zr[0]>Zr[1]&&Zr.reverse(),Zr[0]=Math.max(Zr[0],Wr[0]),Zr[1]=Math.min(Zr[1],Wr[1]))},Gr.prototype.completeVisualOption=function(){Yr.prototype.completeVisualOption.apply(this,arguments),_i(this.stateList,function(Wr){var Zr=this.option.controller[Wr].symbolSize;Zr&&Zr[0]!==Zr[1]&&(Zr[0]=Zr[1]/3)},this)},Gr.prototype.setSelected=function(Wr){this.option.range=Wr.slice(),this._resetRange()},Gr.prototype.getSelected=function(){var Wr=this.getExtent(),Zr=Oa((this.get("range")||[]).slice());return Zr[0]>Wr[1]&&(Zr[0]=Wr[1]),Zr[1]>Wr[1]&&(Zr[1]=Wr[1]),Zr[0]<Wr[0]&&(Zr[0]=Wr[0]),Zr[1]<Wr[0]&&(Zr[1]=Wr[0]),Zr},Gr.prototype.getValueState=function(Wr){var Zr=this.option.range,Kr=this.getExtent();return(Zr[0]<=Kr[0]||Zr[0]<=Wr)&&(Zr[1]>=Kr[1]||Wr<=Zr[1])?"inRange":"outOfRange"},Gr.prototype.findTargetDataIndices=function(Wr){var Zr=[];return this.eachTargetSeries(function(Kr){var Jr=[],Qr=Kr.getData();Qr.each(this.getDataDimensionIndex(Qr),function(ti,ei){Wr[0]<=ti&&ti<=Wr[1]&&Jr.push(ei)},this),Zr.push({seriesId:Kr.id,dataIndex:Jr})},this),Zr},Gr.prototype.getVisualMeta=function(Wr){var Zr=ZH(this,"outOfRange",this.getExtent()),Kr=ZH(this,"inRange",this.option.range.slice()),Jr=[];function Qr(oi,si){Jr.push({value:oi,color:Wr(oi,si)})}for(var ti=0,ei=0,ri=Kr.length,ii=Zr.length;ei<ii&&(!Kr.length||Zr[ei]<=Kr[0]);ei++)Zr[ei]<Kr[ti]&&Qr(Zr[ei],"outOfRange");for(var ni=1;ti<ri;ti++,ni=0)ni&&Jr.length&&Qr(Kr[ti],"outOfRange"),Qr(Kr[ti],"inRange");for(var ni=1;ei<ii;ei++)(!Kr.length||Kr[Kr.length-1]<Zr[ei])&&(ni&&(Jr.length&&Qr(Jr[Jr.length-1].value,"outOfRange"),ni=0),Qr(Zr[ei],"outOfRange"));var ai=Jr.length;return{stops:Jr,outerColors:[ai?Jr[0].color:"transparent",ai?Jr[ai-1].color:"transparent"]}},Gr.type="visualMap.continuous",Gr.defaultOption=mo($p.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),Gr}($p);function ZH(Yr,Gr,Wr){if(Wr[0]===Wr[1])return Wr.slice();for(var Zr=200,Kr=(Wr[1]-Wr[0])/Zr,Jr=Wr[0],Qr=[],ti=0;ti<=Zr&&Jr<Wr[1];ti++)Qr.push(Jr),Jr+=Kr;return Qr.push(Wr[1]),Qr}var jH=xnt;var _nt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr.autoPositionValues={left:1,right:1,top:1,bottom:1},Wr}return Gr.prototype.init=function(Wr,Zr){this.ecModel=Wr,this.api=Zr},Gr.prototype.render=function(Wr,Zr,Kr,Jr){if(this.visualMapModel=Wr,Wr.get("show")===!1){this.group.removeAll();return}this.doRender(Wr,Zr,Kr,Jr)},Gr.prototype.renderBackground=function(Wr){var Zr=this.visualMapModel,Kr=il(Zr.get("padding")||0),Jr=Wr.getBoundingRect();Wr.add(new mn({z2:-1,silent:!0,shape:{x:Jr.x-Kr[3],y:Jr.y-Kr[0],width:Jr.width+Kr[3]+Kr[1],height:Jr.height+Kr[0]+Kr[2]},style:{fill:Zr.get("backgroundColor"),stroke:Zr.get("borderColor"),lineWidth:Zr.get("borderWidth")}}))},Gr.prototype.getControllerVisual=function(Wr,Zr,Kr){Kr=Kr||{};var Jr=Kr.forceState,Qr=this.visualMapModel,ti={};if(Zr==="color"){var ei=Qr.get("contentColor");ti.color=ei}function ri(oi){return ti[oi]}function ii(oi,si){ti[oi]=si}var ni=Qr.controllerVisuals[Jr||Qr.getValueState(Wr)],ai=ya.prepareVisualTypes(ni);return _i(ai,function(oi){var si=ni[oi];Kr.convertOpacityToAlpha&&oi==="opacity"&&(oi="colorAlpha",si=ni.__alphaForOpacity),ya.dependsOn(oi,Zr)&&si&&si.applyVisual(Wr,ri,ii)}),ti[Zr]},Gr.prototype.positionGroup=function(Wr){var Zr=this.visualMapModel,Kr=this.api;of(Wr,Zr.getBoxLayoutParams(),{width:Kr.getWidth(),height:Kr.getHeight()})},Gr.prototype.doRender=function(Wr,Zr,Kr,Jr){},Gr.type="visualMap",Gr}(Dn),F_=_nt;var KH=[["left","right","width"],["top","bottom","height"]];function V_(Yr,Gr,Wr){var Zr=Yr.option,Kr=Zr.align;if(Kr!=null&&Kr!=="auto")return Kr;for(var Jr={width:Gr.getWidth(),height:Gr.getHeight()},Qr=Zr.orient==="horizontal"?1:0,ti=KH[Qr],ei=[0,null,10],ri={},ii=0;ii<3;ii++)ri[KH[1-Qr][ii]]=ei[ii],ri[ti[ii]]=ii===2?Wr[0]:Zr[ti[ii]];var ni=[["x","width",3],["y","height",0]][Qr],ai=Vn(ri,Jr,Zr.padding);return ti[(ai.margin[ni[2]]||0)+ai[ni[0]]+ai[ni[1]]*.5<Jr[ni[1]]*.5?0:1]}function Jp(Yr,Gr){return _i(Yr||[],function(Wr){Wr.dataIndex!=null&&(Wr.dataIndexInside=Wr.dataIndex,Wr.dataIndex=null),Wr.highlightKey="visualMap"+(Gr?Gr.componentIndex:"")}),Yr}var Zl=kn,bnt=_i,JH=Math.min,EP=Math.max,Snt=12,wnt=6,Cnt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._shapes={},Wr._dataInterval=[],Wr._handleEnds=[],Wr._hoverLinkDataIndices=[],Wr}return Gr.prototype.init=function(Wr,Zr){Yr.prototype.init.call(this,Wr,Zr),this._hoverLinkFromSeriesMouseOver=Gi(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Gi(this._hideIndicator,this)},Gr.prototype.doRender=function(Wr,Zr,Kr,Jr){(!Jr||Jr.type!=="selectDataRange"||Jr.from!==this.uid)&&this._buildView()},Gr.prototype._buildView=function(){this.group.removeAll();var Wr=this.visualMapModel,Zr=this.group;this._orient=Wr.get("orient"),this._useHandle=Wr.get("calculable"),this._resetInterval(),this._renderBar(Zr);var Kr=Wr.get("text");this._renderEndsText(Zr,Kr,0),this._renderEndsText(Zr,Kr,1),this._updateView(!0),this.renderBackground(Zr),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(Zr)},Gr.prototype._renderEndsText=function(Wr,Zr,Kr){if(Zr){var Jr=Zr[1-Kr];Jr=Jr!=null?Jr+"":"";var Qr=this.visualMapModel,ti=Qr.get("textGap"),ei=Qr.itemSize,ri=this._shapes.mainGroup,ii=this._applyTransform([ei[0]/2,Kr===0?-ti:ei[1]+ti],ri),ni=this._applyTransform(Kr===0?"bottom":"top",ri),ai=this._orient,oi=this.visualMapModel.textStyleModel;this.group.add(new xn({style:On(oi,{x:ii[0],y:ii[1],verticalAlign:ai==="horizontal"?"middle":ni,align:ai==="horizontal"?ni:"center",text:Jr})}))}},Gr.prototype._renderBar=function(Wr){var Zr=this.visualMapModel,Kr=this._shapes,Jr=Zr.itemSize,Qr=this._orient,ti=this._useHandle,ei=V_(Zr,this.api,Jr),ri=Kr.mainGroup=this._createBarGroup(ei),ii=new Zi;ri.add(ii),ii.add(Kr.outOfRange=QH()),ii.add(Kr.inRange=QH(null,ti?e3(this._orient):null,Gi(this._dragHandle,this,"all",!1),Gi(this._dragHandle,this,"all",!0))),ii.setClipPath(new mn({shape:{x:0,y:0,width:Jr[0],height:Jr[1],r:3}}));var ni=Zr.textStyleModel.getTextRect("\u56FD"),ai=EP(ni.width,ni.height);ti&&(Kr.handleThumbs=[],Kr.handleLabels=[],Kr.handleLabelPoints=[],this._createHandle(Zr,ri,0,Jr,ai,Qr),this._createHandle(Zr,ri,1,Jr,ai,Qr)),this._createIndicator(Zr,ri,Jr,ai,Qr),Wr.add(ri)},Gr.prototype._createHandle=function(Wr,Zr,Kr,Jr,Qr,ti){var ei=Gi(this._dragHandle,this,Kr,!1),ri=Gi(this._dragHandle,this,Kr,!0),ii=eo(Wr.get("handleSize"),Jr[0]),ni=Bn(Wr.get("handleIcon"),-ii/2,-ii/2,ii,ii,null,!0),ai=e3(this._orient);ni.attr({cursor:ai,draggable:!0,drift:ei,ondragend:ri,onmousemove:function(fi){Ro(fi.event)}}),ni.x=Jr[0]/2,ni.useStyle(Wr.getModel("handleStyle").getItemStyle()),ni.setStyle({strokeNoScale:!0,strokeFirst:!0}),ni.style.lineWidth*=2,ni.ensureState("emphasis").style=Wr.getModel(["emphasis","handleStyle"]).getItemStyle(),fu(ni,!0),Zr.add(ni);var oi=this.visualMapModel.textStyleModel,si=new xn({cursor:ai,draggable:!0,drift:ei,onmousemove:function(fi){Ro(fi.event)},ondragend:ri,style:On(oi,{x:0,y:0,text:""})});si.ensureState("blur").style={opacity:.1},si.stateTransition={duration:200},this.group.add(si);var li=[ii,0],ui=this._shapes;ui.handleThumbs[Kr]=ni,ui.handleLabelPoints[Kr]=li,ui.handleLabels[Kr]=si},Gr.prototype._createIndicator=function(Wr,Zr,Kr,Jr,Qr){var ti=eo(Wr.get("indicatorSize"),Kr[0]),ei=Bn(Wr.get("indicatorIcon"),-ti/2,-ti/2,ti,ti,null,!0);ei.attr({cursor:"move",invisible:!0,silent:!0,x:Kr[0]/2});var ri=Wr.getModel("indicatorStyle").getItemStyle();if(ei instanceof Kn){var ii=ei.style;ei.useStyle(ki({image:ii.image,x:ii.x,y:ii.y,width:ii.width,height:ii.height},ri))}else ei.useStyle(ri);Zr.add(ei);var ni=this.visualMapModel.textStyleModel,ai=new xn({silent:!0,invisible:!0,style:On(ni,{x:0,y:0,text:""})});this.group.add(ai);var oi=[(Qr==="horizontal"?Jr/2:wnt)+Kr[0]/2,0],si=this._shapes;si.indicator=ei,si.indicatorLabel=ai,si.indicatorLabelPoint=oi,this._firstShowIndicator=!0},Gr.prototype._dragHandle=function(Wr,Zr,Kr,Jr){if(this._useHandle){if(this._dragging=!Zr,!Zr){var Qr=this._applyTransform([Kr,Jr],this._shapes.mainGroup,!0);this._updateInterval(Wr,Qr[1]),this._hideIndicator(),this._updateView()}Zr===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),Zr?!this._hovering&&this._clearHoverLinkToSeries():t3(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[Wr],!1)}},Gr.prototype._resetInterval=function(){var Wr=this.visualMapModel,Zr=this._dataInterval=Wr.getSelected(),Kr=Wr.getExtent(),Jr=[0,Wr.itemSize[1]];this._handleEnds=[Zl(Zr[0],Kr,Jr,!0),Zl(Zr[1],Kr,Jr,!0)]},Gr.prototype._updateInterval=function(Wr,Zr){Zr=Zr||0;var Kr=this.visualMapModel,Jr=this._handleEnds,Qr=[0,Kr.itemSize[1]];Jo(Zr,Jr,Qr,Wr,0);var ti=Kr.getExtent();this._dataInterval=[Zl(Jr[0],Qr,ti,!0),Zl(Jr[1],Qr,ti,!0)]},Gr.prototype._updateView=function(Wr){var Zr=this.visualMapModel,Kr=Zr.getExtent(),Jr=this._shapes,Qr=[0,Zr.itemSize[1]],ti=Wr?Qr:this._handleEnds,ei=this._createBarVisual(this._dataInterval,Kr,ti,"inRange"),ri=this._createBarVisual(Kr,Kr,Qr,"outOfRange");Jr.inRange.setStyle({fill:ei.barColor}).setShape("points",ei.barPoints),Jr.outOfRange.setStyle({fill:ri.barColor}).setShape("points",ri.barPoints),this._updateHandle(ti,ei)},Gr.prototype._createBarVisual=function(Wr,Zr,Kr,Jr){var Qr={forceState:Jr,convertOpacityToAlpha:!0},ti=this._makeColorGradient(Wr,Qr),ei=[this.getControllerVisual(Wr[0],"symbolSize",Qr),this.getControllerVisual(Wr[1],"symbolSize",Qr)],ri=this._createBarPoints(Kr,ei);return{barColor:new kl(0,0,0,1,ti),barPoints:ri,handlesColor:[ti[0].color,ti[ti.length-1].color]}},Gr.prototype._makeColorGradient=function(Wr,Zr){var Kr=100,Jr=[],Qr=(Wr[1]-Wr[0])/Kr;Jr.push({color:this.getControllerVisual(Wr[0],"color",Zr),offset:0});for(var ti=1;ti<Kr;ti++){var ei=Wr[0]+Qr*ti;if(ei>Wr[1])break;Jr.push({color:this.getControllerVisual(ei,"color",Zr),offset:ti/Kr})}return Jr.push({color:this.getControllerVisual(Wr[1],"color",Zr),offset:1}),Jr},Gr.prototype._createBarPoints=function(Wr,Zr){var Kr=this.visualMapModel.itemSize;return[[Kr[0]-Zr[0],Wr[0]],[Kr[0],Wr[0]],[Kr[0],Wr[1]],[Kr[0]-Zr[1],Wr[1]]]},Gr.prototype._createBarGroup=function(Wr){var Zr=this._orient,Kr=this.visualMapModel.get("inverse");return new Zi(Zr==="horizontal"&&!Kr?{scaleX:Wr==="bottom"?1:-1,rotation:Math.PI/2}:Zr==="horizontal"&&Kr?{scaleX:Wr==="bottom"?-1:1,rotation:-Math.PI/2}:Zr==="vertical"&&!Kr?{scaleX:Wr==="left"?1:-1,scaleY:-1}:{scaleX:Wr==="left"?1:-1})},Gr.prototype._updateHandle=function(Wr,Zr){if(this._useHandle){var Kr=this._shapes,Jr=this.visualMapModel,Qr=Kr.handleThumbs,ti=Kr.handleLabels,ei=Jr.itemSize,ri=Jr.getExtent();bnt([0,1],function(ii){var ni=Qr[ii];ni.setStyle("fill",Zr.handlesColor[ii]),ni.y=Wr[ii];var ai=Zl(Wr[ii],[0,ei[1]],ri,!0),oi=this.getControllerVisual(ai,"symbolSize");ni.scaleX=ni.scaleY=oi/ei[0],ni.x=ei[0]-oi/2;var si=io(Kr.handleLabelPoints[ii],el(ni,this.group));ti[ii].setStyle({x:si[0],y:si[1],text:Jr.formatValueText(this._dataInterval[ii]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",Kr.mainGroup):"center"})},this)}},Gr.prototype._showIndicator=function(Wr,Zr,Kr,Jr){var Qr=this.visualMapModel,ti=Qr.getExtent(),ei=Qr.itemSize,ri=[0,ei[1]],ii=this._shapes,ni=ii.indicator;if(ni){ni.attr("invisible",!1);var ai={convertOpacityToAlpha:!0},oi=this.getControllerVisual(Wr,"color",ai),si=this.getControllerVisual(Wr,"symbolSize"),li=Zl(Wr,ti,ri,!0),ui=ei[0]-si/2,fi={x:ni.x,y:ni.y};ni.y=li,ni.x=ui;var hi=io(ii.indicatorLabelPoint,el(ni,this.group)),ci=ii.indicatorLabel;ci.attr("invisible",!1);var pi=this._applyTransform("left",ii.mainGroup),di=this._orient,vi=di==="horizontal";ci.setStyle({text:(Kr||"")+Qr.formatValueText(Zr),verticalAlign:vi?pi:"middle",align:vi?"center":pi});var mi={x:ui,y:li,style:{fill:oi}},gi={style:{x:hi[0],y:hi[1]}};if(Qr.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var yi={duration:100,easing:"cubicInOut",additive:!0};ni.x=fi.x,ni.y=fi.y,ni.animateTo(mi,yi),ci.animateTo(gi,yi)}else ni.attr(mi),ci.attr(gi);this._firstShowIndicator=!1;var Si=this._shapes.handleLabels;if(Si)for(var bi=0;bi<Si.length;bi++)this.api.enterBlur(Si[bi])}},Gr.prototype._enableHoverLinkToSeries=function(){var Wr=this;this._shapes.mainGroup.on("mousemove",function(Zr){if(Wr._hovering=!0,!Wr._dragging){var Kr=Wr.visualMapModel.itemSize,Jr=Wr._applyTransform([Zr.offsetX,Zr.offsetY],Wr._shapes.mainGroup,!0,!0);Jr[1]=JH(EP(0,Jr[1]),Kr[1]),Wr._doHoverLinkToSeries(Jr[1],0<=Jr[0]&&Jr[0]<=Kr[0])}}).on("mouseout",function(){Wr._hovering=!1,!Wr._dragging&&Wr._clearHoverLinkToSeries()})},Gr.prototype._enableHoverLinkFromSeries=function(){var Wr=this.api.getZr();this.visualMapModel.option.hoverLink?(Wr.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),Wr.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},Gr.prototype._doHoverLinkToSeries=function(Wr,Zr){var Kr=this.visualMapModel,Jr=Kr.itemSize;if(Kr.option.hoverLink){var Qr=[0,Jr[1]],ti=Kr.getExtent();Wr=JH(EP(Qr[0],Wr),Qr[1]);var ei=Tnt(Kr,ti,Qr),ri=[Wr-ei,Wr+ei],ii=Zl(Wr,Qr,ti,!0),ni=[Zl(ri[0],Qr,ti,!0),Zl(ri[1],Qr,ti,!0)];ri[0]<Qr[0]&&(ni[0]=-1/0),ri[1]>Qr[1]&&(ni[1]=1/0),Zr&&(ni[0]===-1/0?this._showIndicator(ii,ni[1],"< ",ei):ni[1]===1/0?this._showIndicator(ii,ni[0],"> ",ei):this._showIndicator(ii,ii,"\u2248 ",ei));var ai=this._hoverLinkDataIndices,oi=[];(Zr||t3(Kr))&&(oi=this._hoverLinkDataIndices=Kr.findTargetDataIndices(ni));var si=YI(ai,oi);this._dispatchHighDown("downplay",Jp(si[0],Kr)),this._dispatchHighDown("highlight",Jp(si[1],Kr))}},Gr.prototype._hoverLinkFromSeriesMouseOver=function(Wr){var Zr;if(sl(Wr.target,function(ei){var ri=Qi(ei);if(ri.dataIndex!=null)return Zr=ri,!0},!0),!!Zr){var Kr=this.ecModel.getSeriesByIndex(Zr.seriesIndex),Jr=this.visualMapModel;if(Jr.isTargetSeries(Kr)){var Qr=Kr.getData(Zr.dataType),ti=Qr.getStore().get(Jr.getDataDimensionIndex(Qr),Zr.dataIndex);isNaN(ti)||this._showIndicator(ti,ti)}}},Gr.prototype._hideIndicator=function(){var Wr=this._shapes;Wr.indicator&&Wr.indicator.attr("invisible",!0),Wr.indicatorLabel&&Wr.indicatorLabel.attr("invisible",!0);var Zr=this._shapes.handleLabels;if(Zr)for(var Kr=0;Kr<Zr.length;Kr++)this.api.leaveBlur(Zr[Kr])},Gr.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var Wr=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Jp(Wr,this.visualMapModel)),Wr.length=0},Gr.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var Wr=this.api.getZr();Wr.off("mouseover",this._hoverLinkFromSeriesMouseOver),Wr.off("mouseout",this._hideIndicator)},Gr.prototype._applyTransform=function(Wr,Zr,Kr,Jr){var Qr=el(Zr,Jr?null:this.group);return Ri(Wr)?io(Wr,Qr,Kr):kh(Wr,Qr,Kr)},Gr.prototype._dispatchHighDown=function(Wr,Zr){Zr&&Zr.length&&this.api.dispatchAction({type:Wr,batch:Zr})},Gr.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},Gr.type="visualMap.continuous",Gr}(F_);function QH(Yr,Gr,Wr,Zr){return new fa({shape:{points:Yr},draggable:!!Wr,cursor:Gr,drift:Wr,onmousemove:function(Kr){Ro(Kr.event)},ondragend:Zr})}function Tnt(Yr,Gr,Wr){var Zr=Snt/2,Kr=Yr.get("hoverLinkDataSize");return Kr&&(Zr=Zl(Kr,Gr,Wr,!0)/2),Zr}function t3(Yr){var Gr=Yr.get("hoverLinkOnHandle");return!!(Gr??Yr.get("realtime"))}function e3(Yr){return Yr==="vertical"?"ns-resize":"ew-resize"}var r3=Cnt;var i3={type:"selectDataRange",event:"dataRangeSelected",update:"update"},n3=function(Yr,Gr){Gr.eachComponent({mainType:"visualMap",query:Yr},function(Wr){Wr.setSelected(Yr.selected)})};var a3=[{createOnAllSeries:!0,reset:function(Yr,Gr){var Wr=[];return Gr.eachComponent("visualMap",function(Zr){var Kr=Yr.pipelineContext;!Zr.isTargetSeries(Yr)||Kr&&Kr.large||Wr.push(Y5(Zr.stateList,Zr.targetVisuals,Gi(Zr.getValueState,Zr),Zr.getDataDimensionIndex(Yr.getData())))}),Wr}},{createOnAllSeries:!0,reset:function(Yr,Gr){var Wr=Yr.getData(),Zr=[];Gr.eachComponent("visualMap",function(Kr){if(Kr.isTargetSeries(Yr)){var Jr=Kr.getVisualMeta(Gi(Ant,null,Yr,Kr))||{stops:[],outerColors:[]},Qr=Kr.getDataDimensionIndex(Wr);Qr>=0&&(Jr.dimension=Qr,Zr.push(Jr))}}),Yr.getData().setVisual("visualMeta",Zr)}}];function Ant(Yr,Gr,Wr,Zr){for(var Kr=Gr.targetVisuals[Zr],Jr=ya.prepareVisualTypes(Kr),Qr={color:Ol(Yr.getData(),"color")},ti=0,ei=Jr.length;ti<ei;ti++){var ri=Jr[ti],ii=Kr[ri==="opacity"?"__alphaForOpacity":ri];ii&&ii.applyVisual(Wr,ni,ai)}return Qr.color;function ni(oi){return Qr[oi]}function ai(oi,si){Qr[oi]=si}}var o3=_i;function DP(Yr){var Gr=Yr&&Yr.visualMap;Ri(Gr)||(Gr=Gr?[Gr]:[]),o3(Gr,function(Wr){if(Wr){Qp(Wr,"splitList")&&!Qp(Wr,"pieces")&&(Wr.pieces=Wr.splitList,delete Wr.splitList);var Zr=Wr.pieces;Zr&&Ri(Zr)&&o3(Zr,function(Kr){qi(Kr)&&(Qp(Kr,"start")&&!Qp(Kr,"min")&&(Kr.min=Kr.start),Qp(Kr,"end")&&!Qp(Kr,"max")&&(Kr.max=Kr.end))})}})}function Qp(Yr,Gr){return Yr&&Yr.hasOwnProperty&&Yr.hasOwnProperty(Gr)}var s3=!1;function km(Yr){s3||(s3=!0,Yr.registerSubTypeDefaulter("visualMap",function(Gr){return!Gr.categories&&(!(Gr.pieces?Gr.pieces.length>0:Gr.splitNumber>0)||Gr.calculable)?"continuous":"piecewise"}),Yr.registerAction(i3,n3),_i(a3,function(Gr){Yr.registerVisual(Yr.PRIORITY.VISUAL.COMPONENT,Gr)}),Yr.registerPreprocessor(DP))}function Rm(Yr){Yr.registerComponentModel(jH),Yr.registerComponentView(r3),km(Yr)}var Mnt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr._pieceList=[],Wr}return Gr.prototype.optionUpdated=function(Wr,Zr){Yr.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var Kr=this._mode=this._determineMode();this._pieceList=[],Pnt[this._mode].call(this,this._pieceList),this._resetSelected(Wr,Zr);var Jr=this.option.categories;this.resetVisual(function(Qr,ti){Kr==="categories"?(Qr.mappingMethod="category",Qr.categories=Ki(Jr)):(Qr.dataExtent=this.getExtent(),Qr.mappingMethod="piecewise",Qr.pieceList=Oi(this._pieceList,function(ei){return ei=Ki(ei),ti!=="inRange"&&(ei.visual=null),ei}))})},Gr.prototype.completeVisualOption=function(){var Wr=this.option,Zr={},Kr=ya.listVisualTypes(),Jr=this.isCategory();_i(Wr.pieces,function(ti){_i(Kr,function(ei){ti.hasOwnProperty(ei)&&(Zr[ei]=1)})}),_i(Zr,function(ti,ei){var ri=!1;_i(this.stateList,function(ii){ri=ri||Qr(Wr,ii,ei)||Qr(Wr.target,ii,ei)},this),!ri&&_i(this.stateList,function(ii){(Wr[ii]||(Wr[ii]={}))[ei]=N_.get(ei,ii==="inRange"?"active":"inactive",Jr)})},this);function Qr(ti,ei,ri){return ti&&ti[ei]&&ti[ei].hasOwnProperty(ri)}Yr.prototype.completeVisualOption.apply(this,arguments)},Gr.prototype._resetSelected=function(Wr,Zr){var Kr=this.option,Jr=this._pieceList,Qr=(Zr?Kr:Wr).selected||{};if(Kr.selected=Qr,_i(Jr,function(ei,ri){var ii=this.getSelectedMapKey(ei);Qr.hasOwnProperty(ii)||(Qr[ii]=!0)},this),Kr.selectedMode==="single"){var ti=!1;_i(Jr,function(ei,ri){var ii=this.getSelectedMapKey(ei);Qr[ii]&&(ti?Qr[ii]=!1:ti=!0)},this)}},Gr.prototype.getItemSymbol=function(){return this.get("itemSymbol")},Gr.prototype.getSelectedMapKey=function(Wr){return this._mode==="categories"?Wr.value+"":Wr.index+""},Gr.prototype.getPieceList=function(){return this._pieceList},Gr.prototype._determineMode=function(){var Wr=this.option;return Wr.pieces&&Wr.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},Gr.prototype.setSelected=function(Wr){this.option.selected=Ki(Wr)},Gr.prototype.getValueState=function(Wr){var Zr=ya.findPieceIndex(Wr,this._pieceList);return Zr!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[Zr])]?"inRange":"outOfRange"},Gr.prototype.findTargetDataIndices=function(Wr){var Zr=[],Kr=this._pieceList;return this.eachTargetSeries(function(Jr){var Qr=[],ti=Jr.getData();ti.each(this.getDataDimensionIndex(ti),function(ei,ri){var ii=ya.findPieceIndex(ei,Kr);ii===Wr&&Qr.push(ri)},this),Zr.push({seriesId:Jr.id,dataIndex:Qr})},this),Zr},Gr.prototype.getRepresentValue=function(Wr){var Zr;if(this.isCategory())Zr=Wr.value;else if(Wr.value!=null)Zr=Wr.value;else{var Kr=Wr.interval||[];Zr=Kr[0]===-1/0&&Kr[1]===1/0?0:(Kr[0]+Kr[1])/2}return Zr},Gr.prototype.getVisualMeta=function(Wr){if(this.isCategory())return;var Zr=[],Kr=["",""],Jr=this;function Qr(ii,ni){var ai=Jr.getRepresentValue({interval:ii});ni||(ni=Jr.getValueState(ai));var oi=Wr(ai,ni);ii[0]===-1/0?Kr[0]=oi:ii[1]===1/0?Kr[1]=oi:Zr.push({value:ii[0],color:oi},{value:ii[1],color:oi})}var ti=this._pieceList.slice();if(!ti.length)ti.push({interval:[-1/0,1/0]});else{var ei=ti[0].interval[0];ei!==-1/0&&ti.unshift({interval:[-1/0,ei]}),ei=ti[ti.length-1].interval[1],ei!==1/0&&ti.push({interval:[ei,1/0]})}var ri=-1/0;return _i(ti,function(ii){var ni=ii.interval;ni&&(ni[0]>ri&&Qr([ri,ni[0]],"outOfRange"),Qr(ni.slice()),ri=ni[1])},this),{stops:Zr,outerColors:Kr}},Gr.type="visualMap.piecewise",Gr.defaultOption=mo($p.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),Gr}($p),Pnt={splitNumber:function(Yr){var Gr=this.option,Wr=Math.min(Gr.precision,20),Zr=this.getExtent(),Kr=Gr.splitNumber;Kr=Math.max(parseInt(Kr,10),1),Gr.splitNumber=Kr;for(var Jr=(Zr[1]-Zr[0])/Kr;+Jr.toFixed(Wr)!==Jr&&Wr<5;)Wr++;Gr.precision=Wr,Jr=+Jr.toFixed(Wr),Gr.minOpen&&Yr.push({interval:[-1/0,Zr[0]],close:[0,0]});for(var Qr=0,ti=Zr[0];Qr<Kr;ti+=Jr,Qr++){var ei=Qr===Kr-1?Zr[1]:ti+Jr;Yr.push({interval:[ti,ei],close:[1,1]})}Gr.maxOpen&&Yr.push({interval:[Zr[1],1/0],close:[0,0]}),CS(Yr),_i(Yr,function(ri,ii){ri.index=ii,ri.text=this.formatValueText(ri.interval)},this)},categories:function(Yr){var Gr=this.option;_i(Gr.categories,function(Wr){Yr.push({text:this.formatValueText(Wr,!0),value:Wr})},this),l3(Gr,Yr)},pieces:function(Yr){var Gr=this.option;_i(Gr.pieces,function(Wr,Zr){qi(Wr)||(Wr={value:Wr});var Kr={text:"",index:Zr};if(Wr.label!=null&&(Kr.text=Wr.label),Wr.hasOwnProperty("value")){var Jr=Kr.value=Wr.value;Kr.interval=[Jr,Jr],Kr.close=[1,1]}else{for(var Qr=Kr.interval=[],ti=Kr.close=[0,0],ei=[1,0,1],ri=[-1/0,1/0],ii=[],ni=0;ni<2;ni++){for(var ai=[["gte","gt","min"],["lte","lt","max"]][ni],oi=0;oi<3&&Qr[ni]==null;oi++)Qr[ni]=Wr[ai[oi]],ti[ni]=ei[oi],ii[ni]=oi===2;Qr[ni]==null&&(Qr[ni]=ri[ni])}ii[0]&&Qr[1]===1/0&&(ti[0]=0),ii[1]&&Qr[0]===-1/0&&(ti[1]=0),Qr[0]===Qr[1]&&ti[0]&&ti[1]&&(Kr.value=Qr[0])}Kr.visual=ya.retrieveVisuals(Wr),Yr.push(Kr)},this),l3(Gr,Yr),CS(Yr),_i(Yr,function(Wr){var Zr=Wr.close,Kr=[["<","\u2264"][Zr[1]],[">","\u2265"][Zr[0]]];Wr.text=Wr.text||this.formatValueText(Wr.value!=null?Wr.value:Wr.interval,!1,Kr)},this)}};function l3(Yr,Gr){var Wr=Yr.inverse;(Yr.orient==="vertical"?!Wr:Wr)&&Gr.reverse()}var u3=Mnt;var Ent=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type=Gr.type,Wr}return Gr.prototype.doRender=function(){var Wr=this.group;Wr.removeAll();var Zr=this.visualMapModel,Kr=Zr.get("textGap"),Jr=Zr.textStyleModel,Qr=Jr.getFont(),ti=Jr.getTextColor(),ei=this._getItemAlign(),ri=Zr.itemSize,ii=this._getViewData(),ni=ii.endsText,ai=ta(Zr.get("showLabel",!0),!ni);ni&&this._renderEndsText(Wr,ni[0],ri,ai,ei),_i(ii.viewPieceList,function(oi){var si=oi.piece,li=new Zi;li.onclick=Gi(this._onItemClick,this,si),this._enableHoverLink(li,oi.indexInModelPieceList);var ui=Zr.getRepresentValue(si);if(this._createItemSymbol(li,ui,[0,0,ri[0],ri[1]]),ai){var fi=this.visualMapModel.getValueState(ui);li.add(new xn({style:{x:ei==="right"?-Kr:ri[0]+Kr,y:ri[1]/2,text:si.text,verticalAlign:"middle",align:ei,font:Qr,fill:ti,opacity:fi==="outOfRange"?.5:1}}))}Wr.add(li)},this),ni&&this._renderEndsText(Wr,ni[1],ri,ai,ei),al(Zr.get("orient"),Wr,Zr.get("itemGap")),this.renderBackground(Wr),this.positionGroup(Wr)},Gr.prototype._enableHoverLink=function(Wr,Zr){var Kr=this;Wr.on("mouseover",function(){return Jr("highlight")}).on("mouseout",function(){return Jr("downplay")});var Jr=function(Qr){var ti=Kr.visualMapModel;ti.option.hoverLink&&Kr.api.dispatchAction({type:Qr,batch:Jp(ti.findTargetDataIndices(Zr),ti)})}},Gr.prototype._getItemAlign=function(){var Wr=this.visualMapModel,Zr=Wr.option;if(Zr.orient==="vertical")return V_(Wr,this.api,Wr.itemSize);var Kr=Zr.align;return(!Kr||Kr==="auto")&&(Kr="left"),Kr},Gr.prototype._renderEndsText=function(Wr,Zr,Kr,Jr,Qr){if(Zr){var ti=new Zi,ei=this.visualMapModel.textStyleModel;ti.add(new xn({style:On(ei,{x:Jr?Qr==="right"?Kr[0]:0:Kr[0]/2,y:Kr[1]/2,verticalAlign:"middle",align:Jr?Qr:"center",text:Zr})})),Wr.add(ti)}},Gr.prototype._getViewData=function(){var Wr=this.visualMapModel,Zr=Oi(Wr.getPieceList(),function(ti,ei){return{piece:ti,indexInModelPieceList:ei}}),Kr=Wr.get("text"),Jr=Wr.get("orient"),Qr=Wr.get("inverse");return(Jr==="horizontal"?Qr:!Qr)?Zr.reverse():Kr&&(Kr=Kr.slice().reverse()),{viewPieceList:Zr,endsText:Kr}},Gr.prototype._createItemSymbol=function(Wr,Zr,Kr){Wr.add(Bn(this.getControllerVisual(Zr,"symbol"),Kr[0],Kr[1],Kr[2],Kr[3],this.getControllerVisual(Zr,"color")))},Gr.prototype._onItemClick=function(Wr){var Zr=this.visualMapModel,Kr=Zr.option,Jr=Kr.selectedMode;if(Jr){var Qr=Ki(Kr.selected),ti=Zr.getSelectedMapKey(Wr);Jr==="single"||Jr===!0?(Qr[ti]=!0,_i(Qr,function(ei,ri){Qr[ri]=ri===ti})):Qr[ti]=!Qr[ti],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:Qr})}},Gr.type="visualMap.piecewise",Gr}(F_),f3=Ent;function Om(Yr){Yr.registerComponentModel(u3),Yr.registerComponentView(f3),km(Yr)}function IP(Yr){Sn(Rm),Sn(Om)}var Dnt={label:{enabled:!0},decal:{show:!1}},h3=ln(),Int={};function LP(Yr,Gr){var Wr=Yr.getModel("aria");if(!Wr.get("enabled"))return;var Zr=Ki(Dnt);un(Zr.label,Yr.getLocaleModel().get("aria"),!1),un(Wr.option,Zr,!1),Kr(),Jr();function Kr(){var ri=Wr.getModel("decal"),ii=ri.get("show");if(ii){var ni=Hi();Yr.eachSeries(function(ai){if(!ai.isColorBySeries()){var oi=ni.get(ai.type);oi||(oi={},ni.set(ai.type,oi)),h3(ai).scope=oi}}),Yr.eachRawSeries(function(ai){if(Yr.isSeriesFiltered(ai))return;if(Wi(ai.enableAriaDecal)){ai.enableAriaDecal();return}var oi=ai.getData();if(ai.isColorBySeries()){var hi=mv(ai.ecModel,ai.name,Int,Yr.getSeriesCount()),ci=oi.getVisual("decal");oi.setVisual("decal",pi(ci,hi))}else{var si=ai.getRawData(),li={},ui=h3(ai).scope;oi.each(function(di){var vi=oi.getRawIndex(di);li[vi]=di});var fi=si.count();si.each(function(di){var vi=li[di],mi=si.getName(di)||di+"",gi=mv(ai.ecModel,mi,ui,fi),yi=oi.getItemVisual(vi,"decal");oi.setItemVisual(vi,"decal",pi(yi,gi))})}function pi(di,vi){var mi=di?ki(ki({},vi),di):vi;return mi.dirty=!0,mi}})}}function Jr(){var ri=Yr.getLocaleModel().get("aria"),ii=Wr.getModel("label");if(ii.option=Yi(ii.option,ri),!!ii.get("enabled")){var ni=Gr.getZr().dom;if(ii.get("description")){ni.setAttribute("aria-label",ii.get("description"));return}var ai=Yr.getSeriesCount(),oi=ii.get(["data","maxCount"])||10,si=ii.get(["series","maxCount"])||10,li=Math.min(ai,si),ui;if(!(ai<1)){var fi=ti();if(fi){var hi=ii.get(["general","withTitle"]);ui=Qr(hi,{title:fi})}else ui=ii.get(["general","withoutTitle"]);var ci=[],pi=ai>1?ii.get(["series","multiple","prefix"]):ii.get(["series","single","prefix"]);ui+=Qr(pi,{seriesCount:ai}),Yr.eachSeries(function(gi,yi){if(yi<li){var Si=void 0,bi=gi.get("name"),Ti=bi?"withName":"withoutName";Si=ai>1?ii.get(["series","multiple",Ti]):ii.get(["series","single",Ti]),Si=Qr(Si,{seriesId:gi.seriesIndex,seriesName:gi.get("name"),seriesType:ei(gi.subType)});var Ai=gi.getData();if(Ai.count()>oi){var Ei=ii.get(["data","partialData"]);Si+=Qr(Ei,{displayCnt:oi})}else Si+=ii.get(["data","allData"]);for(var Mi=ii.get(["data","separator","middle"]),wi=ii.get(["data","separator","end"]),Pi=[],xi=0;xi<Ai.count();xi++)if(xi<oi){var Ci=Ai.getName(xi),Li=Ai.getValues(xi),Ii=ii.get(["data",Ci?"withName":"withoutName"]);Pi.push(Qr(Ii,{name:Ci,value:Li.join(Mi)}))}Si+=Pi.join(Mi)+wi,ci.push(Si)}});var di=ii.getModel(["series","multiple","separator"]),vi=di.get("middle"),mi=di.get("end");ui+=ci.join(vi)+mi,ni.setAttribute("aria-label",ui)}}}function Qr(ri,ii){if(!Ni(ri))return ri;var ni=ri;return _i(ii,function(ai,oi){ni=ni.replace(new RegExp("\\{\\s*"+oi+"\\s*\\}","g"),ai)}),ni}function ti(){var ri=Yr.get("title");return ri&&ri.length&&(ri=ri[0]),ri&&ri.text}function ei(ri){var ii=Yr.getLocaleModel().get(["series","typeNames"]);return ii[ri]||ii.chart}}function kP(Yr){if(!(!Yr||!Yr.aria)){var Gr=Yr.aria;Gr.show!=null&&(Gr.enabled=Gr.show),Gr.label=Gr.label||{},_i(["description","general","series","data"],function(Wr){Gr[Wr]!=null&&(Gr.label[Wr]=Gr[Wr])})}}function RP(Yr){Yr.registerPreprocessor(kP),Yr.registerVisual(Yr.PRIORITY.VISUAL.ARIA,LP)}var c3={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Lnt=function(){function Yr(Gr){var Wr=this._condVal=Ni(Gr)?new RegExp(Gr):xD(Gr)?Gr:null;if(Wr==null){var Zr="";Rn(Zr)}}return Yr.prototype.evaluate=function(Gr){var Wr=typeof Gr;return Ni(Wr)?this._condVal.test(Gr):gn(Wr)?this._condVal.test(Gr+""):!1},Yr}(),knt=function(){function Yr(){}return Yr.prototype.evaluate=function(){return this.value},Yr}(),Rnt=function(){function Yr(){}return Yr.prototype.evaluate=function(){for(var Gr=this.children,Wr=0;Wr<Gr.length;Wr++)if(!Gr[Wr].evaluate())return!1;return!0},Yr}(),Ont=function(){function Yr(){}return Yr.prototype.evaluate=function(){for(var Gr=this.children,Wr=0;Wr<Gr.length;Wr++)if(Gr[Wr].evaluate())return!0;return!1},Yr}(),znt=function(){function Yr(){}return Yr.prototype.evaluate=function(){return!this.child.evaluate()},Yr}(),Nnt=function(){function Yr(){}return Yr.prototype.evaluate=function(){for(var Gr=!!this.valueParser,Wr=this.getValue,Zr=Wr(this.valueGetterParam),Kr=Gr?this.valueParser(Zr):null,Jr=0;Jr<this.subCondList.length;Jr++)if(!this.subCondList[Jr].evaluate(Gr?Kr:Zr))return!1;return!0},Yr}();function OP(Yr,Gr){if(Yr===!0||Yr===!1){var Wr=new knt;return Wr.value=Yr,Wr}var Zr="";return d3(Yr)||Rn(Zr),Yr.and?p3("and",Yr,Gr):Yr.or?p3("or",Yr,Gr):Yr.not?Fnt(Yr,Gr):Vnt(Yr,Gr)}function p3(Yr,Gr,Wr){var Zr=Gr[Yr],Kr="";Ri(Zr)||Rn(Kr),Zr.length||Rn(Kr);var Jr=Yr==="and"?new Rnt:new Ont;return Jr.children=Oi(Zr,function(Qr){return OP(Qr,Wr)}),Jr.children.length||Rn(Kr),Jr}function Fnt(Yr,Gr){var Wr=Yr.not,Zr="";d3(Wr)||Rn(Zr);var Kr=new znt;return Kr.child=OP(Wr,Gr),Kr.child||Rn(Zr),Kr}function Vnt(Yr,Gr){for(var Wr="",Zr=Gr.prepareGetValue(Yr),Kr=[],Jr=fn(Yr),Qr=Yr.parser,ti=Qr?t0(Qr):null,ei=0;ei<Jr.length;ei++){var ri=Jr[ei];if(!(ri==="parser"||Gr.valueGetterAttrMap.get(ri))){var ii=$i(c3,ri)?c3[ri]:ri,ni=Yr[ri],ai=ti?ti(ni):ni,oi=z2(ii,ai)||ii==="reg"&&new Lnt(ai);oi||Rn(Wr),Kr.push(oi)}}Kr.length||Rn(Wr);var si=new Nnt;return si.valueGetterParam=Zr,si.valueParser=ti,si.getValue=Gr.getValue,si.subCondList=Kr,si}function d3(Yr){return qi(Yr)&&!va(Yr)}var Bnt=function(){function Yr(Gr,Wr){this._cond=OP(Gr,Wr)}return Yr.prototype.evaluate=function(){return this._cond.evaluate()},Yr}();function v3(Yr,Gr){return new Bnt(Yr,Gr)}var m3={type:"echarts:filter",transform:function(Yr){for(var Gr=Yr.upstream,Wr,Zr=v3(Yr.config,{valueGetterAttrMap:Hi({dimension:!0}),prepareGetValue:function(ti){var ei="",ri=ti.dimension;$i(ti,"dimension")||Rn(ei);var ii=Gr.getDimensionInfo(ri);return ii||Rn(ei),{dimIdx:ii.index}},getValue:function(ti){return Gr.retrieveValueFromItem(Wr,ti.dimIdx)}}),Kr=[],Jr=0,Qr=Gr.count();Jr<Qr;Jr++)Wr=Gr.getRawDataItem(Jr),Zr.evaluate()&&Kr.push(Wr);return{data:Kr}}};var g3={type:"echarts:sort",transform:function(Yr){var Gr=Yr.upstream,Wr=Yr.config,Zr="",Kr=En(Wr);Kr.length||Rn(Zr);var Jr=[];_i(Kr,function(ii){var ni=ii.dimension,ai=ii.order,oi=ii.parser,si=ii.incomparable;if(ni==null&&Rn(Zr),ai!=="asc"&&ai!=="desc"&&Rn(Zr),si&&si!=="min"&&si!=="max"){var li="";Rn(li)}if(ai!=="asc"&&ai!=="desc"){var ui="";Rn(ui)}var fi=Gr.getDimensionInfo(ni);fi||Rn(Zr);var hi=oi?t0(oi):null;oi&&!hi&&Rn(Zr),Jr.push({dimIdx:fi.index,parser:hi,comparator:new e0(ai,si)})});var Qr=Gr.sourceFormat;Qr!==Ma&&Qr!==ao&&Rn(Zr);for(var ti=[],ei=0,ri=Gr.count();ei<ri;ei++)ti.push(Gr.getRawDataItem(ei));return ti.sort(function(ii,ni){for(var ai=0;ai<Jr.length;ai++){var oi=Jr[ai],si=Gr.retrieveValueFromItem(ii,oi.dimIdx),li=Gr.retrieveValueFromItem(ni,oi.dimIdx);oi.parser&&(si=oi.parser(si),li=oi.parser(li));var ui=oi.comparator.evaluate(si,li);if(ui!==0)return ui}return 0}),{data:ti}}};function zP(Yr){Yr.registerTransform(m3),Yr.registerTransform(g3)}var Unt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="dataset",Wr}return Gr.prototype.init=function(Wr,Zr,Kr){Yr.prototype.init.call(this,Wr,Zr,Kr),this._sourceManager=new n0(this),J1(this)},Gr.prototype.mergeOption=function(Wr,Zr){Yr.prototype.mergeOption.call(this,Wr,Zr),J1(this)},Gr.prototype.optionUpdated=function(){this._sourceManager.dirty()},Gr.prototype.getSourceManager=function(){return this._sourceManager},Gr.type="dataset",Gr.defaultOption={seriesLayoutBy:Xo},Gr}(_n);var Gnt=function(Yr){Di(Gr,Yr);function Gr(){var Wr=Yr!==null&&Yr.apply(this,arguments)||this;return Wr.type="dataset",Wr}return Gr.type="dataset",Gr}(Dn);function NP(Yr){Yr.registerComponentModel(Unt),Yr.registerComponentView(Gnt)}var jl=Ha.CMD;function td(Yr,Gr){return Math.abs(Yr-Gr)<1e-5}function B_(Yr){var Gr=Yr.data,Wr=Yr.len(),Zr=[],Kr,Jr=0,Qr=0,ti=0,ei=0;function ri(Ai,Ei){Kr&&Kr.length>2&&Zr.push(Kr),Kr=[Ai,Ei]}function ii(Ai,Ei,Mi,wi){td(Ai,Mi)&&td(Ei,wi)||Kr.push(Ai,Ei,Mi,wi,Mi,wi)}function ni(Ai,Ei,Mi,wi,Pi,xi){var Ci=Math.abs(Ei-Ai),Li=Math.tan(Ci/4)*4/3,Ii=Ei<Ai?-1:1,zi=Math.cos(Ai),Bi=Math.sin(Ai),Vi=Math.cos(Ei),ji=Math.sin(Ei),tn=zi*Pi+Mi,hn=Bi*xi+wi,nn=Vi*Pi+Mi,dn=ji*xi+wi,cn=Pi*Li*Ii,Ji=xi*Li*Ii;Kr.push(tn-cn*Bi,hn+Ji*zi,nn+cn*ji,dn-Ji*Vi,nn,dn)}for(var ai,oi,si,li,ui=0;ui<Wr;){var fi=Gr[ui++],hi=ui===1;switch(hi&&(Jr=Gr[ui],Qr=Gr[ui+1],ti=Jr,ei=Qr,(fi===jl.L||fi===jl.C||fi===jl.Q)&&(Kr=[ti,ei])),fi){case jl.M:Jr=ti=Gr[ui++],Qr=ei=Gr[ui++],ri(ti,ei);break;case jl.L:ai=Gr[ui++],oi=Gr[ui++],ii(Jr,Qr,ai,oi),Jr=ai,Qr=oi;break;case jl.C:Kr.push(Gr[ui++],Gr[ui++],Gr[ui++],Gr[ui++],Jr=Gr[ui++],Qr=Gr[ui++]);break;case jl.Q:ai=Gr[ui++],oi=Gr[ui++],si=Gr[ui++],li=Gr[ui++],Kr.push(Jr+2/3*(ai-Jr),Qr+2/3*(oi-Qr),si+2/3*(ai-si),li+2/3*(oi-li),si,li),Jr=si,Qr=li;break;case jl.A:var ci=Gr[ui++],pi=Gr[ui++],di=Gr[ui++],vi=Gr[ui++],mi=Gr[ui++],gi=Gr[ui++]+mi;ui+=1;var yi=!Gr[ui++];ai=Math.cos(mi)*di+ci,oi=Math.sin(mi)*vi+pi,hi?(ti=ai,ei=oi,ri(ti,ei)):ii(Jr,Qr,ai,oi),Jr=Math.cos(gi)*di+ci,Qr=Math.sin(gi)*vi+pi;for(var Si=(yi?-1:1)*Math.PI/2,bi=mi;yi?bi>gi:bi<gi;bi+=Si){var Ti=yi?Math.max(bi+Si,gi):Math.min(bi+Si,gi);ni(bi,Ti,ci,pi,di,vi)}break;case jl.R:ti=Jr=Gr[ui++],ei=Qr=Gr[ui++],ai=ti+Gr[ui++],oi=ei+Gr[ui++],ri(ai,ei),ii(ai,ei,ai,oi),ii(ai,oi,ti,oi),ii(ti,oi,ti,ei),ii(ti,ei,ai,ei);break;case jl.Z:Kr&&ii(Jr,Qr,ti,ei),Jr=ti,Qr=ei;break}}return Kr&&Kr.length>2&&Zr.push(Kr),Zr}function FP(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti,ei,ri){if(td(Yr,Wr)&&td(Gr,Zr)&&td(Kr,Qr)&&td(Jr,ti)){ei.push(Qr,ti);return}var ii=2/ri,ni=ii*ii,ai=Qr-Yr,oi=ti-Gr,si=Math.sqrt(ai*ai+oi*oi);ai/=si,oi/=si;var li=Wr-Yr,ui=Zr-Gr,fi=Kr-Qr,hi=Jr-ti,ci=li*li+ui*ui,pi=fi*fi+hi*hi;if(ci<ni&&pi<ni){ei.push(Qr,ti);return}var di=ai*li+oi*ui,vi=-ai*fi-oi*hi,mi=ci-di*di,gi=pi-vi*vi;if(mi<ni&&di>=0&&gi<ni&&vi>=0){ei.push(Qr,ti);return}var yi=[],Si=[];Ss(Yr,Wr,Kr,Qr,.5,yi),Ss(Gr,Zr,Jr,ti,.5,Si),FP(yi[0],Si[0],yi[1],Si[1],yi[2],Si[2],yi[3],Si[3],ei,ri),FP(yi[4],Si[4],yi[5],Si[5],yi[6],Si[6],yi[7],Si[7],ei,ri)}function y3(Yr,Gr){var Wr=B_(Yr),Zr=[];Gr=Gr||1;for(var Kr=0;Kr<Wr.length;Kr++){var Jr=Wr[Kr],Qr=[],ti=Jr[0],ei=Jr[1];Qr.push(ti,ei);for(var ri=2;ri<Jr.length;){var ii=Jr[ri++],ni=Jr[ri++],ai=Jr[ri++],oi=Jr[ri++],si=Jr[ri++],li=Jr[ri++];FP(ti,ei,ii,ni,ai,oi,si,li,Qr,Gr),ti=si,ei=li}Zr.push(Qr)}return Zr}function S3(Yr,Gr,Wr){var Zr=Yr[Gr],Kr=Yr[1-Gr],Jr=Math.abs(Zr/Kr),Qr=Math.ceil(Math.sqrt(Jr*Wr)),ti=Math.floor(Wr/Qr);ti===0&&(ti=1,Qr=Wr);for(var ei=[],ri=0;ri<Qr;ri++)ei.push(ti);var ii=Qr*ti,ni=Wr-ii;if(ni>0)for(var ri=0;ri<ni;ri++)ei[ri%Qr]+=1;return ei}function x3(Yr,Gr,Wr){for(var Zr=Yr.r0,Kr=Yr.r,Jr=Yr.startAngle,Qr=Yr.endAngle,ti=Math.abs(Qr-Jr),ei=ti*Kr,ri=Kr-Zr,ii=ei>Math.abs(ri),ni=S3([ei,ri],ii?0:1,Gr),ai=(ii?ti:ri)/ni.length,oi=0;oi<ni.length;oi++)for(var si=(ii?ri:ti)/ni[oi],li=0;li<ni[oi];li++){var ui={};ii?(ui.startAngle=Jr+ai*oi,ui.endAngle=Jr+ai*(oi+1),ui.r0=Zr+si*li,ui.r=Zr+si*(li+1)):(ui.startAngle=Jr+si*li,ui.endAngle=Jr+si*(li+1),ui.r0=Zr+ai*oi,ui.r=Zr+ai*(oi+1)),ui.clockwise=Yr.clockwise,ui.cx=Yr.cx,ui.cy=Yr.cy,Wr.push(ui)}}function Hnt(Yr,Gr,Wr){for(var Zr=Yr.width,Kr=Yr.height,Jr=Zr>Kr,Qr=S3([Zr,Kr],Jr?0:1,Gr),ti=Jr?"width":"height",ei=Jr?"height":"width",ri=Jr?"x":"y",ii=Jr?"y":"x",ni=Yr[ti]/Qr.length,ai=0;ai<Qr.length;ai++)for(var oi=Yr[ei]/Qr[ai],si=0;si<Qr[ai];si++){var li={};li[ri]=ai*ni,li[ii]=si*oi,li[ti]=ni,li[ei]=oi,li.x+=Yr.x,li.y+=Yr.y,Wr.push(li)}}function _3(Yr,Gr,Wr,Zr){return Yr*Zr-Wr*Gr}function Wnt(Yr,Gr,Wr,Zr,Kr,Jr,Qr,ti){var ei=Wr-Yr,ri=Zr-Gr,ii=Qr-Kr,ni=ti-Jr,ai=_3(ii,ni,ei,ri);if(Math.abs(ai)<1e-6)return null;var oi=Yr-Kr,si=Gr-Jr,li=_3(oi,si,ii,ni)/ai;return li<0||li>1?null:new wn(li*ei+Yr,li*ri+Gr)}function Ynt(Yr,Gr,Wr){var Zr=new wn;wn.sub(Zr,Wr,Gr),Zr.normalize();var Kr=new wn;wn.sub(Kr,Yr,Gr);var Jr=Kr.dot(Zr);return Jr}function ed(Yr,Gr){var Wr=Yr[Yr.length-1];Wr&&Wr[0]===Gr[0]&&Wr[1]===Gr[1]||Yr.push(Gr)}function Xnt(Yr,Gr,Wr){for(var Zr=Yr.length,Kr=[],Jr=0;Jr<Zr;Jr++){var Qr=Yr[Jr],ti=Yr[(Jr+1)%Zr],ei=Wnt(Qr[0],Qr[1],ti[0],ti[1],Gr.x,Gr.y,Wr.x,Wr.y);ei&&Kr.push({projPt:Ynt(ei,Gr,Wr),pt:ei,idx:Jr})}if(Kr.length<2)return[{points:Yr},{points:Yr}];Kr.sort(function(ui,fi){return ui.projPt-fi.projPt});var ri=Kr[0],ii=Kr[Kr.length-1];if(ii.idx<ri.idx){var ni=ri;ri=ii,ii=ni}for(var ai=[ri.pt.x,ri.pt.y],oi=[ii.pt.x,ii.pt.y],si=[ai],li=[oi],Jr=ri.idx+1;Jr<=ii.idx;Jr++)ed(si,Yr[Jr].slice());ed(si,oi),ed(si,ai);for(var Jr=ii.idx+1;Jr<=ri.idx+Zr;Jr++)ed(li,Yr[Jr%Zr].slice());return ed(li,ai),ed(li,oi),[{points:si},{points:li}]}function b3(Yr){var Gr=Yr.points,Wr=[],Zr=[];_h(Gr,Wr,Zr);var Kr=new rn(Wr[0],Wr[1],Zr[0]-Wr[0],Zr[1]-Wr[1]),Jr=Kr.width,Qr=Kr.height,ti=Kr.x,ei=Kr.y,ri=new wn,ii=new wn;return Jr>Qr?(ri.x=ii.x=ti+Jr/2,ri.y=ei,ii.y=ei+Qr):(ri.y=ii.y=ei+Qr/2,ri.x=ti,ii.x=ti+Jr),Xnt(Gr,ri,ii)}function U_(Yr,Gr,Wr,Zr){if(Wr===1)Zr.push(Gr);else{var Kr=Math.floor(Wr/2),Jr=Yr(Gr);U_(Yr,Jr[0],Kr,Zr),U_(Yr,Jr[1],Wr-Kr,Zr)}return Zr}function qnt(Yr,Gr){for(var Wr=[],Zr=0;Zr<Gr;Zr++)Wr.push(qc(Yr));return Wr}function Znt(Yr,Gr){Gr.setStyle(Yr.style),Gr.z=Yr.z,Gr.z2=Yr.z2,Gr.zlevel=Yr.zlevel}function jnt(Yr){for(var Gr=[],Wr=0;Wr<Yr.length;)Gr.push([Yr[Wr++],Yr[Wr++]]);return Gr}function w3(Yr,Gr){var Wr=[],Zr=Yr.shape,Kr;switch(Yr.type){case"rect":Hnt(Zr,Gr,Wr),Kr=mn;break;case"sector":x3(Zr,Gr,Wr),Kr=Sa;break;case"circle":x3({r0:0,r:Zr.r,startAngle:0,endAngle:Math.PI*2,cx:Zr.cx,cy:Zr.cy},Gr,Wr),Kr=Sa;break;default:var Jr=Yr.getComputedTransform(),Qr=Jr?Math.sqrt(Math.max(Jr[0]*Jr[0]+Jr[1]*Jr[1],Jr[2]*Jr[2]+Jr[3]*Jr[3])):1,ti=Oi(y3(Yr.getUpdatedPathProxy(),Qr),function(fi){return jnt(fi)}),ei=ti.length;if(ei===0)U_(b3,{points:ti[0]},Gr,Wr);else if(ei===Gr)for(var ri=0;ri<ei;ri++)Wr.push({points:ti[ri]});else{var ii=0,ni=Oi(ti,function(fi){var hi=[],ci=[];_h(fi,hi,ci);var pi=(ci[1]-hi[1])*(ci[0]-hi[0]);return ii+=pi,{poly:fi,area:pi}});ni.sort(function(fi,hi){return hi.area-fi.area});for(var ai=Gr,ri=0;ri<ei;ri++){var oi=ni[ri];if(ai<=0)break;var si=ri===ei-1?ai:Math.ceil(oi.area/ii*Gr);si<0||(U_(b3,{points:oi.poly},si,Wr),ai-=si)}}Kr=fa;break}if(!Kr)return qnt(Yr,Gr);for(var li=[],ri=0;ri<Wr.length;ri++){var ui=new Kr;ui.setShape(Wr[ri]),Znt(Yr,ui),li.push(ui)}return li}function Knt(Yr,Gr){var Wr=Yr.length,Zr=Gr.length;if(Wr===Zr)return[Yr,Gr];for(var Kr=[],Jr=[],Qr=Wr<Zr?Yr:Gr,ti=Math.min(Wr,Zr),ei=Math.abs(Zr-Wr)/6,ri=(ti-2)/6,ii=Math.ceil(ei/ri)+1,ni=[Qr[0],Qr[1]],ai=ei,oi=2;oi<ti;){var si=Qr[oi-2],li=Qr[oi-1],ui=Qr[oi++],fi=Qr[oi++],hi=Qr[oi++],ci=Qr[oi++],pi=Qr[oi++],di=Qr[oi++];if(ai<=0){ni.push(ui,fi,hi,ci,pi,di);continue}for(var vi=Math.min(ai,ii-1)+1,mi=1;mi<=vi;mi++){var gi=mi/vi;Ss(si,ui,hi,pi,gi,Kr),Ss(li,fi,ci,di,gi,Jr),si=Kr[3],li=Jr[3],ni.push(Kr[1],Jr[1],Kr[2],Jr[2],si,li),ui=Kr[5],fi=Jr[5],hi=Kr[6],ci=Jr[6]}ai-=vi-1}return Qr===Yr?[ni,Gr]:[Yr,ni]}function C3(Yr,Gr){for(var Wr=Yr.length,Zr=Yr[Wr-2],Kr=Yr[Wr-1],Jr=[],Qr=0;Qr<Gr.length;)Jr[Qr++]=Zr,Jr[Qr++]=Kr;return Jr}function $nt(Yr,Gr){for(var Wr,Zr,Kr,Jr=[],Qr=[],ti=0;ti<Math.max(Yr.length,Gr.length);ti++){var ei=Yr[ti],ri=Gr[ti],ii=void 0,ni=void 0;ei?ri?(Wr=Knt(ei,ri),ii=Wr[0],ni=Wr[1],Zr=ii,Kr=ni):(ni=C3(Kr||ei,ei),ii=ei):(ii=C3(Zr||ri,ri),ni=ri),Jr.push(ii),Qr.push(ni)}return[Jr,Qr]}function T3(Yr){for(var Gr=0,Wr=0,Zr=0,Kr=Yr.length,Jr=0,Qr=Kr-2;Jr<Kr;Qr=Jr,Jr+=2){var ti=Yr[Qr],ei=Yr[Qr+1],ri=Yr[Jr],ii=Yr[Jr+1],ni=ti*ii-ri*ei;Gr+=ni,Wr+=(ti+ri)*ni,Zr+=(ei+ii)*ni}return Gr===0?[Yr[0]||0,Yr[1]||0]:[Wr/Gr/3,Zr/Gr/3,Gr]}function Jnt(Yr,Gr,Wr,Zr){for(var Kr=(Yr.length-2)/6,Jr=1/0,Qr=0,ti=Yr.length,ei=ti-2,ri=0;ri<Kr;ri++){for(var ii=ri*6,ni=0,ai=0;ai<ti;ai+=2){var oi=ai===0?ii:(ii+ai-2)%ei+2,si=Yr[oi]-Wr[0],li=Yr[oi+1]-Wr[1],ui=Gr[ai]-Zr[0],fi=Gr[ai+1]-Zr[1],hi=ui-si,ci=fi-li;ni+=hi*hi+ci*ci}ni<Jr&&(Jr=ni,Qr=ri)}return Qr}function Qnt(Yr){for(var Gr=[],Wr=Yr.length,Zr=0;Zr<Wr;Zr+=2)Gr[Zr]=Yr[Wr-Zr-2],Gr[Zr+1]=Yr[Wr-Zr-1];return Gr}function tat(Yr,Gr,Wr,Zr){for(var Kr=[],Jr,Qr=0;Qr<Yr.length;Qr++){var ti=Yr[Qr],ei=Gr[Qr],ri=T3(ti),ii=T3(ei);Jr==null&&(Jr=ri[2]<0!=ii[2]<0);var ni=[],ai=[],oi=0,si=1/0,li=[],ui=ti.length;Jr&&(ti=Qnt(ti));for(var fi=Jnt(ti,ei,ri,ii)*6,hi=ui-2,ci=0;ci<hi;ci+=2){var pi=(fi+ci)%hi+2;ni[ci+2]=ti[pi]-ri[0],ni[ci+3]=ti[pi+1]-ri[1]}if(ni[0]=ti[fi]-ri[0],ni[1]=ti[fi+1]-ri[1],Wr>0)for(var di=Zr/Wr,vi=-Zr/2;vi<=Zr/2;vi+=di){for(var mi=Math.sin(vi),gi=Math.cos(vi),yi=0,ci=0;ci<ti.length;ci+=2){var Si=ni[ci],bi=ni[ci+1],Ti=ei[ci]-ii[0],Ai=ei[ci+1]-ii[1],Ei=Ti*gi-Ai*mi,Mi=Ti*mi+Ai*gi;li[ci]=Ei,li[ci+1]=Mi;var wi=Ei-Si,Pi=Mi-bi;yi+=wi*wi+Pi*Pi}if(yi<si){si=yi,oi=vi;for(var xi=0;xi<li.length;xi++)ai[xi]=li[xi]}}else for(var Ci=0;Ci<ui;Ci+=2)ai[Ci]=ei[Ci]-ii[0],ai[Ci+1]=ei[Ci+1]-ii[1];Kr.push({from:ni,to:ai,fromCp:ri,toCp:ii,rotation:-oi})}return Kr}function Nm(Yr){return Yr.__isCombineMorphing}var M3="__mOriginal_";function G_(Yr,Gr,Wr){var Zr=M3+Gr,Kr=Yr[Zr]||Yr[Gr];Yr[Zr]||(Yr[Zr]=Yr[Gr]);var Jr=Wr.replace,Qr=Wr.after,ti=Wr.before;Yr[Gr]=function(){var ei=arguments,ri;return ti&&ti.apply(this,ei),Jr?ri=Jr.apply(this,ei):ri=Kr.apply(this,ei),Qr&&Qr.apply(this,ei),ri}}function zm(Yr,Gr){var Wr=M3+Gr;Yr[Wr]&&(Yr[Gr]=Yr[Wr],Yr[Wr]=null)}function A3(Yr,Gr){for(var Wr=0;Wr<Yr.length;Wr++)for(var Zr=Yr[Wr],Kr=0;Kr<Zr.length;){var Jr=Zr[Kr],Qr=Zr[Kr+1];Zr[Kr++]=Gr[0]*Jr+Gr[2]*Qr+Gr[4],Zr[Kr++]=Gr[1]*Jr+Gr[3]*Qr+Gr[5]}}function P3(Yr,Gr){var Wr=Yr.getUpdatedPathProxy(),Zr=Gr.getUpdatedPathProxy(),Kr=$nt(B_(Wr),B_(Zr)),Jr=Kr[0],Qr=Kr[1],ti=Yr.getComputedTransform(),ei=Gr.getComputedTransform();function ri(){this.transform=null}ti&&A3(Jr,ti),ei&&A3(Qr,ei),G_(Gr,"updateTransform",{replace:ri}),Gr.transform=null;var ii=tat(Jr,Qr,10,Math.PI),ni=[];G_(Gr,"buildPath",{replace:function(ai){for(var oi=Gr.__morphT,si=1-oi,li=[],ui=0;ui<ii.length;ui++){var fi=ii[ui],hi=fi.from,ci=fi.to,pi=fi.rotation*oi,di=fi.fromCp,vi=fi.toCp,mi=Math.sin(pi),gi=Math.cos(pi);Tc(li,di,vi,oi);for(var yi=0;yi<hi.length;yi+=2){var Si=hi[yi],bi=hi[yi+1],Ti=ci[yi],Ai=ci[yi+1],Ei=Si*si+Ti*oi,Mi=bi*si+Ai*oi;ni[yi]=Ei*gi-Mi*mi+li[0],ni[yi+1]=Ei*mi+Mi*gi+li[1]}var wi=ni[0],Pi=ni[1];ai.moveTo(wi,Pi);for(var yi=2;yi<hi.length;){var Ti=ni[yi++],Ai=ni[yi++],xi=ni[yi++],Ci=ni[yi++],Li=ni[yi++],Ii=ni[yi++];wi===Ti&&Pi===Ai&&xi===Li&&Ci===Ii?ai.lineTo(Li,Ii):ai.bezierCurveTo(Ti,Ai,xi,Ci,Li,Ii),wi=Li,Pi=Ii}}}})}function W_(Yr,Gr,Wr){if(!Yr||!Gr)return Gr;var Zr=Wr.done,Kr=Wr.during;P3(Yr,Gr),Gr.__morphT=0;function Jr(){zm(Gr,"buildPath"),zm(Gr,"updateTransform"),Gr.__morphT=-1,Gr.createPathProxy(),Gr.dirtyShape()}return Gr.animateTo({__morphT:1},Yi({during:function(Qr){Gr.dirtyShape(),Kr&&Kr(Qr)},done:function(){Jr(),Zr&&Zr()}},Wr)),Gr}function eat(Yr,Gr,Wr,Zr,Kr,Jr){var Qr=16;Yr=Kr===Wr?0:Math.round(32767*(Yr-Wr)/(Kr-Wr)),Gr=Jr===Zr?0:Math.round(32767*(Gr-Zr)/(Jr-Zr));for(var ti=0,ei,ri=(1<<Qr)/2;ri>0;ri/=2){var ii=0,ni=0;(Yr&ri)>0&&(ii=1),(Gr&ri)>0&&(ni=1),ti+=ri*ri*(3*ii^ni),ni===0&&(ii===1&&(Yr=ri-1-Yr,Gr=ri-1-Gr),ei=Yr,Yr=Gr,Gr=ei)}return ti}function H_(Yr){var Gr=1/0,Wr=1/0,Zr=-1/0,Kr=-1/0,Jr=Oi(Yr,function(ti){var ei=ti.getBoundingRect(),ri=ti.getComputedTransform(),ii=ei.x+ei.width/2+(ri?ri[4]:0),ni=ei.y+ei.height/2+(ri?ri[5]:0);return Gr=Math.min(ii,Gr),Wr=Math.min(ni,Wr),Zr=Math.max(ii,Zr),Kr=Math.max(ni,Kr),[ii,ni]}),Qr=Oi(Jr,function(ti,ei){return{cp:ti,z:eat(ti[0],ti[1],Gr,Wr,Zr,Kr),path:Yr[ei]}});return Qr.sort(function(ti,ei){return ti.z-ei.z}).map(function(ti){return ti.path})}function E3(Yr){return w3(Yr.path,Yr.count)}function VP(){return{fromIndividuals:[],toIndividuals:[],count:0}}function D3(Yr,Gr,Wr){var Zr=[];function Kr(di){for(var vi=0;vi<di.length;vi++){var mi=di[vi];Nm(mi)?Kr(mi.childrenRef()):mi instanceof an&&Zr.push(mi)}}Kr(Yr);var Jr=Zr.length;if(!Jr)return VP();var Qr=Wr.dividePath||E3,ti=Qr({path:Gr,count:Jr});if(ti.length!==Jr)return console.error("Invalid morphing: unmatched splitted path"),VP();Zr=H_(Zr),ti=H_(ti);for(var ei=Wr.done,ri=Wr.during,ii=Wr.individualDelay,ni=new No,ai=0;ai<Jr;ai++){var oi=Zr[ai],si=ti[ai];si.parent=Gr,si.copyTransform(ni),ii||P3(oi,si)}Gr.__isCombineMorphing=!0,Gr.childrenRef=function(){return ti};function li(di){for(var vi=0;vi<ti.length;vi++)ti[vi].addSelfToZr(di)}G_(Gr,"addSelfToZr",{after:function(di){li(di)}}),G_(Gr,"removeSelfFromZr",{after:function(di){for(var vi=0;vi<ti.length;vi++)ti[vi].removeSelfFromZr(di)}});function ui(){Gr.__isCombineMorphing=!1,Gr.__morphT=-1,Gr.childrenRef=null,zm(Gr,"addSelfToZr"),zm(Gr,"removeSelfFromZr")}var fi=ti.length;if(ii)for(var hi=fi,ci=function(){hi--,hi===0&&(ui(),ei&&ei())},ai=0;ai<fi;ai++){var pi=ii?Yi({delay:(Wr.delay||0)+ii(ai,fi,Zr[ai],ti[ai]),done:ci},Wr):Wr;W_(Zr[ai],ti[ai],pi)}else Gr.__morphT=0,Gr.animateTo({__morphT:1},Yi({during:function(di){for(var vi=0;vi<fi;vi++){var mi=ti[vi];mi.__morphT=Gr.__morphT,mi.dirtyShape()}ri&&ri(di)},done:function(){ui();for(var di=0;di<Yr.length;di++)zm(Yr[di],"updateTransform");ei&&ei()}},Wr));return Gr.__zr&&li(Gr.__zr),{fromIndividuals:Zr,toIndividuals:ti,count:fi}}function I3(Yr,Gr,Wr){var Zr=Gr.length,Kr=[],Jr=Wr.dividePath||E3;function Qr(oi){for(var si=0;si<oi.length;si++){var li=oi[si];Nm(li)?Qr(li.childrenRef()):li instanceof an&&Kr.push(li)}}if(Nm(Yr)){Qr(Yr.childrenRef());var ti=Kr.length;if(ti<Zr)for(var ei=0,ri=ti;ri<Zr;ri++)Kr.push(qc(Kr[ei++%ti]));Kr.length=Zr}else{Kr=Jr({path:Yr,count:Zr});for(var ii=Yr.getComputedTransform(),ri=0;ri<Kr.length;ri++)Kr[ri].setLocalTransform(ii);if(Kr.length!==Zr)return console.error("Invalid morphing: unmatched splitted path"),VP()}Kr=H_(Kr),Gr=H_(Gr);for(var ni=Wr.individualDelay,ri=0;ri<Zr;ri++){var ai=ni?Yi({delay:(Wr.delay||0)+ni(ri,Zr,Kr[ri],Gr[ri])},Wr):Wr;W_(Kr[ri],Gr[ri],ai)}return{fromIndividuals:Kr,toIndividuals:Gr,count:Gr.length}}function L3(Yr){return Ri(Yr[0])}function k3(Yr,Gr){for(var Wr=[],Zr=Yr.length,Kr=0;Kr<Zr;Kr++)Wr.push({one:Yr[Kr],many:[]});for(var Kr=0;Kr<Gr.length;Kr++){var Jr=Gr[Kr].length,Qr=void 0;for(Qr=0;Qr<Jr;Qr++)Wr[Qr%Zr].many.push(Gr[Kr][Qr])}for(var ti=0,Kr=Zr-1;Kr>=0;Kr--)if(!Wr[Kr].many.length){var ei=Wr[ti].many;if(ei.length<=1)if(ti)ti=0;else return Wr;var Jr=ei.length,ri=Math.ceil(Jr/2);Wr[Kr].many=ei.slice(ri,Jr),Wr[ti].many=ei.slice(0,ri),ti++}return Wr}var rat={clone:function(Yr){for(var Gr=[],Wr=1-Math.pow(1-Yr.path.style.opacity,1/Yr.count),Zr=0;Zr<Yr.count;Zr++){var Kr=qc(Yr.path);Kr.setStyle("opacity",Wr),Gr.push(Kr)}return Gr},split:null};function Y_(Yr,Gr,Wr,Zr,Kr,Jr){if(!Yr.length||!Gr.length)return;var Qr=Rl("update",Zr,Kr);if(!(Qr&&Qr.duration>0))return;var ti=Zr.getModel("universalTransition").get("delay"),ei=Object.assign({setToFinal:!0},Qr),ri,ii;L3(Yr)&&(ri=Yr,ii=Gr),L3(Gr)&&(ri=Gr,ii=Yr);function ni(fi,hi,ci,pi,di){var vi=fi.many,mi=fi.one;if(vi.length===1&&!di){var gi=hi?vi[0]:mi,yi=hi?mi:vi[0];if(Nm(gi))ni({many:[gi],one:yi},!0,ci,pi,!0);else{var Si=ti?Yi({delay:ti(ci,pi)},ei):ei;W_(gi,yi,Si),Jr(gi,yi,gi,yi,Si)}}else for(var bi=Yi({dividePath:rat[Wr],individualDelay:ti&&function(Pi,xi,Ci,Li){return ti(Pi+ci,pi)}},ei),Ti=hi?D3(vi,mi,bi):I3(mi,vi,bi),Ai=Ti.fromIndividuals,Ei=Ti.toIndividuals,Mi=Ai.length,wi=0;wi<Mi;wi++){var Si=ti?Yi({delay:ti(wi,Mi)},ei):ei;Jr(Ai[wi],Ei[wi],hi?vi[wi]:fi.one,hi?fi.one:vi[wi],Si)}}for(var ai=ri?ri===Yr:Yr.length>Gr.length,oi=ri?k3(ii,ri):k3(ai?Gr:Yr,[ai?Yr:Gr]),si=0,li=0;li<oi.length;li++)si+=oi[li].many.length;for(var ui=0,li=0;li<oi.length;li++)ni(oi[li],ai,ui,si),ui+=oi[li].many.length}function Nf(Yr){if(!Yr)return[];if(Ri(Yr)){for(var Gr=[],Wr=0;Wr<Yr.length;Wr++)Gr.push(Nf(Yr[Wr]));return Gr}var Zr=[];return Yr.traverse(function(Kr){Kr instanceof an&&!Kr.disableMorphing&&!Kr.invisible&&!Kr.ignore&&Zr.push(Kr)}),Zr}var U3=1e4,iat=0,R3=1,O3=2,nat=ln();function aat(Yr,Gr){for(var Wr=Yr.dimensions,Zr=0;Zr<Wr.length;Zr++){var Kr=Yr.getDimensionInfo(Wr[Zr]);if(Kr&&Kr.otherDims[Gr]===0)return Wr[Zr]}}function oat(Yr,Gr,Wr){var Zr=Yr.getDimensionInfo(Wr),Kr=Zr&&Zr.ordinalMeta;if(Zr){var Jr=Yr.get(Zr.name,Gr);return Kr&&Kr.categories[Jr]||Jr+""}}function z3(Yr,Gr,Wr,Zr){var Kr=Zr?"itemChildGroupId":"itemGroupId",Jr=aat(Yr,Kr);if(Jr){var Qr=oat(Yr,Gr,Jr);return Qr}var ti=Yr.getRawDataItem(Gr),ei=Zr?"childGroupId":"groupId";if(ti&&ti[ei])return ti[ei]+"";if(!Zr)return Wr||Yr.getId(Gr)}function N3(Yr){var Gr=[];return _i(Yr,function(Wr){var Zr=Wr.data,Kr=Wr.dataGroupId;if(!(Zr.count()>U3))for(var Jr=Zr.getIndices(),Qr=0;Qr<Jr.length;Qr++)Gr.push({data:Zr,groupId:z3(Zr,Qr,Kr,!1),childGroupId:z3(Zr,Qr,Kr,!0),divide:Wr.divide,dataIndex:Qr})}),Gr}function BP(Yr,Gr,Wr){Yr.traverse(function(Zr){Zr instanceof an&&Ln(Zr,{style:{opacity:0}},Gr,{dataIndex:Wr,isFrom:!0})})}function UP(Yr){if(Yr.parent){var Gr=Yr.getComputedTransform();Yr.setLocalTransform(Gr),Yr.parent.remove(Yr)}}function rd(Yr){Yr.stopAnimation(),Yr.isGroup&&Yr.traverse(function(Gr){Gr.stopAnimation()})}function sat(Yr,Gr,Wr){var Zr=Rl("update",Wr,Gr);Zr&&Yr.traverse(function(Kr){if(Kr instanceof ba){var Jr=Mk(Kr);Jr&&Kr.animateFrom({style:Jr},Zr)}})}function lat(Yr,Gr){var Wr=Yr.length;if(Wr!==Gr.length)return!1;for(var Zr=0;Zr<Wr;Zr++){var Kr=Yr[Zr],Jr=Gr[Zr];if(Kr.data.getId(Kr.dataIndex)!==Jr.data.getId(Jr.dataIndex))return!1}return!0}function G3(Yr,Gr,Wr){var Zr=N3(Yr),Kr=N3(Gr);function Jr(ci,pi,di,vi,mi){(di||ci)&&pi.animateFrom({style:di&&di!==ci?ki(ki({},di.style),ci.style):ci.style},mi)}var Qr=!1,ti=iat,ei=Hi(),ri=Hi();Zr.forEach(function(ci){ci.groupId&&ei.set(ci.groupId,!0),ci.childGroupId&&ri.set(ci.childGroupId,!0)});for(var ii=0;ii<Kr.length;ii++){var ni=Kr[ii].groupId;if(ri.get(ni)){ti=R3;break}var ai=Kr[ii].childGroupId;if(ai&&ei.get(ai)){ti=O3;break}}function oi(ci,pi){return function(di){var vi=di.data,mi=di.dataIndex;return pi?vi.getId(mi):ci?ti===R3?di.childGroupId:di.groupId:ti===O3?di.childGroupId:di.groupId}}var si=lat(Zr,Kr),li={};if(!si)for(var ii=0;ii<Kr.length;ii++){var ui=Kr[ii],fi=ui.data.getItemGraphicEl(ui.dataIndex);fi&&(li[fi.id]=!0)}function hi(ci,pi){var di=Zr[pi],vi=Kr[ci],mi=vi.data.hostModel,gi=di.data.getItemGraphicEl(di.dataIndex),yi=vi.data.getItemGraphicEl(vi.dataIndex);if(gi===yi){yi&&sat(yi,vi.dataIndex,mi);return}gi&&li[gi.id]||yi&&(rd(yi),gi?(rd(gi),UP(gi),Qr=!0,Y_(Nf(gi),Nf(yi),vi.divide,mi,ci,Jr)):BP(yi,mi,ci))}new oo(Zr,Kr,oi(!0,si),oi(!1,si),null,"multiple").update(hi).updateManyToOne(function(ci,pi){var di=Kr[ci],vi=di.data,mi=vi.hostModel,gi=vi.getItemGraphicEl(di.dataIndex),yi=Tn(Oi(pi,function(Si){return Zr[Si].data.getItemGraphicEl(Zr[Si].dataIndex)}),function(Si){return Si&&Si!==gi&&!li[Si.id]});gi&&(rd(gi),yi.length?(_i(yi,function(Si){rd(Si),UP(Si)}),Qr=!0,Y_(Nf(yi),Nf(gi),di.divide,mi,ci,Jr)):BP(gi,mi,di.dataIndex))}).updateOneToMany(function(ci,pi){var di=Zr[pi],vi=di.data.getItemGraphicEl(di.dataIndex);if(!(vi&&li[vi.id])){var mi=Tn(Oi(ci,function(yi){return Kr[yi].data.getItemGraphicEl(Kr[yi].dataIndex)}),function(yi){return yi&&yi!==vi}),gi=Kr[ci[0]].data.hostModel;mi.length&&(_i(mi,function(yi){return rd(yi)}),vi?(rd(vi),UP(vi),Qr=!0,Y_(Nf(vi),Nf(mi),di.divide,gi,ci[0],Jr)):_i(mi,function(yi){return BP(yi,gi,ci[0])}))}}).updateManyToMany(function(ci,pi){new oo(pi,ci,function(di){return Zr[di].data.getId(Zr[di].dataIndex)},function(di){return Kr[di].data.getId(Kr[di].dataIndex)}).update(function(di,vi){hi(ci[di],pi[vi])}).execute()}).execute(),Qr&&_i(Gr,function(ci){var pi=ci.data,di=pi.hostModel,vi=di&&Wr.getViewOfSeriesModel(di),mi=Rl("update",di,0);vi&&di.isAnimationEnabled()&&mi&&mi.duration>0&&vi.group.traverse(function(gi){gi instanceof an&&!gi.animators.length&&gi.animateFrom({style:{opacity:0}},mi)})})}function F3(Yr){var Gr=Yr.getModel("universalTransition").get("seriesKey");return Gr||Yr.id}function V3(Yr){return Ri(Yr)?Yr.sort().join(","):Yr}function Ff(Yr){if(Yr.hostModel)return Yr.hostModel.getModel("universalTransition").get("divideShape")}function uat(Yr,Gr){var Wr=Hi(),Zr=Hi(),Kr=Hi();_i(Yr.oldSeries,function(Qr,ti){var ei=Yr.oldDataGroupIds[ti],ri=Yr.oldData[ti],ii=F3(Qr),ni=V3(ii);Zr.set(ni,{dataGroupId:ei,data:ri}),Ri(ii)&&_i(ii,function(ai){Kr.set(ai,{key:ni,dataGroupId:ei,data:ri})})});function Jr(Qr){Wr.get(Qr)&&NI("Duplicated seriesKey in universalTransition "+Qr)}return _i(Gr.updatedSeries,function(Qr){if(Qr.isUniversalTransitionEnabled()&&Qr.isAnimationEnabled()){var ti=Qr.get("dataGroupId"),ei=Qr.getData(),ri=F3(Qr),ii=V3(ri),ni=Zr.get(ii);if(ni)Wr.set(ii,{oldSeries:[{dataGroupId:ni.dataGroupId,divide:Ff(ni.data),data:ni.data}],newSeries:[{dataGroupId:ti,divide:Ff(ei),data:ei}]});else if(Ri(ri)){var ai=[];_i(ri,function(li){var ui=Zr.get(li);ui.data&&ai.push({dataGroupId:ui.dataGroupId,divide:Ff(ui.data),data:ui.data})}),ai.length&&Wr.set(ii,{oldSeries:ai,newSeries:[{dataGroupId:ti,data:ei,divide:Ff(ei)}]})}else{var oi=Kr.get(ri);if(oi){var si=Wr.get(oi.key);si||(si={oldSeries:[{dataGroupId:oi.dataGroupId,data:oi.data,divide:Ff(oi.data)}],newSeries:[]},Wr.set(oi.key,si)),si.newSeries.push({dataGroupId:ti,data:ei,divide:Ff(ei)})}}}}),Wr}function B3(Yr,Gr){for(var Wr=0;Wr<Yr.length;Wr++){var Zr=Gr.seriesIndex!=null&&Gr.seriesIndex===Yr[Wr].seriesIndex||Gr.seriesId!=null&&Gr.seriesId===Yr[Wr].id;if(Zr)return Wr}}function fat(Yr,Gr,Wr,Zr){var Kr=[],Jr=[];_i(En(Yr.from),function(Qr){var ti=B3(Gr.oldSeries,Qr);ti>=0&&Kr.push({dataGroupId:Gr.oldDataGroupIds[ti],data:Gr.oldData[ti],divide:Ff(Gr.oldData[ti]),groupIdDim:Qr.dimension})}),_i(En(Yr.to),function(Qr){var ti=B3(Wr.updatedSeries,Qr);if(ti>=0){var ei=Wr.updatedSeries[ti].getData();Jr.push({dataGroupId:Gr.oldDataGroupIds[ti],data:ei,divide:Ff(ei),groupIdDim:Qr.dimension})}}),Kr.length>0&&Jr.length>0&&G3(Kr,Jr,Zr)}function GP(Yr){Yr.registerUpdateLifecycle("series:beforeupdate",function(Gr,Wr,Zr){_i(En(Zr.seriesTransition),function(Kr){_i(En(Kr.to),function(Jr){for(var Qr=Zr.updatedSeries,ti=0;ti<Qr.length;ti++)(Jr.seriesIndex!=null&&Jr.seriesIndex===Qr[ti].seriesIndex||Jr.seriesId!=null&&Jr.seriesId===Qr[ti].id)&&(Qr[ti][Cv]=!0)})})}),Yr.registerUpdateLifecycle("series:transition",function(Gr,Wr,Zr){var Kr=nat(Wr);if(Kr.oldSeries&&Zr.updatedSeries&&Zr.optionChanged){var Jr=Zr.seriesTransition;if(Jr)_i(En(Jr),function(oi){fat(oi,Kr,Zr,Wr)});else{var Qr=uat(Kr,Zr);_i(Qr.keys(),function(oi){var si=Qr.get(oi);G3(si.oldSeries,si.newSeries,Wr)})}_i(Zr.updatedSeries,function(oi){oi[Cv]&&(oi[Cv]=!1)})}for(var ti=Gr.getSeries(),ei=Kr.oldSeries=[],ri=Kr.oldDataGroupIds=[],ii=Kr.oldData=[],ni=0;ni<ti.length;ni++){var ai=ti[ni].getData();ai.count()<U3&&(ei.push(ti[ni]),ri.push(ti[ni].get("dataGroupId")),ii.push(ai))}})}Sn([bC]);Sn([_C]);Sn([PC,IC,NC,ZC,$C,dT,CT,RT,eA,rA,nA,SA,AA,EA,OA,zA,NA,FA,GA,YA,jA,mM]);Sn(wM);Sn(PM);Sn(nm);Sn(IM);Sn(mm);Sn(kM);Sn(OM);Sn(YM);Sn(jM);Sn(xl);Sn(eP);Sn(rP);Sn(oP);Sn(cP);Sn(dP);Sn(vP);Sn(wP);Sn(PP);Sn(Em);Sn(Lm);Sn(IP);Sn(Rm);Sn(Om);Sn(RP);Sn(zP);Sn(NP);Sn(GP);Sn(Qw);function Bm(Yr){return Yr+.5|0}var Vf=(Yr,Gr,Wr)=>Math.max(Math.min(Yr,Wr),Gr);function Fm(Yr){return Vf(Bm(Yr*2.55),0,255)}function Bf(Yr){return Vf(Bm(Yr*255),0,255)}function Du(Yr){return Vf(Bm(Yr/2.55)/100,0,1)}function H3(Yr){return Vf(Bm(Yr*100),0,100)}var Hs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},WP=[..."0123456789ABCDEF"],hat=Yr=>WP[Yr&15],cat=Yr=>WP[(Yr&240)>>4]+WP[Yr&15],X_=Yr=>(Yr&240)>>4===(Yr&15),pat=Yr=>X_(Yr.r)&&X_(Yr.g)&&X_(Yr.b)&&X_(Yr.a);function dat(Yr){var Gr=Yr.length,Wr;return Yr[0]==="#"&&(Gr===4||Gr===5?Wr={r:255&Hs[Yr[1]]*17,g:255&Hs[Yr[2]]*17,b:255&Hs[Yr[3]]*17,a:Gr===5?Hs[Yr[4]]*17:255}:(Gr===7||Gr===9)&&(Wr={r:Hs[Yr[1]]<<4|Hs[Yr[2]],g:Hs[Yr[3]]<<4|Hs[Yr[4]],b:Hs[Yr[5]]<<4|Hs[Yr[6]],a:Gr===9?Hs[Yr[7]]<<4|Hs[Yr[8]]:255})),Wr}var vat=(Yr,Gr)=>Yr<255?Gr(Yr):"";function mat(Yr){var Gr=pat(Yr)?hat:cat;return Yr?"#"+Gr(Yr.r)+Gr(Yr.g)+Gr(Yr.b)+vat(Yr.a,Gr):void 0}var gat=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function q3(Yr,Gr,Wr){let Zr=Gr*Math.min(Wr,1-Wr),Kr=(Jr,Qr=(Jr+Yr/30)%12)=>Wr-Zr*Math.max(Math.min(Qr-3,9-Qr,1),-1);return[Kr(0),Kr(8),Kr(4)]}function yat(Yr,Gr,Wr){let Zr=(Kr,Jr=(Kr+Yr/60)%6)=>Wr-Wr*Gr*Math.max(Math.min(Jr,4-Jr,1),0);return[Zr(5),Zr(3),Zr(1)]}function xat(Yr,Gr,Wr){let Zr=q3(Yr,1,.5),Kr;for(Gr+Wr>1&&(Kr=1/(Gr+Wr),Gr*=Kr,Wr*=Kr),Kr=0;Kr<3;Kr++)Zr[Kr]*=1-Gr-Wr,Zr[Kr]+=Gr;return Zr}function _at(Yr,Gr,Wr,Zr,Kr){return Yr===Kr?(Gr-Wr)/Zr+(Gr<Wr?6:0):Gr===Kr?(Wr-Yr)/Zr+2:(Yr-Gr)/Zr+4}function YP(Yr){let Wr=Yr.r/255,Zr=Yr.g/255,Kr=Yr.b/255,Jr=Math.max(Wr,Zr,Kr),Qr=Math.min(Wr,Zr,Kr),ti=(Jr+Qr)/2,ei,ri,ii;return Jr!==Qr&&(ii=Jr-Qr,ri=ti>.5?ii/(2-Jr-Qr):ii/(Jr+Qr),ei=_at(Wr,Zr,Kr,ii,Jr),ei=ei*60+.5),[ei|0,ri||0,ti]}function XP(Yr,Gr,Wr,Zr){return(Array.isArray(Gr)?Yr(Gr[0],Gr[1],Gr[2]):Yr(Gr,Wr,Zr)).map(Bf)}function qP(Yr,Gr,Wr){return XP(q3,Yr,Gr,Wr)}function bat(Yr,Gr,Wr){return XP(xat,Yr,Gr,Wr)}function Sat(Yr,Gr,Wr){return XP(yat,Yr,Gr,Wr)}function Z3(Yr){return(Yr%360+360)%360}function wat(Yr){let Gr=gat.exec(Yr),Wr=255,Zr;if(!Gr)return;Gr[5]!==Zr&&(Wr=Gr[6]?Fm(+Gr[5]):Bf(+Gr[5]));let Kr=Z3(+Gr[2]),Jr=+Gr[3]/100,Qr=+Gr[4]/100;return Gr[1]==="hwb"?Zr=bat(Kr,Jr,Qr):Gr[1]==="hsv"?Zr=Sat(Kr,Jr,Qr):Zr=qP(Kr,Jr,Qr),{r:Zr[0],g:Zr[1],b:Zr[2],a:Wr}}function Cat(Yr,Gr){var Wr=YP(Yr);Wr[0]=Z3(Wr[0]+Gr),Wr=qP(Wr),Yr.r=Wr[0],Yr.g=Wr[1],Yr.b=Wr[2]}function Tat(Yr){if(!Yr)return;let Gr=YP(Yr),Wr=Gr[0],Zr=H3(Gr[1]),Kr=H3(Gr[2]);return Yr.a<255?`hsla(${Wr}, ${Zr}%, ${Kr}%, ${Du(Yr.a)})`:`hsl(${Wr}, ${Zr}%, ${Kr}%)`}var W3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Y3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Aat(){let Yr={},Gr=Object.keys(Y3),Wr=Object.keys(W3),Zr,Kr,Jr,Qr,ti;for(Zr=0;Zr<Gr.length;Zr++){for(Qr=ti=Gr[Zr],Kr=0;Kr<Wr.length;Kr++)Jr=Wr[Kr],ti=ti.replace(Jr,W3[Jr]);Jr=parseInt(Y3[Qr],16),Yr[ti]=[Jr>>16&255,Jr>>8&255,Jr&255]}return Yr}var q_;function Mat(Yr){q_||(q_=Aat(),q_.transparent=[0,0,0,0]);let Gr=q_[Yr.toLowerCase()];return Gr&&{r:Gr[0],g:Gr[1],b:Gr[2],a:Gr.length===4?Gr[3]:255}}var Pat=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Eat(Yr){let Gr=Pat.exec(Yr),Wr=255,Zr,Kr,Jr;if(Gr){if(Gr[7]!==Zr){let Qr=+Gr[7];Wr=Gr[8]?Fm(Qr):Vf(Qr*255,0,255)}return Zr=+Gr[1],Kr=+Gr[3],Jr=+Gr[5],Zr=255&(Gr[2]?Fm(Zr):Vf(Zr,0,255)),Kr=255&(Gr[4]?Fm(Kr):Vf(Kr,0,255)),Jr=255&(Gr[6]?Fm(Jr):Vf(Jr,0,255)),{r:Zr,g:Kr,b:Jr,a:Wr}}}function Dat(Yr){return Yr&&(Yr.a<255?`rgba(${Yr.r}, ${Yr.g}, ${Yr.b}, ${Du(Yr.a)})`:`rgb(${Yr.r}, ${Yr.g}, ${Yr.b})`)}var HP=Yr=>Yr<=.0031308?Yr*12.92:Math.pow(Yr,1/2.4)*1.055-.055,id=Yr=>Yr<=.04045?Yr/12.92:Math.pow((Yr+.055)/1.055,2.4);function Iat(Yr,Gr,Wr){let Zr=id(Du(Yr.r)),Kr=id(Du(Yr.g)),Jr=id(Du(Yr.b));return{r:Bf(HP(Zr+Wr*(id(Du(Gr.r))-Zr))),g:Bf(HP(Kr+Wr*(id(Du(Gr.g))-Kr))),b:Bf(HP(Jr+Wr*(id(Du(Gr.b))-Jr))),a:Yr.a+Wr*(Gr.a-Yr.a)}}function Z_(Yr,Gr,Wr){if(Yr){let Zr=YP(Yr);Zr[Gr]=Math.max(0,Math.min(Zr[Gr]+Zr[Gr]*Wr,Gr===0?360:1)),Zr=qP(Zr),Yr.r=Zr[0],Yr.g=Zr[1],Yr.b=Zr[2]}}function j3(Yr,Gr){return Yr&&Object.assign(Gr||{},Yr)}function X3(Yr){var Gr={r:0,g:0,b:0,a:255};return Array.isArray(Yr)?Yr.length>=3&&(Gr={r:Yr[0],g:Yr[1],b:Yr[2],a:255},Yr.length>3&&(Gr.a=Bf(Yr[3]))):(Gr=j3(Yr,{r:0,g:0,b:0,a:1}),Gr.a=Bf(Gr.a)),Gr}function Lat(Yr){return Yr.charAt(0)==="r"?Eat(Yr):wat(Yr)}var Vm=class Yr{constructor(Gr){if(Gr instanceof Yr)return Gr;let Wr=typeof Gr,Zr;Wr==="object"?Zr=X3(Gr):Wr==="string"&&(Zr=dat(Gr)||Mat(Gr)||Lat(Gr)),this._rgb=Zr,this._valid=!!Zr}get valid(){return this._valid}get rgb(){var Gr=j3(this._rgb);return Gr&&(Gr.a=Du(Gr.a)),Gr}set rgb(Gr){this._rgb=X3(Gr)}rgbString(){return this._valid?Dat(this._rgb):void 0}hexString(){return this._valid?mat(this._rgb):void 0}hslString(){return this._valid?Tat(this._rgb):void 0}mix(Gr,Wr){if(Gr){let Zr=this.rgb,Kr=Gr.rgb,Jr,Qr=Wr===Jr?.5:Wr,ti=2*Qr-1,ei=Zr.a-Kr.a,ri=((ti*ei===-1?ti:(ti+ei)/(1+ti*ei))+1)/2;Jr=1-ri,Zr.r=255&ri*Zr.r+Jr*Kr.r+.5,Zr.g=255&ri*Zr.g+Jr*Kr.g+.5,Zr.b=255&ri*Zr.b+Jr*Kr.b+.5,Zr.a=Qr*Zr.a+(1-Qr)*Kr.a,this.rgb=Zr}return this}interpolate(Gr,Wr){return Gr&&(this._rgb=Iat(this._rgb,Gr._rgb,Wr)),this}clone(){return new Yr(this.rgb)}alpha(Gr){return this._rgb.a=Bf(Gr),this}clearer(Gr){let Wr=this._rgb;return Wr.a*=1-Gr,this}greyscale(){let Gr=this._rgb,Wr=Bm(Gr.r*.3+Gr.g*.59+Gr.b*.11);return Gr.r=Gr.g=Gr.b=Wr,this}opaquer(Gr){let Wr=this._rgb;return Wr.a*=1+Gr,this}negate(){let Gr=this._rgb;return Gr.r=255-Gr.r,Gr.g=255-Gr.g,Gr.b=255-Gr.b,this}lighten(Gr){return Z_(this._rgb,2,Gr),this}darken(Gr){return Z_(this._rgb,2,-Gr),this}saturate(Gr){return Z_(this._rgb,1,Gr),this}desaturate(Gr){return Z_(this._rgb,1,-Gr),this}rotate(Gr){return Cat(this._rgb,Gr),this}};function Jl(){}var oW=(()=>{let Yr=0;return()=>Yr++})();function Xn(Yr){return Yr===null||typeof Yr>"u"}function ca(Yr){if(Array.isArray&&Array.isArray(Yr))return!0;let Gr=Object.prototype.toString.call(Yr);return Gr.slice(0,7)==="[object"&&Gr.slice(-6)==="Array]"}function Un(Yr){return Yr!==null&&Object.prototype.toString.call(Yr)==="[object Object]"}function wa(Yr){return(typeof Yr=="number"||Yr instanceof Number)&&isFinite(+Yr)}function ts(Yr,Gr){return wa(Yr)?Yr:Gr}function zn(Yr,Gr){return typeof Yr>"u"?Gr:Yr}var sW=(Yr,Gr)=>typeof Yr=="string"&&Yr.endsWith("%")?parseFloat(Yr)/100:+Yr/Gr,$P=(Yr,Gr)=>typeof Yr=="string"&&Yr.endsWith("%")?parseFloat(Yr)/100*Gr:+Yr;function ua(Yr,Gr,Wr){if(Yr&&typeof Yr.call=="function")return Yr.apply(Wr,Gr)}function na(Yr,Gr,Wr,Zr){let Kr,Jr,Qr;if(ca(Yr))if(Jr=Yr.length,Zr)for(Kr=Jr-1;Kr>=0;Kr--)Gr.call(Wr,Yr[Kr],Kr);else for(Kr=0;Kr<Jr;Kr++)Gr.call(Wr,Yr[Kr],Kr);else if(Un(Yr))for(Qr=Object.keys(Yr),Jr=Qr.length,Kr=0;Kr<Jr;Kr++)Gr.call(Wr,Yr[Qr[Kr]],Qr[Kr])}function Hm(Yr,Gr){let Wr,Zr,Kr,Jr;if(!Yr||!Gr||Yr.length!==Gr.length)return!1;for(Wr=0,Zr=Yr.length;Wr<Zr;++Wr)if(Kr=Yr[Wr],Jr=Gr[Wr],Kr.datasetIndex!==Jr.datasetIndex||Kr.index!==Jr.index)return!1;return!0}function J_(Yr){if(ca(Yr))return Yr.map(J_);if(Un(Yr)){let Gr=Object.create(null),Wr=Object.keys(Yr),Zr=Wr.length,Kr=0;for(;Kr<Zr;++Kr)Gr[Wr[Kr]]=J_(Yr[Wr[Kr]]);return Gr}return Yr}function lW(Yr){return["__proto__","prototype","constructor"].indexOf(Yr)===-1}function kat(Yr,Gr,Wr,Zr){if(!lW(Yr))return;let Kr=Gr[Yr],Jr=Wr[Yr];Un(Kr)&&Un(Jr)?ad(Kr,Jr,Zr):Gr[Yr]=J_(Jr)}function ad(Yr,Gr,Wr){let Zr=ca(Gr)?Gr:[Gr],Kr=Zr.length;if(!Un(Yr))return Yr;Wr=Wr||{};let Jr=Wr.merger||kat,Qr;for(let ti=0;ti<Kr;++ti){if(Qr=Zr[ti],!Un(Qr))continue;let ei=Object.keys(Qr);for(let ri=0,ii=ei.length;ri<ii;++ri)Jr(ei[ri],Yr,Qr,Wr)}return Yr}function sd(Yr,Gr){return ad(Yr,Gr,{merger:Rat})}function Rat(Yr,Gr,Wr){if(!lW(Yr))return;let Zr=Gr[Yr],Kr=Wr[Yr];Un(Zr)&&Un(Kr)?sd(Zr,Kr):Object.prototype.hasOwnProperty.call(Gr,Yr)||(Gr[Yr]=J_(Kr))}var K3={"":Yr=>Yr,x:Yr=>Yr.x,y:Yr=>Yr.y};function Oat(Yr){let Gr=Yr.split("."),Wr=[],Zr="";for(let Kr of Gr)Zr+=Kr,Zr.endsWith("\\")?Zr=Zr.slice(0,-1)+".":(Wr.push(Zr),Zr="");return Wr}function zat(Yr){let Gr=Oat(Yr);return Wr=>{for(let Zr of Gr){if(Zr==="")break;Wr=Wr&&Wr[Zr]}return Wr}}function ku(Yr,Gr){return(K3[Gr]||(K3[Gr]=zat(Gr)))(Yr)}function rb(Yr){return Yr.charAt(0).toUpperCase()+Yr.slice(1)}var ld=Yr=>typeof Yr<"u",Iu=Yr=>typeof Yr=="function",JP=(Yr,Gr)=>{if(Yr.size!==Gr.size)return!1;for(let Wr of Yr)if(!Gr.has(Wr))return!1;return!0};function uW(Yr){return Yr.type==="mouseup"||Yr.type==="click"||Yr.type==="contextmenu"}var pa=Math.PI,da=2*pa,Nat=da+pa,Q_=Number.POSITIVE_INFINITY,Fat=pa/180,Da=pa/2,cc=pa/4,$3=pa*2/3,Lu=Math.log10,_l=Math.sign;function ud(Yr,Gr,Wr){return Math.abs(Yr-Gr)<Wr}function QP(Yr){let Gr=Math.round(Yr);Yr=ud(Yr,Gr,Yr/1e3)?Gr:Yr;let Wr=Math.pow(10,Math.floor(Lu(Yr))),Zr=Yr/Wr;return(Zr<=1?1:Zr<=2?2:Zr<=5?5:10)*Wr}function fW(Yr){let Gr=[],Wr=Math.sqrt(Yr),Zr;for(Zr=1;Zr<Wr;Zr++)Yr%Zr===0&&(Gr.push(Zr),Gr.push(Yr/Zr));return Wr===(Wr|0)&&Gr.push(Wr),Gr.sort((Kr,Jr)=>Kr-Jr).pop(),Gr}function vc(Yr){return!isNaN(parseFloat(Yr))&&isFinite(Yr)}function hW(Yr,Gr){let Wr=Math.round(Yr);return Wr-Gr<=Yr&&Wr+Gr>=Yr}function tE(Yr,Gr,Wr){let Zr,Kr,Jr;for(Zr=0,Kr=Yr.length;Zr<Kr;Zr++)Jr=Yr[Zr][Wr],isNaN(Jr)||(Gr.min=Math.min(Gr.min,Jr),Gr.max=Math.max(Gr.max,Jr))}function Ws(Yr){return Yr*(pa/180)}function ib(Yr){return Yr*(180/pa)}function eE(Yr){if(!wa(Yr))return;let Gr=1,Wr=0;for(;Math.round(Yr*Gr)/Gr!==Yr;)Gr*=10,Wr++;return Wr}function rE(Yr,Gr){let Wr=Gr.x-Yr.x,Zr=Gr.y-Yr.y,Kr=Math.sqrt(Wr*Wr+Zr*Zr),Jr=Math.atan2(Zr,Wr);return Jr<-.5*pa&&(Jr+=da),{angle:Jr,distance:Kr}}function tb(Yr,Gr){return Math.sqrt(Math.pow(Gr.x-Yr.x,2)+Math.pow(Gr.y-Yr.y,2))}function Vat(Yr,Gr){return(Yr-Gr+Nat)%da-pa}function Qo(Yr){return(Yr%da+da)%da}function fd(Yr,Gr,Wr,Zr){let Kr=Qo(Yr),Jr=Qo(Gr),Qr=Qo(Wr),ti=Qo(Jr-Kr),ei=Qo(Qr-Kr),ri=Qo(Kr-Jr),ii=Qo(Kr-Qr);return Kr===Jr||Kr===Qr||Zr&&Jr===Qr||ti>ei&&ri<ii}function Xa(Yr,Gr,Wr){return Math.max(Gr,Math.min(Wr,Yr))}function cW(Yr){return Xa(Yr,-32768,32767)}function Ql(Yr,Gr,Wr,Zr=1e-6){return Yr>=Math.min(Gr,Wr)-Zr&&Yr<=Math.max(Gr,Wr)+Zr}function nb(Yr,Gr,Wr){Wr=Wr||(Qr=>Yr[Qr]<Gr);let Zr=Yr.length-1,Kr=0,Jr;for(;Zr-Kr>1;)Jr=Kr+Zr>>1,Wr(Jr)?Kr=Jr:Zr=Jr;return{lo:Kr,hi:Zr}}var Kl=(Yr,Gr,Wr,Zr)=>nb(Yr,Wr,Zr?Kr=>{let Jr=Yr[Kr][Gr];return Jr<Wr||Jr===Wr&&Yr[Kr+1][Gr]===Wr}:Kr=>Yr[Kr][Gr]<Wr),pW=(Yr,Gr,Wr)=>nb(Yr,Wr,Zr=>Yr[Zr][Gr]>=Wr);function dW(Yr,Gr,Wr){let Zr=0,Kr=Yr.length;for(;Zr<Kr&&Yr[Zr]<Gr;)Zr++;for(;Kr>Zr&&Yr[Kr-1]>Wr;)Kr--;return Zr>0||Kr<Yr.length?Yr.slice(Zr,Kr):Yr}var vW=["push","pop","shift","splice","unshift"];function mW(Yr,Gr){if(Yr._chartjs){Yr._chartjs.listeners.push(Gr);return}Object.defineProperty(Yr,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Gr]}}),vW.forEach(Wr=>{let Zr="_onData"+rb(Wr),Kr=Yr[Wr];Object.defineProperty(Yr,Wr,{configurable:!0,enumerable:!1,value(...Jr){let Qr=Kr.apply(this,Jr);return Yr._chartjs.listeners.forEach(ti=>{typeof ti[Zr]=="function"&&ti[Zr](...Jr)}),Qr}})})}function iE(Yr,Gr){let Wr=Yr._chartjs;if(!Wr)return;let Zr=Wr.listeners,Kr=Zr.indexOf(Gr);Kr!==-1&&Zr.splice(Kr,1),!(Zr.length>0)&&(vW.forEach(Jr=>{delete Yr[Jr]}),delete Yr._chartjs)}function nE(Yr){let Gr=new Set(Yr);return Gr.size===Yr.length?Yr:Array.from(Gr)}var aE=function(){return typeof window>"u"?function(Yr){return Yr()}:window.requestAnimationFrame}();function oE(Yr,Gr){let Wr=[],Zr=!1;return function(...Kr){Wr=Kr,Zr||(Zr=!0,aE.call(window,()=>{Zr=!1,Yr.apply(Gr,Wr)}))}}function gW(Yr,Gr){let Wr;return function(...Zr){return Gr?(clearTimeout(Wr),Wr=setTimeout(Yr,Gr,Zr)):Yr.apply(this,Zr),Gr}}var ab=Yr=>Yr==="start"?"left":Yr==="end"?"right":"center",lo=(Yr,Gr,Wr)=>Yr==="start"?Gr:Yr==="end"?Wr:(Gr+Wr)/2,yW=(Yr,Gr,Wr,Zr)=>Yr===(Zr?"left":"right")?Wr:Yr==="center"?(Gr+Wr)/2:Gr;function sE(Yr,Gr,Wr){let Zr=Gr.length,Kr=0,Jr=Zr;if(Yr._sorted){let{iScale:Qr,_parsed:ti}=Yr,ei=Qr.axis,{min:ri,max:ii,minDefined:ni,maxDefined:ai}=Qr.getUserBounds();ni&&(Kr=Xa(Math.min(Kl(ti,ei,ri).lo,Wr?Zr:Kl(Gr,ei,Qr.getPixelForValue(ri)).lo),0,Zr-1)),ai?Jr=Xa(Math.max(Kl(ti,Qr.axis,ii,!0).hi+1,Wr?0:Kl(Gr,ei,Qr.getPixelForValue(ii),!0).hi+1),Kr,Zr)-Kr:Jr=Zr-Kr}return{start:Kr,count:Jr}}function lE(Yr){let{xScale:Gr,yScale:Wr,_scaleRanges:Zr}=Yr,Kr={xmin:Gr.min,xmax:Gr.max,ymin:Wr.min,ymax:Wr.max};if(!Zr)return Yr._scaleRanges=Kr,!0;let Jr=Zr.xmin!==Gr.min||Zr.xmax!==Gr.max||Zr.ymin!==Wr.min||Zr.ymax!==Wr.max;return Object.assign(Zr,Kr),Jr}var j_=Yr=>Yr===0||Yr===1,J3=(Yr,Gr,Wr)=>-(Math.pow(2,10*(Yr-=1))*Math.sin((Yr-Gr)*da/Wr)),Q3=(Yr,Gr,Wr)=>Math.pow(2,-10*Yr)*Math.sin((Yr-Gr)*da/Wr)+1,nd={linear:Yr=>Yr,easeInQuad:Yr=>Yr*Yr,easeOutQuad:Yr=>-Yr*(Yr-2),easeInOutQuad:Yr=>(Yr/=.5)<1?.5*Yr*Yr:-.5*(--Yr*(Yr-2)-1),easeInCubic:Yr=>Yr*Yr*Yr,easeOutCubic:Yr=>(Yr-=1)*Yr*Yr+1,easeInOutCubic:Yr=>(Yr/=.5)<1?.5*Yr*Yr*Yr:.5*((Yr-=2)*Yr*Yr+2),easeInQuart:Yr=>Yr*Yr*Yr*Yr,easeOutQuart:Yr=>-((Yr-=1)*Yr*Yr*Yr-1),easeInOutQuart:Yr=>(Yr/=.5)<1?.5*Yr*Yr*Yr*Yr:-.5*((Yr-=2)*Yr*Yr*Yr-2),easeInQuint:Yr=>Yr*Yr*Yr*Yr*Yr,easeOutQuint:Yr=>(Yr-=1)*Yr*Yr*Yr*Yr+1,easeInOutQuint:Yr=>(Yr/=.5)<1?.5*Yr*Yr*Yr*Yr*Yr:.5*((Yr-=2)*Yr*Yr*Yr*Yr+2),easeInSine:Yr=>-Math.cos(Yr*Da)+1,easeOutSine:Yr=>Math.sin(Yr*Da),easeInOutSine:Yr=>-.5*(Math.cos(pa*Yr)-1),easeInExpo:Yr=>Yr===0?0:Math.pow(2,10*(Yr-1)),easeOutExpo:Yr=>Yr===1?1:-Math.pow(2,-10*Yr)+1,easeInOutExpo:Yr=>j_(Yr)?Yr:Yr<.5?.5*Math.pow(2,10*(Yr*2-1)):.5*(-Math.pow(2,-10*(Yr*2-1))+2),easeInCirc:Yr=>Yr>=1?Yr:-(Math.sqrt(1-Yr*Yr)-1),easeOutCirc:Yr=>Math.sqrt(1-(Yr-=1)*Yr),easeInOutCirc:Yr=>(Yr/=.5)<1?-.5*(Math.sqrt(1-Yr*Yr)-1):.5*(Math.sqrt(1-(Yr-=2)*Yr)+1),easeInElastic:Yr=>j_(Yr)?Yr:J3(Yr,.075,.3),easeOutElastic:Yr=>j_(Yr)?Yr:Q3(Yr,.075,.3),easeInOutElastic(Yr){return j_(Yr)?Yr:Yr<.5?.5*J3(Yr*2,.1125,.45):.5+.5*Q3(Yr*2-1,.1125,.45)},easeInBack(Yr){return Yr*Yr*((1.70158+1)*Yr-1.70158)},easeOutBack(Yr){return(Yr-=1)*Yr*((1.70158+1)*Yr+1.70158)+1},easeInOutBack(Yr){let Gr=1.70158;return(Yr/=.5)<1?.5*(Yr*Yr*(((Gr*=1.525)+1)*Yr-Gr)):.5*((Yr-=2)*Yr*(((Gr*=1.525)+1)*Yr+Gr)+2)},easeInBounce:Yr=>1-nd.easeOutBounce(1-Yr),easeOutBounce(Yr){return Yr<1/2.75?7.5625*Yr*Yr:Yr<2/2.75?7.5625*(Yr-=1.5/2.75)*Yr+.75:Yr<2.5/2.75?7.5625*(Yr-=2.25/2.75)*Yr+.9375:7.5625*(Yr-=2.625/2.75)*Yr+.984375},easeInOutBounce:Yr=>Yr<.5?nd.easeInBounce(Yr*2)*.5:nd.easeOutBounce(Yr*2-1)*.5+.5};function uE(Yr){if(Yr&&typeof Yr=="object"){let Gr=Yr.toString();return Gr==="[object CanvasPattern]"||Gr==="[object CanvasGradient]"}return!1}function fE(Yr){return uE(Yr)?Yr:new Vm(Yr)}function ZP(Yr){return uE(Yr)?Yr:new Vm(Yr).saturate(.5).darken(.1).hexString()}var Bat=["x","y","borderWidth","radius","tension"],Uat=["color","borderColor","backgroundColor"];function Gat(Yr){Yr.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),Yr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Gr=>Gr!=="onProgress"&&Gr!=="onComplete"&&Gr!=="fn"}),Yr.set("animations",{colors:{type:"color",properties:Uat},numbers:{type:"number",properties:Bat}}),Yr.describe("animations",{_fallback:"animation"}),Yr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Gr=>Gr|0}}}})}function Hat(Yr){Yr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var tW=new Map;function Wat(Yr,Gr){Gr=Gr||{};let Wr=Yr+JSON.stringify(Gr),Zr=tW.get(Wr);return Zr||(Zr=new Intl.NumberFormat(Yr,Gr),tW.set(Wr,Zr)),Zr}function hd(Yr,Gr,Wr){return Wat(Gr,Wr).format(Yr)}var xW={values(Yr){return ca(Yr)?Yr:""+Yr},numeric(Yr,Gr,Wr){if(Yr===0)return"0";let Zr=this.chart.options.locale,Kr,Jr=Yr;if(Wr.length>1){let ri=Math.max(Math.abs(Wr[0].value),Math.abs(Wr[Wr.length-1].value));(ri<1e-4||ri>1e15)&&(Kr="scientific"),Jr=Yat(Yr,Wr)}let Qr=Lu(Math.abs(Jr)),ti=isNaN(Qr)?1:Math.max(Math.min(-1*Math.floor(Qr),20),0),ei={notation:Kr,minimumFractionDigits:ti,maximumFractionDigits:ti};return Object.assign(ei,this.options.ticks.format),hd(Yr,Zr,ei)},logarithmic(Yr,Gr,Wr){if(Yr===0)return"0";let Zr=Wr[Gr].significand||Yr/Math.pow(10,Math.floor(Lu(Yr)));return[1,2,3,5,10,15].includes(Zr)||Gr>.8*Wr.length?xW.numeric.call(this,Yr,Gr,Wr):""}};function Yat(Yr,Gr){let Wr=Gr.length>3?Gr[2].value-Gr[1].value:Gr[1].value-Gr[0].value;return Math.abs(Wr)>=1&&Yr!==Math.floor(Yr)&&(Wr=Yr-Math.floor(Yr)),Wr}var Wm={formatters:xW};function Xat(Yr){Yr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Gr,Wr)=>Wr.lineWidth,tickColor:(Gr,Wr)=>Wr.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Yr.route("scale.ticks","color","","color"),Yr.route("scale.grid","color","","borderColor"),Yr.route("scale.border","color","","borderColor"),Yr.route("scale.title","color","","color"),Yr.describe("scale",{_fallback:!1,_scriptable:Gr=>!Gr.startsWith("before")&&!Gr.startsWith("after")&&Gr!=="callback"&&Gr!=="parser",_indexable:Gr=>Gr!=="borderDash"&&Gr!=="tickBorderDash"&&Gr!=="dash"}),Yr.describe("scales",{_fallback:"scale"}),Yr.describe("scale.ticks",{_scriptable:Gr=>Gr!=="backdropPadding"&&Gr!=="callback",_indexable:Gr=>Gr!=="backdropPadding"})}var Gf=Object.create(null),sb=Object.create(null);function Um(Yr,Gr){if(!Gr)return Yr;let Wr=Gr.split(".");for(let Zr=0,Kr=Wr.length;Zr<Kr;++Zr){let Jr=Wr[Zr];Yr=Yr[Jr]||(Yr[Jr]=Object.create(null))}return Yr}function jP(Yr,Gr,Wr){return typeof Gr=="string"?ad(Um(Yr,Gr),Wr):ad(Um(Yr,""),Gr)}var KP=class{constructor(Gr,Wr){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Zr=>Zr.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Zr,Kr)=>ZP(Kr.backgroundColor),this.hoverBorderColor=(Zr,Kr)=>ZP(Kr.borderColor),this.hoverColor=(Zr,Kr)=>ZP(Kr.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Gr),this.apply(Wr)}set(Gr,Wr){return jP(this,Gr,Wr)}get(Gr){return Um(this,Gr)}describe(Gr,Wr){return jP(sb,Gr,Wr)}override(Gr,Wr){return jP(Gf,Gr,Wr)}route(Gr,Wr,Zr,Kr){let Jr=Um(this,Gr),Qr=Um(this,Zr),ti="_"+Wr;Object.defineProperties(Jr,{[ti]:{value:Jr[Wr],writable:!0},[Wr]:{enumerable:!0,get(){let ei=this[ti],ri=Qr[Kr];return Un(ei)?Object.assign({},ri,ei):zn(ei,ri)},set(ei){this[ti]=ei}}})}apply(Gr){Gr.forEach(Wr=>Wr(this))}},Ca=new KP({_scriptable:Yr=>!Yr.startsWith("on"),_indexable:Yr=>Yr!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gat,Hat,Xat]);function qat(Yr){return!Yr||Xn(Yr.size)||Xn(Yr.family)?null:(Yr.style?Yr.style+" ":"")+(Yr.weight?Yr.weight+" ":"")+Yr.size+"px "+Yr.family}function Gm(Yr,Gr,Wr,Zr,Kr){let Jr=Gr[Kr];return Jr||(Jr=Gr[Kr]=Yr.measureText(Kr).width,Wr.push(Kr)),Jr>Zr&&(Zr=Jr),Zr}function _W(Yr,Gr,Wr,Zr){Zr=Zr||{};let Kr=Zr.data=Zr.data||{},Jr=Zr.garbageCollect=Zr.garbageCollect||[];Zr.font!==Gr&&(Kr=Zr.data={},Jr=Zr.garbageCollect=[],Zr.font=Gr),Yr.save(),Yr.font=Gr;let Qr=0,ti=Wr.length,ei,ri,ii,ni,ai;for(ei=0;ei<ti;ei++)if(ni=Wr[ei],ni!=null&&!ca(ni))Qr=Gm(Yr,Kr,Jr,Qr,ni);else if(ca(ni))for(ri=0,ii=ni.length;ri<ii;ri++)ai=ni[ri],ai!=null&&!ca(ai)&&(Qr=Gm(Yr,Kr,Jr,Qr,ai));Yr.restore();let oi=Jr.length/2;if(oi>Wr.length){for(ei=0;ei<oi;ei++)delete Kr[Jr[ei]];Jr.splice(0,oi)}return Qr}function Hf(Yr,Gr,Wr){let Zr=Yr.currentDevicePixelRatio,Kr=Wr!==0?Math.max(Wr/2,.5):0;return Math.round((Gr-Kr)*Zr)/Zr+Kr}function hE(Yr,Gr){Gr=Gr||Yr.getContext("2d"),Gr.save(),Gr.resetTransform(),Gr.clearRect(0,0,Yr.width,Yr.height),Gr.restore()}function lb(Yr,Gr,Wr,Zr){cE(Yr,Gr,Wr,Zr,null)}function cE(Yr,Gr,Wr,Zr,Kr){let Jr,Qr,ti,ei,ri,ii,ni,ai,oi=Gr.pointStyle,si=Gr.rotation,li=Gr.radius,ui=(si||0)*Fat;if(oi&&typeof oi=="object"&&(Jr=oi.toString(),Jr==="[object HTMLImageElement]"||Jr==="[object HTMLCanvasElement]")){Yr.save(),Yr.translate(Wr,Zr),Yr.rotate(ui),Yr.drawImage(oi,-oi.width/2,-oi.height/2,oi.width,oi.height),Yr.restore();return}if(!(isNaN(li)||li<=0)){switch(Yr.beginPath(),oi){default:Kr?Yr.ellipse(Wr,Zr,Kr/2,li,0,0,da):Yr.arc(Wr,Zr,li,0,da),Yr.closePath();break;case"triangle":ii=Kr?Kr/2:li,Yr.moveTo(Wr+Math.sin(ui)*ii,Zr-Math.cos(ui)*li),ui+=$3,Yr.lineTo(Wr+Math.sin(ui)*ii,Zr-Math.cos(ui)*li),ui+=$3,Yr.lineTo(Wr+Math.sin(ui)*ii,Zr-Math.cos(ui)*li),Yr.closePath();break;case"rectRounded":ri=li*.516,ei=li-ri,Qr=Math.cos(ui+cc)*ei,ni=Math.cos(ui+cc)*(Kr?Kr/2-ri:ei),ti=Math.sin(ui+cc)*ei,ai=Math.sin(ui+cc)*(Kr?Kr/2-ri:ei),Yr.arc(Wr-ni,Zr-ti,ri,ui-pa,ui-Da),Yr.arc(Wr+ai,Zr-Qr,ri,ui-Da,ui),Yr.arc(Wr+ni,Zr+ti,ri,ui,ui+Da),Yr.arc(Wr-ai,Zr+Qr,ri,ui+Da,ui+pa),Yr.closePath();break;case"rect":if(!si){ei=Math.SQRT1_2*li,ii=Kr?Kr/2:ei,Yr.rect(Wr-ii,Zr-ei,2*ii,2*ei);break}ui+=cc;case"rectRot":ni=Math.cos(ui)*(Kr?Kr/2:li),Qr=Math.cos(ui)*li,ti=Math.sin(ui)*li,ai=Math.sin(ui)*(Kr?Kr/2:li),Yr.moveTo(Wr-ni,Zr-ti),Yr.lineTo(Wr+ai,Zr-Qr),Yr.lineTo(Wr+ni,Zr+ti),Yr.lineTo(Wr-ai,Zr+Qr),Yr.closePath();break;case"crossRot":ui+=cc;case"cross":ni=Math.cos(ui)*(Kr?Kr/2:li),Qr=Math.cos(ui)*li,ti=Math.sin(ui)*li,ai=Math.sin(ui)*(Kr?Kr/2:li),Yr.moveTo(Wr-ni,Zr-ti),Yr.lineTo(Wr+ni,Zr+ti),Yr.moveTo(Wr+ai,Zr-Qr),Yr.lineTo(Wr-ai,Zr+Qr);break;case"star":ni=Math.cos(ui)*(Kr?Kr/2:li),Qr=Math.cos(ui)*li,ti=Math.sin(ui)*li,ai=Math.sin(ui)*(Kr?Kr/2:li),Yr.moveTo(Wr-ni,Zr-ti),Yr.lineTo(Wr+ni,Zr+ti),Yr.moveTo(Wr+ai,Zr-Qr),Yr.lineTo(Wr-ai,Zr+Qr),ui+=cc,ni=Math.cos(ui)*(Kr?Kr/2:li),Qr=Math.cos(ui)*li,ti=Math.sin(ui)*li,ai=Math.sin(ui)*(Kr?Kr/2:li),Yr.moveTo(Wr-ni,Zr-ti),Yr.lineTo(Wr+ni,Zr+ti),Yr.moveTo(Wr+ai,Zr-Qr),Yr.lineTo(Wr-ai,Zr+Qr);break;case"line":Qr=Kr?Kr/2:Math.cos(ui)*li,ti=Math.sin(ui)*li,Yr.moveTo(Wr-Qr,Zr-ti),Yr.lineTo(Wr+Qr,Zr+ti);break;case"dash":Yr.moveTo(Wr,Zr),Yr.lineTo(Wr+Math.cos(ui)*(Kr?Kr/2:li),Zr+Math.sin(ui)*li);break;case!1:Yr.closePath();break}Yr.fill(),Gr.borderWidth>0&&Yr.stroke()}}function $l(Yr,Gr,Wr){return Wr=Wr||.5,!Gr||Yr&&Yr.x>Gr.left-Wr&&Yr.x<Gr.right+Wr&&Yr.y>Gr.top-Wr&&Yr.y<Gr.bottom+Wr}function Ym(Yr,Gr){Yr.save(),Yr.beginPath(),Yr.rect(Gr.left,Gr.top,Gr.right-Gr.left,Gr.bottom-Gr.top),Yr.clip()}function Xm(Yr){Yr.restore()}function bW(Yr,Gr,Wr,Zr,Kr){if(!Gr)return Yr.lineTo(Wr.x,Wr.y);if(Kr==="middle"){let Jr=(Gr.x+Wr.x)/2;Yr.lineTo(Jr,Gr.y),Yr.lineTo(Jr,Wr.y)}else Kr==="after"!=!!Zr?Yr.lineTo(Gr.x,Wr.y):Yr.lineTo(Wr.x,Gr.y);Yr.lineTo(Wr.x,Wr.y)}function SW(Yr,Gr,Wr,Zr){if(!Gr)return Yr.lineTo(Wr.x,Wr.y);Yr.bezierCurveTo(Zr?Gr.cp1x:Gr.cp2x,Zr?Gr.cp1y:Gr.cp2y,Zr?Wr.cp2x:Wr.cp1x,Zr?Wr.cp2y:Wr.cp1y,Wr.x,Wr.y)}function Zat(Yr,Gr){Gr.translation&&Yr.translate(Gr.translation[0],Gr.translation[1]),Xn(Gr.rotation)||Yr.rotate(Gr.rotation),Gr.color&&(Yr.fillStyle=Gr.color),Gr.textAlign&&(Yr.textAlign=Gr.textAlign),Gr.textBaseline&&(Yr.textBaseline=Gr.textBaseline)}function jat(Yr,Gr,Wr,Zr,Kr){if(Kr.strikethrough||Kr.underline){let Jr=Yr.measureText(Zr),Qr=Gr-Jr.actualBoundingBoxLeft,ti=Gr+Jr.actualBoundingBoxRight,ei=Wr-Jr.actualBoundingBoxAscent,ri=Wr+Jr.actualBoundingBoxDescent,ii=Kr.strikethrough?(ei+ri)/2:ri;Yr.strokeStyle=Yr.fillStyle,Yr.beginPath(),Yr.lineWidth=Kr.decorationWidth||2,Yr.moveTo(Qr,ii),Yr.lineTo(ti,ii),Yr.stroke()}}function Kat(Yr,Gr){let Wr=Yr.fillStyle;Yr.fillStyle=Gr.color,Yr.fillRect(Gr.left,Gr.top,Gr.width,Gr.height),Yr.fillStyle=Wr}function Wf(Yr,Gr,Wr,Zr,Kr,Jr={}){let Qr=ca(Gr)?Gr:[Gr],ti=Jr.strokeWidth>0&&Jr.strokeColor!=="",ei,ri;for(Yr.save(),Yr.font=Kr.string,Zat(Yr,Jr),ei=0;ei<Qr.length;++ei)ri=Qr[ei],Jr.backdrop&&Kat(Yr,Jr.backdrop),ti&&(Jr.strokeColor&&(Yr.strokeStyle=Jr.strokeColor),Xn(Jr.strokeWidth)||(Yr.lineWidth=Jr.strokeWidth),Yr.strokeText(ri,Wr,Zr,Jr.maxWidth)),Yr.fillText(ri,Wr,Zr,Jr.maxWidth),jat(Yr,Wr,Zr,ri,Jr),Zr+=Number(Kr.lineHeight);Yr.restore()}function cd(Yr,Gr){let{x:Wr,y:Zr,w:Kr,h:Jr,radius:Qr}=Gr;Yr.arc(Wr+Qr.topLeft,Zr+Qr.topLeft,Qr.topLeft,1.5*pa,pa,!0),Yr.lineTo(Wr,Zr+Jr-Qr.bottomLeft),Yr.arc(Wr+Qr.bottomLeft,Zr+Jr-Qr.bottomLeft,Qr.bottomLeft,pa,Da,!0),Yr.lineTo(Wr+Kr-Qr.bottomRight,Zr+Jr),Yr.arc(Wr+Kr-Qr.bottomRight,Zr+Jr-Qr.bottomRight,Qr.bottomRight,Da,0,!0),Yr.lineTo(Wr+Kr,Zr+Qr.topRight),Yr.arc(Wr+Kr-Qr.topRight,Zr+Qr.topRight,Qr.topRight,0,-Da,!0),Yr.lineTo(Wr+Qr.topLeft,Zr)}var $at=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jat=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qat(Yr,Gr){let Wr=(""+Yr).match($at);if(!Wr||Wr[1]==="normal")return Gr*1.2;switch(Yr=+Wr[2],Wr[3]){case"px":return Yr;case"%":Yr/=100;break}return Gr*Yr}var tot=Yr=>+Yr||0;function ub(Yr,Gr){let Wr={},Zr=Un(Gr),Kr=Zr?Object.keys(Gr):Gr,Jr=Un(Yr)?Zr?Qr=>zn(Yr[Qr],Yr[Gr[Qr]]):Qr=>Yr[Qr]:()=>Yr;for(let Qr of Kr)Wr[Qr]=tot(Jr(Qr));return Wr}function pE(Yr){return ub(Yr,{top:"y",right:"x",bottom:"y",left:"x"})}function Yf(Yr){return ub(Yr,["topLeft","topRight","bottomLeft","bottomRight"])}function uo(Yr){let Gr=pE(Yr);return Gr.width=Gr.left+Gr.right,Gr.height=Gr.top+Gr.bottom,Gr}function Na(Yr,Gr){Yr=Yr||{},Gr=Gr||Ca.font;let Wr=zn(Yr.size,Gr.size);typeof Wr=="string"&&(Wr=parseInt(Wr,10));let Zr=zn(Yr.style,Gr.style);Zr&&!(""+Zr).match(Jat)&&(console.warn('Invalid font style specified: "'+Zr+'"'),Zr=void 0);let Kr={family:zn(Yr.family,Gr.family),lineHeight:Qat(zn(Yr.lineHeight,Gr.lineHeight),Wr),size:Wr,style:Zr,weight:zn(Yr.weight,Gr.weight),string:""};return Kr.string=qat(Kr),Kr}function pd(Yr,Gr,Wr,Zr){let Kr=!0,Jr,Qr,ti;for(Jr=0,Qr=Yr.length;Jr<Qr;++Jr)if(ti=Yr[Jr],ti!==void 0&&(Gr!==void 0&&typeof ti=="function"&&(ti=ti(Gr),Kr=!1),Wr!==void 0&&ca(ti)&&(ti=ti[Wr%ti.length],Kr=!1),ti!==void 0))return Zr&&!Kr&&(Zr.cacheable=!1),ti}function wW(Yr,Gr,Wr){let{min:Zr,max:Kr}=Yr,Jr=$P(Gr,(Kr-Zr)/2),Qr=(ti,ei)=>Wr&&ti===0?0:ti+ei;return{min:Qr(Zr,-Math.abs(Jr)),max:Qr(Kr,Jr)}}function Ru(Yr,Gr){return Object.assign(Object.create(Yr),Gr)}function fb(Yr,Gr=[""],Wr,Zr,Kr=()=>Yr[0]){let Jr=Wr||Yr;typeof Zr>"u"&&(Zr=AW("_fallback",Yr));let Qr={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:Yr,_rootScopes:Jr,_fallback:Zr,_getTarget:Kr,override:ti=>fb([ti,...Yr],Gr,Jr,Zr)};return new Proxy(Qr,{deleteProperty(ti,ei){return delete ti[ei],delete ti._keys,delete Yr[0][ei],!0},get(ti,ei){return CW(ti,ei,()=>lot(ei,Gr,Yr,ti))},getOwnPropertyDescriptor(ti,ei){return Reflect.getOwnPropertyDescriptor(ti._scopes[0],ei)},getPrototypeOf(){return Reflect.getPrototypeOf(Yr[0])},has(ti,ei){return rW(ti).includes(ei)},ownKeys(ti){return rW(ti)},set(ti,ei,ri){let ii=ti._storage||(ti._storage=Kr());return ti[ei]=ii[ei]=ri,delete ti._keys,!0}})}function dc(Yr,Gr,Wr,Zr){let Kr={_cacheable:!1,_proxy:Yr,_context:Gr,_subProxy:Wr,_stack:new Set,_descriptors:dE(Yr,Zr),setContext:Jr=>dc(Yr,Jr,Wr,Zr),override:Jr=>dc(Yr.override(Jr),Gr,Wr,Zr)};return new Proxy(Kr,{deleteProperty(Jr,Qr){return delete Jr[Qr],delete Yr[Qr],!0},get(Jr,Qr,ti){return CW(Jr,Qr,()=>rot(Jr,Qr,ti))},getOwnPropertyDescriptor(Jr,Qr){return Jr._descriptors.allKeys?Reflect.has(Yr,Qr)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(Yr,Qr)},getPrototypeOf(){return Reflect.getPrototypeOf(Yr)},has(Jr,Qr){return Reflect.has(Yr,Qr)},ownKeys(){return Reflect.ownKeys(Yr)},set(Jr,Qr,ti){return Yr[Qr]=ti,delete Jr[Qr],!0}})}function dE(Yr,Gr={scriptable:!0,indexable:!0}){let{_scriptable:Wr=Gr.scriptable,_indexable:Zr=Gr.indexable,_allKeys:Kr=Gr.allKeys}=Yr;return{allKeys:Kr,scriptable:Wr,indexable:Zr,isScriptable:Iu(Wr)?Wr:()=>Wr,isIndexable:Iu(Zr)?Zr:()=>Zr}}var eot=(Yr,Gr)=>Yr?Yr+rb(Gr):Gr,vE=(Yr,Gr)=>Un(Gr)&&Yr!=="adapters"&&(Object.getPrototypeOf(Gr)===null||Gr.constructor===Object);function CW(Yr,Gr,Wr){if(Object.prototype.hasOwnProperty.call(Yr,Gr))return Yr[Gr];let Zr=Wr();return Yr[Gr]=Zr,Zr}function rot(Yr,Gr,Wr){let{_proxy:Zr,_context:Kr,_subProxy:Jr,_descriptors:Qr}=Yr,ti=Zr[Gr];return Iu(ti)&&Qr.isScriptable(Gr)&&(ti=iot(Gr,ti,Yr,Wr)),ca(ti)&&ti.length&&(ti=not(Gr,ti,Yr,Qr.isIndexable)),vE(Gr,ti)&&(ti=dc(ti,Kr,Jr&&Jr[Gr],Qr)),ti}function iot(Yr,Gr,Wr,Zr){let{_proxy:Kr,_context:Jr,_subProxy:Qr,_stack:ti}=Wr;if(ti.has(Yr))throw new Error("Recursion detected: "+Array.from(ti).join("->")+"->"+Yr);ti.add(Yr);let ei=Gr(Jr,Qr||Zr);return ti.delete(Yr),vE(Yr,ei)&&(ei=mE(Kr._scopes,Kr,Yr,ei)),ei}function not(Yr,Gr,Wr,Zr){let{_proxy:Kr,_context:Jr,_subProxy:Qr,_descriptors:ti}=Wr;if(typeof Jr.index<"u"&&Zr(Yr))return Gr[Jr.index%Gr.length];if(Un(Gr[0])){let ei=Gr,ri=Kr._scopes.filter(ii=>ii!==ei);Gr=[];for(let ii of ei){let ni=mE(ri,Kr,Yr,ii);Gr.push(dc(ni,Jr,Qr&&Qr[Yr],ti))}}return Gr}function TW(Yr,Gr,Wr){return Iu(Yr)?Yr(Gr,Wr):Yr}var aot=(Yr,Gr)=>Yr===!0?Gr:typeof Yr=="string"?ku(Gr,Yr):void 0;function oot(Yr,Gr,Wr,Zr,Kr){for(let Jr of Gr){let Qr=aot(Wr,Jr);if(Qr){Yr.add(Qr);let ti=TW(Qr._fallback,Wr,Kr);if(typeof ti<"u"&&ti!==Wr&&ti!==Zr)return ti}else if(Qr===!1&&typeof Zr<"u"&&Wr!==Zr)return null}return!1}function mE(Yr,Gr,Wr,Zr){let Kr=Gr._rootScopes,Jr=TW(Gr._fallback,Wr,Zr),Qr=[...Yr,...Kr],ti=new Set;ti.add(Zr);let ei=eW(ti,Qr,Wr,Jr||Wr,Zr);return ei===null||typeof Jr<"u"&&Jr!==Wr&&(ei=eW(ti,Qr,Jr,ei,Zr),ei===null)?!1:fb(Array.from(ti),[""],Kr,Jr,()=>sot(Gr,Wr,Zr))}function eW(Yr,Gr,Wr,Zr,Kr){for(;Wr;)Wr=oot(Yr,Gr,Wr,Zr,Kr);return Wr}function sot(Yr,Gr,Wr){let Zr=Yr._getTarget();Gr in Zr||(Zr[Gr]={});let Kr=Zr[Gr];return ca(Kr)&&Un(Wr)?Wr:Kr||{}}function lot(Yr,Gr,Wr,Zr){let Kr;for(let Jr of Gr)if(Kr=AW(eot(Jr,Yr),Wr),typeof Kr<"u")return vE(Yr,Kr)?mE(Wr,Zr,Yr,Kr):Kr}function AW(Yr,Gr){for(let Wr of Gr){if(!Wr)continue;let Zr=Wr[Yr];if(typeof Zr<"u")return Zr}}function rW(Yr){let Gr=Yr._keys;return Gr||(Gr=Yr._keys=uot(Yr._scopes)),Gr}function uot(Yr){let Gr=new Set;for(let Wr of Yr)for(let Zr of Object.keys(Wr).filter(Kr=>!Kr.startsWith("_")))Gr.add(Zr);return Array.from(Gr)}function gE(Yr,Gr,Wr,Zr){let{iScale:Kr}=Yr,{key:Jr="r"}=this._parsing,Qr=new Array(Zr),ti,ei,ri,ii;for(ti=0,ei=Zr;ti<ei;++ti)ri=ti+Wr,ii=Gr[ri],Qr[ti]={r:Kr.parse(ku(ii,Jr),ri)};return Qr}var fot=Number.EPSILON||1e-14,od=(Yr,Gr)=>Gr<Yr.length&&!Yr[Gr].skip&&Yr[Gr],MW=Yr=>Yr==="x"?"y":"x";function hot(Yr,Gr,Wr,Zr){let Kr=Yr.skip?Gr:Yr,Jr=Gr,Qr=Wr.skip?Gr:Wr,ti=tb(Jr,Kr),ei=tb(Qr,Jr),ri=ti/(ti+ei),ii=ei/(ti+ei);ri=isNaN(ri)?0:ri,ii=isNaN(ii)?0:ii;let ni=Zr*ri,ai=Zr*ii;return{previous:{x:Jr.x-ni*(Qr.x-Kr.x),y:Jr.y-ni*(Qr.y-Kr.y)},next:{x:Jr.x+ai*(Qr.x-Kr.x),y:Jr.y+ai*(Qr.y-Kr.y)}}}function cot(Yr,Gr,Wr){let Zr=Yr.length,Kr,Jr,Qr,ti,ei,ri=od(Yr,0);for(let ii=0;ii<Zr-1;++ii)if(ei=ri,ri=od(Yr,ii+1),!(!ei||!ri)){if(ud(Gr[ii],0,fot)){Wr[ii]=Wr[ii+1]=0;continue}Kr=Wr[ii]/Gr[ii],Jr=Wr[ii+1]/Gr[ii],ti=Math.pow(Kr,2)+Math.pow(Jr,2),!(ti<=9)&&(Qr=3/Math.sqrt(ti),Wr[ii]=Kr*Qr*Gr[ii],Wr[ii+1]=Jr*Qr*Gr[ii])}}function pot(Yr,Gr,Wr="x"){let Zr=MW(Wr),Kr=Yr.length,Jr,Qr,ti,ei=od(Yr,0);for(let ri=0;ri<Kr;++ri){if(Qr=ti,ti=ei,ei=od(Yr,ri+1),!ti)continue;let ii=ti[Wr],ni=ti[Zr];Qr&&(Jr=(ii-Qr[Wr])/3,ti[`cp1${Wr}`]=ii-Jr,ti[`cp1${Zr}`]=ni-Jr*Gr[ri]),ei&&(Jr=(ei[Wr]-ii)/3,ti[`cp2${Wr}`]=ii+Jr,ti[`cp2${Zr}`]=ni+Jr*Gr[ri])}}function dot(Yr,Gr="x"){let Wr=MW(Gr),Zr=Yr.length,Kr=Array(Zr).fill(0),Jr=Array(Zr),Qr,ti,ei,ri=od(Yr,0);for(Qr=0;Qr<Zr;++Qr)if(ti=ei,ei=ri,ri=od(Yr,Qr+1),!!ei){if(ri){let ii=ri[Gr]-ei[Gr];Kr[Qr]=ii!==0?(ri[Wr]-ei[Wr])/ii:0}Jr[Qr]=ti?ri?_l(Kr[Qr-1])!==_l(Kr[Qr])?0:(Kr[Qr-1]+Kr[Qr])/2:Kr[Qr-1]:Kr[Qr]}cot(Yr,Kr,Jr),pot(Yr,Jr,Gr)}function K_(Yr,Gr,Wr){return Math.max(Math.min(Yr,Wr),Gr)}function vot(Yr,Gr){let Wr,Zr,Kr,Jr,Qr,ti=$l(Yr[0],Gr);for(Wr=0,Zr=Yr.length;Wr<Zr;++Wr)Qr=Jr,Jr=ti,ti=Wr<Zr-1&&$l(Yr[Wr+1],Gr),Jr&&(Kr=Yr[Wr],Qr&&(Kr.cp1x=K_(Kr.cp1x,Gr.left,Gr.right),Kr.cp1y=K_(Kr.cp1y,Gr.top,Gr.bottom)),ti&&(Kr.cp2x=K_(Kr.cp2x,Gr.left,Gr.right),Kr.cp2y=K_(Kr.cp2y,Gr.top,Gr.bottom)))}function PW(Yr,Gr,Wr,Zr,Kr){let Jr,Qr,ti,ei;if(Gr.spanGaps&&(Yr=Yr.filter(ri=>!ri.skip)),Gr.cubicInterpolationMode==="monotone")dot(Yr,Kr);else{let ri=Zr?Yr[Yr.length-1]:Yr[0];for(Jr=0,Qr=Yr.length;Jr<Qr;++Jr)ti=Yr[Jr],ei=hot(ri,ti,Yr[Math.min(Jr+1,Qr-(Zr?0:1))%Qr],Gr.tension),ti.cp1x=ei.previous.x,ti.cp1y=ei.previous.y,ti.cp2x=ei.next.x,ti.cp2y=ei.next.y,ri=ti}Gr.capBezierPoints&&vot(Yr,Wr)}function hb(){return typeof window<"u"&&typeof document<"u"}function cb(Yr){let Gr=Yr.parentNode;return Gr&&Gr.toString()==="[object ShadowRoot]"&&(Gr=Gr.host),Gr}function eb(Yr,Gr,Wr){let Zr;return typeof Yr=="string"?(Zr=parseInt(Yr,10),Yr.indexOf("%")!==-1&&(Zr=Zr/100*Gr.parentNode[Wr])):Zr=Yr,Zr}var pb=Yr=>Yr.ownerDocument.defaultView.getComputedStyle(Yr,null);function mot(Yr,Gr){return pb(Yr).getPropertyValue(Gr)}var got=["top","right","bottom","left"];function pc(Yr,Gr,Wr){let Zr={};Wr=Wr?"-"+Wr:"";for(let Kr=0;Kr<4;Kr++){let Jr=got[Kr];Zr[Jr]=parseFloat(Yr[Gr+"-"+Jr+Wr])||0}return Zr.width=Zr.left+Zr.right,Zr.height=Zr.top+Zr.bottom,Zr}var yot=(Yr,Gr,Wr)=>(Yr>0||Gr>0)&&(!Wr||!Wr.shadowRoot);function xot(Yr,Gr){let Wr=Yr.touches,Zr=Wr&&Wr.length?Wr[0]:Yr,{offsetX:Kr,offsetY:Jr}=Zr,Qr=!1,ti,ei;if(yot(Kr,Jr,Yr.target))ti=Kr,ei=Jr;else{let ri=Gr.getBoundingClientRect();ti=Zr.clientX-ri.left,ei=Zr.clientY-ri.top,Qr=!0}return{x:ti,y:ei,box:Qr}}function Xf(Yr,Gr){if("native"in Yr)return Yr;let{canvas:Wr,currentDevicePixelRatio:Zr}=Gr,Kr=pb(Wr),Jr=Kr.boxSizing==="border-box",Qr=pc(Kr,"padding"),ti=pc(Kr,"border","width"),{x:ei,y:ri,box:ii}=xot(Yr,Wr),ni=Qr.left+(ii&&ti.left),ai=Qr.top+(ii&&ti.top),{width:oi,height:si}=Gr;return Jr&&(oi-=Qr.width+ti.width,si-=Qr.height+ti.height),{x:Math.round((ei-ni)/oi*Wr.width/Zr),y:Math.round((ri-ai)/si*Wr.height/Zr)}}function _ot(Yr,Gr,Wr){let Zr,Kr;if(Gr===void 0||Wr===void 0){let Jr=cb(Yr);if(!Jr)Gr=Yr.clientWidth,Wr=Yr.clientHeight;else{let Qr=Jr.getBoundingClientRect(),ti=pb(Jr),ei=pc(ti,"border","width"),ri=pc(ti,"padding");Gr=Qr.width-ri.width-ei.width,Wr=Qr.height-ri.height-ei.height,Zr=eb(ti.maxWidth,Jr,"clientWidth"),Kr=eb(ti.maxHeight,Jr,"clientHeight")}}return{width:Gr,height:Wr,maxWidth:Zr||Q_,maxHeight:Kr||Q_}}var $_=Yr=>Math.round(Yr*10)/10;function EW(Yr,Gr,Wr,Zr){let Kr=pb(Yr),Jr=pc(Kr,"margin"),Qr=eb(Kr.maxWidth,Yr,"clientWidth")||Q_,ti=eb(Kr.maxHeight,Yr,"clientHeight")||Q_,ei=_ot(Yr,Gr,Wr),{width:ri,height:ii}=ei;if(Kr.boxSizing==="content-box"){let ai=pc(Kr,"border","width"),oi=pc(Kr,"padding");ri-=oi.width+ai.width,ii-=oi.height+ai.height}return ri=Math.max(0,ri-Jr.width),ii=Math.max(0,Zr?ri/Zr:ii-Jr.height),ri=$_(Math.min(ri,Qr,ei.maxWidth)),ii=$_(Math.min(ii,ti,ei.maxHeight)),ri&&!ii&&(ii=$_(ri/2)),(Gr!==void 0||Wr!==void 0)&&Zr&&ei.height&&ii>ei.height&&(ii=ei.height,ri=$_(Math.floor(ii*Zr))),{width:ri,height:ii}}function yE(Yr,Gr,Wr){let Zr=Gr||1,Kr=Math.floor(Yr.height*Zr),Jr=Math.floor(Yr.width*Zr);Yr.height=Math.floor(Yr.height),Yr.width=Math.floor(Yr.width);let Qr=Yr.canvas;return Qr.style&&(Wr||!Qr.style.height&&!Qr.style.width)&&(Qr.style.height=`${Yr.height}px`,Qr.style.width=`${Yr.width}px`),Yr.currentDevicePixelRatio!==Zr||Qr.height!==Kr||Qr.width!==Jr?(Yr.currentDevicePixelRatio=Zr,Qr.height=Kr,Qr.width=Jr,Yr.ctx.setTransform(Zr,0,0,Zr,0,0),!0):!1}var DW=function(){let Yr=!1;try{let Gr={get passive(){return Yr=!0,!1}};hb()&&(window.addEventListener("test",null,Gr),window.removeEventListener("test",null,Gr))}catch{}return Yr}();function xE(Yr,Gr){let Wr=mot(Yr,Gr),Zr=Wr&&Wr.match(/^(\d+)(\.\d+)?px$/);return Zr?+Zr[1]:void 0}function Uf(Yr,Gr,Wr,Zr){return{x:Yr.x+Wr*(Gr.x-Yr.x),y:Yr.y+Wr*(Gr.y-Yr.y)}}function IW(Yr,Gr,Wr,Zr){return{x:Yr.x+Wr*(Gr.x-Yr.x),y:Zr==="middle"?Wr<.5?Yr.y:Gr.y:Zr==="after"?Wr<1?Yr.y:Gr.y:Wr>0?Gr.y:Yr.y}}function LW(Yr,Gr,Wr,Zr){let Kr={x:Yr.cp2x,y:Yr.cp2y},Jr={x:Gr.cp1x,y:Gr.cp1y},Qr=Uf(Yr,Kr,Wr),ti=Uf(Kr,Jr,Wr),ei=Uf(Jr,Gr,Wr),ri=Uf(Qr,ti,Wr),ii=Uf(ti,ei,Wr);return Uf(ri,ii,Wr)}var bot=function(Yr,Gr){return{x(Wr){return Yr+Yr+Gr-Wr},setWidth(Wr){Gr=Wr},textAlign(Wr){return Wr==="center"?Wr:Wr==="right"?"left":"right"},xPlus(Wr,Zr){return Wr-Zr},leftForLtr(Wr,Zr){return Wr-Zr}}},Sot=function(){return{x(Yr){return Yr},setWidth(Yr){},textAlign(Yr){return Yr},xPlus(Yr,Gr){return Yr+Gr},leftForLtr(Yr,Gr){return Yr}}};function mc(Yr,Gr,Wr){return Yr?bot(Gr,Wr):Sot()}function _E(Yr,Gr){let Wr,Zr;(Gr==="ltr"||Gr==="rtl")&&(Wr=Yr.canvas.style,Zr=[Wr.getPropertyValue("direction"),Wr.getPropertyPriority("direction")],Wr.setProperty("direction",Gr,"important"),Yr.prevTextDirection=Zr)}function bE(Yr,Gr){Gr!==void 0&&(delete Yr.prevTextDirection,Yr.canvas.style.setProperty("direction",Gr[0],Gr[1]))}function kW(Yr){return Yr==="angle"?{between:fd,compare:Vat,normalize:Qo}:{between:Ql,compare:(Gr,Wr)=>Gr-Wr,normalize:Gr=>Gr}}function iW({start:Yr,end:Gr,count:Wr,loop:Zr,style:Kr}){return{start:Yr%Wr,end:Gr%Wr,loop:Zr&&(Gr-Yr+1)%Wr===0,style:Kr}}function wot(Yr,Gr,Wr){let{property:Zr,start:Kr,end:Jr}=Wr,{between:Qr,normalize:ti}=kW(Zr),ei=Gr.length,{start:ri,end:ii,loop:ni}=Yr,ai,oi;if(ni){for(ri+=ei,ii+=ei,ai=0,oi=ei;ai<oi&&Qr(ti(Gr[ri%ei][Zr]),Kr,Jr);++ai)ri--,ii--;ri%=ei,ii%=ei}return ii<ri&&(ii+=ei),{start:ri,end:ii,loop:ni,style:Yr.style}}function SE(Yr,Gr,Wr){if(!Wr)return[Yr];let{property:Zr,start:Kr,end:Jr}=Wr,Qr=Gr.length,{compare:ti,between:ei,normalize:ri}=kW(Zr),{start:ii,end:ni,loop:ai,style:oi}=wot(Yr,Gr,Wr),si=[],li=!1,ui=null,fi,hi,ci,pi=()=>ei(Kr,ci,fi)&&ti(Kr,ci)!==0,di=()=>ti(Jr,fi)===0||ei(Jr,ci,fi),vi=()=>li||pi(),mi=()=>!li||di();for(let gi=ii,yi=ii;gi<=ni;++gi)hi=Gr[gi%Qr],!hi.skip&&(fi=ri(hi[Zr]),fi!==ci&&(li=ei(fi,Kr,Jr),ui===null&&vi()&&(ui=ti(fi,Kr)===0?gi:yi),ui!==null&&mi()&&(si.push(iW({start:ui,end:gi,loop:ai,count:Qr,style:oi})),ui=null),yi=gi,ci=fi));return ui!==null&&si.push(iW({start:ui,end:ni,loop:ai,count:Qr,style:oi})),si}function wE(Yr,Gr){let Wr=[],Zr=Yr.segments;for(let Kr=0;Kr<Zr.length;Kr++){let Jr=SE(Zr[Kr],Yr.points,Gr);Jr.length&&Wr.push(...Jr)}return Wr}function Cot(Yr,Gr,Wr,Zr){let Kr=0,Jr=Gr-1;if(Wr&&!Zr)for(;Kr<Gr&&!Yr[Kr].skip;)Kr++;for(;Kr<Gr&&Yr[Kr].skip;)Kr++;for(Kr%=Gr,Wr&&(Jr+=Kr);Jr>Kr&&Yr[Jr%Gr].skip;)Jr--;return Jr%=Gr,{start:Kr,end:Jr}}function Tot(Yr,Gr,Wr,Zr){let Kr=Yr.length,Jr=[],Qr=Gr,ti=Yr[Gr],ei;for(ei=Gr+1;ei<=Wr;++ei){let ri=Yr[ei%Kr];ri.skip||ri.stop?ti.skip||(Zr=!1,Jr.push({start:Gr%Kr,end:(ei-1)%Kr,loop:Zr}),Gr=Qr=ri.stop?ei:null):(Qr=ei,ti.skip&&(Gr=ei)),ti=ri}return Qr!==null&&Jr.push({start:Gr%Kr,end:Qr%Kr,loop:Zr}),Jr}function RW(Yr,Gr){let Wr=Yr.points,Zr=Yr.options.spanGaps,Kr=Wr.length;if(!Kr)return[];let Jr=!!Yr._loop,{start:Qr,end:ti}=Cot(Wr,Kr,Jr,Zr);if(Zr===!0)return nW(Yr,[{start:Qr,end:ti,loop:Jr}],Wr,Gr);let ei=ti<Qr?ti+Kr:ti,ri=!!Yr._fullLoop&&Qr===0&&ti===Kr-1;return nW(Yr,Tot(Wr,Qr,ei,ri),Wr,Gr)}function nW(Yr,Gr,Wr,Zr){return!Zr||!Zr.setContext||!Wr?Gr:Aot(Yr,Gr,Wr,Zr)}function Aot(Yr,Gr,Wr,Zr){let Kr=Yr._chart.getContext(),Jr=aW(Yr.options),{_datasetIndex:Qr,options:{spanGaps:ti}}=Yr,ei=Wr.length,ri=[],ii=Jr,ni=Gr[0].start,ai=ni;function oi(si,li,ui,fi){let hi=ti?-1:1;if(si!==li){for(si+=ei;Wr[si%ei].skip;)si-=hi;for(;Wr[li%ei].skip;)li+=hi;si%ei!==li%ei&&(ri.push({start:si%ei,end:li%ei,loop:ui,style:fi}),ii=fi,ni=li%ei)}}for(let si of Gr){ni=ti?ni:si.start;let li=Wr[ni%ei],ui;for(ai=ni+1;ai<=si.end;ai++){let fi=Wr[ai%ei];ui=aW(Zr.setContext(Ru(Kr,{type:"segment",p0:li,p1:fi,p0DataIndex:(ai-1)%ei,p1DataIndex:ai%ei,datasetIndex:Qr}))),Mot(ui,ii)&&oi(ni,ai-1,si.loop,ii),li=fi,ii=ui}ni<ai-1&&oi(ni,ai-1,si.loop,ii)}return ri}function aW(Yr){return{backgroundColor:Yr.backgroundColor,borderCapStyle:Yr.borderCapStyle,borderDash:Yr.borderDash,borderDashOffset:Yr.borderDashOffset,borderJoinStyle:Yr.borderJoinStyle,borderWidth:Yr.borderWidth,borderColor:Yr.borderColor}}function Mot(Yr,Gr){if(!Gr)return!1;let Wr=[],Zr=function(Kr,Jr){return uE(Jr)?(Wr.includes(Jr)||Wr.push(Jr),Wr.indexOf(Jr)):Jr};return JSON.stringify(Yr,Zr)!==JSON.stringify(Gr,Zr)}var kE=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(Gr,Wr,Zr,Kr){let Jr=Wr.listeners[Kr],Qr=Wr.duration;Jr.forEach(ti=>ti({chart:Gr,initial:Wr.initial,numSteps:Qr,currentStep:Math.min(Zr-Wr.start,Qr)}))}_refresh(){this._request||(this._running=!0,this._request=aE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(Gr=Date.now()){let Wr=0;this._charts.forEach((Zr,Kr)=>{if(!Zr.running||!Zr.items.length)return;let Jr=Zr.items,Qr=Jr.length-1,ti=!1,ei;for(;Qr>=0;--Qr)ei=Jr[Qr],ei._active?(ei._total>Zr.duration&&(Zr.duration=ei._total),ei.tick(Gr),ti=!0):(Jr[Qr]=Jr[Jr.length-1],Jr.pop());ti&&(Kr.draw(),this._notify(Kr,Zr,Gr,"progress")),Jr.length||(Zr.running=!1,this._notify(Kr,Zr,Gr,"complete"),Zr.initial=!1),Wr+=Jr.length}),this._lastDate=Gr,Wr===0&&(this._running=!1)}_getAnims(Gr){let Wr=this._charts,Zr=Wr.get(Gr);return Zr||(Zr={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},Wr.set(Gr,Zr)),Zr}listen(Gr,Wr,Zr){this._getAnims(Gr).listeners[Wr].push(Zr)}add(Gr,Wr){!Wr||!Wr.length||this._getAnims(Gr).items.push(...Wr)}has(Gr){return this._getAnims(Gr).items.length>0}start(Gr){let Wr=this._charts.get(Gr);Wr&&(Wr.running=!0,Wr.start=Date.now(),Wr.duration=Wr.items.reduce((Zr,Kr)=>Math.max(Zr,Kr._duration),0),this._refresh())}running(Gr){if(!this._running)return!1;let Wr=this._charts.get(Gr);return!(!Wr||!Wr.running||!Wr.items.length)}stop(Gr){let Wr=this._charts.get(Gr);if(!Wr||!Wr.items.length)return;let Zr=Wr.items,Kr=Zr.length-1;for(;Kr>=0;--Kr)Zr[Kr].cancel();Wr.items=[],this._notify(Gr,Wr,Date.now(),"complete")}remove(Gr){return this._charts.delete(Gr)}},Ou=new kE,OW="transparent",Pot={boolean(Yr,Gr,Wr){return Wr>.5?Gr:Yr},color(Yr,Gr,Wr){let Zr=fE(Yr||OW),Kr=Zr.valid&&fE(Gr||OW);return Kr&&Kr.valid?Kr.mix(Zr,Wr).hexString():Gr},number(Yr,Gr,Wr){return Yr+(Gr-Yr)*Wr}},RE=class{constructor(Gr,Wr,Zr,Kr){let Jr=Wr[Zr];Kr=pd([Gr.to,Kr,Jr,Gr.from]);let Qr=pd([Gr.from,Jr,Kr]);this._active=!0,this._fn=Gr.fn||Pot[Gr.type||typeof Qr],this._easing=nd[Gr.easing]||nd.linear,this._start=Math.floor(Date.now()+(Gr.delay||0)),this._duration=this._total=Math.floor(Gr.duration),this._loop=!!Gr.loop,this._target=Wr,this._prop=Zr,this._from=Qr,this._to=Kr,this._promises=void 0}active(){return this._active}update(Gr,Wr,Zr){if(this._active){this._notify(!1);let Kr=this._target[this._prop],Jr=Zr-this._start,Qr=this._duration-Jr;this._start=Zr,this._duration=Math.floor(Math.max(Qr,Gr.duration)),this._total+=Jr,this._loop=!!Gr.loop,this._to=pd([Gr.to,Wr,Kr,Gr.from]),this._from=pd([Gr.from,Kr,Wr])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(Gr){let Wr=Gr-this._start,Zr=this._duration,Kr=this._prop,Jr=this._from,Qr=this._loop,ti=this._to,ei;if(this._active=Jr!==ti&&(Qr||Wr<Zr),!this._active){this._target[Kr]=ti,this._notify(!0);return}if(Wr<0){this._target[Kr]=Jr;return}ei=Wr/Zr%2,ei=Qr&&ei>1?2-ei:ei,ei=this._easing(Math.min(1,Math.max(0,ei))),this._target[Kr]=this._fn(Jr,ti,ei)}wait(){let Gr=this._promises||(this._promises=[]);return new Promise((Wr,Zr)=>{Gr.push({res:Wr,rej:Zr})})}_notify(Gr){let Wr=Gr?"res":"rej",Zr=this._promises||[];for(let Kr=0;Kr<Zr.length;Kr++)Zr[Kr][Wr]()}},wb=class{constructor(Gr,Wr){this._chart=Gr,this._properties=new Map,this.configure(Wr)}configure(Gr){if(!Un(Gr))return;let Wr=Object.keys(Ca.animation),Zr=this._properties;Object.getOwnPropertyNames(Gr).forEach(Kr=>{let Jr=Gr[Kr];if(!Un(Jr))return;let Qr={};for(let ti of Wr)Qr[ti]=Jr[ti];(ca(Jr.properties)&&Jr.properties||[Kr]).forEach(ti=>{(ti===Kr||!Zr.has(ti))&&Zr.set(ti,Qr)})})}_animateOptions(Gr,Wr){let Zr=Wr.options,Kr=Dot(Gr,Zr);if(!Kr)return[];let Jr=this._createAnimations(Kr,Zr);return Zr.$shared&&Eot(Gr.options.$animations,Zr).then(()=>{Gr.options=Zr},()=>{}),Jr}_createAnimations(Gr,Wr){let Zr=this._properties,Kr=[],Jr=Gr.$animations||(Gr.$animations={}),Qr=Object.keys(Wr),ti=Date.now(),ei;for(ei=Qr.length-1;ei>=0;--ei){let ri=Qr[ei];if(ri.charAt(0)==="$")continue;if(ri==="options"){Kr.push(...this._animateOptions(Gr,Wr));continue}let ii=Wr[ri],ni=Jr[ri],ai=Zr.get(ri);if(ni)if(ai&&ni.active()){ni.update(ai,ii,ti);continue}else ni.cancel();if(!ai||!ai.duration){Gr[ri]=ii;continue}Jr[ri]=ni=new RE(ai,Gr,ri,ii),Kr.push(ni)}return Kr}update(Gr,Wr){if(this._properties.size===0){Object.assign(Gr,Wr);return}let Zr=this._createAnimations(Gr,Wr);if(Zr.length)return Ou.add(this._chart,Zr),!0}};function Eot(Yr,Gr){let Wr=[],Zr=Object.keys(Gr);for(let Kr=0;Kr<Zr.length;Kr++){let Jr=Yr[Zr[Kr]];Jr&&Jr.active()&&Wr.push(Jr.wait())}return Promise.all(Wr)}function Dot(Yr,Gr){if(!Gr)return;let Wr=Yr.options;if(!Wr){Yr.options=Gr;return}return Wr.$shared&&(Yr.options=Wr=Object.assign({},Wr,{$shared:!1,$animations:{}})),Wr}function zW(Yr,Gr){let Wr=Yr&&Yr.options||{},Zr=Wr.reverse,Kr=Wr.min===void 0?Gr:0,Jr=Wr.max===void 0?Gr:0;return{start:Zr?Jr:Kr,end:Zr?Kr:Jr}}function Iot(Yr,Gr,Wr){if(Wr===!1)return!1;let Zr=zW(Yr,Wr),Kr=zW(Gr,Wr);return{top:Kr.end,right:Zr.end,bottom:Kr.start,left:Zr.start}}function Lot(Yr){let Gr,Wr,Zr,Kr;return Un(Yr)?(Gr=Yr.top,Wr=Yr.right,Zr=Yr.bottom,Kr=Yr.left):Gr=Wr=Zr=Kr=Yr,{top:Gr,right:Wr,bottom:Zr,left:Kr,disabled:Yr===!1}}function O4(Yr,Gr){let Wr=[],Zr=Yr._getSortedDatasetMetas(Gr),Kr,Jr;for(Kr=0,Jr=Zr.length;Kr<Jr;++Kr)Wr.push(Zr[Kr].index);return Wr}function NW(Yr,Gr,Wr,Zr={}){let Kr=Yr.keys,Jr=Zr.mode==="single",Qr,ti,ei,ri;if(Gr!==null){for(Qr=0,ti=Kr.length;Qr<ti;++Qr){if(ei=+Kr[Qr],ei===Wr){if(Zr.all)continue;break}ri=Yr.values[ei],wa(ri)&&(Jr||Gr===0||_l(Gr)===_l(ri))&&(Gr+=ri)}return Gr}}function kot(Yr){let Gr=Object.keys(Yr),Wr=new Array(Gr.length),Zr,Kr,Jr;for(Zr=0,Kr=Gr.length;Zr<Kr;++Zr)Jr=Gr[Zr],Wr[Zr]={x:Jr,y:Yr[Jr]};return Wr}function FW(Yr,Gr){let Wr=Yr&&Yr.options.stacked;return Wr||Wr===void 0&&Gr.stack!==void 0}function Rot(Yr,Gr,Wr){return`${Yr.id}.${Gr.id}.${Wr.stack||Wr.type}`}function Oot(Yr){let{min:Gr,max:Wr,minDefined:Zr,maxDefined:Kr}=Yr.getUserBounds();return{min:Zr?Gr:Number.NEGATIVE_INFINITY,max:Kr?Wr:Number.POSITIVE_INFINITY}}function zot(Yr,Gr,Wr){let Zr=Yr[Gr]||(Yr[Gr]={});return Zr[Wr]||(Zr[Wr]={})}function VW(Yr,Gr,Wr,Zr){for(let Kr of Gr.getMatchingVisibleMetas(Zr).reverse()){let Jr=Yr[Kr.index];if(Wr&&Jr>0||!Wr&&Jr<0)return Kr.index}return null}function BW(Yr,Gr){let{chart:Wr,_cachedMeta:Zr}=Yr,Kr=Wr._stacks||(Wr._stacks={}),{iScale:Jr,vScale:Qr,index:ti}=Zr,ei=Jr.axis,ri=Qr.axis,ii=Rot(Jr,Qr,Zr),ni=Gr.length,ai;for(let oi=0;oi<ni;++oi){let si=Gr[oi],{[ei]:li,[ri]:ui}=si,fi=si._stacks||(si._stacks={});ai=fi[ri]=zot(Kr,ii,li),ai[ti]=ui,ai._top=VW(ai,Qr,!0,Zr.type),ai._bottom=VW(ai,Qr,!1,Zr.type);let hi=ai._visualValues||(ai._visualValues={});hi[ti]=ui}}function CE(Yr,Gr){let Wr=Yr.scales;return Object.keys(Wr).filter(Zr=>Wr[Zr].axis===Gr).shift()}function Not(Yr,Gr){return Ru(Yr,{active:!1,dataset:void 0,datasetIndex:Gr,index:Gr,mode:"default",type:"dataset"})}function Fot(Yr,Gr,Wr){return Ru(Yr,{active:!1,dataIndex:Gr,parsed:void 0,raw:void 0,element:Wr,index:Gr,mode:"default",type:"data"})}function qm(Yr,Gr){let Wr=Yr.controller.index,Zr=Yr.vScale&&Yr.vScale.axis;if(Zr){Gr=Gr||Yr._parsed;for(let Kr of Gr){let Jr=Kr._stacks;if(!Jr||Jr[Zr]===void 0||Jr[Zr][Wr]===void 0)return;delete Jr[Zr][Wr],Jr[Zr]._visualValues!==void 0&&Jr[Zr]._visualValues[Wr]!==void 0&&delete Jr[Zr]._visualValues[Wr]}}}var TE=Yr=>Yr==="reset"||Yr==="none",UW=(Yr,Gr)=>Gr?Yr:Object.assign({},Yr),Vot=(Yr,Gr,Wr)=>Yr&&!Gr.hidden&&Gr._stacked&&{keys:O4(Wr,!0),values:null},ru=class{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(Gr,Wr){this.chart=Gr,this._ctx=Gr.ctx,this.index=Wr,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let Gr=this._cachedMeta;this.configure(),this.linkScales(),Gr._stacked=FW(Gr.vScale,Gr),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(Gr){this.index!==Gr&&qm(this._cachedMeta),this.index=Gr}linkScales(){let Gr=this.chart,Wr=this._cachedMeta,Zr=this.getDataset(),Kr=(ni,ai,oi,si)=>ni==="x"?ai:ni==="r"?si:oi,Jr=Wr.xAxisID=zn(Zr.xAxisID,CE(Gr,"x")),Qr=Wr.yAxisID=zn(Zr.yAxisID,CE(Gr,"y")),ti=Wr.rAxisID=zn(Zr.rAxisID,CE(Gr,"r")),ei=Wr.indexAxis,ri=Wr.iAxisID=Kr(ei,Jr,Qr,ti),ii=Wr.vAxisID=Kr(ei,Qr,Jr,ti);Wr.xScale=this.getScaleForId(Jr),Wr.yScale=this.getScaleForId(Qr),Wr.rScale=this.getScaleForId(ti),Wr.iScale=this.getScaleForId(ri),Wr.vScale=this.getScaleForId(ii)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(Gr){return this.chart.scales[Gr]}_getOtherScale(Gr){let Wr=this._cachedMeta;return Gr===Wr.iScale?Wr.vScale:Wr.iScale}reset(){this._update("reset")}_destroy(){let Gr=this._cachedMeta;this._data&&iE(this._data,this),Gr._stacked&&qm(Gr)}_dataCheck(){let Gr=this.getDataset(),Wr=Gr.data||(Gr.data=[]),Zr=this._data;if(Un(Wr))this._data=kot(Wr);else if(Zr!==Wr){if(Zr){iE(Zr,this);let Kr=this._cachedMeta;qm(Kr),Kr._parsed=[]}Wr&&Object.isExtensible(Wr)&&mW(Wr,this),this._syncList=[],this._data=Wr}}addElements(){let Gr=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(Gr.dataset=new this.datasetElementType)}buildOrUpdateElements(Gr){let Wr=this._cachedMeta,Zr=this.getDataset(),Kr=!1;this._dataCheck();let Jr=Wr._stacked;Wr._stacked=FW(Wr.vScale,Wr),Wr.stack!==Zr.stack&&(Kr=!0,qm(Wr),Wr.stack=Zr.stack),this._resyncElements(Gr),(Kr||Jr!==Wr._stacked)&&BW(this,Wr._parsed)}configure(){let Gr=this.chart.config,Wr=Gr.datasetScopeKeys(this._type),Zr=Gr.getOptionScopes(this.getDataset(),Wr,!0);this.options=Gr.createResolver(Zr,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(Gr,Wr){let{_cachedMeta:Zr,_data:Kr}=this,{iScale:Jr,_stacked:Qr}=Zr,ti=Jr.axis,ei=Gr===0&&Wr===Kr.length?!0:Zr._sorted,ri=Gr>0&&Zr._parsed[Gr-1],ii,ni,ai;if(this._parsing===!1)Zr._parsed=Kr,Zr._sorted=!0,ai=Kr;else{ca(Kr[Gr])?ai=this.parseArrayData(Zr,Kr,Gr,Wr):Un(Kr[Gr])?ai=this.parseObjectData(Zr,Kr,Gr,Wr):ai=this.parsePrimitiveData(Zr,Kr,Gr,Wr);let oi=()=>ni[ti]===null||ri&&ni[ti]<ri[ti];for(ii=0;ii<Wr;++ii)Zr._parsed[ii+Gr]=ni=ai[ii],ei&&(oi()&&(ei=!1),ri=ni);Zr._sorted=ei}Qr&&BW(this,ai)}parsePrimitiveData(Gr,Wr,Zr,Kr){let{iScale:Jr,vScale:Qr}=Gr,ti=Jr.axis,ei=Qr.axis,ri=Jr.getLabels(),ii=Jr===Qr,ni=new Array(Kr),ai,oi,si;for(ai=0,oi=Kr;ai<oi;++ai)si=ai+Zr,ni[ai]={[ti]:ii||Jr.parse(ri[si],si),[ei]:Qr.parse(Wr[si],si)};return ni}parseArrayData(Gr,Wr,Zr,Kr){let{xScale:Jr,yScale:Qr}=Gr,ti=new Array(Kr),ei,ri,ii,ni;for(ei=0,ri=Kr;ei<ri;++ei)ii=ei+Zr,ni=Wr[ii],ti[ei]={x:Jr.parse(ni[0],ii),y:Qr.parse(ni[1],ii)};return ti}parseObjectData(Gr,Wr,Zr,Kr){let{xScale:Jr,yScale:Qr}=Gr,{xAxisKey:ti="x",yAxisKey:ei="y"}=this._parsing,ri=new Array(Kr),ii,ni,ai,oi;for(ii=0,ni=Kr;ii<ni;++ii)ai=ii+Zr,oi=Wr[ai],ri[ii]={x:Jr.parse(ku(oi,ti),ai),y:Qr.parse(ku(oi,ei),ai)};return ri}getParsed(Gr){return this._cachedMeta._parsed[Gr]}getDataElement(Gr){return this._cachedMeta.data[Gr]}applyStack(Gr,Wr,Zr){let Kr=this.chart,Jr=this._cachedMeta,Qr=Wr[Gr.axis],ti={keys:O4(Kr,!0),values:Wr._stacks[Gr.axis]._visualValues};return NW(ti,Qr,Jr.index,{mode:Zr})}updateRangeFromParsed(Gr,Wr,Zr,Kr){let Jr=Zr[Wr.axis],Qr=Jr===null?NaN:Jr,ti=Kr&&Zr._stacks[Wr.axis];Kr&&ti&&(Kr.values=ti,Qr=NW(Kr,Jr,this._cachedMeta.index)),Gr.min=Math.min(Gr.min,Qr),Gr.max=Math.max(Gr.max,Qr)}getMinMax(Gr,Wr){let Zr=this._cachedMeta,Kr=Zr._parsed,Jr=Zr._sorted&&Gr===Zr.iScale,Qr=Kr.length,ti=this._getOtherScale(Gr),ei=Vot(Wr,Zr,this.chart),ri={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ii,max:ni}=Oot(ti),ai,oi;function si(){oi=Kr[ai];let li=oi[ti.axis];return!wa(oi[Gr.axis])||ii>li||ni<li}for(ai=0;ai<Qr&&!(!si()&&(this.updateRangeFromParsed(ri,Gr,oi,ei),Jr));++ai);if(Jr){for(ai=Qr-1;ai>=0;--ai)if(!si()){this.updateRangeFromParsed(ri,Gr,oi,ei);break}}return ri}getAllParsedValues(Gr){let Wr=this._cachedMeta._parsed,Zr=[],Kr,Jr,Qr;for(Kr=0,Jr=Wr.length;Kr<Jr;++Kr)Qr=Wr[Kr][Gr.axis],wa(Qr)&&Zr.push(Qr);return Zr}getMaxOverflow(){return!1}getLabelAndValue(Gr){let Wr=this._cachedMeta,Zr=Wr.iScale,Kr=Wr.vScale,Jr=this.getParsed(Gr);return{label:Zr?""+Zr.getLabelForValue(Jr[Zr.axis]):"",value:Kr?""+Kr.getLabelForValue(Jr[Kr.axis]):""}}_update(Gr){let Wr=this._cachedMeta;this.update(Gr||"default"),Wr._clip=Lot(zn(this.options.clip,Iot(Wr.xScale,Wr.yScale,this.getMaxOverflow())))}update(Gr){}draw(){let Gr=this._ctx,Wr=this.chart,Zr=this._cachedMeta,Kr=Zr.data||[],Jr=Wr.chartArea,Qr=[],ti=this._drawStart||0,ei=this._drawCount||Kr.length-ti,ri=this.options.drawActiveElementsOnTop,ii;for(Zr.dataset&&Zr.dataset.draw(Gr,Jr,ti,ei),ii=ti;ii<ti+ei;++ii){let ni=Kr[ii];ni.hidden||(ni.active&&ri?Qr.push(ni):ni.draw(Gr,Jr))}for(ii=0;ii<Qr.length;++ii)Qr[ii].draw(Gr,Jr)}getStyle(Gr,Wr){let Zr=Wr?"active":"default";return Gr===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Zr):this.resolveDataElementOptions(Gr||0,Zr)}getContext(Gr,Wr,Zr){let Kr=this.getDataset(),Jr;if(Gr>=0&&Gr<this._cachedMeta.data.length){let Qr=this._cachedMeta.data[Gr];Jr=Qr.$context||(Qr.$context=Fot(this.getContext(),Gr,Qr)),Jr.parsed=this.getParsed(Gr),Jr.raw=Kr.data[Gr],Jr.index=Jr.dataIndex=Gr}else Jr=this.$context||(this.$context=Not(this.chart.getContext(),this.index)),Jr.dataset=Kr,Jr.index=Jr.datasetIndex=this.index;return Jr.active=!!Wr,Jr.mode=Zr,Jr}resolveDatasetElementOptions(Gr){return this._resolveElementOptions(this.datasetElementType.id,Gr)}resolveDataElementOptions(Gr,Wr){return this._resolveElementOptions(this.dataElementType.id,Wr,Gr)}_resolveElementOptions(Gr,Wr="default",Zr){let Kr=Wr==="active",Jr=this._cachedDataOpts,Qr=Gr+"-"+Wr,ti=Jr[Qr],ei=this.enableOptionSharing&&ld(Zr);if(ti)return UW(ti,ei);let ri=this.chart.config,ii=ri.datasetElementScopeKeys(this._type,Gr),ni=Kr?[`${Gr}Hover`,"hover",Gr,""]:[Gr,""],ai=ri.getOptionScopes(this.getDataset(),ii),oi=Object.keys(Ca.elements[Gr]),si=()=>this.getContext(Zr,Kr,Wr),li=ri.resolveNamedOptions(ai,oi,si,ni);return li.$shared&&(li.$shared=ei,Jr[Qr]=Object.freeze(UW(li,ei))),li}_resolveAnimations(Gr,Wr,Zr){let Kr=this.chart,Jr=this._cachedDataOpts,Qr=`animation-${Wr}`,ti=Jr[Qr];if(ti)return ti;let ei;if(Kr.options.animation!==!1){let ii=this.chart.config,ni=ii.datasetAnimationScopeKeys(this._type,Wr),ai=ii.getOptionScopes(this.getDataset(),ni);ei=ii.createResolver(ai,this.getContext(Gr,Zr,Wr))}let ri=new wb(Kr,ei&&ei.animations);return ei&&ei._cacheable&&(Jr[Qr]=Object.freeze(ri)),ri}getSharedOptions(Gr){if(Gr.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},Gr))}includeOptions(Gr,Wr){return!Wr||TE(Gr)||this.chart._animationsDisabled}_getSharedOptions(Gr,Wr){let Zr=this.resolveDataElementOptions(Gr,Wr),Kr=this._sharedOptions,Jr=this.getSharedOptions(Zr),Qr=this.includeOptions(Wr,Jr)||Jr!==Kr;return this.updateSharedOptions(Jr,Wr,Zr),{sharedOptions:Jr,includeOptions:Qr}}updateElement(Gr,Wr,Zr,Kr){TE(Kr)?Object.assign(Gr,Zr):this._resolveAnimations(Wr,Kr).update(Gr,Zr)}updateSharedOptions(Gr,Wr,Zr){Gr&&!TE(Wr)&&this._resolveAnimations(void 0,Wr).update(Gr,Zr)}_setStyle(Gr,Wr,Zr,Kr){Gr.active=Kr;let Jr=this.getStyle(Wr,Kr);this._resolveAnimations(Wr,Zr,Kr).update(Gr,{options:!Kr&&this.getSharedOptions(Jr)||Jr})}removeHoverStyle(Gr,Wr,Zr){this._setStyle(Gr,Zr,"active",!1)}setHoverStyle(Gr,Wr,Zr){this._setStyle(Gr,Zr,"active",!0)}_removeDatasetHoverStyle(){let Gr=this._cachedMeta.dataset;Gr&&this._setStyle(Gr,void 0,"active",!1)}_setDatasetHoverStyle(){let Gr=this._cachedMeta.dataset;Gr&&this._setStyle(Gr,void 0,"active",!0)}_resyncElements(Gr){let Wr=this._data,Zr=this._cachedMeta.data;for(let[ti,ei,ri]of this._syncList)this[ti](ei,ri);this._syncList=[];let Kr=Zr.length,Jr=Wr.length,Qr=Math.min(Jr,Kr);Qr&&this.parse(0,Qr),Jr>Kr?this._insertElements(Kr,Jr-Kr,Gr):Jr<Kr&&this._removeElements(Jr,Kr-Jr)}_insertElements(Gr,Wr,Zr=!0){let Kr=this._cachedMeta,Jr=Kr.data,Qr=Gr+Wr,ti,ei=ri=>{for(ri.length+=Wr,ti=ri.length-1;ti>=Qr;ti--)ri[ti]=ri[ti-Wr]};for(ei(Jr),ti=Gr;ti<Qr;++ti)Jr[ti]=new this.dataElementType;this._parsing&&ei(Kr._parsed),this.parse(Gr,Wr),Zr&&this.updateElements(Jr,Gr,Wr,"reset")}updateElements(Gr,Wr,Zr,Kr){}_removeElements(Gr,Wr){let Zr=this._cachedMeta;if(this._parsing){let Kr=Zr._parsed.splice(Gr,Wr);Zr._stacked&&qm(Zr,Kr)}Zr.data.splice(Gr,Wr)}_sync(Gr){if(this._parsing)this._syncList.push(Gr);else{let[Wr,Zr,Kr]=Gr;this[Wr](Zr,Kr)}this.chart._dataChanges.push([this.index,...Gr])}_onDataPush(){let Gr=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-Gr,Gr])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(Gr,Wr){Wr&&this._sync(["_removeElements",Gr,Wr]);let Zr=arguments.length-2;Zr&&this._sync(["_insertElements",Gr,Zr])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};function Bot(Yr,Gr){if(!Yr._cache.$bar){let Wr=Yr.getMatchingVisibleMetas(Gr),Zr=[];for(let Kr=0,Jr=Wr.length;Kr<Jr;Kr++)Zr=Zr.concat(Wr[Kr].controller.getAllParsedValues(Yr));Yr._cache.$bar=nE(Zr.sort((Kr,Jr)=>Kr-Jr))}return Yr._cache.$bar}function Uot(Yr){let Gr=Yr.iScale,Wr=Bot(Gr,Yr.type),Zr=Gr._length,Kr,Jr,Qr,ti,ei=()=>{Qr===32767||Qr===-32768||(ld(ti)&&(Zr=Math.min(Zr,Math.abs(Qr-ti)||Zr)),ti=Qr)};for(Kr=0,Jr=Wr.length;Kr<Jr;++Kr)Qr=Gr.getPixelForValue(Wr[Kr]),ei();for(ti=void 0,Kr=0,Jr=Gr.ticks.length;Kr<Jr;++Kr)Qr=Gr.getPixelForTick(Kr),ei();return Zr}function Got(Yr,Gr,Wr,Zr){let Kr=Wr.barThickness,Jr,Qr;return Xn(Kr)?(Jr=Gr.min*Wr.categoryPercentage,Qr=Wr.barPercentage):(Jr=Kr*Zr,Qr=1),{chunk:Jr/Zr,ratio:Qr,start:Gr.pixels[Yr]-Jr/2}}function Hot(Yr,Gr,Wr,Zr){let Kr=Gr.pixels,Jr=Kr[Yr],Qr=Yr>0?Kr[Yr-1]:null,ti=Yr<Kr.length-1?Kr[Yr+1]:null,ei=Wr.categoryPercentage;Qr===null&&(Qr=Jr-(ti===null?Gr.end-Gr.start:ti-Jr)),ti===null&&(ti=Jr+Jr-Qr);let ri=Jr-(Jr-Math.min(Qr,ti))/2*ei;return{chunk:Math.abs(ti-Qr)/2*ei/Zr,ratio:Wr.barPercentage,start:ri}}function Wot(Yr,Gr,Wr,Zr){let Kr=Wr.parse(Yr[0],Zr),Jr=Wr.parse(Yr[1],Zr),Qr=Math.min(Kr,Jr),ti=Math.max(Kr,Jr),ei=Qr,ri=ti;Math.abs(Qr)>Math.abs(ti)&&(ei=ti,ri=Qr),Gr[Wr.axis]=ri,Gr._custom={barStart:ei,barEnd:ri,start:Kr,end:Jr,min:Qr,max:ti}}function z4(Yr,Gr,Wr,Zr){return ca(Yr)?Wot(Yr,Gr,Wr,Zr):Gr[Wr.axis]=Wr.parse(Yr,Zr),Gr}function GW(Yr,Gr,Wr,Zr){let Kr=Yr.iScale,Jr=Yr.vScale,Qr=Kr.getLabels(),ti=Kr===Jr,ei=[],ri,ii,ni,ai;for(ri=Wr,ii=Wr+Zr;ri<ii;++ri)ai=Gr[ri],ni={},ni[Kr.axis]=ti||Kr.parse(Qr[ri],ri),ei.push(z4(ai,ni,Jr,ri));return ei}function AE(Yr){return Yr&&Yr.barStart!==void 0&&Yr.barEnd!==void 0}function Yot(Yr,Gr,Wr){return Yr!==0?_l(Yr):(Gr.isHorizontal()?1:-1)*(Gr.min>=Wr?1:-1)}function Xot(Yr){let Gr,Wr,Zr,Kr,Jr;return Yr.horizontal?(Gr=Yr.base>Yr.x,Wr="left",Zr="right"):(Gr=Yr.base<Yr.y,Wr="bottom",Zr="top"),Gr?(Kr="end",Jr="start"):(Kr="start",Jr="end"),{start:Wr,end:Zr,reverse:Gr,top:Kr,bottom:Jr}}function qot(Yr,Gr,Wr,Zr){let Kr=Gr.borderSkipped,Jr={};if(!Kr){Yr.borderSkipped=Jr;return}if(Kr===!0){Yr.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:Qr,end:ti,reverse:ei,top:ri,bottom:ii}=Xot(Yr);Kr==="middle"&&Wr&&(Yr.enableBorderRadius=!0,(Wr._top||0)===Zr?Kr=ri:(Wr._bottom||0)===Zr?Kr=ii:(Jr[HW(ii,Qr,ti,ei)]=!0,Kr=ri)),Jr[HW(Kr,Qr,ti,ei)]=!0,Yr.borderSkipped=Jr}function HW(Yr,Gr,Wr,Zr){return Zr?(Yr=Zot(Yr,Gr,Wr),Yr=WW(Yr,Wr,Gr)):Yr=WW(Yr,Gr,Wr),Yr}function Zot(Yr,Gr,Wr){return Yr===Gr?Wr:Yr===Wr?Gr:Yr}function WW(Yr,Gr,Wr){return Yr==="start"?Gr:Yr==="end"?Wr:Yr}function jot(Yr,{inflateAmount:Gr},Wr){Yr.inflateAmount=Gr==="auto"?Wr===1?.33:0:Gr}var OE=class extends ru{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(Gr,Wr,Zr,Kr){return GW(Gr,Wr,Zr,Kr)}parseArrayData(Gr,Wr,Zr,Kr){return GW(Gr,Wr,Zr,Kr)}parseObjectData(Gr,Wr,Zr,Kr){let{iScale:Jr,vScale:Qr}=Gr,{xAxisKey:ti="x",yAxisKey:ei="y"}=this._parsing,ri=Jr.axis==="x"?ti:ei,ii=Qr.axis==="x"?ti:ei,ni=[],ai,oi,si,li;for(ai=Zr,oi=Zr+Kr;ai<oi;++ai)li=Wr[ai],si={},si[Jr.axis]=Jr.parse(ku(li,ri),ai),ni.push(z4(ku(li,ii),si,Qr,ai));return ni}updateRangeFromParsed(Gr,Wr,Zr,Kr){super.updateRangeFromParsed(Gr,Wr,Zr,Kr);let Jr=Zr._custom;Jr&&Wr===this._cachedMeta.vScale&&(Gr.min=Math.min(Gr.min,Jr.min),Gr.max=Math.max(Gr.max,Jr.max))}getMaxOverflow(){return 0}getLabelAndValue(Gr){let Wr=this._cachedMeta,{iScale:Zr,vScale:Kr}=Wr,Jr=this.getParsed(Gr),Qr=Jr._custom,ti=AE(Qr)?"["+Qr.start+", "+Qr.end+"]":""+Kr.getLabelForValue(Jr[Kr.axis]);return{label:""+Zr.getLabelForValue(Jr[Zr.axis]),value:ti}}initialize(){this.enableOptionSharing=!0,super.initialize();let Gr=this._cachedMeta;Gr.stack=this.getDataset().stack}update(Gr){let Wr=this._cachedMeta;this.updateElements(Wr.data,0,Wr.data.length,Gr)}updateElements(Gr,Wr,Zr,Kr){let Jr=Kr==="reset",{index:Qr,_cachedMeta:{vScale:ti}}=this,ei=ti.getBasePixel(),ri=ti.isHorizontal(),ii=this._getRuler(),{sharedOptions:ni,includeOptions:ai}=this._getSharedOptions(Wr,Kr);for(let oi=Wr;oi<Wr+Zr;oi++){let si=this.getParsed(oi),li=Jr||Xn(si[ti.axis])?{base:ei,head:ei}:this._calculateBarValuePixels(oi),ui=this._calculateBarIndexPixels(oi,ii),fi=(si._stacks||{})[ti.axis],hi={horizontal:ri,base:li.base,enableBorderRadius:!fi||AE(si._custom)||Qr===fi._top||Qr===fi._bottom,x:ri?li.head:ui.center,y:ri?ui.center:li.head,height:ri?ui.size:Math.abs(li.size),width:ri?Math.abs(li.size):ui.size};ai&&(hi.options=ni||this.resolveDataElementOptions(oi,Gr[oi].active?"active":Kr));let ci=hi.options||Gr[oi].options;qot(hi,ci,fi,Qr),jot(hi,ci,ii.ratio),this.updateElement(Gr[oi],oi,hi,Kr)}}_getStacks(Gr,Wr){let{iScale:Zr}=this._cachedMeta,Kr=Zr.getMatchingVisibleMetas(this._type).filter(ei=>ei.controller.options.grouped),Jr=Zr.options.stacked,Qr=[],ti=ei=>{let ri=ei.controller.getParsed(Wr),ii=ri&&ri[ei.vScale.axis];if(Xn(ii)||isNaN(ii))return!0};for(let ei of Kr)if(!(Wr!==void 0&&ti(ei))&&((Jr===!1||Qr.indexOf(ei.stack)===-1||Jr===void 0&&ei.stack===void 0)&&Qr.push(ei.stack),ei.index===Gr))break;return Qr.length||Qr.push(void 0),Qr}_getStackCount(Gr){return this._getStacks(void 0,Gr).length}_getStackIndex(Gr,Wr,Zr){let Kr=this._getStacks(Gr,Zr),Jr=Wr!==void 0?Kr.indexOf(Wr):-1;return Jr===-1?Kr.length-1:Jr}_getRuler(){let Gr=this.options,Wr=this._cachedMeta,Zr=Wr.iScale,Kr=[],Jr,Qr;for(Jr=0,Qr=Wr.data.length;Jr<Qr;++Jr)Kr.push(Zr.getPixelForValue(this.getParsed(Jr)[Zr.axis],Jr));let ti=Gr.barThickness;return{min:ti||Uot(Wr),pixels:Kr,start:Zr._startPixel,end:Zr._endPixel,stackCount:this._getStackCount(),scale:Zr,grouped:Gr.grouped,ratio:ti?1:Gr.categoryPercentage*Gr.barPercentage}}_calculateBarValuePixels(Gr){let{_cachedMeta:{vScale:Wr,_stacked:Zr,index:Kr},options:{base:Jr,minBarLength:Qr}}=this,ti=Jr||0,ei=this.getParsed(Gr),ri=ei._custom,ii=AE(ri),ni=ei[Wr.axis],ai=0,oi=Zr?this.applyStack(Wr,ei,Zr):ni,si,li;oi!==ni&&(ai=oi-ni,oi=ni),ii&&(ni=ri.barStart,oi=ri.barEnd-ri.barStart,ni!==0&&_l(ni)!==_l(ri.barEnd)&&(ai=0),ai+=ni);let ui=!Xn(Jr)&&!ii?Jr:ai,fi=Wr.getPixelForValue(ui);if(this.chart.getDataVisibility(Gr)?si=Wr.getPixelForValue(ai+oi):si=fi,li=si-fi,Math.abs(li)<Qr){li=Yot(li,Wr,ti)*Qr,ni===ti&&(fi-=li/2);let hi=Wr.getPixelForDecimal(0),ci=Wr.getPixelForDecimal(1),pi=Math.min(hi,ci),di=Math.max(hi,ci);fi=Math.max(Math.min(fi,di),pi),si=fi+li,Zr&&!ii&&(ei._stacks[Wr.axis]._visualValues[Kr]=Wr.getValueForPixel(si)-Wr.getValueForPixel(fi))}if(fi===Wr.getPixelForValue(ti)){let hi=_l(li)*Wr.getLineWidthForValue(ti)/2;fi+=hi,li-=hi}return{size:li,base:fi,head:si,center:si+li/2}}_calculateBarIndexPixels(Gr,Wr){let Zr=Wr.scale,Kr=this.options,Jr=Kr.skipNull,Qr=zn(Kr.maxBarThickness,1/0),ti,ei;if(Wr.grouped){let ri=Jr?this._getStackCount(Gr):Wr.stackCount,ii=Kr.barThickness==="flex"?Hot(Gr,Wr,Kr,ri):Got(Gr,Wr,Kr,ri),ni=this._getStackIndex(this.index,this._cachedMeta.stack,Jr?Gr:void 0);ti=ii.start+ii.chunk*ni+ii.chunk/2,ei=Math.min(Qr,ii.chunk*ii.ratio)}else ti=Zr.getPixelForValue(this.getParsed(Gr)[Zr.axis],Gr),ei=Math.min(Qr,Wr.min*Wr.ratio);return{base:ti-ei/2,head:ti+ei/2,center:ti,size:ei}}draw(){let Gr=this._cachedMeta,Wr=Gr.vScale,Zr=Gr.data,Kr=Zr.length,Jr=0;for(;Jr<Kr;++Jr)this.getParsed(Jr)[Wr.axis]!==null&&Zr[Jr].draw(this._ctx)}},zE=class extends ru{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(Gr,Wr,Zr,Kr){let Jr=super.parsePrimitiveData(Gr,Wr,Zr,Kr);for(let Qr=0;Qr<Jr.length;Qr++)Jr[Qr]._custom=this.resolveDataElementOptions(Qr+Zr).radius;return Jr}parseArrayData(Gr,Wr,Zr,Kr){let Jr=super.parseArrayData(Gr,Wr,Zr,Kr);for(let Qr=0;Qr<Jr.length;Qr++){let ti=Wr[Zr+Qr];Jr[Qr]._custom=zn(ti[2],this.resolveDataElementOptions(Qr+Zr).radius)}return Jr}parseObjectData(Gr,Wr,Zr,Kr){let Jr=super.parseObjectData(Gr,Wr,Zr,Kr);for(let Qr=0;Qr<Jr.length;Qr++){let ti=Wr[Zr+Qr];Jr[Qr]._custom=zn(ti&&ti.r&&+ti.r,this.resolveDataElementOptions(Qr+Zr).radius)}return Jr}getMaxOverflow(){let Gr=this._cachedMeta.data,Wr=0;for(let Zr=Gr.length-1;Zr>=0;--Zr)Wr=Math.max(Wr,Gr[Zr].size(this.resolveDataElementOptions(Zr))/2);return Wr>0&&Wr}getLabelAndValue(Gr){let Wr=this._cachedMeta,Zr=this.chart.data.labels||[],{xScale:Kr,yScale:Jr}=Wr,Qr=this.getParsed(Gr),ti=Kr.getLabelForValue(Qr.x),ei=Jr.getLabelForValue(Qr.y),ri=Qr._custom;return{label:Zr[Gr]||"",value:"("+ti+", "+ei+(ri?", "+ri:"")+")"}}update(Gr){let Wr=this._cachedMeta.data;this.updateElements(Wr,0,Wr.length,Gr)}updateElements(Gr,Wr,Zr,Kr){let Jr=Kr==="reset",{iScale:Qr,vScale:ti}=this._cachedMeta,{sharedOptions:ei,includeOptions:ri}=this._getSharedOptions(Wr,Kr),ii=Qr.axis,ni=ti.axis;for(let ai=Wr;ai<Wr+Zr;ai++){let oi=Gr[ai],si=!Jr&&this.getParsed(ai),li={},ui=li[ii]=Jr?Qr.getPixelForDecimal(.5):Qr.getPixelForValue(si[ii]),fi=li[ni]=Jr?ti.getBasePixel():ti.getPixelForValue(si[ni]);li.skip=isNaN(ui)||isNaN(fi),ri&&(li.options=ei||this.resolveDataElementOptions(ai,oi.active?"active":Kr),Jr&&(li.options.radius=0)),this.updateElement(oi,ai,li,Kr)}}resolveDataElementOptions(Gr,Wr){let Zr=this.getParsed(Gr),Kr=super.resolveDataElementOptions(Gr,Wr);Kr.$shared&&(Kr=Object.assign({},Kr,{$shared:!1}));let Jr=Kr.radius;return Wr!=="active"&&(Kr.radius=0),Kr.radius+=zn(Zr&&Zr._custom,Jr),Kr}};function Kot(Yr,Gr,Wr){let Zr=1,Kr=1,Jr=0,Qr=0;if(Gr<da){let ti=Yr,ei=ti+Gr,ri=Math.cos(ti),ii=Math.sin(ti),ni=Math.cos(ei),ai=Math.sin(ei),oi=(ci,pi,di)=>fd(ci,ti,ei,!0)?1:Math.max(pi,pi*Wr,di,di*Wr),si=(ci,pi,di)=>fd(ci,ti,ei,!0)?-1:Math.min(pi,pi*Wr,di,di*Wr),li=oi(0,ri,ni),ui=oi(Da,ii,ai),fi=si(pa,ri,ni),hi=si(pa+Da,ii,ai);Zr=(li-fi)/2,Kr=(ui-hi)/2,Jr=-(li+fi)/2,Qr=-(ui+hi)/2}return{ratioX:Zr,ratioY:Kr,offsetX:Jr,offsetY:Qr}}var tg=class extends ru{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:Gr=>Gr!=="spacing",_indexable:Gr=>Gr!=="spacing"&&!Gr.startsWith("borderDash")&&!Gr.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Gr){let Wr=Gr.data;if(Wr.labels.length&&Wr.datasets.length){let{labels:{pointStyle:Zr,color:Kr}}=Gr.legend.options;return Wr.labels.map((Jr,Qr)=>{let ei=Gr.getDatasetMeta(0).controller.getStyle(Qr);return{text:Jr,fillStyle:ei.backgroundColor,strokeStyle:ei.borderColor,fontColor:Kr,lineWidth:ei.borderWidth,pointStyle:Zr,hidden:!Gr.getDataVisibility(Qr),index:Qr}})}return[]}},onClick(Gr,Wr,Zr){Zr.chart.toggleDataVisibility(Wr.index),Zr.chart.update()}}}};constructor(Gr,Wr){super(Gr,Wr),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(Gr,Wr){let Zr=this.getDataset().data,Kr=this._cachedMeta;if(this._parsing===!1)Kr._parsed=Zr;else{let Jr=ei=>+Zr[ei];if(Un(Zr[Gr])){let{key:ei="value"}=this._parsing;Jr=ri=>+ku(Zr[ri],ei)}let Qr,ti;for(Qr=Gr,ti=Gr+Wr;Qr<ti;++Qr)Kr._parsed[Qr]=Jr(Qr)}}_getRotation(){return Ws(this.options.rotation-90)}_getCircumference(){return Ws(this.options.circumference)}_getRotationExtents(){let Gr=da,Wr=-da;for(let Zr=0;Zr<this.chart.data.datasets.length;++Zr)if(this.chart.isDatasetVisible(Zr)&&this.chart.getDatasetMeta(Zr).type===this._type){let Kr=this.chart.getDatasetMeta(Zr).controller,Jr=Kr._getRotation(),Qr=Kr._getCircumference();Gr=Math.min(Gr,Jr),Wr=Math.max(Wr,Jr+Qr)}return{rotation:Gr,circumference:Wr-Gr}}update(Gr){let Wr=this.chart,{chartArea:Zr}=Wr,Kr=this._cachedMeta,Jr=Kr.data,Qr=this.getMaxBorderWidth()+this.getMaxOffset(Jr)+this.options.spacing,ti=Math.max((Math.min(Zr.width,Zr.height)-Qr)/2,0),ei=Math.min(sW(this.options.cutout,ti),1),ri=this._getRingWeight(this.index),{circumference:ii,rotation:ni}=this._getRotationExtents(),{ratioX:ai,ratioY:oi,offsetX:si,offsetY:li}=Kot(ni,ii,ei),ui=(Zr.width-Qr)/ai,fi=(Zr.height-Qr)/oi,hi=Math.max(Math.min(ui,fi)/2,0),ci=$P(this.options.radius,hi),pi=Math.max(ci*ei,0),di=(ci-pi)/this._getVisibleDatasetWeightTotal();this.offsetX=si*ci,this.offsetY=li*ci,Kr.total=this.calculateTotal(),this.outerRadius=ci-di*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-di*ri,0),this.updateElements(Jr,0,Jr.length,Gr)}_circumference(Gr,Wr){let Zr=this.options,Kr=this._cachedMeta,Jr=this._getCircumference();return Wr&&Zr.animation.animateRotate||!this.chart.getDataVisibility(Gr)||Kr._parsed[Gr]===null||Kr.data[Gr].hidden?0:this.calculateCircumference(Kr._parsed[Gr]*Jr/da)}updateElements(Gr,Wr,Zr,Kr){let Jr=Kr==="reset",Qr=this.chart,ti=Qr.chartArea,ri=Qr.options.animation,ii=(ti.left+ti.right)/2,ni=(ti.top+ti.bottom)/2,ai=Jr&&ri.animateScale,oi=ai?0:this.innerRadius,si=ai?0:this.outerRadius,{sharedOptions:li,includeOptions:ui}=this._getSharedOptions(Wr,Kr),fi=this._getRotation(),hi;for(hi=0;hi<Wr;++hi)fi+=this._circumference(hi,Jr);for(hi=Wr;hi<Wr+Zr;++hi){let ci=this._circumference(hi,Jr),pi=Gr[hi],di={x:ii+this.offsetX,y:ni+this.offsetY,startAngle:fi,endAngle:fi+ci,circumference:ci,outerRadius:si,innerRadius:oi};ui&&(di.options=li||this.resolveDataElementOptions(hi,pi.active?"active":Kr)),fi+=ci,this.updateElement(pi,hi,di,Kr)}}calculateTotal(){let Gr=this._cachedMeta,Wr=Gr.data,Zr=0,Kr;for(Kr=0;Kr<Wr.length;Kr++){let Jr=Gr._parsed[Kr];Jr!==null&&!isNaN(Jr)&&this.chart.getDataVisibility(Kr)&&!Wr[Kr].hidden&&(Zr+=Math.abs(Jr))}return Zr}calculateCircumference(Gr){let Wr=this._cachedMeta.total;return Wr>0&&!isNaN(Gr)?da*(Math.abs(Gr)/Wr):0}getLabelAndValue(Gr){let Wr=this._cachedMeta,Zr=this.chart,Kr=Zr.data.labels||[],Jr=hd(Wr._parsed[Gr],Zr.options.locale);return{label:Kr[Gr]||"",value:Jr}}getMaxBorderWidth(Gr){let Wr=0,Zr=this.chart,Kr,Jr,Qr,ti,ei;if(!Gr){for(Kr=0,Jr=Zr.data.datasets.length;Kr<Jr;++Kr)if(Zr.isDatasetVisible(Kr)){Qr=Zr.getDatasetMeta(Kr),Gr=Qr.data,ti=Qr.controller;break}}if(!Gr)return 0;for(Kr=0,Jr=Gr.length;Kr<Jr;++Kr)ei=ti.resolveDataElementOptions(Kr),ei.borderAlign!=="inner"&&(Wr=Math.max(Wr,ei.borderWidth||0,ei.hoverBorderWidth||0));return Wr}getMaxOffset(Gr){let Wr=0;for(let Zr=0,Kr=Gr.length;Zr<Kr;++Zr){let Jr=this.resolveDataElementOptions(Zr);Wr=Math.max(Wr,Jr.offset||0,Jr.hoverOffset||0)}return Wr}_getRingWeightOffset(Gr){let Wr=0;for(let Zr=0;Zr<Gr;++Zr)this.chart.isDatasetVisible(Zr)&&(Wr+=this._getRingWeight(Zr));return Wr}_getRingWeight(Gr){return Math.max(zn(this.chart.data.datasets[Gr].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}},NE=class extends ru{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(Gr){let Wr=this._cachedMeta,{dataset:Zr,data:Kr=[],_dataset:Jr}=Wr,Qr=this.chart._animationsDisabled,{start:ti,count:ei}=sE(Wr,Kr,Qr);this._drawStart=ti,this._drawCount=ei,lE(Wr)&&(ti=0,ei=Kr.length),Zr._chart=this.chart,Zr._datasetIndex=this.index,Zr._decimated=!!Jr._decimated,Zr.points=Kr;let ri=this.resolveDatasetElementOptions(Gr);this.options.showLine||(ri.borderWidth=0),ri.segment=this.options.segment,this.updateElement(Zr,void 0,{animated:!Qr,options:ri},Gr),this.updateElements(Kr,ti,ei,Gr)}updateElements(Gr,Wr,Zr,Kr){let Jr=Kr==="reset",{iScale:Qr,vScale:ti,_stacked:ei,_dataset:ri}=this._cachedMeta,{sharedOptions:ii,includeOptions:ni}=this._getSharedOptions(Wr,Kr),ai=Qr.axis,oi=ti.axis,{spanGaps:si,segment:li}=this.options,ui=vc(si)?si:Number.POSITIVE_INFINITY,fi=this.chart._animationsDisabled||Jr||Kr==="none",hi=Wr+Zr,ci=Gr.length,pi=Wr>0&&this.getParsed(Wr-1);for(let di=0;di<ci;++di){let vi=Gr[di],mi=fi?vi:{};if(di<Wr||di>=hi){mi.skip=!0;continue}let gi=this.getParsed(di),yi=Xn(gi[oi]),Si=mi[ai]=Qr.getPixelForValue(gi[ai],di),bi=mi[oi]=Jr||yi?ti.getBasePixel():ti.getPixelForValue(ei?this.applyStack(ti,gi,ei):gi[oi],di);mi.skip=isNaN(Si)||isNaN(bi)||yi,mi.stop=di>0&&Math.abs(gi[ai]-pi[ai])>ui,li&&(mi.parsed=gi,mi.raw=ri.data[di]),ni&&(mi.options=ii||this.resolveDataElementOptions(di,vi.active?"active":Kr)),fi||this.updateElement(vi,di,mi,Kr),pi=gi}}getMaxOverflow(){let Gr=this._cachedMeta,Wr=Gr.dataset,Zr=Wr.options&&Wr.options.borderWidth||0,Kr=Gr.data||[];if(!Kr.length)return Zr;let Jr=Kr[0].size(this.resolveDataElementOptions(0)),Qr=Kr[Kr.length-1].size(this.resolveDataElementOptions(Kr.length-1));return Math.max(Zr,Jr,Qr)/2}draw(){let Gr=this._cachedMeta;Gr.dataset.updateControlPoints(this.chart.chartArea,Gr.iScale.axis),super.draw()}},Cb=class extends ru{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Gr){let Wr=Gr.data;if(Wr.labels.length&&Wr.datasets.length){let{labels:{pointStyle:Zr,color:Kr}}=Gr.legend.options;return Wr.labels.map((Jr,Qr)=>{let ei=Gr.getDatasetMeta(0).controller.getStyle(Qr);return{text:Jr,fillStyle:ei.backgroundColor,strokeStyle:ei.borderColor,fontColor:Kr,lineWidth:ei.borderWidth,pointStyle:Zr,hidden:!Gr.getDataVisibility(Qr),index:Qr}})}return[]}},onClick(Gr,Wr,Zr){Zr.chart.toggleDataVisibility(Wr.index),Zr.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(Gr,Wr){super(Gr,Wr),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(Gr){let Wr=this._cachedMeta,Zr=this.chart,Kr=Zr.data.labels||[],Jr=hd(Wr._parsed[Gr].r,Zr.options.locale);return{label:Kr[Gr]||"",value:Jr}}parseObjectData(Gr,Wr,Zr,Kr){return gE.bind(this)(Gr,Wr,Zr,Kr)}update(Gr){let Wr=this._cachedMeta.data;this._updateRadius(),this.updateElements(Wr,0,Wr.length,Gr)}getMinMax(){let Gr=this._cachedMeta,Wr={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return Gr.data.forEach((Zr,Kr)=>{let Jr=this.getParsed(Kr).r;!isNaN(Jr)&&this.chart.getDataVisibility(Kr)&&(Jr<Wr.min&&(Wr.min=Jr),Jr>Wr.max&&(Wr.max=Jr))}),Wr}_updateRadius(){let Gr=this.chart,Wr=Gr.chartArea,Zr=Gr.options,Kr=Math.min(Wr.right-Wr.left,Wr.bottom-Wr.top),Jr=Math.max(Kr/2,0),Qr=Math.max(Zr.cutoutPercentage?Jr/100*Zr.cutoutPercentage:1,0),ti=(Jr-Qr)/Gr.getVisibleDatasetCount();this.outerRadius=Jr-ti*this.index,this.innerRadius=this.outerRadius-ti}updateElements(Gr,Wr,Zr,Kr){let Jr=Kr==="reset",Qr=this.chart,ei=Qr.options.animation,ri=this._cachedMeta.rScale,ii=ri.xCenter,ni=ri.yCenter,ai=ri.getIndexAngle(0)-.5*pa,oi=ai,si,li=360/this.countVisibleElements();for(si=0;si<Wr;++si)oi+=this._computeAngle(si,Kr,li);for(si=Wr;si<Wr+Zr;si++){let ui=Gr[si],fi=oi,hi=oi+this._computeAngle(si,Kr,li),ci=Qr.getDataVisibility(si)?ri.getDistanceFromCenterForValue(this.getParsed(si).r):0;oi=hi,Jr&&(ei.animateScale&&(ci=0),ei.animateRotate&&(fi=hi=ai));let pi={x:ii,y:ni,innerRadius:0,outerRadius:ci,startAngle:fi,endAngle:hi,options:this.resolveDataElementOptions(si,ui.active?"active":Kr)};this.updateElement(ui,si,pi,Kr)}}countVisibleElements(){let Gr=this._cachedMeta,Wr=0;return Gr.data.forEach((Zr,Kr)=>{!isNaN(this.getParsed(Kr).r)&&this.chart.getDataVisibility(Kr)&&Wr++}),Wr}_computeAngle(Gr,Wr,Zr){return this.chart.getDataVisibility(Gr)?Ws(this.resolveDataElementOptions(Gr,Wr).angle||Zr):0}},FE=class extends tg{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},VE=class extends ru{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(Gr){let Wr=this._cachedMeta.vScale,Zr=this.getParsed(Gr);return{label:Wr.getLabels()[Gr],value:""+Wr.getLabelForValue(Zr[Wr.axis])}}parseObjectData(Gr,Wr,Zr,Kr){return gE.bind(this)(Gr,Wr,Zr,Kr)}update(Gr){let Wr=this._cachedMeta,Zr=Wr.dataset,Kr=Wr.data||[],Jr=Wr.iScale.getLabels();if(Zr.points=Kr,Gr!=="resize"){let Qr=this.resolveDatasetElementOptions(Gr);this.options.showLine||(Qr.borderWidth=0);let ti={_loop:!0,_fullLoop:Jr.length===Kr.length,options:Qr};this.updateElement(Zr,void 0,ti,Gr)}this.updateElements(Kr,0,Kr.length,Gr)}updateElements(Gr,Wr,Zr,Kr){let Jr=this._cachedMeta.rScale,Qr=Kr==="reset";for(let ti=Wr;ti<Wr+Zr;ti++){let ei=Gr[ti],ri=this.resolveDataElementOptions(ti,ei.active?"active":Kr),ii=Jr.getPointPositionForValue(ti,this.getParsed(ti).r),ni=Qr?Jr.xCenter:ii.x,ai=Qr?Jr.yCenter:ii.y,oi={x:ni,y:ai,angle:ii.angle,skip:isNaN(ni)||isNaN(ai),options:ri};this.updateElement(ei,ti,oi,Kr)}}},BE=class extends ru{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(Gr){let Wr=this._cachedMeta,Zr=this.chart.data.labels||[],{xScale:Kr,yScale:Jr}=Wr,Qr=this.getParsed(Gr),ti=Kr.getLabelForValue(Qr.x),ei=Jr.getLabelForValue(Qr.y);return{label:Zr[Gr]||"",value:"("+ti+", "+ei+")"}}update(Gr){let Wr=this._cachedMeta,{data:Zr=[]}=Wr,Kr=this.chart._animationsDisabled,{start:Jr,count:Qr}=sE(Wr,Zr,Kr);if(this._drawStart=Jr,this._drawCount=Qr,lE(Wr)&&(Jr=0,Qr=Zr.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:ti,_dataset:ei}=Wr;ti._chart=this.chart,ti._datasetIndex=this.index,ti._decimated=!!ei._decimated,ti.points=Zr;let ri=this.resolveDatasetElementOptions(Gr);ri.segment=this.options.segment,this.updateElement(ti,void 0,{animated:!Kr,options:ri},Gr)}else this.datasetElementType&&(delete Wr.dataset,this.datasetElementType=!1);this.updateElements(Zr,Jr,Qr,Gr)}addElements(){let{showLine:Gr}=this.options;!this.datasetElementType&&Gr&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(Gr,Wr,Zr,Kr){let Jr=Kr==="reset",{iScale:Qr,vScale:ti,_stacked:ei,_dataset:ri}=this._cachedMeta,ii=this.resolveDataElementOptions(Wr,Kr),ni=this.getSharedOptions(ii),ai=this.includeOptions(Kr,ni),oi=Qr.axis,si=ti.axis,{spanGaps:li,segment:ui}=this.options,fi=vc(li)?li:Number.POSITIVE_INFINITY,hi=this.chart._animationsDisabled||Jr||Kr==="none",ci=Wr>0&&this.getParsed(Wr-1);for(let pi=Wr;pi<Wr+Zr;++pi){let di=Gr[pi],vi=this.getParsed(pi),mi=hi?di:{},gi=Xn(vi[si]),yi=mi[oi]=Qr.getPixelForValue(vi[oi],pi),Si=mi[si]=Jr||gi?ti.getBasePixel():ti.getPixelForValue(ei?this.applyStack(ti,vi,ei):vi[si],pi);mi.skip=isNaN(yi)||isNaN(Si)||gi,mi.stop=pi>0&&Math.abs(vi[oi]-ci[oi])>fi,ui&&(mi.parsed=vi,mi.raw=ri.data[pi]),ai&&(mi.options=ni||this.resolveDataElementOptions(pi,di.active?"active":Kr)),hi||this.updateElement(di,pi,mi,Kr),ci=vi}this.updateSharedOptions(ni,Kr,ii)}getMaxOverflow(){let Gr=this._cachedMeta,Wr=Gr.data||[];if(!this.options.showLine){let ti=0;for(let ei=Wr.length-1;ei>=0;--ei)ti=Math.max(ti,Wr[ei].size(this.resolveDataElementOptions(ei))/2);return ti>0&&ti}let Zr=Gr.dataset,Kr=Zr.options&&Zr.options.borderWidth||0;if(!Wr.length)return Kr;let Jr=Wr[0].size(this.resolveDataElementOptions(0)),Qr=Wr[Wr.length-1].size(this.resolveDataElementOptions(Wr.length-1));return Math.max(Kr,Jr,Qr)/2}},$ot=Object.freeze({__proto__:null,BarController:OE,BubbleController:zE,DoughnutController:tg,LineController:NE,PieController:FE,PolarAreaController:Cb,RadarController:VE,ScatterController:BE});function gc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var UE=class Yr{static override(Gr){Object.assign(Yr.prototype,Gr)}options;constructor(Gr){this.options=Gr||{}}init(){}formats(){return gc()}parse(){return gc()}format(){return gc()}add(){return gc()}diff(){return gc()}startOf(){return gc()}endOf(){return gc()}},Jot={_date:UE};function Qot(Yr,Gr,Wr,Zr){let{controller:Kr,data:Jr,_sorted:Qr}=Yr,ti=Kr._cachedMeta.iScale;if(ti&&Gr===ti.axis&&Gr!=="r"&&Qr&&Jr.length){let ei=ti._reversePixels?pW:Kl;if(Zr){if(Kr._sharedOptions){let ri=Jr[0],ii=typeof ri.getRange=="function"&&ri.getRange(Gr);if(ii){let ni=ei(Jr,Gr,Wr-ii),ai=ei(Jr,Gr,Wr+ii);return{lo:ni.lo,hi:ai.hi}}}}else return ei(Jr,Gr,Wr)}return{lo:0,hi:Jr.length-1}}function ag(Yr,Gr,Wr,Zr,Kr){let Jr=Yr.getSortedVisibleDatasetMetas(),Qr=Wr[Gr];for(let ti=0,ei=Jr.length;ti<ei;++ti){let{index:ri,data:ii}=Jr[ti],{lo:ni,hi:ai}=Qot(Jr[ti],Gr,Qr,Kr);for(let oi=ni;oi<=ai;++oi){let si=ii[oi];si.skip||Zr(si,ri,oi)}}}function tst(Yr){let Gr=Yr.indexOf("x")!==-1,Wr=Yr.indexOf("y")!==-1;return function(Zr,Kr){let Jr=Gr?Math.abs(Zr.x-Kr.x):0,Qr=Wr?Math.abs(Zr.y-Kr.y):0;return Math.sqrt(Math.pow(Jr,2)+Math.pow(Qr,2))}}function ME(Yr,Gr,Wr,Zr,Kr){let Jr=[];return!Kr&&!Yr.isPointInArea(Gr)||ag(Yr,Wr,Gr,function(ti,ei,ri){!Kr&&!$l(ti,Yr.chartArea,0)||ti.inRange(Gr.x,Gr.y,Zr)&&Jr.push({element:ti,datasetIndex:ei,index:ri})},!0),Jr}function est(Yr,Gr,Wr,Zr){let Kr=[];function Jr(Qr,ti,ei){let{startAngle:ri,endAngle:ii}=Qr.getProps(["startAngle","endAngle"],Zr),{angle:ni}=rE(Qr,{x:Gr.x,y:Gr.y});fd(ni,ri,ii)&&Kr.push({element:Qr,datasetIndex:ti,index:ei})}return ag(Yr,Wr,Gr,Jr),Kr}function rst(Yr,Gr,Wr,Zr,Kr,Jr){let Qr=[],ti=tst(Wr),ei=Number.POSITIVE_INFINITY;function ri(ii,ni,ai){let oi=ii.inRange(Gr.x,Gr.y,Kr);if(Zr&&!oi)return;let si=ii.getCenterPoint(Kr);if(!(!!Jr||Yr.isPointInArea(si))&&!oi)return;let ui=ti(Gr,si);ui<ei?(Qr=[{element:ii,datasetIndex:ni,index:ai}],ei=ui):ui===ei&&Qr.push({element:ii,datasetIndex:ni,index:ai})}return ag(Yr,Wr,Gr,ri),Qr}function PE(Yr,Gr,Wr,Zr,Kr,Jr){return!Jr&&!Yr.isPointInArea(Gr)?[]:Wr==="r"&&!Zr?est(Yr,Gr,Wr,Kr):rst(Yr,Gr,Wr,Zr,Kr,Jr)}function YW(Yr,Gr,Wr,Zr,Kr){let Jr=[],Qr=Wr==="x"?"inXRange":"inYRange",ti=!1;return ag(Yr,Wr,Gr,(ei,ri,ii)=>{ei[Qr](Gr[Wr],Kr)&&(Jr.push({element:ei,datasetIndex:ri,index:ii}),ti=ti||ei.inRange(Gr.x,Gr.y,Kr))}),Zr&&!ti?[]:Jr}var ist={evaluateInteractionItems:ag,modes:{index(Yr,Gr,Wr,Zr){let Kr=Xf(Gr,Yr),Jr=Wr.axis||"x",Qr=Wr.includeInvisible||!1,ti=Wr.intersect?ME(Yr,Kr,Jr,Zr,Qr):PE(Yr,Kr,Jr,!1,Zr,Qr),ei=[];return ti.length?(Yr.getSortedVisibleDatasetMetas().forEach(ri=>{let ii=ti[0].index,ni=ri.data[ii];ni&&!ni.skip&&ei.push({element:ni,datasetIndex:ri.index,index:ii})}),ei):[]},dataset(Yr,Gr,Wr,Zr){let Kr=Xf(Gr,Yr),Jr=Wr.axis||"xy",Qr=Wr.includeInvisible||!1,ti=Wr.intersect?ME(Yr,Kr,Jr,Zr,Qr):PE(Yr,Kr,Jr,!1,Zr,Qr);if(ti.length>0){let ei=ti[0].datasetIndex,ri=Yr.getDatasetMeta(ei).data;ti=[];for(let ii=0;ii<ri.length;++ii)ti.push({element:ri[ii],datasetIndex:ei,index:ii})}return ti},point(Yr,Gr,Wr,Zr){let Kr=Xf(Gr,Yr),Jr=Wr.axis||"xy",Qr=Wr.includeInvisible||!1;return ME(Yr,Kr,Jr,Zr,Qr)},nearest(Yr,Gr,Wr,Zr){let Kr=Xf(Gr,Yr),Jr=Wr.axis||"xy",Qr=Wr.includeInvisible||!1;return PE(Yr,Kr,Jr,Wr.intersect,Zr,Qr)},x(Yr,Gr,Wr,Zr){let Kr=Xf(Gr,Yr);return YW(Yr,Kr,"x",Wr.intersect,Zr)},y(Yr,Gr,Wr,Zr){let Kr=Xf(Gr,Yr);return YW(Yr,Kr,"y",Wr.intersect,Zr)}}},N4=["left","top","right","bottom"];function Zm(Yr,Gr){return Yr.filter(Wr=>Wr.pos===Gr)}function XW(Yr,Gr){return Yr.filter(Wr=>N4.indexOf(Wr.pos)===-1&&Wr.box.axis===Gr)}function jm(Yr,Gr){return Yr.sort((Wr,Zr)=>{let Kr=Gr?Zr:Wr,Jr=Gr?Wr:Zr;return Kr.weight===Jr.weight?Kr.index-Jr.index:Kr.weight-Jr.weight})}function nst(Yr){let Gr=[],Wr,Zr,Kr,Jr,Qr,ti;for(Wr=0,Zr=(Yr||[]).length;Wr<Zr;++Wr)Kr=Yr[Wr],{position:Jr,options:{stack:Qr,stackWeight:ti=1}}=Kr,Gr.push({index:Wr,box:Kr,pos:Jr,horizontal:Kr.isHorizontal(),weight:Kr.weight,stack:Qr&&Jr+Qr,stackWeight:ti});return Gr}function ast(Yr){let Gr={};for(let Wr of Yr){let{stack:Zr,pos:Kr,stackWeight:Jr}=Wr;if(!Zr||!N4.includes(Kr))continue;let Qr=Gr[Zr]||(Gr[Zr]={count:0,placed:0,weight:0,size:0});Qr.count++,Qr.weight+=Jr}return Gr}function ost(Yr,Gr){let Wr=ast(Yr),{vBoxMaxWidth:Zr,hBoxMaxHeight:Kr}=Gr,Jr,Qr,ti;for(Jr=0,Qr=Yr.length;Jr<Qr;++Jr){ti=Yr[Jr];let{fullSize:ei}=ti.box,ri=Wr[ti.stack],ii=ri&&ti.stackWeight/ri.weight;ti.horizontal?(ti.width=ii?ii*Zr:ei&&Gr.availableWidth,ti.height=Kr):(ti.width=Zr,ti.height=ii?ii*Kr:ei&&Gr.availableHeight)}return Wr}function sst(Yr){let Gr=nst(Yr),Wr=jm(Gr.filter(ri=>ri.box.fullSize),!0),Zr=jm(Zm(Gr,"left"),!0),Kr=jm(Zm(Gr,"right")),Jr=jm(Zm(Gr,"top"),!0),Qr=jm(Zm(Gr,"bottom")),ti=XW(Gr,"x"),ei=XW(Gr,"y");return{fullSize:Wr,leftAndTop:Zr.concat(Jr),rightAndBottom:Kr.concat(ei).concat(Qr).concat(ti),chartArea:Zm(Gr,"chartArea"),vertical:Zr.concat(Kr).concat(ei),horizontal:Jr.concat(Qr).concat(ti)}}function qW(Yr,Gr,Wr,Zr){return Math.max(Yr[Wr],Gr[Wr])+Math.max(Yr[Zr],Gr[Zr])}function F4(Yr,Gr){Yr.top=Math.max(Yr.top,Gr.top),Yr.left=Math.max(Yr.left,Gr.left),Yr.bottom=Math.max(Yr.bottom,Gr.bottom),Yr.right=Math.max(Yr.right,Gr.right)}function lst(Yr,Gr,Wr,Zr){let{pos:Kr,box:Jr}=Wr,Qr=Yr.maxPadding;if(!Un(Kr)){Wr.size&&(Yr[Kr]-=Wr.size);let ni=Zr[Wr.stack]||{size:0,count:1};ni.size=Math.max(ni.size,Wr.horizontal?Jr.height:Jr.width),Wr.size=ni.size/ni.count,Yr[Kr]+=Wr.size}Jr.getPadding&&F4(Qr,Jr.getPadding());let ti=Math.max(0,Gr.outerWidth-qW(Qr,Yr,"left","right")),ei=Math.max(0,Gr.outerHeight-qW(Qr,Yr,"top","bottom")),ri=ti!==Yr.w,ii=ei!==Yr.h;return Yr.w=ti,Yr.h=ei,Wr.horizontal?{same:ri,other:ii}:{same:ii,other:ri}}function ust(Yr){let Gr=Yr.maxPadding;function Wr(Zr){let Kr=Math.max(Gr[Zr]-Yr[Zr],0);return Yr[Zr]+=Kr,Kr}Yr.y+=Wr("top"),Yr.x+=Wr("left"),Wr("right"),Wr("bottom")}function fst(Yr,Gr){let Wr=Gr.maxPadding;function Zr(Kr){let Jr={left:0,top:0,right:0,bottom:0};return Kr.forEach(Qr=>{Jr[Qr]=Math.max(Gr[Qr],Wr[Qr])}),Jr}return Zr(Yr?["left","right"]:["top","bottom"])}function Jm(Yr,Gr,Wr,Zr){let Kr=[],Jr,Qr,ti,ei,ri,ii;for(Jr=0,Qr=Yr.length,ri=0;Jr<Qr;++Jr){ti=Yr[Jr],ei=ti.box,ei.update(ti.width||Gr.w,ti.height||Gr.h,fst(ti.horizontal,Gr));let{same:ni,other:ai}=lst(Gr,Wr,ti,Zr);ri|=ni&&Kr.length,ii=ii||ai,ei.fullSize||Kr.push(ti)}return ri&&Jm(Kr,Gr,Wr,Zr)||ii}function db(Yr,Gr,Wr,Zr,Kr){Yr.top=Wr,Yr.left=Gr,Yr.right=Gr+Zr,Yr.bottom=Wr+Kr,Yr.width=Zr,Yr.height=Kr}function ZW(Yr,Gr,Wr,Zr){let Kr=Wr.padding,{x:Jr,y:Qr}=Gr;for(let ti of Yr){let ei=ti.box,ri=Zr[ti.stack]||{count:1,placed:0,weight:1},ii=ti.stackWeight/ri.weight||1;if(ti.horizontal){let ni=Gr.w*ii,ai=ri.size||ei.height;ld(ri.start)&&(Qr=ri.start),ei.fullSize?db(ei,Kr.left,Qr,Wr.outerWidth-Kr.right-Kr.left,ai):db(ei,Gr.left+ri.placed,Qr,ni,ai),ri.start=Qr,ri.placed+=ni,Qr=ei.bottom}else{let ni=Gr.h*ii,ai=ri.size||ei.width;ld(ri.start)&&(Jr=ri.start),ei.fullSize?db(ei,Jr,Kr.top,ai,Wr.outerHeight-Kr.bottom-Kr.top):db(ei,Jr,Gr.top+ri.placed,ai,ni),ri.start=Jr,ri.placed+=ni,Jr=ei.right}}Gr.x=Jr,Gr.y=Qr}var xo={addBox(Yr,Gr){Yr.boxes||(Yr.boxes=[]),Gr.fullSize=Gr.fullSize||!1,Gr.position=Gr.position||"top",Gr.weight=Gr.weight||0,Gr._layers=Gr._layers||function(){return[{z:0,draw(Wr){Gr.draw(Wr)}}]},Yr.boxes.push(Gr)},removeBox(Yr,Gr){let Wr=Yr.boxes?Yr.boxes.indexOf(Gr):-1;Wr!==-1&&Yr.boxes.splice(Wr,1)},configure(Yr,Gr,Wr){Gr.fullSize=Wr.fullSize,Gr.position=Wr.position,Gr.weight=Wr.weight},update(Yr,Gr,Wr,Zr){if(!Yr)return;let Kr=uo(Yr.options.layout.padding),Jr=Math.max(Gr-Kr.width,0),Qr=Math.max(Wr-Kr.height,0),ti=sst(Yr.boxes),ei=ti.vertical,ri=ti.horizontal;na(Yr.boxes,li=>{typeof li.beforeLayout=="function"&&li.beforeLayout()});let ii=ei.reduce((li,ui)=>ui.box.options&&ui.box.options.display===!1?li:li+1,0)||1,ni=Object.freeze({outerWidth:Gr,outerHeight:Wr,padding:Kr,availableWidth:Jr,availableHeight:Qr,vBoxMaxWidth:Jr/2/ii,hBoxMaxHeight:Qr/2}),ai=Object.assign({},Kr);F4(ai,uo(Zr));let oi=Object.assign({maxPadding:ai,w:Jr,h:Qr,x:Kr.left,y:Kr.top},Kr),si=ost(ei.concat(ri),ni);Jm(ti.fullSize,oi,ni,si),Jm(ei,oi,ni,si),Jm(ri,oi,ni,si)&&Jm(ei,oi,ni,si),ust(oi),ZW(ti.leftAndTop,oi,ni,si),oi.x+=oi.w,oi.y+=oi.h,ZW(ti.rightAndBottom,oi,ni,si),Yr.chartArea={left:oi.left,top:oi.top,right:oi.left+oi.w,bottom:oi.top+oi.h,height:oi.h,width:oi.w},na(ti.chartArea,li=>{let ui=li.box;Object.assign(ui,Yr.chartArea),ui.update(oi.w,oi.h,{left:0,top:0,right:0,bottom:0})})}},Tb=class{acquireContext(Gr,Wr){}releaseContext(Gr){return!1}addEventListener(Gr,Wr,Zr){}removeEventListener(Gr,Wr,Zr){}getDevicePixelRatio(){return 1}getMaximumSize(Gr,Wr,Zr,Kr){return Wr=Math.max(0,Wr||Gr.width),Zr=Zr||Gr.height,{width:Wr,height:Math.max(0,Kr?Math.floor(Wr/Kr):Zr)}}isAttached(Gr){return!0}updateConfig(Gr){}},GE=class extends Tb{acquireContext(Gr){return Gr&&Gr.getContext&&Gr.getContext("2d")||null}updateConfig(Gr){Gr.options.animation=!1}},bb="$chartjs",hst={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jW=Yr=>Yr===null||Yr==="";function cst(Yr,Gr){let Wr=Yr.style,Zr=Yr.getAttribute("height"),Kr=Yr.getAttribute("width");if(Yr[bb]={initial:{height:Zr,width:Kr,style:{display:Wr.display,height:Wr.height,width:Wr.width}}},Wr.display=Wr.display||"block",Wr.boxSizing=Wr.boxSizing||"border-box",jW(Kr)){let Jr=xE(Yr,"width");Jr!==void 0&&(Yr.width=Jr)}if(jW(Zr))if(Yr.style.height==="")Yr.height=Yr.width/(Gr||2);else{let Jr=xE(Yr,"height");Jr!==void 0&&(Yr.height=Jr)}return Yr}var V4=DW?{passive:!0}:!1;function pst(Yr,Gr,Wr){Yr&&Yr.addEventListener(Gr,Wr,V4)}function dst(Yr,Gr,Wr){Yr&&Yr.canvas&&Yr.canvas.removeEventListener(Gr,Wr,V4)}function vst(Yr,Gr){let Wr=hst[Yr.type]||Yr.type,{x:Zr,y:Kr}=Xf(Yr,Gr);return{type:Wr,chart:Gr,native:Yr,x:Zr!==void 0?Zr:null,y:Kr!==void 0?Kr:null}}function Ab(Yr,Gr){for(let Wr of Yr)if(Wr===Gr||Wr.contains(Gr))return!0}function mst(Yr,Gr,Wr){let Zr=Yr.canvas,Kr=new MutationObserver(Jr=>{let Qr=!1;for(let ti of Jr)Qr=Qr||Ab(ti.addedNodes,Zr),Qr=Qr&&!Ab(ti.removedNodes,Zr);Qr&&Wr()});return Kr.observe(document,{childList:!0,subtree:!0}),Kr}function gst(Yr,Gr,Wr){let Zr=Yr.canvas,Kr=new MutationObserver(Jr=>{let Qr=!1;for(let ti of Jr)Qr=Qr||Ab(ti.removedNodes,Zr),Qr=Qr&&!Ab(ti.addedNodes,Zr);Qr&&Wr()});return Kr.observe(document,{childList:!0,subtree:!0}),Kr}var eg=new Map,KW=0;function B4(){let Yr=window.devicePixelRatio;Yr!==KW&&(KW=Yr,eg.forEach((Gr,Wr)=>{Wr.currentDevicePixelRatio!==Yr&&Gr()}))}function yst(Yr,Gr){eg.size||window.addEventListener("resize",B4),eg.set(Yr,Gr)}function xst(Yr){eg.delete(Yr),eg.size||window.removeEventListener("resize",B4)}function _st(Yr,Gr,Wr){let Zr=Yr.canvas,Kr=Zr&&cb(Zr);if(!Kr)return;let Jr=oE((ti,ei)=>{let ri=Kr.clientWidth;Wr(ti,ei),ri<Kr.clientWidth&&Wr()},window),Qr=new ResizeObserver(ti=>{let ei=ti[0],ri=ei.contentRect.width,ii=ei.contentRect.height;ri===0&&ii===0||Jr(ri,ii)});return Qr.observe(Kr),yst(Yr,Jr),Qr}function EE(Yr,Gr,Wr){Wr&&Wr.disconnect(),Gr==="resize"&&xst(Yr)}function bst(Yr,Gr,Wr){let Zr=Yr.canvas,Kr=oE(Jr=>{Yr.ctx!==null&&Wr(vst(Jr,Yr))},Yr);return pst(Zr,Gr,Kr),Kr}var HE=class extends Tb{acquireContext(Gr,Wr){let Zr=Gr&&Gr.getContext&&Gr.getContext("2d");return Zr&&Zr.canvas===Gr?(cst(Gr,Wr),Zr):null}releaseContext(Gr){let Wr=Gr.canvas;if(!Wr[bb])return!1;let Zr=Wr[bb].initial;["height","width"].forEach(Jr=>{let Qr=Zr[Jr];Xn(Qr)?Wr.removeAttribute(Jr):Wr.setAttribute(Jr,Qr)});let Kr=Zr.style||{};return Object.keys(Kr).forEach(Jr=>{Wr.style[Jr]=Kr[Jr]}),Wr.width=Wr.width,delete Wr[bb],!0}addEventListener(Gr,Wr,Zr){this.removeEventListener(Gr,Wr);let Kr=Gr.$proxies||(Gr.$proxies={}),Qr={attach:mst,detach:gst,resize:_st}[Wr]||bst;Kr[Wr]=Qr(Gr,Wr,Zr)}removeEventListener(Gr,Wr){let Zr=Gr.$proxies||(Gr.$proxies={}),Kr=Zr[Wr];if(!Kr)return;({attach:EE,detach:EE,resize:EE}[Wr]||dst)(Gr,Wr,Kr),Zr[Wr]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(Gr,Wr,Zr,Kr){return EW(Gr,Wr,Zr,Kr)}isAttached(Gr){let Wr=cb(Gr);return!!(Wr&&Wr.isConnected)}};function Sst(Yr){return!hb()||typeof OffscreenCanvas<"u"&&Yr instanceof OffscreenCanvas?GE:HE}var bl=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(Gr){let{x:Wr,y:Zr}=this.getProps(["x","y"],Gr);return{x:Wr,y:Zr}}hasValue(){return vc(this.x)&&vc(this.y)}getProps(Gr,Wr){let Zr=this.$animations;if(!Wr||!Zr)return this;let Kr={};return Gr.forEach(Jr=>{Kr[Jr]=Zr[Jr]&&Zr[Jr].active()?Zr[Jr]._to:this[Jr]}),Kr}};function wst(Yr,Gr){let Wr=Yr.options.ticks,Zr=Cst(Yr),Kr=Math.min(Wr.maxTicksLimit||Zr,Zr),Jr=Wr.major.enabled?Ast(Gr):[],Qr=Jr.length,ti=Jr[0],ei=Jr[Qr-1],ri=[];if(Qr>Kr)return Mst(Gr,ri,Jr,Qr/Kr),ri;let ii=Tst(Jr,Gr,Kr);if(Qr>0){let ni,ai,oi=Qr>1?Math.round((ei-ti)/(Qr-1)):null;for(vb(Gr,ri,ii,Xn(oi)?0:ti-oi,ti),ni=0,ai=Qr-1;ni<ai;ni++)vb(Gr,ri,ii,Jr[ni],Jr[ni+1]);return vb(Gr,ri,ii,ei,Xn(oi)?Gr.length:ei+oi),ri}return vb(Gr,ri,ii),ri}function Cst(Yr){let Gr=Yr.options.offset,Wr=Yr._tickSize(),Zr=Yr._length/Wr+(Gr?0:1),Kr=Yr._maxLength/Wr;return Math.floor(Math.min(Zr,Kr))}function Tst(Yr,Gr,Wr){let Zr=Pst(Yr),Kr=Gr.length/Wr;if(!Zr)return Math.max(Kr,1);let Jr=fW(Zr);for(let Qr=0,ti=Jr.length-1;Qr<ti;Qr++){let ei=Jr[Qr];if(ei>Kr)return ei}return Math.max(Kr,1)}function Ast(Yr){let Gr=[],Wr,Zr;for(Wr=0,Zr=Yr.length;Wr<Zr;Wr++)Yr[Wr].major&&Gr.push(Wr);return Gr}function Mst(Yr,Gr,Wr,Zr){let Kr=0,Jr=Wr[0],Qr;for(Zr=Math.ceil(Zr),Qr=0;Qr<Yr.length;Qr++)Qr===Jr&&(Gr.push(Yr[Qr]),Kr++,Jr=Wr[Kr*Zr])}function vb(Yr,Gr,Wr,Zr,Kr){let Jr=zn(Zr,0),Qr=Math.min(zn(Kr,Yr.length),Yr.length),ti=0,ei,ri,ii;for(Wr=Math.ceil(Wr),Kr&&(ei=Kr-Zr,Wr=ei/Math.floor(ei/Wr)),ii=Jr;ii<0;)ti++,ii=Math.round(Jr+ti*Wr);for(ri=Math.max(Jr,0);ri<Qr;ri++)ri===ii&&(Gr.push(Yr[ri]),ti++,ii=Math.round(Jr+ti*Wr))}function Pst(Yr){let Gr=Yr.length,Wr,Zr;if(Gr<2)return!1;for(Zr=Yr[0],Wr=1;Wr<Gr;++Wr)if(Yr[Wr]-Yr[Wr-1]!==Zr)return!1;return Zr}var Est=Yr=>Yr==="left"?"right":Yr==="right"?"left":Yr,$W=(Yr,Gr,Wr)=>Gr==="top"||Gr==="left"?Yr[Gr]+Wr:Yr[Gr]-Wr,JW=(Yr,Gr)=>Math.min(Gr||Yr,Yr);function QW(Yr,Gr){let Wr=[],Zr=Yr.length/Gr,Kr=Yr.length,Jr=0;for(;Jr<Kr;Jr+=Zr)Wr.push(Yr[Math.floor(Jr)]);return Wr}function Dst(Yr,Gr,Wr){let Zr=Yr.ticks.length,Kr=Math.min(Gr,Zr-1),Jr=Yr._startPixel,Qr=Yr._endPixel,ti=1e-6,ei=Yr.getPixelForTick(Kr),ri;if(!(Wr&&(Zr===1?ri=Math.max(ei-Jr,Qr-ei):Gr===0?ri=(Yr.getPixelForTick(1)-ei)/2:ri=(ei-Yr.getPixelForTick(Kr-1))/2,ei+=Kr<Gr?ri:-ri,ei<Jr-ti||ei>Qr+ti)))return ei}function Ist(Yr,Gr){na(Yr,Wr=>{let Zr=Wr.gc,Kr=Zr.length/2,Jr;if(Kr>Gr){for(Jr=0;Jr<Kr;++Jr)delete Wr.data[Zr[Jr]];Zr.splice(0,Kr)}})}function Km(Yr){return Yr.drawTicks?Yr.tickLength:0}function t4(Yr,Gr){if(!Yr.display)return 0;let Wr=Na(Yr.font,Gr),Zr=uo(Yr.padding);return(ca(Yr.text)?Yr.text.length:1)*Wr.lineHeight+Zr.height}function Lst(Yr,Gr){return Ru(Yr,{scale:Gr,type:"scale"})}function kst(Yr,Gr,Wr){return Ru(Yr,{tick:Wr,index:Gr,type:"tick"})}function Rst(Yr,Gr,Wr){let Zr=ab(Yr);return(Wr&&Gr!=="right"||!Wr&&Gr==="right")&&(Zr=Est(Zr)),Zr}function Ost(Yr,Gr,Wr,Zr){let{top:Kr,left:Jr,bottom:Qr,right:ti,chart:ei}=Yr,{chartArea:ri,scales:ii}=ei,ni=0,ai,oi,si,li=Qr-Kr,ui=ti-Jr;if(Yr.isHorizontal()){if(oi=lo(Zr,Jr,ti),Un(Wr)){let fi=Object.keys(Wr)[0],hi=Wr[fi];si=ii[fi].getPixelForValue(hi)+li-Gr}else Wr==="center"?si=(ri.bottom+ri.top)/2+li-Gr:si=$W(Yr,Wr,Gr);ai=ti-Jr}else{if(Un(Wr)){let fi=Object.keys(Wr)[0],hi=Wr[fi];oi=ii[fi].getPixelForValue(hi)-ui+Gr}else Wr==="center"?oi=(ri.left+ri.right)/2-ui+Gr:oi=$W(Yr,Wr,Gr);si=lo(Zr,Qr,Kr),ni=Wr==="left"?-Da:Da}return{titleX:oi,titleY:si,maxWidth:ai,rotation:ni}}var xc=class Yr extends bl{constructor(Gr){super(),this.id=Gr.id,this.type=Gr.type,this.options=void 0,this.ctx=Gr.ctx,this.chart=Gr.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(Gr){this.options=Gr.setContext(this.getContext()),this.axis=Gr.axis,this._userMin=this.parse(Gr.min),this._userMax=this.parse(Gr.max),this._suggestedMin=this.parse(Gr.suggestedMin),this._suggestedMax=this.parse(Gr.suggestedMax)}parse(Gr,Wr){return Gr}getUserBounds(){let{_userMin:Gr,_userMax:Wr,_suggestedMin:Zr,_suggestedMax:Kr}=this;return Gr=ts(Gr,Number.POSITIVE_INFINITY),Wr=ts(Wr,Number.NEGATIVE_INFINITY),Zr=ts(Zr,Number.POSITIVE_INFINITY),Kr=ts(Kr,Number.NEGATIVE_INFINITY),{min:ts(Gr,Zr),max:ts(Wr,Kr),minDefined:wa(Gr),maxDefined:wa(Wr)}}getMinMax(Gr){let{min:Wr,max:Zr,minDefined:Kr,maxDefined:Jr}=this.getUserBounds(),Qr;if(Kr&&Jr)return{min:Wr,max:Zr};let ti=this.getMatchingVisibleMetas();for(let ei=0,ri=ti.length;ei<ri;++ei)Qr=ti[ei].controller.getMinMax(this,Gr),Kr||(Wr=Math.min(Wr,Qr.min)),Jr||(Zr=Math.max(Zr,Qr.max));return Wr=Jr&&Wr>Zr?Zr:Wr,Zr=Kr&&Wr>Zr?Wr:Zr,{min:ts(Wr,ts(Zr,Wr)),max:ts(Zr,ts(Wr,Zr))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let Gr=this.chart.data;return this.options.labels||(this.isHorizontal()?Gr.xLabels:Gr.yLabels)||Gr.labels||[]}getLabelItems(Gr=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(Gr))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ua(this.options.beforeUpdate,[this])}update(Gr,Wr,Zr){let{beginAtZero:Kr,grace:Jr,ticks:Qr}=this.options,ti=Qr.sampleSize;this.beforeUpdate(),this.maxWidth=Gr,this.maxHeight=Wr,this._margins=Zr=Object.assign({left:0,right:0,top:0,bottom:0},Zr),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Zr.left+Zr.right:this.height+Zr.top+Zr.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wW(this,Jr,Kr),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let ei=ti<this.ticks.length;this._convertTicksToLabels(ei?QW(this.ticks,ti):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Qr.display&&(Qr.autoSkip||Qr.source==="auto")&&(this.ticks=wst(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),ei&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let Gr=this.options.reverse,Wr,Zr;this.isHorizontal()?(Wr=this.left,Zr=this.right):(Wr=this.top,Zr=this.bottom,Gr=!Gr),this._startPixel=Wr,this._endPixel=Zr,this._reversePixels=Gr,this._length=Zr-Wr,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ua(this.options.afterUpdate,[this])}beforeSetDimensions(){ua(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ua(this.options.afterSetDimensions,[this])}_callHooks(Gr){this.chart.notifyPlugins(Gr,this.getContext()),ua(this.options[Gr],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ua(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(Gr){let Wr=this.options.ticks,Zr,Kr,Jr;for(Zr=0,Kr=Gr.length;Zr<Kr;Zr++)Jr=Gr[Zr],Jr.label=ua(Wr.callback,[Jr.value,Zr,Gr],this)}afterTickToLabelConversion(){ua(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ua(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let Gr=this.options,Wr=Gr.ticks,Zr=JW(this.ticks.length,Gr.ticks.maxTicksLimit),Kr=Wr.minRotation||0,Jr=Wr.maxRotation,Qr=Kr,ti,ei,ri;if(!this._isVisible()||!Wr.display||Kr>=Jr||Zr<=1||!this.isHorizontal()){this.labelRotation=Kr;return}let ii=this._getLabelSizes(),ni=ii.widest.width,ai=ii.highest.height,oi=Xa(this.chart.width-ni,0,this.maxWidth);ti=Gr.offset?this.maxWidth/Zr:oi/(Zr-1),ni+6>ti&&(ti=oi/(Zr-(Gr.offset?.5:1)),ei=this.maxHeight-Km(Gr.grid)-Wr.padding-t4(Gr.title,this.chart.options.font),ri=Math.sqrt(ni*ni+ai*ai),Qr=ib(Math.min(Math.asin(Xa((ii.highest.height+6)/ti,-1,1)),Math.asin(Xa(ei/ri,-1,1))-Math.asin(Xa(ai/ri,-1,1)))),Qr=Math.max(Kr,Math.min(Jr,Qr))),this.labelRotation=Qr}afterCalculateLabelRotation(){ua(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ua(this.options.beforeFit,[this])}fit(){let Gr={width:0,height:0},{chart:Wr,options:{ticks:Zr,title:Kr,grid:Jr}}=this,Qr=this._isVisible(),ti=this.isHorizontal();if(Qr){let ei=t4(Kr,Wr.options.font);if(ti?(Gr.width=this.maxWidth,Gr.height=Km(Jr)+ei):(Gr.height=this.maxHeight,Gr.width=Km(Jr)+ei),Zr.display&&this.ticks.length){let{first:ri,last:ii,widest:ni,highest:ai}=this._getLabelSizes(),oi=Zr.padding*2,si=Ws(this.labelRotation),li=Math.cos(si),ui=Math.sin(si);if(ti){let fi=Zr.mirror?0:ui*ni.width+li*ai.height;Gr.height=Math.min(this.maxHeight,Gr.height+fi+oi)}else{let fi=Zr.mirror?0:li*ni.width+ui*ai.height;Gr.width=Math.min(this.maxWidth,Gr.width+fi+oi)}this._calculatePadding(ri,ii,ui,li)}}this._handleMargins(),ti?(this.width=this._length=Wr.width-this._margins.left-this._margins.right,this.height=Gr.height):(this.width=Gr.width,this.height=this._length=Wr.height-this._margins.top-this._margins.bottom)}_calculatePadding(Gr,Wr,Zr,Kr){let{ticks:{align:Jr,padding:Qr},position:ti}=this.options,ei=this.labelRotation!==0,ri=ti!=="top"&&this.axis==="x";if(this.isHorizontal()){let ii=this.getPixelForTick(0)-this.left,ni=this.right-this.getPixelForTick(this.ticks.length-1),ai=0,oi=0;ei?ri?(ai=Kr*Gr.width,oi=Zr*Wr.height):(ai=Zr*Gr.height,oi=Kr*Wr.width):Jr==="start"?oi=Wr.width:Jr==="end"?ai=Gr.width:Jr!=="inner"&&(ai=Gr.width/2,oi=Wr.width/2),this.paddingLeft=Math.max((ai-ii+Qr)*this.width/(this.width-ii),0),this.paddingRight=Math.max((oi-ni+Qr)*this.width/(this.width-ni),0)}else{let ii=Wr.height/2,ni=Gr.height/2;Jr==="start"?(ii=0,ni=Gr.height):Jr==="end"&&(ii=Wr.height,ni=0),this.paddingTop=ii+Qr,this.paddingBottom=ni+Qr}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ua(this.options.afterFit,[this])}isHorizontal(){let{axis:Gr,position:Wr}=this.options;return Wr==="top"||Wr==="bottom"||Gr==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(Gr){this.beforeTickToLabelConversion(),this.generateTickLabels(Gr);let Wr,Zr;for(Wr=0,Zr=Gr.length;Wr<Zr;Wr++)Xn(Gr[Wr].label)&&(Gr.splice(Wr,1),Zr--,Wr--);this.afterTickToLabelConversion()}_getLabelSizes(){let Gr=this._labelSizes;if(!Gr){let Wr=this.options.ticks.sampleSize,Zr=this.ticks;Wr<Zr.length&&(Zr=QW(Zr,Wr)),this._labelSizes=Gr=this._computeLabelSizes(Zr,Zr.length,this.options.ticks.maxTicksLimit)}return Gr}_computeLabelSizes(Gr,Wr,Zr){let{ctx:Kr,_longestTextCache:Jr}=this,Qr=[],ti=[],ei=Math.floor(Wr/JW(Wr,Zr)),ri=0,ii=0,ni,ai,oi,si,li,ui,fi,hi,ci,pi,di;for(ni=0;ni<Wr;ni+=ei){if(si=Gr[ni].label,li=this._resolveTickFontOptions(ni),Kr.font=ui=li.string,fi=Jr[ui]=Jr[ui]||{data:{},gc:[]},hi=li.lineHeight,ci=pi=0,!Xn(si)&&!ca(si))ci=Gm(Kr,fi.data,fi.gc,ci,si),pi=hi;else if(ca(si))for(ai=0,oi=si.length;ai<oi;++ai)di=si[ai],!Xn(di)&&!ca(di)&&(ci=Gm(Kr,fi.data,fi.gc,ci,di),pi+=hi);Qr.push(ci),ti.push(pi),ri=Math.max(ci,ri),ii=Math.max(pi,ii)}Ist(Jr,Wr);let vi=Qr.indexOf(ri),mi=ti.indexOf(ii),gi=yi=>({width:Qr[yi]||0,height:ti[yi]||0});return{first:gi(0),last:gi(Wr-1),widest:gi(vi),highest:gi(mi),widths:Qr,heights:ti}}getLabelForValue(Gr){return Gr}getPixelForValue(Gr,Wr){return NaN}getValueForPixel(Gr){}getPixelForTick(Gr){let Wr=this.ticks;return Gr<0||Gr>Wr.length-1?null:this.getPixelForValue(Wr[Gr].value)}getPixelForDecimal(Gr){this._reversePixels&&(Gr=1-Gr);let Wr=this._startPixel+Gr*this._length;return cW(this._alignToPixels?Hf(this.chart,Wr,0):Wr)}getDecimalForPixel(Gr){let Wr=(Gr-this._startPixel)/this._length;return this._reversePixels?1-Wr:Wr}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:Gr,max:Wr}=this;return Gr<0&&Wr<0?Wr:Gr>0&&Wr>0?Gr:0}getContext(Gr){let Wr=this.ticks||[];if(Gr>=0&&Gr<Wr.length){let Zr=Wr[Gr];return Zr.$context||(Zr.$context=kst(this.getContext(),Gr,Zr))}return this.$context||(this.$context=Lst(this.chart.getContext(),this))}_tickSize(){let Gr=this.options.ticks,Wr=Ws(this.labelRotation),Zr=Math.abs(Math.cos(Wr)),Kr=Math.abs(Math.sin(Wr)),Jr=this._getLabelSizes(),Qr=Gr.autoSkipPadding||0,ti=Jr?Jr.widest.width+Qr:0,ei=Jr?Jr.highest.height+Qr:0;return this.isHorizontal()?ei*Zr>ti*Kr?ti/Zr:ei/Kr:ei*Kr<ti*Zr?ei/Zr:ti/Kr}_isVisible(){let Gr=this.options.display;return Gr!=="auto"?!!Gr:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(Gr){let Wr=this.axis,Zr=this.chart,Kr=this.options,{grid:Jr,position:Qr,border:ti}=Kr,ei=Jr.offset,ri=this.isHorizontal(),ni=this.ticks.length+(ei?1:0),ai=Km(Jr),oi=[],si=ti.setContext(this.getContext()),li=si.display?si.width:0,ui=li/2,fi=function(wi){return Hf(Zr,wi,li)},hi,ci,pi,di,vi,mi,gi,yi,Si,bi,Ti,Ai;if(Qr==="top")hi=fi(this.bottom),mi=this.bottom-ai,yi=hi-ui,bi=fi(Gr.top)+ui,Ai=Gr.bottom;else if(Qr==="bottom")hi=fi(this.top),bi=Gr.top,Ai=fi(Gr.bottom)-ui,mi=hi+ui,yi=this.top+ai;else if(Qr==="left")hi=fi(this.right),vi=this.right-ai,gi=hi-ui,Si=fi(Gr.left)+ui,Ti=Gr.right;else if(Qr==="right")hi=fi(this.left),Si=Gr.left,Ti=fi(Gr.right)-ui,vi=hi+ui,gi=this.left+ai;else if(Wr==="x"){if(Qr==="center")hi=fi((Gr.top+Gr.bottom)/2+.5);else if(Un(Qr)){let wi=Object.keys(Qr)[0],Pi=Qr[wi];hi=fi(this.chart.scales[wi].getPixelForValue(Pi))}bi=Gr.top,Ai=Gr.bottom,mi=hi+ui,yi=mi+ai}else if(Wr==="y"){if(Qr==="center")hi=fi((Gr.left+Gr.right)/2);else if(Un(Qr)){let wi=Object.keys(Qr)[0],Pi=Qr[wi];hi=fi(this.chart.scales[wi].getPixelForValue(Pi))}vi=hi-ui,gi=vi-ai,Si=Gr.left,Ti=Gr.right}let Ei=zn(Kr.ticks.maxTicksLimit,ni),Mi=Math.max(1,Math.ceil(ni/Ei));for(ci=0;ci<ni;ci+=Mi){let wi=this.getContext(ci),Pi=Jr.setContext(wi),xi=ti.setContext(wi),Ci=Pi.lineWidth,Li=Pi.color,Ii=xi.dash||[],zi=xi.dashOffset,Bi=Pi.tickWidth,Vi=Pi.tickColor,ji=Pi.tickBorderDash||[],tn=Pi.tickBorderDashOffset;pi=Dst(this,ci,ei),pi!==void 0&&(di=Hf(Zr,pi,Ci),ri?vi=gi=Si=Ti=di:mi=yi=bi=Ai=di,oi.push({tx1:vi,ty1:mi,tx2:gi,ty2:yi,x1:Si,y1:bi,x2:Ti,y2:Ai,width:Ci,color:Li,borderDash:Ii,borderDashOffset:zi,tickWidth:Bi,tickColor:Vi,tickBorderDash:ji,tickBorderDashOffset:tn}))}return this._ticksLength=ni,this._borderValue=hi,oi}_computeLabelItems(Gr){let Wr=this.axis,Zr=this.options,{position:Kr,ticks:Jr}=Zr,Qr=this.isHorizontal(),ti=this.ticks,{align:ei,crossAlign:ri,padding:ii,mirror:ni}=Jr,ai=Km(Zr.grid),oi=ai+ii,si=ni?-ii:oi,li=-Ws(this.labelRotation),ui=[],fi,hi,ci,pi,di,vi,mi,gi,yi,Si,bi,Ti,Ai="middle";if(Kr==="top")vi=this.bottom-si,mi=this._getXAxisLabelAlignment();else if(Kr==="bottom")vi=this.top+si,mi=this._getXAxisLabelAlignment();else if(Kr==="left"){let Mi=this._getYAxisLabelAlignment(ai);mi=Mi.textAlign,di=Mi.x}else if(Kr==="right"){let Mi=this._getYAxisLabelAlignment(ai);mi=Mi.textAlign,di=Mi.x}else if(Wr==="x"){if(Kr==="center")vi=(Gr.top+Gr.bottom)/2+oi;else if(Un(Kr)){let Mi=Object.keys(Kr)[0],wi=Kr[Mi];vi=this.chart.scales[Mi].getPixelForValue(wi)+oi}mi=this._getXAxisLabelAlignment()}else if(Wr==="y"){if(Kr==="center")di=(Gr.left+Gr.right)/2-oi;else if(Un(Kr)){let Mi=Object.keys(Kr)[0],wi=Kr[Mi];di=this.chart.scales[Mi].getPixelForValue(wi)}mi=this._getYAxisLabelAlignment(ai).textAlign}Wr==="y"&&(ei==="start"?Ai="top":ei==="end"&&(Ai="bottom"));let Ei=this._getLabelSizes();for(fi=0,hi=ti.length;fi<hi;++fi){ci=ti[fi],pi=ci.label;let Mi=Jr.setContext(this.getContext(fi));gi=this.getPixelForTick(fi)+Jr.labelOffset,yi=this._resolveTickFontOptions(fi),Si=yi.lineHeight,bi=ca(pi)?pi.length:1;let wi=bi/2,Pi=Mi.color,xi=Mi.textStrokeColor,Ci=Mi.textStrokeWidth,Li=mi;Qr?(di=gi,mi==="inner"&&(fi===hi-1?Li=this.options.reverse?"left":"right":fi===0?Li=this.options.reverse?"right":"left":Li="center"),Kr==="top"?ri==="near"||li!==0?Ti=-bi*Si+Si/2:ri==="center"?Ti=-Ei.highest.height/2-wi*Si+Si:Ti=-Ei.highest.height+Si/2:ri==="near"||li!==0?Ti=Si/2:ri==="center"?Ti=Ei.highest.height/2-wi*Si:Ti=Ei.highest.height-bi*Si,ni&&(Ti*=-1),li!==0&&!Mi.showLabelBackdrop&&(di+=Si/2*Math.sin(li))):(vi=gi,Ti=(1-bi)*Si/2);let Ii;if(Mi.showLabelBackdrop){let zi=uo(Mi.backdropPadding),Bi=Ei.heights[fi],Vi=Ei.widths[fi],ji=Ti-zi.top,tn=0-zi.left;switch(Ai){case"middle":ji-=Bi/2;break;case"bottom":ji-=Bi;break}switch(mi){case"center":tn-=Vi/2;break;case"right":tn-=Vi;break;case"inner":fi===hi-1?tn-=Vi:fi>0&&(tn-=Vi/2);break}Ii={left:tn,top:ji,width:Vi+zi.width,height:Bi+zi.height,color:Mi.backdropColor}}ui.push({label:pi,font:yi,textOffset:Ti,options:{rotation:li,color:Pi,strokeColor:xi,strokeWidth:Ci,textAlign:Li,textBaseline:Ai,translation:[di,vi],backdrop:Ii}})}return ui}_getXAxisLabelAlignment(){let{position:Gr,ticks:Wr}=this.options;if(-Ws(this.labelRotation))return Gr==="top"?"left":"right";let Kr="center";return Wr.align==="start"?Kr="left":Wr.align==="end"?Kr="right":Wr.align==="inner"&&(Kr="inner"),Kr}_getYAxisLabelAlignment(Gr){let{position:Wr,ticks:{crossAlign:Zr,mirror:Kr,padding:Jr}}=this.options,Qr=this._getLabelSizes(),ti=Gr+Jr,ei=Qr.widest.width,ri,ii;return Wr==="left"?Kr?(ii=this.right+Jr,Zr==="near"?ri="left":Zr==="center"?(ri="center",ii+=ei/2):(ri="right",ii+=ei)):(ii=this.right-ti,Zr==="near"?ri="right":Zr==="center"?(ri="center",ii-=ei/2):(ri="left",ii=this.left)):Wr==="right"?Kr?(ii=this.left+Jr,Zr==="near"?ri="right":Zr==="center"?(ri="center",ii-=ei/2):(ri="left",ii-=ei)):(ii=this.left+ti,Zr==="near"?ri="left":Zr==="center"?(ri="center",ii+=ei/2):(ri="right",ii=this.right)):ri="right",{textAlign:ri,x:ii}}_computeLabelArea(){if(this.options.ticks.mirror)return;let Gr=this.chart,Wr=this.options.position;if(Wr==="left"||Wr==="right")return{top:0,left:this.left,bottom:Gr.height,right:this.right};if(Wr==="top"||Wr==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:Gr.width}}drawBackground(){let{ctx:Gr,options:{backgroundColor:Wr},left:Zr,top:Kr,width:Jr,height:Qr}=this;Wr&&(Gr.save(),Gr.fillStyle=Wr,Gr.fillRect(Zr,Kr,Jr,Qr),Gr.restore())}getLineWidthForValue(Gr){let Wr=this.options.grid;if(!this._isVisible()||!Wr.display)return 0;let Kr=this.ticks.findIndex(Jr=>Jr.value===Gr);return Kr>=0?Wr.setContext(this.getContext(Kr)).lineWidth:0}drawGrid(Gr){let Wr=this.options.grid,Zr=this.ctx,Kr=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(Gr)),Jr,Qr,ti=(ei,ri,ii)=>{!ii.width||!ii.color||(Zr.save(),Zr.lineWidth=ii.width,Zr.strokeStyle=ii.color,Zr.setLineDash(ii.borderDash||[]),Zr.lineDashOffset=ii.borderDashOffset,Zr.beginPath(),Zr.moveTo(ei.x,ei.y),Zr.lineTo(ri.x,ri.y),Zr.stroke(),Zr.restore())};if(Wr.display)for(Jr=0,Qr=Kr.length;Jr<Qr;++Jr){let ei=Kr[Jr];Wr.drawOnChartArea&&ti({x:ei.x1,y:ei.y1},{x:ei.x2,y:ei.y2},ei),Wr.drawTicks&&ti({x:ei.tx1,y:ei.ty1},{x:ei.tx2,y:ei.ty2},{color:ei.tickColor,width:ei.tickWidth,borderDash:ei.tickBorderDash,borderDashOffset:ei.tickBorderDashOffset})}}drawBorder(){let{chart:Gr,ctx:Wr,options:{border:Zr,grid:Kr}}=this,Jr=Zr.setContext(this.getContext()),Qr=Zr.display?Jr.width:0;if(!Qr)return;let ti=Kr.setContext(this.getContext(0)).lineWidth,ei=this._borderValue,ri,ii,ni,ai;this.isHorizontal()?(ri=Hf(Gr,this.left,Qr)-Qr/2,ii=Hf(Gr,this.right,ti)+ti/2,ni=ai=ei):(ni=Hf(Gr,this.top,Qr)-Qr/2,ai=Hf(Gr,this.bottom,ti)+ti/2,ri=ii=ei),Wr.save(),Wr.lineWidth=Jr.width,Wr.strokeStyle=Jr.color,Wr.beginPath(),Wr.moveTo(ri,ni),Wr.lineTo(ii,ai),Wr.stroke(),Wr.restore()}drawLabels(Gr){if(!this.options.ticks.display)return;let Zr=this.ctx,Kr=this._computeLabelArea();Kr&&Ym(Zr,Kr);let Jr=this.getLabelItems(Gr);for(let Qr of Jr){let ti=Qr.options,ei=Qr.font,ri=Qr.label,ii=Qr.textOffset;Wf(Zr,ri,0,ii,ei,ti)}Kr&&Xm(Zr)}drawTitle(){let{ctx:Gr,options:{position:Wr,title:Zr,reverse:Kr}}=this;if(!Zr.display)return;let Jr=Na(Zr.font),Qr=uo(Zr.padding),ti=Zr.align,ei=Jr.lineHeight/2;Wr==="bottom"||Wr==="center"||Un(Wr)?(ei+=Qr.bottom,ca(Zr.text)&&(ei+=Jr.lineHeight*(Zr.text.length-1))):ei+=Qr.top;let{titleX:ri,titleY:ii,maxWidth:ni,rotation:ai}=Ost(this,ei,Wr,ti);Wf(Gr,Zr.text,0,0,Jr,{color:Zr.color,maxWidth:ni,rotation:ai,textAlign:Rst(ti,Wr,Kr),textBaseline:"middle",translation:[ri,ii]})}draw(Gr){this._isVisible()&&(this.drawBackground(),this.drawGrid(Gr),this.drawBorder(),this.drawTitle(),this.drawLabels(Gr))}_layers(){let Gr=this.options,Wr=Gr.ticks&&Gr.ticks.z||0,Zr=zn(Gr.grid&&Gr.grid.z,-1),Kr=zn(Gr.border&&Gr.border.z,0);return!this._isVisible()||this.draw!==Yr.prototype.draw?[{z:Wr,draw:Jr=>{this.draw(Jr)}}]:[{z:Zr,draw:Jr=>{this.drawBackground(),this.drawGrid(Jr),this.drawTitle()}},{z:Kr,draw:()=>{this.drawBorder()}},{z:Wr,draw:Jr=>{this.drawLabels(Jr)}}]}getMatchingVisibleMetas(Gr){let Wr=this.chart.getSortedVisibleDatasetMetas(),Zr=this.axis+"AxisID",Kr=[],Jr,Qr;for(Jr=0,Qr=Wr.length;Jr<Qr;++Jr){let ti=Wr[Jr];ti[Zr]===this.id&&(!Gr||ti.type===Gr)&&Kr.push(ti)}return Kr}_resolveTickFontOptions(Gr){let Wr=this.options.ticks.setContext(this.getContext(Gr));return Na(Wr.font)}_maxDigits(){let Gr=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/Gr}},vd=class{constructor(Gr,Wr,Zr){this.type=Gr,this.scope=Wr,this.override=Zr,this.items=Object.create(null)}isForType(Gr){return Object.prototype.isPrototypeOf.call(this.type.prototype,Gr.prototype)}register(Gr){let Wr=Object.getPrototypeOf(Gr),Zr;Fst(Wr)&&(Zr=this.register(Wr));let Kr=this.items,Jr=Gr.id,Qr=this.scope+"."+Jr;if(!Jr)throw new Error("class does not have id: "+Gr);return Jr in Kr||(Kr[Jr]=Gr,zst(Gr,Qr,Zr),this.override&&Ca.override(Gr.id,Gr.overrides)),Qr}get(Gr){return this.items[Gr]}unregister(Gr){let Wr=this.items,Zr=Gr.id,Kr=this.scope;Zr in Wr&&delete Wr[Zr],Kr&&Zr in Ca[Kr]&&(delete Ca[Kr][Zr],this.override&&delete Gf[Zr])}};function zst(Yr,Gr,Wr){let Zr=ad(Object.create(null),[Wr?Ca.get(Wr):{},Ca.get(Gr),Yr.defaults]);Ca.set(Gr,Zr),Yr.defaultRoutes&&Nst(Gr,Yr.defaultRoutes),Yr.descriptors&&Ca.describe(Gr,Yr.descriptors)}function Nst(Yr,Gr){Object.keys(Gr).forEach(Wr=>{let Zr=Wr.split("."),Kr=Zr.pop(),Jr=[Yr].concat(Zr).join("."),Qr=Gr[Wr].split("."),ti=Qr.pop(),ei=Qr.join(".");Ca.route(Jr,Kr,ei,ti)})}function Fst(Yr){return"id"in Yr&&"defaults"in Yr}var WE=class{constructor(){this.controllers=new vd(ru,"datasets",!0),this.elements=new vd(bl,"elements"),this.plugins=new vd(Object,"plugins"),this.scales=new vd(xc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...Gr){this._each("register",Gr)}remove(...Gr){this._each("unregister",Gr)}addControllers(...Gr){this._each("register",Gr,this.controllers)}addElements(...Gr){this._each("register",Gr,this.elements)}addPlugins(...Gr){this._each("register",Gr,this.plugins)}addScales(...Gr){this._each("register",Gr,this.scales)}getController(Gr){return this._get(Gr,this.controllers,"controller")}getElement(Gr){return this._get(Gr,this.elements,"element")}getPlugin(Gr){return this._get(Gr,this.plugins,"plugin")}getScale(Gr){return this._get(Gr,this.scales,"scale")}removeControllers(...Gr){this._each("unregister",Gr,this.controllers)}removeElements(...Gr){this._each("unregister",Gr,this.elements)}removePlugins(...Gr){this._each("unregister",Gr,this.plugins)}removeScales(...Gr){this._each("unregister",Gr,this.scales)}_each(Gr,Wr,Zr){[...Wr].forEach(Kr=>{let Jr=Zr||this._getRegistryForType(Kr);Zr||Jr.isForType(Kr)||Jr===this.plugins&&Kr.id?this._exec(Gr,Jr,Kr):na(Kr,Qr=>{let ti=Zr||this._getRegistryForType(Qr);this._exec(Gr,ti,Qr)})})}_exec(Gr,Wr,Zr){let Kr=rb(Gr);ua(Zr["before"+Kr],[],Zr),Wr[Gr](Zr),ua(Zr["after"+Kr],[],Zr)}_getRegistryForType(Gr){for(let Wr=0;Wr<this._typedRegistries.length;Wr++){let Zr=this._typedRegistries[Wr];if(Zr.isForType(Gr))return Zr}return this.plugins}_get(Gr,Wr,Zr){let Kr=Wr.get(Gr);if(Kr===void 0)throw new Error('"'+Gr+'" is not a registered '+Zr+".");return Kr}},eu=new WE,YE=class{constructor(){this._init=[]}notify(Gr,Wr,Zr,Kr){Wr==="beforeInit"&&(this._init=this._createDescriptors(Gr,!0),this._notify(this._init,Gr,"install"));let Jr=Kr?this._descriptors(Gr).filter(Kr):this._descriptors(Gr),Qr=this._notify(Jr,Gr,Wr,Zr);return Wr==="afterDestroy"&&(this._notify(Jr,Gr,"stop"),this._notify(this._init,Gr,"uninstall")),Qr}_notify(Gr,Wr,Zr,Kr){Kr=Kr||{};for(let Jr of Gr){let Qr=Jr.plugin,ti=Qr[Zr],ei=[Wr,Kr,Jr.options];if(ua(ti,ei,Qr)===!1&&Kr.cancelable)return!1}return!0}invalidate(){Xn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(Gr){if(this._cache)return this._cache;let Wr=this._cache=this._createDescriptors(Gr);return this._notifyStateChanges(Gr),Wr}_createDescriptors(Gr,Wr){let Zr=Gr&&Gr.config,Kr=zn(Zr.options&&Zr.options.plugins,{}),Jr=Vst(Zr);return Kr===!1&&!Wr?[]:Ust(Gr,Jr,Kr,Wr)}_notifyStateChanges(Gr){let Wr=this._oldCache||[],Zr=this._cache,Kr=(Jr,Qr)=>Jr.filter(ti=>!Qr.some(ei=>ti.plugin.id===ei.plugin.id));this._notify(Kr(Wr,Zr),Gr,"stop"),this._notify(Kr(Zr,Wr),Gr,"start")}};function Vst(Yr){let Gr={},Wr=[],Zr=Object.keys(eu.plugins.items);for(let Jr=0;Jr<Zr.length;Jr++)Wr.push(eu.getPlugin(Zr[Jr]));let Kr=Yr.plugins||[];for(let Jr=0;Jr<Kr.length;Jr++){let Qr=Kr[Jr];Wr.indexOf(Qr)===-1&&(Wr.push(Qr),Gr[Qr.id]=!0)}return{plugins:Wr,localIds:Gr}}function Bst(Yr,Gr){return!Gr&&Yr===!1?null:Yr===!0?{}:Yr}function Ust(Yr,{plugins:Gr,localIds:Wr},Zr,Kr){let Jr=[],Qr=Yr.getContext();for(let ti of Gr){let ei=ti.id,ri=Bst(Zr[ei],Kr);ri!==null&&Jr.push({plugin:ti,options:Gst(Yr.config,{plugin:ti,local:Wr[ei]},ri,Qr)})}return Jr}function Gst(Yr,{plugin:Gr,local:Wr},Zr,Kr){let Jr=Yr.pluginScopeKeys(Gr),Qr=Yr.getOptionScopes(Zr,Jr);return Wr&&Gr.defaults&&Qr.push(Gr.defaults),Yr.createResolver(Qr,Kr,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function XE(Yr,Gr){let Wr=Ca.datasets[Yr]||{};return((Gr.datasets||{})[Yr]||{}).indexAxis||Gr.indexAxis||Wr.indexAxis||"x"}function Hst(Yr,Gr){let Wr=Yr;return Yr==="_index_"?Wr=Gr:Yr==="_value_"&&(Wr=Gr==="x"?"y":"x"),Wr}function Wst(Yr,Gr){return Yr===Gr?"_index_":"_value_"}function e4(Yr){if(Yr==="x"||Yr==="y"||Yr==="r")return Yr}function Yst(Yr){if(Yr==="top"||Yr==="bottom")return"x";if(Yr==="left"||Yr==="right")return"y"}function qE(Yr,...Gr){if(e4(Yr))return Yr;for(let Wr of Gr){let Zr=Wr.axis||Yst(Wr.position)||Yr.length>1&&e4(Yr[0].toLowerCase());if(Zr)return Zr}throw new Error(`Cannot determine type of '${Yr}' axis. Please provide 'axis' or 'position' option.`)}function r4(Yr,Gr,Wr){if(Wr[Gr+"AxisID"]===Yr)return{axis:Gr}}function Xst(Yr,Gr){if(Gr.data&&Gr.data.datasets){let Wr=Gr.data.datasets.filter(Zr=>Zr.xAxisID===Yr||Zr.yAxisID===Yr);if(Wr.length)return r4(Yr,"x",Wr[0])||r4(Yr,"y",Wr[0])}return{}}function qst(Yr,Gr){let Wr=Gf[Yr.type]||{scales:{}},Zr=Gr.scales||{},Kr=XE(Yr.type,Gr),Jr=Object.create(null);return Object.keys(Zr).forEach(Qr=>{let ti=Zr[Qr];if(!Un(ti))return console.error(`Invalid scale configuration for scale: ${Qr}`);if(ti._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Qr}`);let ei=qE(Qr,ti,Xst(Qr,Yr),Ca.scales[ti.type]),ri=Wst(ei,Kr),ii=Wr.scales||{};Jr[Qr]=sd(Object.create(null),[{axis:ei},ti,ii[ei],ii[ri]])}),Yr.data.datasets.forEach(Qr=>{let ti=Qr.type||Yr.type,ei=Qr.indexAxis||XE(ti,Gr),ii=(Gf[ti]||{}).scales||{};Object.keys(ii).forEach(ni=>{let ai=Hst(ni,ei),oi=Qr[ai+"AxisID"]||ai;Jr[oi]=Jr[oi]||Object.create(null),sd(Jr[oi],[{axis:ai},Zr[oi],ii[ni]])})}),Object.keys(Jr).forEach(Qr=>{let ti=Jr[Qr];sd(ti,[Ca.scales[ti.type],Ca.scale])}),Jr}function U4(Yr){let Gr=Yr.options||(Yr.options={});Gr.plugins=zn(Gr.plugins,{}),Gr.scales=qst(Yr,Gr)}function G4(Yr){return Yr=Yr||{},Yr.datasets=Yr.datasets||[],Yr.labels=Yr.labels||[],Yr}function Zst(Yr){return Yr=Yr||{},Yr.data=G4(Yr.data),U4(Yr),Yr}var i4=new Map,H4=new Set;function mb(Yr,Gr){let Wr=i4.get(Yr);return Wr||(Wr=Gr(),i4.set(Yr,Wr),H4.add(Wr)),Wr}var $m=(Yr,Gr,Wr)=>{let Zr=ku(Gr,Wr);Zr!==void 0&&Yr.add(Zr)},ZE=class{constructor(Gr){this._config=Zst(Gr),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(Gr){this._config.type=Gr}get data(){return this._config.data}set data(Gr){this._config.data=G4(Gr)}get options(){return this._config.options}set options(Gr){this._config.options=Gr}get plugins(){return this._config.plugins}update(){let Gr=this._config;this.clearCache(),U4(Gr)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(Gr){return mb(Gr,()=>[[`datasets.${Gr}`,""]])}datasetAnimationScopeKeys(Gr,Wr){return mb(`${Gr}.transition.${Wr}`,()=>[[`datasets.${Gr}.transitions.${Wr}`,`transitions.${Wr}`],[`datasets.${Gr}`,""]])}datasetElementScopeKeys(Gr,Wr){return mb(`${Gr}-${Wr}`,()=>[[`datasets.${Gr}.elements.${Wr}`,`datasets.${Gr}`,`elements.${Wr}`,""]])}pluginScopeKeys(Gr){let Wr=Gr.id,Zr=this.type;return mb(`${Zr}-plugin-${Wr}`,()=>[[`plugins.${Wr}`,...Gr.additionalOptionScopes||[]]])}_cachedScopes(Gr,Wr){let Zr=this._scopeCache,Kr=Zr.get(Gr);return(!Kr||Wr)&&(Kr=new Map,Zr.set(Gr,Kr)),Kr}getOptionScopes(Gr,Wr,Zr){let{options:Kr,type:Jr}=this,Qr=this._cachedScopes(Gr,Zr),ti=Qr.get(Wr);if(ti)return ti;let ei=new Set;Wr.forEach(ii=>{Gr&&(ei.add(Gr),ii.forEach(ni=>$m(ei,Gr,ni))),ii.forEach(ni=>$m(ei,Kr,ni)),ii.forEach(ni=>$m(ei,Gf[Jr]||{},ni)),ii.forEach(ni=>$m(ei,Ca,ni)),ii.forEach(ni=>$m(ei,sb,ni))});let ri=Array.from(ei);return ri.length===0&&ri.push(Object.create(null)),H4.has(Wr)&&Qr.set(Wr,ri),ri}chartOptionScopes(){let{options:Gr,type:Wr}=this;return[Gr,Gf[Wr]||{},Ca.datasets[Wr]||{},{type:Wr},Ca,sb]}resolveNamedOptions(Gr,Wr,Zr,Kr=[""]){let Jr={$shared:!0},{resolver:Qr,subPrefixes:ti}=n4(this._resolverCache,Gr,Kr),ei=Qr;if(Kst(Qr,Wr)){Jr.$shared=!1,Zr=Iu(Zr)?Zr():Zr;let ri=this.createResolver(Gr,Zr,ti);ei=dc(Qr,Zr,ri)}for(let ri of Wr)Jr[ri]=ei[ri];return Jr}createResolver(Gr,Wr,Zr=[""],Kr){let{resolver:Jr}=n4(this._resolverCache,Gr,Zr);return Un(Wr)?dc(Jr,Wr,void 0,Kr):Jr}};function n4(Yr,Gr,Wr){let Zr=Yr.get(Gr);Zr||(Zr=new Map,Yr.set(Gr,Zr));let Kr=Wr.join(),Jr=Zr.get(Kr);return Jr||(Jr={resolver:fb(Gr,Wr),subPrefixes:Wr.filter(ti=>!ti.toLowerCase().includes("hover"))},Zr.set(Kr,Jr)),Jr}var jst=Yr=>Un(Yr)&&Object.getOwnPropertyNames(Yr).some(Gr=>Iu(Yr[Gr]));function Kst(Yr,Gr){let{isScriptable:Wr,isIndexable:Zr}=dE(Yr);for(let Kr of Gr){let Jr=Wr(Kr),Qr=Zr(Kr),ti=(Qr||Jr)&&Yr[Kr];if(Jr&&(Iu(ti)||jst(ti))||Qr&&ca(ti))return!0}return!1}var $st="4.4.2",Jst=["top","bottom","left","right","chartArea"];function a4(Yr,Gr){return Yr==="top"||Yr==="bottom"||Jst.indexOf(Yr)===-1&&Gr==="x"}function o4(Yr,Gr){return function(Wr,Zr){return Wr[Yr]===Zr[Yr]?Wr[Gr]-Zr[Gr]:Wr[Yr]-Zr[Yr]}}function s4(Yr){let Gr=Yr.chart,Wr=Gr.options.animation;Gr.notifyPlugins("afterRender"),ua(Wr&&Wr.onComplete,[Yr],Gr)}function Qst(Yr){let Gr=Yr.chart,Wr=Gr.options.animation;ua(Wr&&Wr.onProgress,[Yr],Gr)}function W4(Yr){return hb()&&typeof Yr=="string"?Yr=document.getElementById(Yr):Yr&&Yr.length&&(Yr=Yr[0]),Yr&&Yr.canvas&&(Yr=Yr.canvas),Yr}var Sb={},l4=Yr=>{let Gr=W4(Yr);return Object.values(Sb).filter(Wr=>Wr.canvas===Gr).pop()};function tlt(Yr,Gr,Wr){let Zr=Object.keys(Yr);for(let Kr of Zr){let Jr=+Kr;if(Jr>=Gr){let Qr=Yr[Kr];delete Yr[Kr],(Wr>0||Jr>Gr)&&(Yr[Jr+Wr]=Qr)}}}function elt(Yr,Gr,Wr,Zr){return!Wr||Yr.type==="mouseout"?null:Zr?Gr:Yr}function gb(Yr,Gr,Wr){return Yr.options.clip?Yr[Wr]:Gr[Wr]}function rlt(Yr,Gr){let{xScale:Wr,yScale:Zr}=Yr;return Wr&&Zr?{left:gb(Wr,Gr,"left"),right:gb(Wr,Gr,"right"),top:gb(Zr,Gr,"top"),bottom:gb(Zr,Gr,"bottom")}:Gr}var md=class{static defaults=Ca;static instances=Sb;static overrides=Gf;static registry=eu;static version=$st;static getChart=l4;static register(...Gr){eu.add(...Gr),u4()}static unregister(...Gr){eu.remove(...Gr),u4()}constructor(Gr,Wr){let Zr=this.config=new ZE(Wr),Kr=W4(Gr),Jr=l4(Kr);if(Jr)throw new Error("Canvas is already in use. Chart with ID '"+Jr.id+"' must be destroyed before the canvas with ID '"+Jr.canvas.id+"' can be reused.");let Qr=Zr.createResolver(Zr.chartOptionScopes(),this.getContext());this.platform=new(Zr.platform||Sst(Kr)),this.platform.updateConfig(Zr);let ti=this.platform.acquireContext(Kr,Qr.aspectRatio),ei=ti&&ti.canvas,ri=ei&&ei.height,ii=ei&&ei.width;if(this.id=oW(),this.ctx=ti,this.canvas=ei,this.width=ii,this.height=ri,this._options=Qr,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gW(ni=>this.update(ni),Qr.resizeDelay||0),this._dataChanges=[],Sb[this.id]=this,!ti||!ei){console.error("Failed to create chart: can't acquire context from the given item");return}Ou.listen(this,"complete",s4),Ou.listen(this,"progress",Qst),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:Gr,maintainAspectRatio:Wr},width:Zr,height:Kr,_aspectRatio:Jr}=this;return Xn(Gr)?Wr&&Jr?Jr:Kr?Zr/Kr:null:Gr}get data(){return this.config.data}set data(Gr){this.config.data=Gr}get options(){return this._options}set options(Gr){this.config.options=Gr}get registry(){return eu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hE(this.canvas,this.ctx),this}stop(){return Ou.stop(this),this}resize(Gr,Wr){Ou.running(this)?this._resizeBeforeDraw={width:Gr,height:Wr}:this._resize(Gr,Wr)}_resize(Gr,Wr){let Zr=this.options,Kr=this.canvas,Jr=Zr.maintainAspectRatio&&this.aspectRatio,Qr=this.platform.getMaximumSize(Kr,Gr,Wr,Jr),ti=Zr.devicePixelRatio||this.platform.getDevicePixelRatio(),ei=this.width?"resize":"attach";this.width=Qr.width,this.height=Qr.height,this._aspectRatio=this.aspectRatio,yE(this,ti,!0)&&(this.notifyPlugins("resize",{size:Qr}),ua(Zr.onResize,[this,Qr],this),this.attached&&this._doResize(ei)&&this.render())}ensureScalesHaveIDs(){let Wr=this.options.scales||{};na(Wr,(Zr,Kr)=>{Zr.id=Kr})}buildOrUpdateScales(){let Gr=this.options,Wr=Gr.scales,Zr=this.scales,Kr=Object.keys(Zr).reduce((Qr,ti)=>(Qr[ti]=!1,Qr),{}),Jr=[];Wr&&(Jr=Jr.concat(Object.keys(Wr).map(Qr=>{let ti=Wr[Qr],ei=qE(Qr,ti),ri=ei==="r",ii=ei==="x";return{options:ti,dposition:ri?"chartArea":ii?"bottom":"left",dtype:ri?"radialLinear":ii?"category":"linear"}}))),na(Jr,Qr=>{let ti=Qr.options,ei=ti.id,ri=qE(ei,ti),ii=zn(ti.type,Qr.dtype);(ti.position===void 0||a4(ti.position,ri)!==a4(Qr.dposition))&&(ti.position=Qr.dposition),Kr[ei]=!0;let ni=null;if(ei in Zr&&Zr[ei].type===ii)ni=Zr[ei];else{let ai=eu.getScale(ii);ni=new ai({id:ei,type:ii,ctx:this.ctx,chart:this}),Zr[ni.id]=ni}ni.init(ti,Gr)}),na(Kr,(Qr,ti)=>{Qr||delete Zr[ti]}),na(Zr,Qr=>{xo.configure(this,Qr,Qr.options),xo.addBox(this,Qr)})}_updateMetasets(){let Gr=this._metasets,Wr=this.data.datasets.length,Zr=Gr.length;if(Gr.sort((Kr,Jr)=>Kr.index-Jr.index),Zr>Wr){for(let Kr=Wr;Kr<Zr;++Kr)this._destroyDatasetMeta(Kr);Gr.splice(Wr,Zr-Wr)}this._sortedMetasets=Gr.slice(0).sort(o4("order","index"))}_removeUnreferencedMetasets(){let{_metasets:Gr,data:{datasets:Wr}}=this;Gr.length>Wr.length&&delete this._stacks,Gr.forEach((Zr,Kr)=>{Wr.filter(Jr=>Jr===Zr._dataset).length===0&&this._destroyDatasetMeta(Kr)})}buildOrUpdateControllers(){let Gr=[],Wr=this.data.datasets,Zr,Kr;for(this._removeUnreferencedMetasets(),Zr=0,Kr=Wr.length;Zr<Kr;Zr++){let Jr=Wr[Zr],Qr=this.getDatasetMeta(Zr),ti=Jr.type||this.config.type;if(Qr.type&&Qr.type!==ti&&(this._destroyDatasetMeta(Zr),Qr=this.getDatasetMeta(Zr)),Qr.type=ti,Qr.indexAxis=Jr.indexAxis||XE(ti,this.options),Qr.order=Jr.order||0,Qr.index=Zr,Qr.label=""+Jr.label,Qr.visible=this.isDatasetVisible(Zr),Qr.controller)Qr.controller.updateIndex(Zr),Qr.controller.linkScales();else{let ei=eu.getController(ti),{datasetElementType:ri,dataElementType:ii}=Ca.datasets[ti];Object.assign(ei,{dataElementType:eu.getElement(ii),datasetElementType:ri&&eu.getElement(ri)}),Qr.controller=new ei(this,Zr),Gr.push(Qr.controller)}}return this._updateMetasets(),Gr}_resetElements(){na(this.data.datasets,(Gr,Wr)=>{this.getDatasetMeta(Wr).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(Gr){let Wr=this.config;Wr.update();let Zr=this._options=Wr.createResolver(Wr.chartOptionScopes(),this.getContext()),Kr=this._animationsDisabled=!Zr.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:Gr,cancelable:!0})===!1)return;let Jr=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Qr=0;for(let ri=0,ii=this.data.datasets.length;ri<ii;ri++){let{controller:ni}=this.getDatasetMeta(ri),ai=!Kr&&Jr.indexOf(ni)===-1;ni.buildOrUpdateElements(ai),Qr=Math.max(+ni.getMaxOverflow(),Qr)}Qr=this._minPadding=Zr.layout.autoPadding?Qr:0,this._updateLayout(Qr),Kr||na(Jr,ri=>{ri.reset()}),this._updateDatasets(Gr),this.notifyPlugins("afterUpdate",{mode:Gr}),this._layers.sort(o4("z","_idx"));let{_active:ti,_lastEvent:ei}=this;ei?this._eventHandler(ei,!0):ti.length&&this._updateHoverStyles(ti,ti,!0),this.render()}_updateScales(){na(this.scales,Gr=>{xo.removeBox(this,Gr)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let Gr=this.options,Wr=new Set(Object.keys(this._listeners)),Zr=new Set(Gr.events);(!JP(Wr,Zr)||!!this._responsiveListeners!==Gr.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:Gr}=this,Wr=this._getUniformDataChanges()||[];for(let{method:Zr,start:Kr,count:Jr}of Wr){let Qr=Zr==="_removeElements"?-Jr:Jr;tlt(Gr,Kr,Qr)}}_getUniformDataChanges(){let Gr=this._dataChanges;if(!Gr||!Gr.length)return;this._dataChanges=[];let Wr=this.data.datasets.length,Zr=Jr=>new Set(Gr.filter(Qr=>Qr[0]===Jr).map((Qr,ti)=>ti+","+Qr.splice(1).join(","))),Kr=Zr(0);for(let Jr=1;Jr<Wr;Jr++)if(!JP(Kr,Zr(Jr)))return;return Array.from(Kr).map(Jr=>Jr.split(",")).map(Jr=>({method:Jr[1],start:+Jr[2],count:+Jr[3]}))}_updateLayout(Gr){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xo.update(this,this.width,this.height,Gr);let Wr=this.chartArea,Zr=Wr.width<=0||Wr.height<=0;this._layers=[],na(this.boxes,Kr=>{Zr&&Kr.position==="chartArea"||(Kr.configure&&Kr.configure(),this._layers.push(...Kr._layers()))},this),this._layers.forEach((Kr,Jr)=>{Kr._idx=Jr}),this.notifyPlugins("afterLayout")}_updateDatasets(Gr){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:Gr,cancelable:!0})!==!1){for(let Wr=0,Zr=this.data.datasets.length;Wr<Zr;++Wr)this.getDatasetMeta(Wr).controller.configure();for(let Wr=0,Zr=this.data.datasets.length;Wr<Zr;++Wr)this._updateDataset(Wr,Iu(Gr)?Gr({datasetIndex:Wr}):Gr);this.notifyPlugins("afterDatasetsUpdate",{mode:Gr})}}_updateDataset(Gr,Wr){let Zr=this.getDatasetMeta(Gr),Kr={meta:Zr,index:Gr,mode:Wr,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",Kr)!==!1&&(Zr.controller._update(Wr),Kr.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",Kr))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ou.has(this)?this.attached&&!Ou.running(this)&&Ou.start(this):(this.draw(),s4({chart:this})))}draw(){let Gr;if(this._resizeBeforeDraw){let{width:Zr,height:Kr}=this._resizeBeforeDraw;this._resize(Zr,Kr),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let Wr=this._layers;for(Gr=0;Gr<Wr.length&&Wr[Gr].z<=0;++Gr)Wr[Gr].draw(this.chartArea);for(this._drawDatasets();Gr<Wr.length;++Gr)Wr[Gr].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(Gr){let Wr=this._sortedMetasets,Zr=[],Kr,Jr;for(Kr=0,Jr=Wr.length;Kr<Jr;++Kr){let Qr=Wr[Kr];(!Gr||Qr.visible)&&Zr.push(Qr)}return Zr}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let Gr=this.getSortedVisibleDatasetMetas();for(let Wr=Gr.length-1;Wr>=0;--Wr)this._drawDataset(Gr[Wr]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(Gr){let Wr=this.ctx,Zr=Gr._clip,Kr=!Zr.disabled,Jr=rlt(Gr,this.chartArea),Qr={meta:Gr,index:Gr.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",Qr)!==!1&&(Kr&&Ym(Wr,{left:Zr.left===!1?0:Jr.left-Zr.left,right:Zr.right===!1?this.width:Jr.right+Zr.right,top:Zr.top===!1?0:Jr.top-Zr.top,bottom:Zr.bottom===!1?this.height:Jr.bottom+Zr.bottom}),Gr.controller.draw(),Kr&&Xm(Wr),Qr.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Qr))}isPointInArea(Gr){return $l(Gr,this.chartArea,this._minPadding)}getElementsAtEventForMode(Gr,Wr,Zr,Kr){let Jr=ist.modes[Wr];return typeof Jr=="function"?Jr(this,Gr,Zr,Kr):[]}getDatasetMeta(Gr){let Wr=this.data.datasets[Gr],Zr=this._metasets,Kr=Zr.filter(Jr=>Jr&&Jr._dataset===Wr).pop();return Kr||(Kr={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:Wr&&Wr.order||0,index:Gr,_dataset:Wr,_parsed:[],_sorted:!1},Zr.push(Kr)),Kr}getContext(){return this.$context||(this.$context=Ru(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(Gr){let Wr=this.data.datasets[Gr];if(!Wr)return!1;let Zr=this.getDatasetMeta(Gr);return typeof Zr.hidden=="boolean"?!Zr.hidden:!Wr.hidden}setDatasetVisibility(Gr,Wr){let Zr=this.getDatasetMeta(Gr);Zr.hidden=!Wr}toggleDataVisibility(Gr){this._hiddenIndices[Gr]=!this._hiddenIndices[Gr]}getDataVisibility(Gr){return!this._hiddenIndices[Gr]}_updateVisibility(Gr,Wr,Zr){let Kr=Zr?"show":"hide",Jr=this.getDatasetMeta(Gr),Qr=Jr.controller._resolveAnimations(void 0,Kr);ld(Wr)?(Jr.data[Wr].hidden=!Zr,this.update()):(this.setDatasetVisibility(Gr,Zr),Qr.update(Jr,{visible:Zr}),this.update(ti=>ti.datasetIndex===Gr?Kr:void 0))}hide(Gr,Wr){this._updateVisibility(Gr,Wr,!1)}show(Gr,Wr){this._updateVisibility(Gr,Wr,!0)}_destroyDatasetMeta(Gr){let Wr=this._metasets[Gr];Wr&&Wr.controller&&Wr.controller._destroy(),delete this._metasets[Gr]}_stop(){let Gr,Wr;for(this.stop(),Ou.remove(this),Gr=0,Wr=this.data.datasets.length;Gr<Wr;++Gr)this._destroyDatasetMeta(Gr)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:Gr,ctx:Wr}=this;this._stop(),this.config.clearCache(),Gr&&(this.unbindEvents(),hE(Gr,Wr),this.platform.releaseContext(Wr),this.canvas=null,this.ctx=null),delete Sb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...Gr){return this.canvas.toDataURL(...Gr)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let Gr=this._listeners,Wr=this.platform,Zr=(Jr,Qr)=>{Wr.addEventListener(this,Jr,Qr),Gr[Jr]=Qr},Kr=(Jr,Qr,ti)=>{Jr.offsetX=Qr,Jr.offsetY=ti,this._eventHandler(Jr)};na(this.options.events,Jr=>Zr(Jr,Kr))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let Gr=this._responsiveListeners,Wr=this.platform,Zr=(ei,ri)=>{Wr.addEventListener(this,ei,ri),Gr[ei]=ri},Kr=(ei,ri)=>{Gr[ei]&&(Wr.removeEventListener(this,ei,ri),delete Gr[ei])},Jr=(ei,ri)=>{this.canvas&&this.resize(ei,ri)},Qr,ti=()=>{Kr("attach",ti),this.attached=!0,this.resize(),Zr("resize",Jr),Zr("detach",Qr)};Qr=()=>{this.attached=!1,Kr("resize",Jr),this._stop(),this._resize(0,0),Zr("attach",ti)},Wr.isAttached(this.canvas)?ti():Qr()}unbindEvents(){na(this._listeners,(Gr,Wr)=>{this.platform.removeEventListener(this,Wr,Gr)}),this._listeners={},na(this._responsiveListeners,(Gr,Wr)=>{this.platform.removeEventListener(this,Wr,Gr)}),this._responsiveListeners=void 0}updateHoverStyle(Gr,Wr,Zr){let Kr=Zr?"set":"remove",Jr,Qr,ti,ei;for(Wr==="dataset"&&(Jr=this.getDatasetMeta(Gr[0].datasetIndex),Jr.controller["_"+Kr+"DatasetHoverStyle"]()),ti=0,ei=Gr.length;ti<ei;++ti){Qr=Gr[ti];let ri=Qr&&this.getDatasetMeta(Qr.datasetIndex).controller;ri&&ri[Kr+"HoverStyle"](Qr.element,Qr.datasetIndex,Qr.index)}}getActiveElements(){return this._active||[]}setActiveElements(Gr){let Wr=this._active||[],Zr=Gr.map(({datasetIndex:Jr,index:Qr})=>{let ti=this.getDatasetMeta(Jr);if(!ti)throw new Error("No dataset found at index "+Jr);return{datasetIndex:Jr,element:ti.data[Qr],index:Qr}});!Hm(Zr,Wr)&&(this._active=Zr,this._lastEvent=null,this._updateHoverStyles(Zr,Wr))}notifyPlugins(Gr,Wr,Zr){return this._plugins.notify(this,Gr,Wr,Zr)}isPluginEnabled(Gr){return this._plugins._cache.filter(Wr=>Wr.plugin.id===Gr).length===1}_updateHoverStyles(Gr,Wr,Zr){let Kr=this.options.hover,Jr=(ei,ri)=>ei.filter(ii=>!ri.some(ni=>ii.datasetIndex===ni.datasetIndex&&ii.index===ni.index)),Qr=Jr(Wr,Gr),ti=Zr?Gr:Jr(Gr,Wr);Qr.length&&this.updateHoverStyle(Qr,Kr.mode,!1),ti.length&&Kr.mode&&this.updateHoverStyle(ti,Kr.mode,!0)}_eventHandler(Gr,Wr){let Zr={event:Gr,replay:Wr,cancelable:!0,inChartArea:this.isPointInArea(Gr)},Kr=Qr=>(Qr.options.events||this.options.events).includes(Gr.native.type);if(this.notifyPlugins("beforeEvent",Zr,Kr)===!1)return;let Jr=this._handleEvent(Gr,Wr,Zr.inChartArea);return Zr.cancelable=!1,this.notifyPlugins("afterEvent",Zr,Kr),(Jr||Zr.changed)&&this.render(),this}_handleEvent(Gr,Wr,Zr){let{_active:Kr=[],options:Jr}=this,Qr=Wr,ti=this._getActiveElements(Gr,Kr,Zr,Qr),ei=uW(Gr),ri=elt(Gr,this._lastEvent,Zr,ei);Zr&&(this._lastEvent=null,ua(Jr.onHover,[Gr,ti,this],this),ei&&ua(Jr.onClick,[Gr,ti,this],this));let ii=!Hm(ti,Kr);return(ii||Wr)&&(this._active=ti,this._updateHoverStyles(ti,Kr,Wr)),this._lastEvent=ri,ii}_getActiveElements(Gr,Wr,Zr,Kr){if(Gr.type==="mouseout")return[];if(!Zr)return Wr;let Jr=this.options.hover;return this.getElementsAtEventForMode(Gr,Jr.mode,Jr,Kr)}};function u4(){return na(md.instances,Yr=>Yr._plugins.invalidate())}function ilt(Yr,Gr,Wr){let{startAngle:Zr,pixelMargin:Kr,x:Jr,y:Qr,outerRadius:ti,innerRadius:ei}=Gr,ri=Kr/ti;Yr.beginPath(),Yr.arc(Jr,Qr,ti,Zr-ri,Wr+ri),ei>Kr?(ri=Kr/ei,Yr.arc(Jr,Qr,ei,Wr+ri,Zr-ri,!0)):Yr.arc(Jr,Qr,Kr,Wr+Da,Zr-Da),Yr.closePath(),Yr.clip()}function nlt(Yr){return ub(Yr,["outerStart","outerEnd","innerStart","innerEnd"])}function alt(Yr,Gr,Wr,Zr){let Kr=nlt(Yr.options.borderRadius),Jr=(Wr-Gr)/2,Qr=Math.min(Jr,Zr*Gr/2),ti=ei=>{let ri=(Wr-Math.min(Jr,ei))*Zr/2;return Xa(ei,0,Math.min(Jr,ri))};return{outerStart:ti(Kr.outerStart),outerEnd:ti(Kr.outerEnd),innerStart:Xa(Kr.innerStart,0,Qr),innerEnd:Xa(Kr.innerEnd,0,Qr)}}function dd(Yr,Gr,Wr,Zr){return{x:Wr+Yr*Math.cos(Gr),y:Zr+Yr*Math.sin(Gr)}}function Mb(Yr,Gr,Wr,Zr,Kr,Jr){let{x:Qr,y:ti,startAngle:ei,pixelMargin:ri,innerRadius:ii}=Gr,ni=Math.max(Gr.outerRadius+Zr+Wr-ri,0),ai=ii>0?ii+Zr+Wr+ri:0,oi=0,si=Kr-ei;if(Zr){let Mi=ii>0?ii-Zr:0,wi=ni>0?ni-Zr:0,Pi=(Mi+wi)/2,xi=Pi!==0?si*Pi/(Pi+Zr):si;oi=(si-xi)/2}let li=Math.max(.001,si*ni-Wr/pa)/ni,ui=(si-li)/2,fi=ei+ui+oi,hi=Kr-ui-oi,{outerStart:ci,outerEnd:pi,innerStart:di,innerEnd:vi}=alt(Gr,ai,ni,hi-fi),mi=ni-ci,gi=ni-pi,yi=fi+ci/mi,Si=hi-pi/gi,bi=ai+di,Ti=ai+vi,Ai=fi+di/bi,Ei=hi-vi/Ti;if(Yr.beginPath(),Jr){let Mi=(yi+Si)/2;if(Yr.arc(Qr,ti,ni,yi,Mi),Yr.arc(Qr,ti,ni,Mi,Si),pi>0){let Ci=dd(gi,Si,Qr,ti);Yr.arc(Ci.x,Ci.y,pi,Si,hi+Da)}let wi=dd(Ti,hi,Qr,ti);if(Yr.lineTo(wi.x,wi.y),vi>0){let Ci=dd(Ti,Ei,Qr,ti);Yr.arc(Ci.x,Ci.y,vi,hi+Da,Ei+Math.PI)}let Pi=(hi-vi/ai+(fi+di/ai))/2;if(Yr.arc(Qr,ti,ai,hi-vi/ai,Pi,!0),Yr.arc(Qr,ti,ai,Pi,fi+di/ai,!0),di>0){let Ci=dd(bi,Ai,Qr,ti);Yr.arc(Ci.x,Ci.y,di,Ai+Math.PI,fi-Da)}let xi=dd(mi,fi,Qr,ti);if(Yr.lineTo(xi.x,xi.y),ci>0){let Ci=dd(mi,yi,Qr,ti);Yr.arc(Ci.x,Ci.y,ci,fi-Da,yi)}}else{Yr.moveTo(Qr,ti);let Mi=Math.cos(yi)*ni+Qr,wi=Math.sin(yi)*ni+ti;Yr.lineTo(Mi,wi);let Pi=Math.cos(Si)*ni+Qr,xi=Math.sin(Si)*ni+ti;Yr.lineTo(Pi,xi)}Yr.closePath()}function olt(Yr,Gr,Wr,Zr,Kr){let{fullCircles:Jr,startAngle:Qr,circumference:ti}=Gr,ei=Gr.endAngle;if(Jr){Mb(Yr,Gr,Wr,Zr,ei,Kr);for(let ri=0;ri<Jr;++ri)Yr.fill();isNaN(ti)||(ei=Qr+(ti%da||da))}return Mb(Yr,Gr,Wr,Zr,ei,Kr),Yr.fill(),ei}function slt(Yr,Gr,Wr,Zr,Kr){let{fullCircles:Jr,startAngle:Qr,circumference:ti,options:ei}=Gr,{borderWidth:ri,borderJoinStyle:ii,borderDash:ni,borderDashOffset:ai}=ei,oi=ei.borderAlign==="inner";if(!ri)return;Yr.setLineDash(ni||[]),Yr.lineDashOffset=ai,oi?(Yr.lineWidth=ri*2,Yr.lineJoin=ii||"round"):(Yr.lineWidth=ri,Yr.lineJoin=ii||"bevel");let si=Gr.endAngle;if(Jr){Mb(Yr,Gr,Wr,Zr,si,Kr);for(let li=0;li<Jr;++li)Yr.stroke();isNaN(ti)||(si=Qr+(ti%da||da))}oi&&ilt(Yr,Gr,si),Jr||(Mb(Yr,Gr,Wr,Zr,si,Kr),Yr.stroke())}var jE=class extends bl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:Gr=>Gr!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(Gr){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,Gr&&Object.assign(this,Gr)}inRange(Gr,Wr,Zr){let Kr=this.getProps(["x","y"],Zr),{angle:Jr,distance:Qr}=rE(Kr,{x:Gr,y:Wr}),{startAngle:ti,endAngle:ei,innerRadius:ri,outerRadius:ii,circumference:ni}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],Zr),ai=(this.options.spacing+this.options.borderWidth)/2,si=zn(ni,ei-ti)>=da||fd(Jr,ti,ei),li=Ql(Qr,ri+ai,ii+ai);return si&&li}getCenterPoint(Gr){let{x:Wr,y:Zr,startAngle:Kr,endAngle:Jr,innerRadius:Qr,outerRadius:ti}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],Gr),{offset:ei,spacing:ri}=this.options,ii=(Kr+Jr)/2,ni=(Qr+ti+ri+ei)/2;return{x:Wr+Math.cos(ii)*ni,y:Zr+Math.sin(ii)*ni}}tooltipPosition(Gr){return this.getCenterPoint(Gr)}draw(Gr){let{options:Wr,circumference:Zr}=this,Kr=(Wr.offset||0)/4,Jr=(Wr.spacing||0)/2,Qr=Wr.circular;if(this.pixelMargin=Wr.borderAlign==="inner"?.33:0,this.fullCircles=Zr>da?Math.floor(Zr/da):0,Zr===0||this.innerRadius<0||this.outerRadius<0)return;Gr.save();let ti=(this.startAngle+this.endAngle)/2;Gr.translate(Math.cos(ti)*Kr,Math.sin(ti)*Kr);let ei=1-Math.sin(Math.min(pa,Zr||0)),ri=Kr*ei;Gr.fillStyle=Wr.backgroundColor,Gr.strokeStyle=Wr.borderColor,olt(Gr,this,ri,Jr,Qr),slt(Gr,this,ri,Jr,Qr),Gr.restore()}};function Y4(Yr,Gr,Wr=Gr){Yr.lineCap=zn(Wr.borderCapStyle,Gr.borderCapStyle),Yr.setLineDash(zn(Wr.borderDash,Gr.borderDash)),Yr.lineDashOffset=zn(Wr.borderDashOffset,Gr.borderDashOffset),Yr.lineJoin=zn(Wr.borderJoinStyle,Gr.borderJoinStyle),Yr.lineWidth=zn(Wr.borderWidth,Gr.borderWidth),Yr.strokeStyle=zn(Wr.borderColor,Gr.borderColor)}function llt(Yr,Gr,Wr){Yr.lineTo(Wr.x,Wr.y)}function ult(Yr){return Yr.stepped?bW:Yr.tension||Yr.cubicInterpolationMode==="monotone"?SW:llt}function X4(Yr,Gr,Wr={}){let Zr=Yr.length,{start:Kr=0,end:Jr=Zr-1}=Wr,{start:Qr,end:ti}=Gr,ei=Math.max(Kr,Qr),ri=Math.min(Jr,ti),ii=Kr<Qr&&Jr<Qr||Kr>ti&&Jr>ti;return{count:Zr,start:ei,loop:Gr.loop,ilen:ri<ei&&!ii?Zr+ri-ei:ri-ei}}function flt(Yr,Gr,Wr,Zr){let{points:Kr,options:Jr}=Gr,{count:Qr,start:ti,loop:ei,ilen:ri}=X4(Kr,Wr,Zr),ii=ult(Jr),{move:ni=!0,reverse:ai}=Zr||{},oi,si,li;for(oi=0;oi<=ri;++oi)si=Kr[(ti+(ai?ri-oi:oi))%Qr],!si.skip&&(ni?(Yr.moveTo(si.x,si.y),ni=!1):ii(Yr,li,si,ai,Jr.stepped),li=si);return ei&&(si=Kr[(ti+(ai?ri:0))%Qr],ii(Yr,li,si,ai,Jr.stepped)),!!ei}function hlt(Yr,Gr,Wr,Zr){let Kr=Gr.points,{count:Jr,start:Qr,ilen:ti}=X4(Kr,Wr,Zr),{move:ei=!0,reverse:ri}=Zr||{},ii=0,ni=0,ai,oi,si,li,ui,fi,hi=pi=>(Qr+(ri?ti-pi:pi))%Jr,ci=()=>{li!==ui&&(Yr.lineTo(ii,ui),Yr.lineTo(ii,li),Yr.lineTo(ii,fi))};for(ei&&(oi=Kr[hi(0)],Yr.moveTo(oi.x,oi.y)),ai=0;ai<=ti;++ai){if(oi=Kr[hi(ai)],oi.skip)continue;let pi=oi.x,di=oi.y,vi=pi|0;vi===si?(di<li?li=di:di>ui&&(ui=di),ii=(ni*ii+pi)/++ni):(ci(),Yr.lineTo(pi,di),si=vi,ni=0,li=ui=di),fi=di}ci()}function KE(Yr){let Gr=Yr.options,Wr=Gr.borderDash&&Gr.borderDash.length;return!Yr._decimated&&!Yr._loop&&!Gr.tension&&Gr.cubicInterpolationMode!=="monotone"&&!Gr.stepped&&!Wr?hlt:flt}function clt(Yr){return Yr.stepped?IW:Yr.tension||Yr.cubicInterpolationMode==="monotone"?LW:Uf}function plt(Yr,Gr,Wr,Zr){let Kr=Gr._path;Kr||(Kr=Gr._path=new Path2D,Gr.path(Kr,Wr,Zr)&&Kr.closePath()),Y4(Yr,Gr.options),Yr.stroke(Kr)}function dlt(Yr,Gr,Wr,Zr){let{segments:Kr,options:Jr}=Gr,Qr=KE(Gr);for(let ti of Kr)Y4(Yr,Jr,ti.style),Yr.beginPath(),Qr(Yr,Gr,ti,{start:Wr,end:Wr+Zr-1})&&Yr.closePath(),Yr.stroke()}var vlt=typeof Path2D=="function";function mlt(Yr,Gr,Wr,Zr){vlt&&!Gr.options.segment?plt(Yr,Gr,Wr,Zr):dlt(Yr,Gr,Wr,Zr)}var gd=class extends bl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:Gr=>Gr!=="borderDash"&&Gr!=="fill"};constructor(Gr){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,Gr&&Object.assign(this,Gr)}updateControlPoints(Gr,Wr){let Zr=this.options;if((Zr.tension||Zr.cubicInterpolationMode==="monotone")&&!Zr.stepped&&!this._pointsUpdated){let Kr=Zr.spanGaps?this._loop:this._fullLoop;PW(this._points,Zr,Gr,Kr,Wr),this._pointsUpdated=!0}}set points(Gr){this._points=Gr,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RW(this,this.options.segment))}first(){let Gr=this.segments,Wr=this.points;return Gr.length&&Wr[Gr[0].start]}last(){let Gr=this.segments,Wr=this.points,Zr=Gr.length;return Zr&&Wr[Gr[Zr-1].end]}interpolate(Gr,Wr){let Zr=this.options,Kr=Gr[Wr],Jr=this.points,Qr=wE(this,{property:Wr,start:Kr,end:Kr});if(!Qr.length)return;let ti=[],ei=clt(Zr),ri,ii;for(ri=0,ii=Qr.length;ri<ii;++ri){let{start:ni,end:ai}=Qr[ri],oi=Jr[ni],si=Jr[ai];if(oi===si){ti.push(oi);continue}let li=Math.abs((Kr-oi[Wr])/(si[Wr]-oi[Wr])),ui=ei(oi,si,li,Zr.stepped);ui[Wr]=Gr[Wr],ti.push(ui)}return ti.length===1?ti[0]:ti}pathSegment(Gr,Wr,Zr){return KE(this)(Gr,this,Wr,Zr)}path(Gr,Wr,Zr){let Kr=this.segments,Jr=KE(this),Qr=this._loop;Wr=Wr||0,Zr=Zr||this.points.length-Wr;for(let ti of Kr)Qr&=Jr(Gr,this,ti,{start:Wr,end:Wr+Zr-1});return!!Qr}draw(Gr,Wr,Zr,Kr){let Jr=this.options||{};(this.points||[]).length&&Jr.borderWidth&&(Gr.save(),mlt(Gr,this,Zr,Kr),Gr.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};function f4(Yr,Gr,Wr,Zr){let Kr=Yr.options,{[Wr]:Jr}=Yr.getProps([Wr],Zr);return Math.abs(Gr-Jr)<Kr.radius+Kr.hitRadius}var $E=class extends bl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Gr){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,Gr&&Object.assign(this,Gr)}inRange(Gr,Wr,Zr){let Kr=this.options,{x:Jr,y:Qr}=this.getProps(["x","y"],Zr);return Math.pow(Gr-Jr,2)+Math.pow(Wr-Qr,2)<Math.pow(Kr.hitRadius+Kr.radius,2)}inXRange(Gr,Wr){return f4(this,Gr,"x",Wr)}inYRange(Gr,Wr){return f4(this,Gr,"y",Wr)}getCenterPoint(Gr){let{x:Wr,y:Zr}=this.getProps(["x","y"],Gr);return{x:Wr,y:Zr}}size(Gr){Gr=Gr||this.options||{};let Wr=Gr.radius||0;Wr=Math.max(Wr,Wr&&Gr.hoverRadius||0);let Zr=Wr&&Gr.borderWidth||0;return(Wr+Zr)*2}draw(Gr,Wr){let Zr=this.options;this.skip||Zr.radius<.1||!$l(this,Wr,this.size(Zr)/2)||(Gr.strokeStyle=Zr.borderColor,Gr.lineWidth=Zr.borderWidth,Gr.fillStyle=Zr.backgroundColor,lb(Gr,Zr,this.x,this.y))}getRange(){let Gr=this.options||{};return Gr.radius+Gr.hitRadius}};function q4(Yr,Gr){let{x:Wr,y:Zr,base:Kr,width:Jr,height:Qr}=Yr.getProps(["x","y","base","width","height"],Gr),ti,ei,ri,ii,ni;return Yr.horizontal?(ni=Qr/2,ti=Math.min(Wr,Kr),ei=Math.max(Wr,Kr),ri=Zr-ni,ii=Zr+ni):(ni=Jr/2,ti=Wr-ni,ei=Wr+ni,ri=Math.min(Zr,Kr),ii=Math.max(Zr,Kr)),{left:ti,top:ri,right:ei,bottom:ii}}function qf(Yr,Gr,Wr,Zr){return Yr?0:Xa(Gr,Wr,Zr)}function glt(Yr,Gr,Wr){let Zr=Yr.options.borderWidth,Kr=Yr.borderSkipped,Jr=pE(Zr);return{t:qf(Kr.top,Jr.top,0,Wr),r:qf(Kr.right,Jr.right,0,Gr),b:qf(Kr.bottom,Jr.bottom,0,Wr),l:qf(Kr.left,Jr.left,0,Gr)}}function ylt(Yr,Gr,Wr){let{enableBorderRadius:Zr}=Yr.getProps(["enableBorderRadius"]),Kr=Yr.options.borderRadius,Jr=Yf(Kr),Qr=Math.min(Gr,Wr),ti=Yr.borderSkipped,ei=Zr||Un(Kr);return{topLeft:qf(!ei||ti.top||ti.left,Jr.topLeft,0,Qr),topRight:qf(!ei||ti.top||ti.right,Jr.topRight,0,Qr),bottomLeft:qf(!ei||ti.bottom||ti.left,Jr.bottomLeft,0,Qr),bottomRight:qf(!ei||ti.bottom||ti.right,Jr.bottomRight,0,Qr)}}function xlt(Yr){let Gr=q4(Yr),Wr=Gr.right-Gr.left,Zr=Gr.bottom-Gr.top,Kr=glt(Yr,Wr/2,Zr/2),Jr=ylt(Yr,Wr/2,Zr/2);return{outer:{x:Gr.left,y:Gr.top,w:Wr,h:Zr,radius:Jr},inner:{x:Gr.left+Kr.l,y:Gr.top+Kr.t,w:Wr-Kr.l-Kr.r,h:Zr-Kr.t-Kr.b,radius:{topLeft:Math.max(0,Jr.topLeft-Math.max(Kr.t,Kr.l)),topRight:Math.max(0,Jr.topRight-Math.max(Kr.t,Kr.r)),bottomLeft:Math.max(0,Jr.bottomLeft-Math.max(Kr.b,Kr.l)),bottomRight:Math.max(0,Jr.bottomRight-Math.max(Kr.b,Kr.r))}}}}function DE(Yr,Gr,Wr,Zr){let Kr=Gr===null,Jr=Wr===null,ti=Yr&&!(Kr&&Jr)&&q4(Yr,Zr);return ti&&(Kr||Ql(Gr,ti.left,ti.right))&&(Jr||Ql(Wr,ti.top,ti.bottom))}function _lt(Yr){return Yr.topLeft||Yr.topRight||Yr.bottomLeft||Yr.bottomRight}function blt(Yr,Gr){Yr.rect(Gr.x,Gr.y,Gr.w,Gr.h)}function IE(Yr,Gr,Wr={}){let Zr=Yr.x!==Wr.x?-Gr:0,Kr=Yr.y!==Wr.y?-Gr:0,Jr=(Yr.x+Yr.w!==Wr.x+Wr.w?Gr:0)-Zr,Qr=(Yr.y+Yr.h!==Wr.y+Wr.h?Gr:0)-Kr;return{x:Yr.x+Zr,y:Yr.y+Kr,w:Yr.w+Jr,h:Yr.h+Qr,radius:Yr.radius}}var JE=class extends bl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Gr){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,Gr&&Object.assign(this,Gr)}draw(Gr){let{inflateAmount:Wr,options:{borderColor:Zr,backgroundColor:Kr}}=this,{inner:Jr,outer:Qr}=xlt(this),ti=_lt(Qr.radius)?cd:blt;Gr.save(),(Qr.w!==Jr.w||Qr.h!==Jr.h)&&(Gr.beginPath(),ti(Gr,IE(Qr,Wr,Jr)),Gr.clip(),ti(Gr,IE(Jr,-Wr,Qr)),Gr.fillStyle=Zr,Gr.fill("evenodd")),Gr.beginPath(),ti(Gr,IE(Jr,Wr)),Gr.fillStyle=Kr,Gr.fill(),Gr.restore()}inRange(Gr,Wr,Zr){return DE(this,Gr,Wr,Zr)}inXRange(Gr,Wr){return DE(this,Gr,null,Wr)}inYRange(Gr,Wr){return DE(this,null,Gr,Wr)}getCenterPoint(Gr){let{x:Wr,y:Zr,base:Kr,horizontal:Jr}=this.getProps(["x","y","base","horizontal"],Gr);return{x:Jr?(Wr+Kr)/2:Wr,y:Jr?Zr:(Zr+Kr)/2}}getRange(Gr){return Gr==="x"?this.width/2:this.height/2}},Slt=Object.freeze({__proto__:null,ArcElement:jE,BarElement:JE,LineElement:gd,PointElement:$E}),QE=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],h4=QE.map(Yr=>Yr.replace("rgb(","rgba(").replace(")",", 0.5)"));function Z4(Yr){return QE[Yr%QE.length]}function j4(Yr){return h4[Yr%h4.length]}function wlt(Yr,Gr){return Yr.borderColor=Z4(Gr),Yr.backgroundColor=j4(Gr),++Gr}function Clt(Yr,Gr){return Yr.backgroundColor=Yr.data.map(()=>Z4(Gr++)),Gr}function Tlt(Yr,Gr){return Yr.backgroundColor=Yr.data.map(()=>j4(Gr++)),Gr}function Alt(Yr){let Gr=0;return(Wr,Zr)=>{let Kr=Yr.getDatasetMeta(Zr).controller;Kr instanceof tg?Gr=Clt(Wr,Gr):Kr instanceof Cb?Gr=Tlt(Wr,Gr):Kr&&(Gr=wlt(Wr,Gr))}}function c4(Yr){let Gr;for(Gr in Yr)if(Yr[Gr].borderColor||Yr[Gr].backgroundColor)return!0;return!1}function Mlt(Yr){return Yr&&(Yr.borderColor||Yr.backgroundColor)}var Plt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(Yr,Gr,Wr){if(!Wr.enabled)return;let{data:{datasets:Zr},options:Kr}=Yr.config,{elements:Jr}=Kr;if(!Wr.forceOverride&&(c4(Zr)||Mlt(Kr)||Jr&&c4(Jr)))return;let Qr=Alt(Yr);Zr.forEach(Qr)}};function Elt(Yr,Gr,Wr,Zr,Kr){let Jr=Kr.samples||Zr;if(Jr>=Wr)return Yr.slice(Gr,Gr+Wr);let Qr=[],ti=(Wr-2)/(Jr-2),ei=0,ri=Gr+Wr-1,ii=Gr,ni,ai,oi,si,li;for(Qr[ei++]=Yr[ii],ni=0;ni<Jr-2;ni++){let ui=0,fi=0,hi,ci=Math.floor((ni+1)*ti)+1+Gr,pi=Math.min(Math.floor((ni+2)*ti)+1,Wr)+Gr,di=pi-ci;for(hi=ci;hi<pi;hi++)ui+=Yr[hi].x,fi+=Yr[hi].y;ui/=di,fi/=di;let vi=Math.floor(ni*ti)+1+Gr,mi=Math.min(Math.floor((ni+1)*ti)+1,Wr)+Gr,{x:gi,y:yi}=Yr[ii];for(oi=si=-1,hi=vi;hi<mi;hi++)si=.5*Math.abs((gi-ui)*(Yr[hi].y-yi)-(gi-Yr[hi].x)*(fi-yi)),si>oi&&(oi=si,ai=Yr[hi],li=hi);Qr[ei++]=ai,ii=li}return Qr[ei++]=Yr[ri],Qr}function Dlt(Yr,Gr,Wr,Zr){let Kr=0,Jr=0,Qr,ti,ei,ri,ii,ni,ai,oi,si,li,ui=[],fi=Gr+Wr-1,hi=Yr[Gr].x,pi=Yr[fi].x-hi;for(Qr=Gr;Qr<Gr+Wr;++Qr){ti=Yr[Qr],ei=(ti.x-hi)/pi*Zr,ri=ti.y;let di=ei|0;if(di===ii)ri<si?(si=ri,ni=Qr):ri>li&&(li=ri,ai=Qr),Kr=(Jr*Kr+ti.x)/++Jr;else{let vi=Qr-1;if(!Xn(ni)&&!Xn(ai)){let mi=Math.min(ni,ai),gi=Math.max(ni,ai);mi!==oi&&mi!==vi&&ui.push({...Yr[mi],x:Kr}),gi!==oi&&gi!==vi&&ui.push({...Yr[gi],x:Kr})}Qr>0&&vi!==oi&&ui.push(Yr[vi]),ui.push(ti),ii=di,Jr=0,si=li=ri,ni=ai=oi=Qr}}return ui}function K4(Yr){if(Yr._decimated){let Gr=Yr._data;delete Yr._decimated,delete Yr._data,Object.defineProperty(Yr,"data",{configurable:!0,enumerable:!0,writable:!0,value:Gr})}}function p4(Yr){Yr.data.datasets.forEach(Gr=>{K4(Gr)})}function Ilt(Yr,Gr){let Wr=Gr.length,Zr=0,Kr,{iScale:Jr}=Yr,{min:Qr,max:ti,minDefined:ei,maxDefined:ri}=Jr.getUserBounds();return ei&&(Zr=Xa(Kl(Gr,Jr.axis,Qr).lo,0,Wr-1)),ri?Kr=Xa(Kl(Gr,Jr.axis,ti).hi+1,Zr,Wr)-Zr:Kr=Wr-Zr,{start:Zr,count:Kr}}var Llt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(Yr,Gr,Wr)=>{if(!Wr.enabled){p4(Yr);return}let Zr=Yr.width;Yr.data.datasets.forEach((Kr,Jr)=>{let{_data:Qr,indexAxis:ti}=Kr,ei=Yr.getDatasetMeta(Jr),ri=Qr||Kr.data;if(pd([ti,Yr.options.indexAxis])==="y"||!ei.controller.supportsDecimation)return;let ii=Yr.scales[ei.xAxisID];if(ii.type!=="linear"&&ii.type!=="time"||Yr.options.parsing)return;let{start:ni,count:ai}=Ilt(ei,ri),oi=Wr.threshold||4*Zr;if(ai<=oi){K4(Kr);return}Xn(Qr)&&(Kr._data=ri,delete Kr.data,Object.defineProperty(Kr,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(li){this._data=li}}));let si;switch(Wr.algorithm){case"lttb":si=Elt(ri,ni,ai,Zr,Wr);break;case"min-max":si=Dlt(ri,ni,ai,Zr);break;default:throw new Error(`Unsupported decimation algorithm '${Wr.algorithm}'`)}Kr._decimated=si})},destroy(Yr){p4(Yr)}};function klt(Yr,Gr,Wr){let Zr=Yr.segments,Kr=Yr.points,Jr=Gr.points,Qr=[];for(let ti of Zr){let{start:ei,end:ri}=ti;ri=sD(ei,ri,Kr);let ii=tD(Wr,Kr[ei],Kr[ri],ti.loop);if(!Gr.segments){Qr.push({source:ti,target:ii,start:Kr[ei],end:Kr[ri]});continue}let ni=wE(Gr,ii);for(let ai of ni){let oi=tD(Wr,Jr[ai.start],Jr[ai.end],ai.loop),si=SE(ti,Kr,oi);for(let li of si)Qr.push({source:li,target:ai,start:{[Wr]:d4(ii,oi,"start",Math.max)},end:{[Wr]:d4(ii,oi,"end",Math.min)}})}}return Qr}function tD(Yr,Gr,Wr,Zr){if(Zr)return;let Kr=Gr[Yr],Jr=Wr[Yr];return Yr==="angle"&&(Kr=Qo(Kr),Jr=Qo(Jr)),{property:Yr,start:Kr,end:Jr}}function Rlt(Yr,Gr){let{x:Wr=null,y:Zr=null}=Yr||{},Kr=Gr.points,Jr=[];return Gr.segments.forEach(({start:Qr,end:ti})=>{ti=sD(Qr,ti,Kr);let ei=Kr[Qr],ri=Kr[ti];Zr!==null?(Jr.push({x:ei.x,y:Zr}),Jr.push({x:ri.x,y:Zr})):Wr!==null&&(Jr.push({x:Wr,y:ei.y}),Jr.push({x:Wr,y:ri.y}))}),Jr}function sD(Yr,Gr,Wr){for(;Gr>Yr;Gr--){let Zr=Wr[Gr];if(!isNaN(Zr.x)&&!isNaN(Zr.y))break}return Gr}function d4(Yr,Gr,Wr,Zr){return Yr&&Gr?Zr(Yr[Wr],Gr[Wr]):Yr?Yr[Wr]:Gr?Gr[Wr]:0}function $4(Yr,Gr){let Wr=[],Zr=!1;return ca(Yr)?(Zr=!0,Wr=Yr):Wr=Rlt(Yr,Gr),Wr.length?new gd({points:Wr,options:{tension:0},_loop:Zr,_fullLoop:Zr}):null}function v4(Yr){return Yr&&Yr.fill!==!1}function Olt(Yr,Gr,Wr){let Kr=Yr[Gr].fill,Jr=[Gr],Qr;if(!Wr)return Kr;for(;Kr!==!1&&Jr.indexOf(Kr)===-1;){if(!wa(Kr))return Kr;if(Qr=Yr[Kr],!Qr)return!1;if(Qr.visible)return Kr;Jr.push(Kr),Kr=Qr.fill}return!1}function zlt(Yr,Gr,Wr){let Zr=Blt(Yr);if(Un(Zr))return isNaN(Zr.value)?!1:Zr;let Kr=parseFloat(Zr);return wa(Kr)&&Math.floor(Kr)===Kr?Nlt(Zr[0],Gr,Kr,Wr):["origin","start","end","stack","shape"].indexOf(Zr)>=0&&Zr}function Nlt(Yr,Gr,Wr,Zr){return(Yr==="-"||Yr==="+")&&(Wr=Gr+Wr),Wr===Gr||Wr<0||Wr>=Zr?!1:Wr}function Flt(Yr,Gr){let Wr=null;return Yr==="start"?Wr=Gr.bottom:Yr==="end"?Wr=Gr.top:Un(Yr)?Wr=Gr.getPixelForValue(Yr.value):Gr.getBasePixel&&(Wr=Gr.getBasePixel()),Wr}function Vlt(Yr,Gr,Wr){let Zr;return Yr==="start"?Zr=Wr:Yr==="end"?Zr=Gr.options.reverse?Gr.min:Gr.max:Un(Yr)?Zr=Yr.value:Zr=Gr.getBaseValue(),Zr}function Blt(Yr){let Gr=Yr.options,Wr=Gr.fill,Zr=zn(Wr&&Wr.target,Wr);return Zr===void 0&&(Zr=!!Gr.backgroundColor),Zr===!1||Zr===null?!1:Zr===!0?"origin":Zr}function Ult(Yr){let{scale:Gr,index:Wr,line:Zr}=Yr,Kr=[],Jr=Zr.segments,Qr=Zr.points,ti=Glt(Gr,Wr);ti.push($4({x:null,y:Gr.bottom},Zr));for(let ei=0;ei<Jr.length;ei++){let ri=Jr[ei];for(let ii=ri.start;ii<=ri.end;ii++)Hlt(Kr,Qr[ii],ti)}return new gd({points:Kr,options:{}})}function Glt(Yr,Gr){let Wr=[],Zr=Yr.getMatchingVisibleMetas("line");for(let Kr=0;Kr<Zr.length;Kr++){let Jr=Zr[Kr];if(Jr.index===Gr)break;Jr.hidden||Wr.unshift(Jr.dataset)}return Wr}function Hlt(Yr,Gr,Wr){let Zr=[];for(let Kr=0;Kr<Wr.length;Kr++){let Jr=Wr[Kr],{first:Qr,last:ti,point:ei}=Wlt(Jr,Gr,"x");if(!(!ei||Qr&&ti)){if(Qr)Zr.unshift(ei);else if(Yr.push(ei),!ti)break}}Yr.push(...Zr)}function Wlt(Yr,Gr,Wr){let Zr=Yr.interpolate(Gr,Wr);if(!Zr)return{};let Kr=Zr[Wr],Jr=Yr.segments,Qr=Yr.points,ti=!1,ei=!1;for(let ri=0;ri<Jr.length;ri++){let ii=Jr[ri],ni=Qr[ii.start][Wr],ai=Qr[ii.end][Wr];if(Ql(Kr,ni,ai)){ti=Kr===ni,ei=Kr===ai;break}}return{first:ti,last:ei,point:Zr}}var Pb=class{constructor(Gr){this.x=Gr.x,this.y=Gr.y,this.radius=Gr.radius}pathSegment(Gr,Wr,Zr){let{x:Kr,y:Jr,radius:Qr}=this;return Wr=Wr||{start:0,end:da},Gr.arc(Kr,Jr,Qr,Wr.end,Wr.start,!0),!Zr.bounds}interpolate(Gr){let{x:Wr,y:Zr,radius:Kr}=this,Jr=Gr.angle;return{x:Wr+Math.cos(Jr)*Kr,y:Zr+Math.sin(Jr)*Kr,angle:Jr}}};function Ylt(Yr){let{chart:Gr,fill:Wr,line:Zr}=Yr;if(wa(Wr))return Xlt(Gr,Wr);if(Wr==="stack")return Ult(Yr);if(Wr==="shape")return!0;let Kr=qlt(Yr);return Kr instanceof Pb?Kr:$4(Kr,Zr)}function Xlt(Yr,Gr){let Wr=Yr.getDatasetMeta(Gr);return Wr&&Yr.isDatasetVisible(Gr)?Wr.dataset:null}function qlt(Yr){return(Yr.scale||{}).getPointPositionForValue?jlt(Yr):Zlt(Yr)}function Zlt(Yr){let{scale:Gr={},fill:Wr}=Yr,Zr=Flt(Wr,Gr);if(wa(Zr)){let Kr=Gr.isHorizontal();return{x:Kr?Zr:null,y:Kr?null:Zr}}return null}function jlt(Yr){let{scale:Gr,fill:Wr}=Yr,Zr=Gr.options,Kr=Gr.getLabels().length,Jr=Zr.reverse?Gr.max:Gr.min,Qr=Vlt(Wr,Gr,Jr),ti=[];if(Zr.grid.circular){let ei=Gr.getPointPositionForValue(0,Jr);return new Pb({x:ei.x,y:ei.y,radius:Gr.getDistanceFromCenterForValue(Qr)})}for(let ei=0;ei<Kr;++ei)ti.push(Gr.getPointPositionForValue(ei,Qr));return ti}function LE(Yr,Gr,Wr){let Zr=Ylt(Gr),{line:Kr,scale:Jr,axis:Qr}=Gr,ti=Kr.options,ei=ti.fill,ri=ti.backgroundColor,{above:ii=ri,below:ni=ri}=ei||{};Zr&&Kr.points.length&&(Ym(Yr,Wr),Klt(Yr,{line:Kr,target:Zr,above:ii,below:ni,area:Wr,scale:Jr,axis:Qr}),Xm(Yr))}function Klt(Yr,Gr){let{line:Wr,target:Zr,above:Kr,below:Jr,area:Qr,scale:ti}=Gr,ei=Wr._loop?"angle":Gr.axis;Yr.save(),ei==="x"&&Jr!==Kr&&(m4(Yr,Zr,Qr.top),g4(Yr,{line:Wr,target:Zr,color:Kr,scale:ti,property:ei}),Yr.restore(),Yr.save(),m4(Yr,Zr,Qr.bottom)),g4(Yr,{line:Wr,target:Zr,color:Jr,scale:ti,property:ei}),Yr.restore()}function m4(Yr,Gr,Wr){let{segments:Zr,points:Kr}=Gr,Jr=!0,Qr=!1;Yr.beginPath();for(let ti of Zr){let{start:ei,end:ri}=ti,ii=Kr[ei],ni=Kr[sD(ei,ri,Kr)];Jr?(Yr.moveTo(ii.x,ii.y),Jr=!1):(Yr.lineTo(ii.x,Wr),Yr.lineTo(ii.x,ii.y)),Qr=!!Gr.pathSegment(Yr,ti,{move:Qr}),Qr?Yr.closePath():Yr.lineTo(ni.x,Wr)}Yr.lineTo(Gr.first().x,Wr),Yr.closePath(),Yr.clip()}function g4(Yr,Gr){let{line:Wr,target:Zr,property:Kr,color:Jr,scale:Qr}=Gr,ti=klt(Wr,Zr,Kr);for(let{source:ei,target:ri,start:ii,end:ni}of ti){let{style:{backgroundColor:ai=Jr}={}}=ei,oi=Zr!==!0;Yr.save(),Yr.fillStyle=ai,$lt(Yr,Qr,oi&&tD(Kr,ii,ni)),Yr.beginPath();let si=!!Wr.pathSegment(Yr,ei),li;if(oi){si?Yr.closePath():y4(Yr,Zr,ni,Kr);let ui=!!Zr.pathSegment(Yr,ri,{move:si,reverse:!0});li=si&&ui,li||y4(Yr,Zr,ii,Kr)}Yr.closePath(),Yr.fill(li?"evenodd":"nonzero"),Yr.restore()}}function $lt(Yr,Gr,Wr){let{top:Zr,bottom:Kr}=Gr.chart.chartArea,{property:Jr,start:Qr,end:ti}=Wr||{};Jr==="x"&&(Yr.beginPath(),Yr.rect(Qr,Zr,ti-Qr,Kr-Zr),Yr.clip())}function y4(Yr,Gr,Wr,Zr){let Kr=Gr.interpolate(Wr,Zr);Kr&&Yr.lineTo(Kr.x,Kr.y)}var Jlt={id:"filler",afterDatasetsUpdate(Yr,Gr,Wr){let Zr=(Yr.data.datasets||[]).length,Kr=[],Jr,Qr,ti,ei;for(Qr=0;Qr<Zr;++Qr)Jr=Yr.getDatasetMeta(Qr),ti=Jr.dataset,ei=null,ti&&ti.options&&ti instanceof gd&&(ei={visible:Yr.isDatasetVisible(Qr),index:Qr,fill:zlt(ti,Qr,Zr),chart:Yr,axis:Jr.controller.options.indexAxis,scale:Jr.vScale,line:ti}),Jr.$filler=ei,Kr.push(ei);for(Qr=0;Qr<Zr;++Qr)ei=Kr[Qr],!(!ei||ei.fill===!1)&&(ei.fill=Olt(Kr,Qr,Wr.propagate))},beforeDraw(Yr,Gr,Wr){let Zr=Wr.drawTime==="beforeDraw",Kr=Yr.getSortedVisibleDatasetMetas(),Jr=Yr.chartArea;for(let Qr=Kr.length-1;Qr>=0;--Qr){let ti=Kr[Qr].$filler;ti&&(ti.line.updateControlPoints(Jr,ti.axis),Zr&&ti.fill&&LE(Yr.ctx,ti,Jr))}},beforeDatasetsDraw(Yr,Gr,Wr){if(Wr.drawTime!=="beforeDatasetsDraw")return;let Zr=Yr.getSortedVisibleDatasetMetas();for(let Kr=Zr.length-1;Kr>=0;--Kr){let Jr=Zr[Kr].$filler;v4(Jr)&&LE(Yr.ctx,Jr,Yr.chartArea)}},beforeDatasetDraw(Yr,Gr,Wr){let Zr=Gr.meta.$filler;!v4(Zr)||Wr.drawTime!=="beforeDatasetDraw"||LE(Yr.ctx,Zr,Yr.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},x4=(Yr,Gr)=>{let{boxHeight:Wr=Gr,boxWidth:Zr=Gr}=Yr;return Yr.usePointStyle&&(Wr=Math.min(Wr,Gr),Zr=Yr.pointStyleWidth||Math.min(Zr,Gr)),{boxWidth:Zr,boxHeight:Wr,itemHeight:Math.max(Gr,Wr)}},Qlt=(Yr,Gr)=>Yr!==null&&Gr!==null&&Yr.datasetIndex===Gr.datasetIndex&&Yr.index===Gr.index,Eb=class extends bl{constructor(Gr){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=Gr.chart,this.options=Gr.options,this.ctx=Gr.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Gr,Wr,Zr){this.maxWidth=Gr,this.maxHeight=Wr,this._margins=Zr,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let Gr=this.options.labels||{},Wr=ua(Gr.generateLabels,[this.chart],this)||[];Gr.filter&&(Wr=Wr.filter(Zr=>Gr.filter(Zr,this.chart.data))),Gr.sort&&(Wr=Wr.sort((Zr,Kr)=>Gr.sort(Zr,Kr,this.chart.data))),this.options.reverse&&Wr.reverse(),this.legendItems=Wr}fit(){let{options:Gr,ctx:Wr}=this;if(!Gr.display){this.width=this.height=0;return}let Zr=Gr.labels,Kr=Na(Zr.font),Jr=Kr.size,Qr=this._computeTitleHeight(),{boxWidth:ti,itemHeight:ei}=x4(Zr,Jr),ri,ii;Wr.font=Kr.string,this.isHorizontal()?(ri=this.maxWidth,ii=this._fitRows(Qr,Jr,ti,ei)+10):(ii=this.maxHeight,ri=this._fitCols(Qr,Kr,ti,ei)+10),this.width=Math.min(ri,Gr.maxWidth||this.maxWidth),this.height=Math.min(ii,Gr.maxHeight||this.maxHeight)}_fitRows(Gr,Wr,Zr,Kr){let{ctx:Jr,maxWidth:Qr,options:{labels:{padding:ti}}}=this,ei=this.legendHitBoxes=[],ri=this.lineWidths=[0],ii=Kr+ti,ni=Gr;Jr.textAlign="left",Jr.textBaseline="middle";let ai=-1,oi=-ii;return this.legendItems.forEach((si,li)=>{let ui=Zr+Wr/2+Jr.measureText(si.text).width;(li===0||ri[ri.length-1]+ui+2*ti>Qr)&&(ni+=ii,ri[ri.length-(li>0?0:1)]=0,oi+=ii,ai++),ei[li]={left:0,top:oi,row:ai,width:ui,height:Kr},ri[ri.length-1]+=ui+ti}),ni}_fitCols(Gr,Wr,Zr,Kr){let{ctx:Jr,maxHeight:Qr,options:{labels:{padding:ti}}}=this,ei=this.legendHitBoxes=[],ri=this.columnSizes=[],ii=Qr-Gr,ni=ti,ai=0,oi=0,si=0,li=0;return this.legendItems.forEach((ui,fi)=>{let{itemWidth:hi,itemHeight:ci}=tut(Zr,Wr,Jr,ui,Kr);fi>0&&oi+ci+2*ti>ii&&(ni+=ai+ti,ri.push({width:ai,height:oi}),si+=ai+ti,li++,ai=oi=0),ei[fi]={left:si,top:oi,col:li,width:hi,height:ci},ai=Math.max(ai,hi),oi+=ci+ti}),ni+=ai,ri.push({width:ai,height:oi}),ni}adjustHitBoxes(){if(!this.options.display)return;let Gr=this._computeTitleHeight(),{legendHitBoxes:Wr,options:{align:Zr,labels:{padding:Kr},rtl:Jr}}=this,Qr=mc(Jr,this.left,this.width);if(this.isHorizontal()){let ti=0,ei=lo(Zr,this.left+Kr,this.right-this.lineWidths[ti]);for(let ri of Wr)ti!==ri.row&&(ti=ri.row,ei=lo(Zr,this.left+Kr,this.right-this.lineWidths[ti])),ri.top+=this.top+Gr+Kr,ri.left=Qr.leftForLtr(Qr.x(ei),ri.width),ei+=ri.width+Kr}else{let ti=0,ei=lo(Zr,this.top+Gr+Kr,this.bottom-this.columnSizes[ti].height);for(let ri of Wr)ri.col!==ti&&(ti=ri.col,ei=lo(Zr,this.top+Gr+Kr,this.bottom-this.columnSizes[ti].height)),ri.top=ei,ri.left+=this.left+Kr,ri.left=Qr.leftForLtr(Qr.x(ri.left),ri.width),ei+=ri.height+Kr}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let Gr=this.ctx;Ym(Gr,this),this._draw(),Xm(Gr)}}_draw(){let{options:Gr,columnSizes:Wr,lineWidths:Zr,ctx:Kr}=this,{align:Jr,labels:Qr}=Gr,ti=Ca.color,ei=mc(Gr.rtl,this.left,this.width),ri=Na(Qr.font),{padding:ii}=Qr,ni=ri.size,ai=ni/2,oi;this.drawTitle(),Kr.textAlign=ei.textAlign("left"),Kr.textBaseline="middle",Kr.lineWidth=.5,Kr.font=ri.string;let{boxWidth:si,boxHeight:li,itemHeight:ui}=x4(Qr,ni),fi=function(vi,mi,gi){if(isNaN(si)||si<=0||isNaN(li)||li<0)return;Kr.save();let yi=zn(gi.lineWidth,1);if(Kr.fillStyle=zn(gi.fillStyle,ti),Kr.lineCap=zn(gi.lineCap,"butt"),Kr.lineDashOffset=zn(gi.lineDashOffset,0),Kr.lineJoin=zn(gi.lineJoin,"miter"),Kr.lineWidth=yi,Kr.strokeStyle=zn(gi.strokeStyle,ti),Kr.setLineDash(zn(gi.lineDash,[])),Qr.usePointStyle){let Si={radius:li*Math.SQRT2/2,pointStyle:gi.pointStyle,rotation:gi.rotation,borderWidth:yi},bi=ei.xPlus(vi,si/2),Ti=mi+ai;cE(Kr,Si,bi,Ti,Qr.pointStyleWidth&&si)}else{let Si=mi+Math.max((ni-li)/2,0),bi=ei.leftForLtr(vi,si),Ti=Yf(gi.borderRadius);Kr.beginPath(),Object.values(Ti).some(Ai=>Ai!==0)?cd(Kr,{x:bi,y:Si,w:si,h:li,radius:Ti}):Kr.rect(bi,Si,si,li),Kr.fill(),yi!==0&&Kr.stroke()}Kr.restore()},hi=function(vi,mi,gi){Wf(Kr,gi.text,vi,mi+ui/2,ri,{strikethrough:gi.hidden,textAlign:ei.textAlign(gi.textAlign)})},ci=this.isHorizontal(),pi=this._computeTitleHeight();ci?oi={x:lo(Jr,this.left+ii,this.right-Zr[0]),y:this.top+ii+pi,line:0}:oi={x:this.left+ii,y:lo(Jr,this.top+pi+ii,this.bottom-Wr[0].height),line:0},_E(this.ctx,Gr.textDirection);let di=ui+ii;this.legendItems.forEach((vi,mi)=>{Kr.strokeStyle=vi.fontColor,Kr.fillStyle=vi.fontColor;let gi=Kr.measureText(vi.text).width,yi=ei.textAlign(vi.textAlign||(vi.textAlign=Qr.textAlign)),Si=si+ai+gi,bi=oi.x,Ti=oi.y;ei.setWidth(this.width),ci?mi>0&&bi+Si+ii>this.right&&(Ti=oi.y+=di,oi.line++,bi=oi.x=lo(Jr,this.left+ii,this.right-Zr[oi.line])):mi>0&&Ti+di>this.bottom&&(bi=oi.x=bi+Wr[oi.line].width+ii,oi.line++,Ti=oi.y=lo(Jr,this.top+pi+ii,this.bottom-Wr[oi.line].height));let Ai=ei.x(bi);if(fi(Ai,Ti,vi),bi=yW(yi,bi+si+ai,ci?bi+Si:this.right,Gr.rtl),hi(ei.x(bi),Ti,vi),ci)oi.x+=Si+ii;else if(typeof vi.text!="string"){let Ei=ri.lineHeight;oi.y+=J4(vi,Ei)+ii}else oi.y+=di}),bE(this.ctx,Gr.textDirection)}drawTitle(){let Gr=this.options,Wr=Gr.title,Zr=Na(Wr.font),Kr=uo(Wr.padding);if(!Wr.display)return;let Jr=mc(Gr.rtl,this.left,this.width),Qr=this.ctx,ti=Wr.position,ei=Zr.size/2,ri=Kr.top+ei,ii,ni=this.left,ai=this.width;if(this.isHorizontal())ai=Math.max(...this.lineWidths),ii=this.top+ri,ni=lo(Gr.align,ni,this.right-ai);else{let si=this.columnSizes.reduce((li,ui)=>Math.max(li,ui.height),0);ii=ri+lo(Gr.align,this.top,this.bottom-si-Gr.labels.padding-this._computeTitleHeight())}let oi=lo(ti,ni,ni+ai);Qr.textAlign=Jr.textAlign(ab(ti)),Qr.textBaseline="middle",Qr.strokeStyle=Wr.color,Qr.fillStyle=Wr.color,Qr.font=Zr.string,Wf(Qr,Wr.text,oi,ii,Zr)}_computeTitleHeight(){let Gr=this.options.title,Wr=Na(Gr.font),Zr=uo(Gr.padding);return Gr.display?Wr.lineHeight+Zr.height:0}_getLegendItemAt(Gr,Wr){let Zr,Kr,Jr;if(Ql(Gr,this.left,this.right)&&Ql(Wr,this.top,this.bottom)){for(Jr=this.legendHitBoxes,Zr=0;Zr<Jr.length;++Zr)if(Kr=Jr[Zr],Ql(Gr,Kr.left,Kr.left+Kr.width)&&Ql(Wr,Kr.top,Kr.top+Kr.height))return this.legendItems[Zr]}return null}handleEvent(Gr){let Wr=this.options;if(!iut(Gr.type,Wr))return;let Zr=this._getLegendItemAt(Gr.x,Gr.y);if(Gr.type==="mousemove"||Gr.type==="mouseout"){let Kr=this._hoveredItem,Jr=Qlt(Kr,Zr);Kr&&!Jr&&ua(Wr.onLeave,[Gr,Kr,this],this),this._hoveredItem=Zr,Zr&&!Jr&&ua(Wr.onHover,[Gr,Zr,this],this)}else Zr&&ua(Wr.onClick,[Gr,Zr,this],this)}};function tut(Yr,Gr,Wr,Zr,Kr){let Jr=eut(Zr,Yr,Gr,Wr),Qr=rut(Kr,Zr,Gr.lineHeight);return{itemWidth:Jr,itemHeight:Qr}}function eut(Yr,Gr,Wr,Zr){let Kr=Yr.text;return Kr&&typeof Kr!="string"&&(Kr=Kr.reduce((Jr,Qr)=>Jr.length>Qr.length?Jr:Qr)),Gr+Wr.size/2+Zr.measureText(Kr).width}function rut(Yr,Gr,Wr){let Zr=Yr;return typeof Gr.text!="string"&&(Zr=J4(Gr,Wr)),Zr}function J4(Yr,Gr){let Wr=Yr.text?Yr.text.length:0;return Gr*Wr}function iut(Yr,Gr){return!!((Yr==="mousemove"||Yr==="mouseout")&&(Gr.onHover||Gr.onLeave)||Gr.onClick&&(Yr==="click"||Yr==="mouseup"))}var nut={id:"legend",_element:Eb,start(Yr,Gr,Wr){let Zr=Yr.legend=new Eb({ctx:Yr.ctx,options:Wr,chart:Yr});xo.configure(Yr,Zr,Wr),xo.addBox(Yr,Zr)},stop(Yr){xo.removeBox(Yr,Yr.legend),delete Yr.legend},beforeUpdate(Yr,Gr,Wr){let Zr=Yr.legend;xo.configure(Yr,Zr,Wr),Zr.options=Wr},afterUpdate(Yr){let Gr=Yr.legend;Gr.buildLabels(),Gr.adjustHitBoxes()},afterEvent(Yr,Gr){Gr.replay||Yr.legend.handleEvent(Gr.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(Yr,Gr,Wr){let Zr=Gr.datasetIndex,Kr=Wr.chart;Kr.isDatasetVisible(Zr)?(Kr.hide(Zr),Gr.hidden=!0):(Kr.show(Zr),Gr.hidden=!1)},onHover:null,onLeave:null,labels:{color:Yr=>Yr.chart.options.color,boxWidth:40,padding:10,generateLabels(Yr){let Gr=Yr.data.datasets,{labels:{usePointStyle:Wr,pointStyle:Zr,textAlign:Kr,color:Jr,useBorderRadius:Qr,borderRadius:ti}}=Yr.legend.options;return Yr._getSortedDatasetMetas().map(ei=>{let ri=ei.controller.getStyle(Wr?0:void 0),ii=uo(ri.borderWidth);return{text:Gr[ei.index].label,fillStyle:ri.backgroundColor,fontColor:Jr,hidden:!ei.visible,lineCap:ri.borderCapStyle,lineDash:ri.borderDash,lineDashOffset:ri.borderDashOffset,lineJoin:ri.borderJoinStyle,lineWidth:(ii.width+ii.height)/4,strokeStyle:ri.borderColor,pointStyle:Zr||ri.pointStyle,rotation:ri.rotation,textAlign:Kr||ri.textAlign,borderRadius:Qr&&(ti||ri.borderRadius),datasetIndex:ei.index}},this)}},title:{color:Yr=>Yr.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:Yr=>!Yr.startsWith("on"),labels:{_scriptable:Yr=>!["generateLabels","filter","sort"].includes(Yr)}}},rg=class extends bl{constructor(Gr){super(),this.chart=Gr.chart,this.options=Gr.options,this.ctx=Gr.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Gr,Wr){let Zr=this.options;if(this.left=0,this.top=0,!Zr.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=Gr,this.height=this.bottom=Wr;let Kr=ca(Zr.text)?Zr.text.length:1;this._padding=uo(Zr.padding);let Jr=Kr*Na(Zr.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=Jr:this.width=Jr}isHorizontal(){let Gr=this.options.position;return Gr==="top"||Gr==="bottom"}_drawArgs(Gr){let{top:Wr,left:Zr,bottom:Kr,right:Jr,options:Qr}=this,ti=Qr.align,ei=0,ri,ii,ni;return this.isHorizontal()?(ii=lo(ti,Zr,Jr),ni=Wr+Gr,ri=Jr-Zr):(Qr.position==="left"?(ii=Zr+Gr,ni=lo(ti,Kr,Wr),ei=pa*-.5):(ii=Jr-Gr,ni=lo(ti,Wr,Kr),ei=pa*.5),ri=Kr-Wr),{titleX:ii,titleY:ni,maxWidth:ri,rotation:ei}}draw(){let Gr=this.ctx,Wr=this.options;if(!Wr.display)return;let Zr=Na(Wr.font),Jr=Zr.lineHeight/2+this._padding.top,{titleX:Qr,titleY:ti,maxWidth:ei,rotation:ri}=this._drawArgs(Jr);Wf(Gr,Wr.text,0,0,Zr,{color:Wr.color,maxWidth:ei,rotation:ri,textAlign:ab(Wr.align),textBaseline:"middle",translation:[Qr,ti]})}};function aut(Yr,Gr){let Wr=new rg({ctx:Yr.ctx,options:Gr,chart:Yr});xo.configure(Yr,Wr,Gr),xo.addBox(Yr,Wr),Yr.titleBlock=Wr}var out={id:"title",_element:rg,start(Yr,Gr,Wr){aut(Yr,Wr)},stop(Yr){let Gr=Yr.titleBlock;xo.removeBox(Yr,Gr),delete Yr.titleBlock},beforeUpdate(Yr,Gr,Wr){let Zr=Yr.titleBlock;xo.configure(Yr,Zr,Wr),Zr.options=Wr},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},yb=new WeakMap,sut={id:"subtitle",start(Yr,Gr,Wr){let Zr=new rg({ctx:Yr.ctx,options:Wr,chart:Yr});xo.configure(Yr,Zr,Wr),xo.addBox(Yr,Zr),yb.set(Yr,Zr)},stop(Yr){xo.removeBox(Yr,yb.get(Yr)),yb.delete(Yr)},beforeUpdate(Yr,Gr,Wr){let Zr=yb.get(Yr);xo.configure(Yr,Zr,Wr),Zr.options=Wr},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Qm={average(Yr){if(!Yr.length)return!1;let Gr,Wr,Zr=new Set,Kr=0,Jr=0;for(Gr=0,Wr=Yr.length;Gr<Wr;++Gr){let ti=Yr[Gr].element;if(ti&&ti.hasValue()){let ei=ti.tooltipPosition();Zr.add(ei.x),Kr+=ei.y,++Jr}}return{x:[...Zr].reduce((ti,ei)=>ti+ei)/Zr.size,y:Kr/Jr}},nearest(Yr,Gr){if(!Yr.length)return!1;let Wr=Gr.x,Zr=Gr.y,Kr=Number.POSITIVE_INFINITY,Jr,Qr,ti;for(Jr=0,Qr=Yr.length;Jr<Qr;++Jr){let ei=Yr[Jr].element;if(ei&&ei.hasValue()){let ri=ei.getCenterPoint(),ii=tb(Gr,ri);ii<Kr&&(Kr=ii,ti=ei)}}if(ti){let ei=ti.tooltipPosition();Wr=ei.x,Zr=ei.y}return{x:Wr,y:Zr}}};function tu(Yr,Gr){return Gr&&(ca(Gr)?Array.prototype.push.apply(Yr,Gr):Yr.push(Gr)),Yr}function zu(Yr){return(typeof Yr=="string"||Yr instanceof String)&&Yr.indexOf(`
`)>-1?Yr.split(`
`):Yr}function lut(Yr,Gr){let{element:Wr,datasetIndex:Zr,index:Kr}=Gr,Jr=Yr.getDatasetMeta(Zr).controller,{label:Qr,value:ti}=Jr.getLabelAndValue(Kr);return{chart:Yr,label:Qr,parsed:Jr.getParsed(Kr),raw:Yr.data.datasets[Zr].data[Kr],formattedValue:ti,dataset:Jr.getDataset(),dataIndex:Kr,datasetIndex:Zr,element:Wr}}function _4(Yr,Gr){let Wr=Yr.chart.ctx,{body:Zr,footer:Kr,title:Jr}=Yr,{boxWidth:Qr,boxHeight:ti}=Gr,ei=Na(Gr.bodyFont),ri=Na(Gr.titleFont),ii=Na(Gr.footerFont),ni=Jr.length,ai=Kr.length,oi=Zr.length,si=uo(Gr.padding),li=si.height,ui=0,fi=Zr.reduce((pi,di)=>pi+di.before.length+di.lines.length+di.after.length,0);if(fi+=Yr.beforeBody.length+Yr.afterBody.length,ni&&(li+=ni*ri.lineHeight+(ni-1)*Gr.titleSpacing+Gr.titleMarginBottom),fi){let pi=Gr.displayColors?Math.max(ti,ei.lineHeight):ei.lineHeight;li+=oi*pi+(fi-oi)*ei.lineHeight+(fi-1)*Gr.bodySpacing}ai&&(li+=Gr.footerMarginTop+ai*ii.lineHeight+(ai-1)*Gr.footerSpacing);let hi=0,ci=function(pi){ui=Math.max(ui,Wr.measureText(pi).width+hi)};return Wr.save(),Wr.font=ri.string,na(Yr.title,ci),Wr.font=ei.string,na(Yr.beforeBody.concat(Yr.afterBody),ci),hi=Gr.displayColors?Qr+2+Gr.boxPadding:0,na(Zr,pi=>{na(pi.before,ci),na(pi.lines,ci),na(pi.after,ci)}),hi=0,Wr.font=ii.string,na(Yr.footer,ci),Wr.restore(),ui+=si.width,{width:ui,height:li}}function uut(Yr,Gr){let{y:Wr,height:Zr}=Gr;return Wr<Zr/2?"top":Wr>Yr.height-Zr/2?"bottom":"center"}function fut(Yr,Gr,Wr,Zr){let{x:Kr,width:Jr}=Zr,Qr=Wr.caretSize+Wr.caretPadding;if(Yr==="left"&&Kr+Jr+Qr>Gr.width||Yr==="right"&&Kr-Jr-Qr<0)return!0}function hut(Yr,Gr,Wr,Zr){let{x:Kr,width:Jr}=Wr,{width:Qr,chartArea:{left:ti,right:ei}}=Yr,ri="center";return Zr==="center"?ri=Kr<=(ti+ei)/2?"left":"right":Kr<=Jr/2?ri="left":Kr>=Qr-Jr/2&&(ri="right"),fut(ri,Yr,Gr,Wr)&&(ri="center"),ri}function b4(Yr,Gr,Wr){let Zr=Wr.yAlign||Gr.yAlign||uut(Yr,Wr);return{xAlign:Wr.xAlign||Gr.xAlign||hut(Yr,Gr,Wr,Zr),yAlign:Zr}}function cut(Yr,Gr){let{x:Wr,width:Zr}=Yr;return Gr==="right"?Wr-=Zr:Gr==="center"&&(Wr-=Zr/2),Wr}function put(Yr,Gr,Wr){let{y:Zr,height:Kr}=Yr;return Gr==="top"?Zr+=Wr:Gr==="bottom"?Zr-=Kr+Wr:Zr-=Kr/2,Zr}function S4(Yr,Gr,Wr,Zr){let{caretSize:Kr,caretPadding:Jr,cornerRadius:Qr}=Yr,{xAlign:ti,yAlign:ei}=Wr,ri=Kr+Jr,{topLeft:ii,topRight:ni,bottomLeft:ai,bottomRight:oi}=Yf(Qr),si=cut(Gr,ti),li=put(Gr,ei,ri);return ei==="center"?ti==="left"?si+=ri:ti==="right"&&(si-=ri):ti==="left"?si-=Math.max(ii,ai)+Kr:ti==="right"&&(si+=Math.max(ni,oi)+Kr),{x:Xa(si,0,Zr.width-Gr.width),y:Xa(li,0,Zr.height-Gr.height)}}function xb(Yr,Gr,Wr){let Zr=uo(Wr.padding);return Gr==="center"?Yr.x+Yr.width/2:Gr==="right"?Yr.x+Yr.width-Zr.right:Yr.x+Zr.left}function w4(Yr){return tu([],zu(Yr))}function dut(Yr,Gr,Wr){return Ru(Yr,{tooltip:Gr,tooltipItems:Wr,type:"tooltip"})}function C4(Yr,Gr){let Wr=Gr&&Gr.dataset&&Gr.dataset.tooltip&&Gr.dataset.tooltip.callbacks;return Wr?Yr.override(Wr):Yr}var Q4={beforeTitle:Jl,title(Yr){if(Yr.length>0){let Gr=Yr[0],Wr=Gr.chart.data.labels,Zr=Wr?Wr.length:0;if(this&&this.options&&this.options.mode==="dataset")return Gr.dataset.label||"";if(Gr.label)return Gr.label;if(Zr>0&&Gr.dataIndex<Zr)return Wr[Gr.dataIndex]}return""},afterTitle:Jl,beforeBody:Jl,beforeLabel:Jl,label(Yr){if(this&&this.options&&this.options.mode==="dataset")return Yr.label+": "+Yr.formattedValue||Yr.formattedValue;let Gr=Yr.dataset.label||"";Gr&&(Gr+=": ");let Wr=Yr.formattedValue;return Xn(Wr)||(Gr+=Wr),Gr},labelColor(Yr){let Wr=Yr.chart.getDatasetMeta(Yr.datasetIndex).controller.getStyle(Yr.dataIndex);return{borderColor:Wr.borderColor,backgroundColor:Wr.backgroundColor,borderWidth:Wr.borderWidth,borderDash:Wr.borderDash,borderDashOffset:Wr.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(Yr){let Wr=Yr.chart.getDatasetMeta(Yr.datasetIndex).controller.getStyle(Yr.dataIndex);return{pointStyle:Wr.pointStyle,rotation:Wr.rotation}},afterLabel:Jl,afterBody:Jl,beforeFooter:Jl,footer:Jl,afterFooter:Jl};function es(Yr,Gr,Wr,Zr){let Kr=Yr[Gr].call(Wr,Zr);return typeof Kr>"u"?Q4[Gr].call(Wr,Zr):Kr}var Db=class extends bl{static positioners=Qm;constructor(Gr){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=Gr.chart,this.options=Gr.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(Gr){this.options=Gr,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let Gr=this._cachedAnimations;if(Gr)return Gr;let Wr=this.chart,Zr=this.options.setContext(this.getContext()),Kr=Zr.enabled&&Wr.options.animation&&Zr.animations,Jr=new wb(this.chart,Kr);return Kr._cacheable&&(this._cachedAnimations=Object.freeze(Jr)),Jr}getContext(){return this.$context||(this.$context=dut(this.chart.getContext(),this,this._tooltipItems))}getTitle(Gr,Wr){let{callbacks:Zr}=Wr,Kr=es(Zr,"beforeTitle",this,Gr),Jr=es(Zr,"title",this,Gr),Qr=es(Zr,"afterTitle",this,Gr),ti=[];return ti=tu(ti,zu(Kr)),ti=tu(ti,zu(Jr)),ti=tu(ti,zu(Qr)),ti}getBeforeBody(Gr,Wr){return w4(es(Wr.callbacks,"beforeBody",this,Gr))}getBody(Gr,Wr){let{callbacks:Zr}=Wr,Kr=[];return na(Gr,Jr=>{let Qr={before:[],lines:[],after:[]},ti=C4(Zr,Jr);tu(Qr.before,zu(es(ti,"beforeLabel",this,Jr))),tu(Qr.lines,es(ti,"label",this,Jr)),tu(Qr.after,zu(es(ti,"afterLabel",this,Jr))),Kr.push(Qr)}),Kr}getAfterBody(Gr,Wr){return w4(es(Wr.callbacks,"afterBody",this,Gr))}getFooter(Gr,Wr){let{callbacks:Zr}=Wr,Kr=es(Zr,"beforeFooter",this,Gr),Jr=es(Zr,"footer",this,Gr),Qr=es(Zr,"afterFooter",this,Gr),ti=[];return ti=tu(ti,zu(Kr)),ti=tu(ti,zu(Jr)),ti=tu(ti,zu(Qr)),ti}_createItems(Gr){let Wr=this._active,Zr=this.chart.data,Kr=[],Jr=[],Qr=[],ti=[],ei,ri;for(ei=0,ri=Wr.length;ei<ri;++ei)ti.push(lut(this.chart,Wr[ei]));return Gr.filter&&(ti=ti.filter((ii,ni,ai)=>Gr.filter(ii,ni,ai,Zr))),Gr.itemSort&&(ti=ti.sort((ii,ni)=>Gr.itemSort(ii,ni,Zr))),na(ti,ii=>{let ni=C4(Gr.callbacks,ii);Kr.push(es(ni,"labelColor",this,ii)),Jr.push(es(ni,"labelPointStyle",this,ii)),Qr.push(es(ni,"labelTextColor",this,ii))}),this.labelColors=Kr,this.labelPointStyles=Jr,this.labelTextColors=Qr,this.dataPoints=ti,ti}update(Gr,Wr){let Zr=this.options.setContext(this.getContext()),Kr=this._active,Jr,Qr=[];if(!Kr.length)this.opacity!==0&&(Jr={opacity:0});else{let ti=Qm[Zr.position].call(this,Kr,this._eventPosition);Qr=this._createItems(Zr),this.title=this.getTitle(Qr,Zr),this.beforeBody=this.getBeforeBody(Qr,Zr),this.body=this.getBody(Qr,Zr),this.afterBody=this.getAfterBody(Qr,Zr),this.footer=this.getFooter(Qr,Zr);let ei=this._size=_4(this,Zr),ri=Object.assign({},ti,ei),ii=b4(this.chart,Zr,ri),ni=S4(Zr,ri,ii,this.chart);this.xAlign=ii.xAlign,this.yAlign=ii.yAlign,Jr={opacity:1,x:ni.x,y:ni.y,width:ei.width,height:ei.height,caretX:ti.x,caretY:ti.y}}this._tooltipItems=Qr,this.$context=void 0,Jr&&this._resolveAnimations().update(this,Jr),Gr&&Zr.external&&Zr.external.call(this,{chart:this.chart,tooltip:this,replay:Wr})}drawCaret(Gr,Wr,Zr,Kr){let Jr=this.getCaretPosition(Gr,Zr,Kr);Wr.lineTo(Jr.x1,Jr.y1),Wr.lineTo(Jr.x2,Jr.y2),Wr.lineTo(Jr.x3,Jr.y3)}getCaretPosition(Gr,Wr,Zr){let{xAlign:Kr,yAlign:Jr}=this,{caretSize:Qr,cornerRadius:ti}=Zr,{topLeft:ei,topRight:ri,bottomLeft:ii,bottomRight:ni}=Yf(ti),{x:ai,y:oi}=Gr,{width:si,height:li}=Wr,ui,fi,hi,ci,pi,di;return Jr==="center"?(pi=oi+li/2,Kr==="left"?(ui=ai,fi=ui-Qr,ci=pi+Qr,di=pi-Qr):(ui=ai+si,fi=ui+Qr,ci=pi-Qr,di=pi+Qr),hi=ui):(Kr==="left"?fi=ai+Math.max(ei,ii)+Qr:Kr==="right"?fi=ai+si-Math.max(ri,ni)-Qr:fi=this.caretX,Jr==="top"?(ci=oi,pi=ci-Qr,ui=fi-Qr,hi=fi+Qr):(ci=oi+li,pi=ci+Qr,ui=fi+Qr,hi=fi-Qr),di=ci),{x1:ui,x2:fi,x3:hi,y1:ci,y2:pi,y3:di}}drawTitle(Gr,Wr,Zr){let Kr=this.title,Jr=Kr.length,Qr,ti,ei;if(Jr){let ri=mc(Zr.rtl,this.x,this.width);for(Gr.x=xb(this,Zr.titleAlign,Zr),Wr.textAlign=ri.textAlign(Zr.titleAlign),Wr.textBaseline="middle",Qr=Na(Zr.titleFont),ti=Zr.titleSpacing,Wr.fillStyle=Zr.titleColor,Wr.font=Qr.string,ei=0;ei<Jr;++ei)Wr.fillText(Kr[ei],ri.x(Gr.x),Gr.y+Qr.lineHeight/2),Gr.y+=Qr.lineHeight+ti,ei+1===Jr&&(Gr.y+=Zr.titleMarginBottom-ti)}}_drawColorBox(Gr,Wr,Zr,Kr,Jr){let Qr=this.labelColors[Zr],ti=this.labelPointStyles[Zr],{boxHeight:ei,boxWidth:ri}=Jr,ii=Na(Jr.bodyFont),ni=xb(this,"left",Jr),ai=Kr.x(ni),oi=ei<ii.lineHeight?(ii.lineHeight-ei)/2:0,si=Wr.y+oi;if(Jr.usePointStyle){let li={radius:Math.min(ri,ei)/2,pointStyle:ti.pointStyle,rotation:ti.rotation,borderWidth:1},ui=Kr.leftForLtr(ai,ri)+ri/2,fi=si+ei/2;Gr.strokeStyle=Jr.multiKeyBackground,Gr.fillStyle=Jr.multiKeyBackground,lb(Gr,li,ui,fi),Gr.strokeStyle=Qr.borderColor,Gr.fillStyle=Qr.backgroundColor,lb(Gr,li,ui,fi)}else{Gr.lineWidth=Un(Qr.borderWidth)?Math.max(...Object.values(Qr.borderWidth)):Qr.borderWidth||1,Gr.strokeStyle=Qr.borderColor,Gr.setLineDash(Qr.borderDash||[]),Gr.lineDashOffset=Qr.borderDashOffset||0;let li=Kr.leftForLtr(ai,ri),ui=Kr.leftForLtr(Kr.xPlus(ai,1),ri-2),fi=Yf(Qr.borderRadius);Object.values(fi).some(hi=>hi!==0)?(Gr.beginPath(),Gr.fillStyle=Jr.multiKeyBackground,cd(Gr,{x:li,y:si,w:ri,h:ei,radius:fi}),Gr.fill(),Gr.stroke(),Gr.fillStyle=Qr.backgroundColor,Gr.beginPath(),cd(Gr,{x:ui,y:si+1,w:ri-2,h:ei-2,radius:fi}),Gr.fill()):(Gr.fillStyle=Jr.multiKeyBackground,Gr.fillRect(li,si,ri,ei),Gr.strokeRect(li,si,ri,ei),Gr.fillStyle=Qr.backgroundColor,Gr.fillRect(ui,si+1,ri-2,ei-2))}Gr.fillStyle=this.labelTextColors[Zr]}drawBody(Gr,Wr,Zr){let{body:Kr}=this,{bodySpacing:Jr,bodyAlign:Qr,displayColors:ti,boxHeight:ei,boxWidth:ri,boxPadding:ii}=Zr,ni=Na(Zr.bodyFont),ai=ni.lineHeight,oi=0,si=mc(Zr.rtl,this.x,this.width),li=function(gi){Wr.fillText(gi,si.x(Gr.x+oi),Gr.y+ai/2),Gr.y+=ai+Jr},ui=si.textAlign(Qr),fi,hi,ci,pi,di,vi,mi;for(Wr.textAlign=Qr,Wr.textBaseline="middle",Wr.font=ni.string,Gr.x=xb(this,ui,Zr),Wr.fillStyle=Zr.bodyColor,na(this.beforeBody,li),oi=ti&&ui!=="right"?Qr==="center"?ri/2+ii:ri+2+ii:0,pi=0,vi=Kr.length;pi<vi;++pi){for(fi=Kr[pi],hi=this.labelTextColors[pi],Wr.fillStyle=hi,na(fi.before,li),ci=fi.lines,ti&&ci.length&&(this._drawColorBox(Wr,Gr,pi,si,Zr),ai=Math.max(ni.lineHeight,ei)),di=0,mi=ci.length;di<mi;++di)li(ci[di]),ai=ni.lineHeight;na(fi.after,li)}oi=0,ai=ni.lineHeight,na(this.afterBody,li),Gr.y-=Jr}drawFooter(Gr,Wr,Zr){let Kr=this.footer,Jr=Kr.length,Qr,ti;if(Jr){let ei=mc(Zr.rtl,this.x,this.width);for(Gr.x=xb(this,Zr.footerAlign,Zr),Gr.y+=Zr.footerMarginTop,Wr.textAlign=ei.textAlign(Zr.footerAlign),Wr.textBaseline="middle",Qr=Na(Zr.footerFont),Wr.fillStyle=Zr.footerColor,Wr.font=Qr.string,ti=0;ti<Jr;++ti)Wr.fillText(Kr[ti],ei.x(Gr.x),Gr.y+Qr.lineHeight/2),Gr.y+=Qr.lineHeight+Zr.footerSpacing}}drawBackground(Gr,Wr,Zr,Kr){let{xAlign:Jr,yAlign:Qr}=this,{x:ti,y:ei}=Gr,{width:ri,height:ii}=Zr,{topLeft:ni,topRight:ai,bottomLeft:oi,bottomRight:si}=Yf(Kr.cornerRadius);Wr.fillStyle=Kr.backgroundColor,Wr.strokeStyle=Kr.borderColor,Wr.lineWidth=Kr.borderWidth,Wr.beginPath(),Wr.moveTo(ti+ni,ei),Qr==="top"&&this.drawCaret(Gr,Wr,Zr,Kr),Wr.lineTo(ti+ri-ai,ei),Wr.quadraticCurveTo(ti+ri,ei,ti+ri,ei+ai),Qr==="center"&&Jr==="right"&&this.drawCaret(Gr,Wr,Zr,Kr),Wr.lineTo(ti+ri,ei+ii-si),Wr.quadraticCurveTo(ti+ri,ei+ii,ti+ri-si,ei+ii),Qr==="bottom"&&this.drawCaret(Gr,Wr,Zr,Kr),Wr.lineTo(ti+oi,ei+ii),Wr.quadraticCurveTo(ti,ei+ii,ti,ei+ii-oi),Qr==="center"&&Jr==="left"&&this.drawCaret(Gr,Wr,Zr,Kr),Wr.lineTo(ti,ei+ni),Wr.quadraticCurveTo(ti,ei,ti+ni,ei),Wr.closePath(),Wr.fill(),Kr.borderWidth>0&&Wr.stroke()}_updateAnimationTarget(Gr){let Wr=this.chart,Zr=this.$animations,Kr=Zr&&Zr.x,Jr=Zr&&Zr.y;if(Kr||Jr){let Qr=Qm[Gr.position].call(this,this._active,this._eventPosition);if(!Qr)return;let ti=this._size=_4(this,Gr),ei=Object.assign({},Qr,this._size),ri=b4(Wr,Gr,ei),ii=S4(Gr,ei,ri,Wr);(Kr._to!==ii.x||Jr._to!==ii.y)&&(this.xAlign=ri.xAlign,this.yAlign=ri.yAlign,this.width=ti.width,this.height=ti.height,this.caretX=Qr.x,this.caretY=Qr.y,this._resolveAnimations().update(this,ii))}}_willRender(){return!!this.opacity}draw(Gr){let Wr=this.options.setContext(this.getContext()),Zr=this.opacity;if(!Zr)return;this._updateAnimationTarget(Wr);let Kr={width:this.width,height:this.height},Jr={x:this.x,y:this.y};Zr=Math.abs(Zr)<.001?0:Zr;let Qr=uo(Wr.padding),ti=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;Wr.enabled&&ti&&(Gr.save(),Gr.globalAlpha=Zr,this.drawBackground(Jr,Gr,Kr,Wr),_E(Gr,Wr.textDirection),Jr.y+=Qr.top,this.drawTitle(Jr,Gr,Wr),this.drawBody(Jr,Gr,Wr),this.drawFooter(Jr,Gr,Wr),bE(Gr,Wr.textDirection),Gr.restore())}getActiveElements(){return this._active||[]}setActiveElements(Gr,Wr){let Zr=this._active,Kr=Gr.map(({datasetIndex:ti,index:ei})=>{let ri=this.chart.getDatasetMeta(ti);if(!ri)throw new Error("Cannot find a dataset at index "+ti);return{datasetIndex:ti,element:ri.data[ei],index:ei}}),Jr=!Hm(Zr,Kr),Qr=this._positionChanged(Kr,Wr);(Jr||Qr)&&(this._active=Kr,this._eventPosition=Wr,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(Gr,Wr,Zr=!0){if(Wr&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let Kr=this.options,Jr=this._active||[],Qr=this._getActiveElements(Gr,Jr,Wr,Zr),ti=this._positionChanged(Qr,Gr),ei=Wr||!Hm(Qr,Jr)||ti;return ei&&(this._active=Qr,(Kr.enabled||Kr.external)&&(this._eventPosition={x:Gr.x,y:Gr.y},this.update(!0,Wr))),ei}_getActiveElements(Gr,Wr,Zr,Kr){let Jr=this.options;if(Gr.type==="mouseout")return[];if(!Kr)return Wr.filter(ti=>this.chart.data.datasets[ti.datasetIndex]&&this.chart.getDatasetMeta(ti.datasetIndex).controller.getParsed(ti.index)!==void 0);let Qr=this.chart.getElementsAtEventForMode(Gr,Jr.mode,Jr,Zr);return Jr.reverse&&Qr.reverse(),Qr}_positionChanged(Gr,Wr){let{caretX:Zr,caretY:Kr,options:Jr}=this,Qr=Qm[Jr.position].call(this,Gr,Wr);return Qr!==!1&&(Zr!==Qr.x||Kr!==Qr.y)}},vut={id:"tooltip",_element:Db,positioners:Qm,afterInit(Yr,Gr,Wr){Wr&&(Yr.tooltip=new Db({chart:Yr,options:Wr}))},beforeUpdate(Yr,Gr,Wr){Yr.tooltip&&Yr.tooltip.initialize(Wr)},reset(Yr,Gr,Wr){Yr.tooltip&&Yr.tooltip.initialize(Wr)},afterDraw(Yr){let Gr=Yr.tooltip;if(Gr&&Gr._willRender()){let Wr={tooltip:Gr};if(Yr.notifyPlugins("beforeTooltipDraw",{...Wr,cancelable:!0})===!1)return;Gr.draw(Yr.ctx),Yr.notifyPlugins("afterTooltipDraw",Wr)}},afterEvent(Yr,Gr){if(Yr.tooltip){let Wr=Gr.replay;Yr.tooltip.handleEvent(Gr.event,Wr,Gr.inChartArea)&&(Gr.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(Yr,Gr)=>Gr.bodyFont.size,boxWidth:(Yr,Gr)=>Gr.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Q4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:Yr=>Yr!=="filter"&&Yr!=="itemSort"&&Yr!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mut=Object.freeze({__proto__:null,Colors:Plt,Decimation:Llt,Filler:Jlt,Legend:nut,SubTitle:sut,Title:out,Tooltip:vut}),gut=(Yr,Gr,Wr,Zr)=>(typeof Gr=="string"?(Wr=Yr.push(Gr)-1,Zr.unshift({index:Wr,label:Gr})):isNaN(Gr)&&(Wr=null),Wr);function yut(Yr,Gr,Wr,Zr){let Kr=Yr.indexOf(Gr);if(Kr===-1)return gut(Yr,Gr,Wr,Zr);let Jr=Yr.lastIndexOf(Gr);return Kr!==Jr?Wr:Kr}var xut=(Yr,Gr)=>Yr===null?null:Xa(Math.round(Yr),0,Gr);function T4(Yr){let Gr=this.getLabels();return Yr>=0&&Yr<Gr.length?Gr[Yr]:Yr}var eD=class extends xc{static id="category";static defaults={ticks:{callback:T4}};constructor(Gr){super(Gr),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(Gr){let Wr=this._addedLabels;if(Wr.length){let Zr=this.getLabels();for(let{index:Kr,label:Jr}of Wr)Zr[Kr]===Jr&&Zr.splice(Kr,1);this._addedLabels=[]}super.init(Gr)}parse(Gr,Wr){if(Xn(Gr))return null;let Zr=this.getLabels();return Wr=isFinite(Wr)&&Zr[Wr]===Gr?Wr:yut(Zr,Gr,zn(Wr,Gr),this._addedLabels),xut(Wr,Zr.length-1)}determineDataLimits(){let{minDefined:Gr,maxDefined:Wr}=this.getUserBounds(),{min:Zr,max:Kr}=this.getMinMax(!0);this.options.bounds==="ticks"&&(Gr||(Zr=0),Wr||(Kr=this.getLabels().length-1)),this.min=Zr,this.max=Kr}buildTicks(){let Gr=this.min,Wr=this.max,Zr=this.options.offset,Kr=[],Jr=this.getLabels();Jr=Gr===0&&Wr===Jr.length-1?Jr:Jr.slice(Gr,Wr+1),this._valueRange=Math.max(Jr.length-(Zr?0:1),1),this._startValue=this.min-(Zr?.5:0);for(let Qr=Gr;Qr<=Wr;Qr++)Kr.push({value:Qr});return Kr}getLabelForValue(Gr){return T4.call(this,Gr)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(Gr){return typeof Gr!="number"&&(Gr=this.parse(Gr)),Gr===null?NaN:this.getPixelForDecimal((Gr-this._startValue)/this._valueRange)}getPixelForTick(Gr){let Wr=this.ticks;return Gr<0||Gr>Wr.length-1?null:this.getPixelForValue(Wr[Gr].value)}getValueForPixel(Gr){return Math.round(this._startValue+this.getDecimalForPixel(Gr)*this._valueRange)}getBasePixel(){return this.bottom}};function _ut(Yr,Gr){let Wr=[],{bounds:Kr,step:Jr,min:Qr,max:ti,precision:ei,count:ri,maxTicks:ii,maxDigits:ni,includeBounds:ai}=Yr,oi=Jr||1,si=ii-1,{min:li,max:ui}=Gr,fi=!Xn(Qr),hi=!Xn(ti),ci=!Xn(ri),pi=(ui-li)/(ni+1),di=QP((ui-li)/si/oi)*oi,vi,mi,gi,yi;if(di<1e-14&&!fi&&!hi)return[{value:li},{value:ui}];yi=Math.ceil(ui/di)-Math.floor(li/di),yi>si&&(di=QP(yi*di/si/oi)*oi),Xn(ei)||(vi=Math.pow(10,ei),di=Math.ceil(di*vi)/vi),Kr==="ticks"?(mi=Math.floor(li/di)*di,gi=Math.ceil(ui/di)*di):(mi=li,gi=ui),fi&&hi&&Jr&&hW((ti-Qr)/Jr,di/1e3)?(yi=Math.round(Math.min((ti-Qr)/di,ii)),di=(ti-Qr)/yi,mi=Qr,gi=ti):ci?(mi=fi?Qr:mi,gi=hi?ti:gi,yi=ri-1,di=(gi-mi)/yi):(yi=(gi-mi)/di,ud(yi,Math.round(yi),di/1e3)?yi=Math.round(yi):yi=Math.ceil(yi));let Si=Math.max(eE(di),eE(mi));vi=Math.pow(10,Xn(ei)?Si:ei),mi=Math.round(mi*vi)/vi,gi=Math.round(gi*vi)/vi;let bi=0;for(fi&&(ai&&mi!==Qr?(Wr.push({value:Qr}),mi<Qr&&bi++,ud(Math.round((mi+bi*di)*vi)/vi,Qr,A4(Qr,pi,Yr))&&bi++):mi<Qr&&bi++);bi<yi;++bi){let Ti=Math.round((mi+bi*di)*vi)/vi;if(hi&&Ti>ti)break;Wr.push({value:Ti})}return hi&&ai&&gi!==ti?Wr.length&&ud(Wr[Wr.length-1].value,ti,A4(ti,pi,Yr))?Wr[Wr.length-1].value=ti:Wr.push({value:ti}):(!hi||gi===ti)&&Wr.push({value:gi}),Wr}function A4(Yr,Gr,{horizontal:Wr,minRotation:Zr}){let Kr=Ws(Zr),Jr=(Wr?Math.sin(Kr):Math.cos(Kr))||.001,Qr=.75*Gr*(""+Yr).length;return Math.min(Gr/Jr,Qr)}var yd=class extends xc{constructor(Gr){super(Gr),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(Gr,Wr){return Xn(Gr)||(typeof Gr=="number"||Gr instanceof Number)&&!isFinite(+Gr)?null:+Gr}handleTickRangeOptions(){let{beginAtZero:Gr}=this.options,{minDefined:Wr,maxDefined:Zr}=this.getUserBounds(),{min:Kr,max:Jr}=this,Qr=ei=>Kr=Wr?Kr:ei,ti=ei=>Jr=Zr?Jr:ei;if(Gr){let ei=_l(Kr),ri=_l(Jr);ei<0&&ri<0?ti(0):ei>0&&ri>0&&Qr(0)}if(Kr===Jr){let ei=Jr===0?1:Math.abs(Jr*.05);ti(Jr+ei),Gr||Qr(Kr-ei)}this.min=Kr,this.max=Jr}getTickLimit(){let Gr=this.options.ticks,{maxTicksLimit:Wr,stepSize:Zr}=Gr,Kr;return Zr?(Kr=Math.ceil(this.max/Zr)-Math.floor(this.min/Zr)+1,Kr>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${Zr} would result generating up to ${Kr} ticks. Limiting to 1000.`),Kr=1e3)):(Kr=this.computeTickLimit(),Wr=Wr||11),Wr&&(Kr=Math.min(Wr,Kr)),Kr}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let Gr=this.options,Wr=Gr.ticks,Zr=this.getTickLimit();Zr=Math.max(2,Zr);let Kr={maxTicks:Zr,bounds:Gr.bounds,min:Gr.min,max:Gr.max,precision:Wr.precision,step:Wr.stepSize,count:Wr.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:Wr.minRotation||0,includeBounds:Wr.includeBounds!==!1},Jr=this._range||this,Qr=_ut(Kr,Jr);return Gr.bounds==="ticks"&&tE(Qr,this,"value"),Gr.reverse?(Qr.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Qr}configure(){let Gr=this.ticks,Wr=this.min,Zr=this.max;if(super.configure(),this.options.offset&&Gr.length){let Kr=(Zr-Wr)/Math.max(Gr.length-1,1)/2;Wr-=Kr,Zr+=Kr}this._startValue=Wr,this._endValue=Zr,this._valueRange=Zr-Wr}getLabelForValue(Gr){return hd(Gr,this.chart.options.locale,this.options.ticks.format)}},rD=class extends yd{static id="linear";static defaults={ticks:{callback:Wm.formatters.numeric}};determineDataLimits(){let{min:Gr,max:Wr}=this.getMinMax(!0);this.min=wa(Gr)?Gr:0,this.max=wa(Wr)?Wr:1,this.handleTickRangeOptions()}computeTickLimit(){let Gr=this.isHorizontal(),Wr=Gr?this.width:this.height,Zr=Ws(this.options.ticks.minRotation),Kr=(Gr?Math.sin(Zr):Math.cos(Zr))||.001,Jr=this._resolveTickFontOptions(0);return Math.ceil(Wr/Math.min(40,Jr.lineHeight/Kr))}getPixelForValue(Gr){return Gr===null?NaN:this.getPixelForDecimal((Gr-this._startValue)/this._valueRange)}getValueForPixel(Gr){return this._startValue+this.getDecimalForPixel(Gr)*this._valueRange}},ig=Yr=>Math.floor(Lu(Yr)),yc=(Yr,Gr)=>Math.pow(10,ig(Yr)+Gr);function M4(Yr){return Yr/Math.pow(10,ig(Yr))===1}function P4(Yr,Gr,Wr){let Zr=Math.pow(10,Wr),Kr=Math.floor(Yr/Zr);return Math.ceil(Gr/Zr)-Kr}function but(Yr,Gr){let Wr=Gr-Yr,Zr=ig(Wr);for(;P4(Yr,Gr,Zr)>10;)Zr++;for(;P4(Yr,Gr,Zr)<10;)Zr--;return Math.min(Zr,ig(Yr))}function Sut(Yr,{min:Gr,max:Wr}){Gr=ts(Yr.min,Gr);let Zr=[],Kr=ig(Gr),Jr=but(Gr,Wr),Qr=Jr<0?Math.pow(10,Math.abs(Jr)):1,ti=Math.pow(10,Jr),ei=Kr>Jr?Math.pow(10,Kr):0,ri=Math.round((Gr-ei)*Qr)/Qr,ii=Math.floor((Gr-ei)/ti/10)*ti*10,ni=Math.floor((ri-ii)/Math.pow(10,Jr)),ai=ts(Yr.min,Math.round((ei+ii+ni*Math.pow(10,Jr))*Qr)/Qr);for(;ai<Wr;)Zr.push({value:ai,major:M4(ai),significand:ni}),ni>=10?ni=ni<15?15:20:ni++,ni>=20&&(Jr++,ni=2,Qr=Jr>=0?1:Qr),ai=Math.round((ei+ii+ni*Math.pow(10,Jr))*Qr)/Qr;let oi=ts(Yr.max,ai);return Zr.push({value:oi,major:M4(oi),significand:ni}),Zr}var iD=class extends xc{static id="logarithmic";static defaults={ticks:{callback:Wm.formatters.logarithmic,major:{enabled:!0}}};constructor(Gr){super(Gr),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(Gr,Wr){let Zr=yd.prototype.parse.apply(this,[Gr,Wr]);if(Zr===0){this._zero=!0;return}return wa(Zr)&&Zr>0?Zr:null}determineDataLimits(){let{min:Gr,max:Wr}=this.getMinMax(!0);this.min=wa(Gr)?Math.max(0,Gr):null,this.max=wa(Wr)?Math.max(0,Wr):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!wa(this._userMin)&&(this.min=Gr===yc(this.min,0)?yc(this.min,-1):yc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:Gr,maxDefined:Wr}=this.getUserBounds(),Zr=this.min,Kr=this.max,Jr=ti=>Zr=Gr?Zr:ti,Qr=ti=>Kr=Wr?Kr:ti;Zr===Kr&&(Zr<=0?(Jr(1),Qr(10)):(Jr(yc(Zr,-1)),Qr(yc(Kr,1)))),Zr<=0&&Jr(yc(Kr,-1)),Kr<=0&&Qr(yc(Zr,1)),this.min=Zr,this.max=Kr}buildTicks(){let Gr=this.options,Wr={min:this._userMin,max:this._userMax},Zr=Sut(Wr,this);return Gr.bounds==="ticks"&&tE(Zr,this,"value"),Gr.reverse?(Zr.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Zr}getLabelForValue(Gr){return Gr===void 0?"0":hd(Gr,this.chart.options.locale,this.options.ticks.format)}configure(){let Gr=this.min;super.configure(),this._startValue=Lu(Gr),this._valueRange=Lu(this.max)-Lu(Gr)}getPixelForValue(Gr){return(Gr===void 0||Gr===0)&&(Gr=this.min),Gr===null||isNaN(Gr)?NaN:this.getPixelForDecimal(Gr===this.min?0:(Lu(Gr)-this._startValue)/this._valueRange)}getValueForPixel(Gr){let Wr=this.getDecimalForPixel(Gr);return Math.pow(10,this._startValue+Wr*this._valueRange)}};function nD(Yr){let Gr=Yr.ticks;if(Gr.display&&Yr.display){let Wr=uo(Gr.backdropPadding);return zn(Gr.font&&Gr.font.size,Ca.font.size)+Wr.height}return 0}function wut(Yr,Gr,Wr){return Wr=ca(Wr)?Wr:[Wr],{w:_W(Yr,Gr.string,Wr),h:Wr.length*Gr.lineHeight}}function E4(Yr,Gr,Wr,Zr,Kr){return Yr===Zr||Yr===Kr?{start:Gr-Wr/2,end:Gr+Wr/2}:Yr<Zr||Yr>Kr?{start:Gr-Wr,end:Gr}:{start:Gr,end:Gr+Wr}}function Cut(Yr){let Gr={l:Yr.left+Yr._padding.left,r:Yr.right-Yr._padding.right,t:Yr.top+Yr._padding.top,b:Yr.bottom-Yr._padding.bottom},Wr=Object.assign({},Gr),Zr=[],Kr=[],Jr=Yr._pointLabels.length,Qr=Yr.options.pointLabels,ti=Qr.centerPointLabels?pa/Jr:0;for(let ei=0;ei<Jr;ei++){let ri=Qr.setContext(Yr.getPointLabelContext(ei));Kr[ei]=ri.padding;let ii=Yr.getPointPosition(ei,Yr.drawingArea+Kr[ei],ti),ni=Na(ri.font),ai=wut(Yr.ctx,ni,Yr._pointLabels[ei]);Zr[ei]=ai;let oi=Qo(Yr.getIndexAngle(ei)+ti),si=Math.round(ib(oi)),li=E4(si,ii.x,ai.w,0,180),ui=E4(si,ii.y,ai.h,90,270);Tut(Wr,Gr,oi,li,ui)}Yr.setCenterPoint(Gr.l-Wr.l,Wr.r-Gr.r,Gr.t-Wr.t,Wr.b-Gr.b),Yr._pointLabelItems=Put(Yr,Zr,Kr)}function Tut(Yr,Gr,Wr,Zr,Kr){let Jr=Math.abs(Math.sin(Wr)),Qr=Math.abs(Math.cos(Wr)),ti=0,ei=0;Zr.start<Gr.l?(ti=(Gr.l-Zr.start)/Jr,Yr.l=Math.min(Yr.l,Gr.l-ti)):Zr.end>Gr.r&&(ti=(Zr.end-Gr.r)/Jr,Yr.r=Math.max(Yr.r,Gr.r+ti)),Kr.start<Gr.t?(ei=(Gr.t-Kr.start)/Qr,Yr.t=Math.min(Yr.t,Gr.t-ei)):Kr.end>Gr.b&&(ei=(Kr.end-Gr.b)/Qr,Yr.b=Math.max(Yr.b,Gr.b+ei))}function Aut(Yr,Gr,Wr){let Zr=Yr.drawingArea,{extra:Kr,additionalAngle:Jr,padding:Qr,size:ti}=Wr,ei=Yr.getPointPosition(Gr,Zr+Kr+Qr,Jr),ri=Math.round(ib(Qo(ei.angle+Da))),ii=Iut(ei.y,ti.h,ri),ni=Eut(ri),ai=Dut(ei.x,ti.w,ni);return{visible:!0,x:ei.x,y:ii,textAlign:ni,left:ai,top:ii,right:ai+ti.w,bottom:ii+ti.h}}function Mut(Yr,Gr){if(!Gr)return!0;let{left:Wr,top:Zr,right:Kr,bottom:Jr}=Yr;return!($l({x:Wr,y:Zr},Gr)||$l({x:Wr,y:Jr},Gr)||$l({x:Kr,y:Zr},Gr)||$l({x:Kr,y:Jr},Gr))}function Put(Yr,Gr,Wr){let Zr=[],Kr=Yr._pointLabels.length,Jr=Yr.options,{centerPointLabels:Qr,display:ti}=Jr.pointLabels,ei={extra:nD(Jr)/2,additionalAngle:Qr?pa/Kr:0},ri;for(let ii=0;ii<Kr;ii++){ei.padding=Wr[ii],ei.size=Gr[ii];let ni=Aut(Yr,ii,ei);Zr.push(ni),ti==="auto"&&(ni.visible=Mut(ni,ri),ni.visible&&(ri=ni))}return Zr}function Eut(Yr){return Yr===0||Yr===180?"center":Yr<180?"left":"right"}function Dut(Yr,Gr,Wr){return Wr==="right"?Yr-=Gr:Wr==="center"&&(Yr-=Gr/2),Yr}function Iut(Yr,Gr,Wr){return Wr===90||Wr===270?Yr-=Gr/2:(Wr>270||Wr<90)&&(Yr-=Gr),Yr}function Lut(Yr,Gr,Wr){let{left:Zr,top:Kr,right:Jr,bottom:Qr}=Wr,{backdropColor:ti}=Gr;if(!Xn(ti)){let ei=Yf(Gr.borderRadius),ri=uo(Gr.backdropPadding);Yr.fillStyle=ti;let ii=Zr-ri.left,ni=Kr-ri.top,ai=Jr-Zr+ri.width,oi=Qr-Kr+ri.height;Object.values(ei).some(si=>si!==0)?(Yr.beginPath(),cd(Yr,{x:ii,y:ni,w:ai,h:oi,radius:ei}),Yr.fill()):Yr.fillRect(ii,ni,ai,oi)}}function kut(Yr,Gr){let{ctx:Wr,options:{pointLabels:Zr}}=Yr;for(let Kr=Gr-1;Kr>=0;Kr--){let Jr=Yr._pointLabelItems[Kr];if(!Jr.visible)continue;let Qr=Zr.setContext(Yr.getPointLabelContext(Kr));Lut(Wr,Qr,Jr);let ti=Na(Qr.font),{x:ei,y:ri,textAlign:ii}=Jr;Wf(Wr,Yr._pointLabels[Kr],ei,ri+ti.lineHeight/2,ti,{color:Qr.color,textAlign:ii,textBaseline:"middle"})}}function tY(Yr,Gr,Wr,Zr){let{ctx:Kr}=Yr;if(Wr)Kr.arc(Yr.xCenter,Yr.yCenter,Gr,0,da);else{let Jr=Yr.getPointPosition(0,Gr);Kr.moveTo(Jr.x,Jr.y);for(let Qr=1;Qr<Zr;Qr++)Jr=Yr.getPointPosition(Qr,Gr),Kr.lineTo(Jr.x,Jr.y)}}function Rut(Yr,Gr,Wr,Zr,Kr){let Jr=Yr.ctx,Qr=Gr.circular,{color:ti,lineWidth:ei}=Gr;!Qr&&!Zr||!ti||!ei||Wr<0||(Jr.save(),Jr.strokeStyle=ti,Jr.lineWidth=ei,Jr.setLineDash(Kr.dash),Jr.lineDashOffset=Kr.dashOffset,Jr.beginPath(),tY(Yr,Wr,Qr,Zr),Jr.closePath(),Jr.stroke(),Jr.restore())}function Out(Yr,Gr,Wr){return Ru(Yr,{label:Wr,index:Gr,type:"pointLabel"})}var aD=class extends yd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(Gr){return Gr},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(Gr){super(Gr),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let Gr=this._padding=uo(nD(this.options)/2),Wr=this.width=this.maxWidth-Gr.width,Zr=this.height=this.maxHeight-Gr.height;this.xCenter=Math.floor(this.left+Wr/2+Gr.left),this.yCenter=Math.floor(this.top+Zr/2+Gr.top),this.drawingArea=Math.floor(Math.min(Wr,Zr)/2)}determineDataLimits(){let{min:Gr,max:Wr}=this.getMinMax(!1);this.min=wa(Gr)&&!isNaN(Gr)?Gr:0,this.max=wa(Wr)&&!isNaN(Wr)?Wr:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nD(this.options))}generateTickLabels(Gr){yd.prototype.generateTickLabels.call(this,Gr),this._pointLabels=this.getLabels().map((Wr,Zr)=>{let Kr=ua(this.options.pointLabels.callback,[Wr,Zr],this);return Kr||Kr===0?Kr:""}).filter((Wr,Zr)=>this.chart.getDataVisibility(Zr))}fit(){let Gr=this.options;Gr.display&&Gr.pointLabels.display?Cut(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(Gr,Wr,Zr,Kr){this.xCenter+=Math.floor((Gr-Wr)/2),this.yCenter+=Math.floor((Zr-Kr)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(Gr,Wr,Zr,Kr))}getIndexAngle(Gr){let Wr=da/(this._pointLabels.length||1),Zr=this.options.startAngle||0;return Qo(Gr*Wr+Ws(Zr))}getDistanceFromCenterForValue(Gr){if(Xn(Gr))return NaN;let Wr=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-Gr)*Wr:(Gr-this.min)*Wr}getValueForDistanceFromCenter(Gr){if(Xn(Gr))return NaN;let Wr=Gr/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-Wr:this.min+Wr}getPointLabelContext(Gr){let Wr=this._pointLabels||[];if(Gr>=0&&Gr<Wr.length){let Zr=Wr[Gr];return Out(this.getContext(),Gr,Zr)}}getPointPosition(Gr,Wr,Zr=0){let Kr=this.getIndexAngle(Gr)-Da+Zr;return{x:Math.cos(Kr)*Wr+this.xCenter,y:Math.sin(Kr)*Wr+this.yCenter,angle:Kr}}getPointPositionForValue(Gr,Wr){return this.getPointPosition(Gr,this.getDistanceFromCenterForValue(Wr))}getBasePosition(Gr){return this.getPointPositionForValue(Gr||0,this.getBaseValue())}getPointLabelPosition(Gr){let{left:Wr,top:Zr,right:Kr,bottom:Jr}=this._pointLabelItems[Gr];return{left:Wr,top:Zr,right:Kr,bottom:Jr}}drawBackground(){let{backgroundColor:Gr,grid:{circular:Wr}}=this.options;if(Gr){let Zr=this.ctx;Zr.save(),Zr.beginPath(),tY(this,this.getDistanceFromCenterForValue(this._endValue),Wr,this._pointLabels.length),Zr.closePath(),Zr.fillStyle=Gr,Zr.fill(),Zr.restore()}}drawGrid(){let Gr=this.ctx,Wr=this.options,{angleLines:Zr,grid:Kr,border:Jr}=Wr,Qr=this._pointLabels.length,ti,ei,ri;if(Wr.pointLabels.display&&kut(this,Qr),Kr.display&&this.ticks.forEach((ii,ni)=>{if(ni!==0||ni===0&&this.min<0){ei=this.getDistanceFromCenterForValue(ii.value);let ai=this.getContext(ni),oi=Kr.setContext(ai),si=Jr.setContext(ai);Rut(this,oi,ei,Qr,si)}}),Zr.display){for(Gr.save(),ti=Qr-1;ti>=0;ti--){let ii=Zr.setContext(this.getPointLabelContext(ti)),{color:ni,lineWidth:ai}=ii;!ai||!ni||(Gr.lineWidth=ai,Gr.strokeStyle=ni,Gr.setLineDash(ii.borderDash),Gr.lineDashOffset=ii.borderDashOffset,ei=this.getDistanceFromCenterForValue(Wr.ticks.reverse?this.min:this.max),ri=this.getPointPosition(ti,ei),Gr.beginPath(),Gr.moveTo(this.xCenter,this.yCenter),Gr.lineTo(ri.x,ri.y),Gr.stroke())}Gr.restore()}}drawBorder(){}drawLabels(){let Gr=this.ctx,Wr=this.options,Zr=Wr.ticks;if(!Zr.display)return;let Kr=this.getIndexAngle(0),Jr,Qr;Gr.save(),Gr.translate(this.xCenter,this.yCenter),Gr.rotate(Kr),Gr.textAlign="center",Gr.textBaseline="middle",this.ticks.forEach((ti,ei)=>{if(ei===0&&this.min>=0&&!Wr.reverse)return;let ri=Zr.setContext(this.getContext(ei)),ii=Na(ri.font);if(Jr=this.getDistanceFromCenterForValue(this.ticks[ei].value),ri.showLabelBackdrop){Gr.font=ii.string,Qr=Gr.measureText(ti.label).width,Gr.fillStyle=ri.backdropColor;let ni=uo(ri.backdropPadding);Gr.fillRect(-Qr/2-ni.left,-Jr-ii.size/2-ni.top,Qr+ni.width,ii.size+ni.height)}Wf(Gr,ti.label,0,-Jr,ii,{color:ri.color,strokeColor:ri.textStrokeColor,strokeWidth:ri.textStrokeWidth})}),Gr.restore()}drawTitle(){}},Ib={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rs=Object.keys(Ib);function D4(Yr,Gr){return Yr-Gr}function I4(Yr,Gr){if(Xn(Gr))return null;let Wr=Yr._adapter,{parser:Zr,round:Kr,isoWeekday:Jr}=Yr._parseOpts,Qr=Gr;return typeof Zr=="function"&&(Qr=Zr(Qr)),wa(Qr)||(Qr=typeof Zr=="string"?Wr.parse(Qr,Zr):Wr.parse(Qr)),Qr===null?null:(Kr&&(Qr=Kr==="week"&&(vc(Jr)||Jr===!0)?Wr.startOf(Qr,"isoWeek",Jr):Wr.startOf(Qr,Kr)),+Qr)}function L4(Yr,Gr,Wr,Zr){let Kr=rs.length;for(let Jr=rs.indexOf(Yr);Jr<Kr-1;++Jr){let Qr=Ib[rs[Jr]],ti=Qr.steps?Qr.steps:Number.MAX_SAFE_INTEGER;if(Qr.common&&Math.ceil((Wr-Gr)/(ti*Qr.size))<=Zr)return rs[Jr]}return rs[Kr-1]}function zut(Yr,Gr,Wr,Zr,Kr){for(let Jr=rs.length-1;Jr>=rs.indexOf(Wr);Jr--){let Qr=rs[Jr];if(Ib[Qr].common&&Yr._adapter.diff(Kr,Zr,Qr)>=Gr-1)return Qr}return rs[Wr?rs.indexOf(Wr):0]}function Nut(Yr){for(let Gr=rs.indexOf(Yr)+1,Wr=rs.length;Gr<Wr;++Gr)if(Ib[rs[Gr]].common)return rs[Gr]}function k4(Yr,Gr,Wr){if(!Wr)Yr[Gr]=!0;else if(Wr.length){let{lo:Zr,hi:Kr}=nb(Wr,Gr),Jr=Wr[Zr]>=Gr?Wr[Zr]:Wr[Kr];Yr[Jr]=!0}}function Fut(Yr,Gr,Wr,Zr){let Kr=Yr._adapter,Jr=+Kr.startOf(Gr[0].value,Zr),Qr=Gr[Gr.length-1].value,ti,ei;for(ti=Jr;ti<=Qr;ti=+Kr.add(ti,1,Zr))ei=Wr[ti],ei>=0&&(Gr[ei].major=!0);return Gr}function R4(Yr,Gr,Wr){let Zr=[],Kr={},Jr=Gr.length,Qr,ti;for(Qr=0;Qr<Jr;++Qr)ti=Gr[Qr],Kr[ti]=Qr,Zr.push({value:ti,major:!1});return Jr===0||!Wr?Zr:Fut(Yr,Zr,Kr,Wr)}var ng=class extends xc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(Gr){super(Gr),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(Gr,Wr={}){let Zr=Gr.time||(Gr.time={}),Kr=this._adapter=new Jot._date(Gr.adapters.date);Kr.init(Wr),sd(Zr.displayFormats,Kr.formats()),this._parseOpts={parser:Zr.parser,round:Zr.round,isoWeekday:Zr.isoWeekday},super.init(Gr),this._normalized=Wr.normalized}parse(Gr,Wr){return Gr===void 0?null:I4(this,Gr)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let Gr=this.options,Wr=this._adapter,Zr=Gr.time.unit||"day",{min:Kr,max:Jr,minDefined:Qr,maxDefined:ti}=this.getUserBounds();function ei(ri){!Qr&&!isNaN(ri.min)&&(Kr=Math.min(Kr,ri.min)),!ti&&!isNaN(ri.max)&&(Jr=Math.max(Jr,ri.max))}(!Qr||!ti)&&(ei(this._getLabelBounds()),(Gr.bounds!=="ticks"||Gr.ticks.source!=="labels")&&ei(this.getMinMax(!1))),Kr=wa(Kr)&&!isNaN(Kr)?Kr:+Wr.startOf(Date.now(),Zr),Jr=wa(Jr)&&!isNaN(Jr)?Jr:+Wr.endOf(Date.now(),Zr)+1,this.min=Math.min(Kr,Jr-1),this.max=Math.max(Kr+1,Jr)}_getLabelBounds(){let Gr=this.getLabelTimestamps(),Wr=Number.POSITIVE_INFINITY,Zr=Number.NEGATIVE_INFINITY;return Gr.length&&(Wr=Gr[0],Zr=Gr[Gr.length-1]),{min:Wr,max:Zr}}buildTicks(){let Gr=this.options,Wr=Gr.time,Zr=Gr.ticks,Kr=Zr.source==="labels"?this.getLabelTimestamps():this._generate();Gr.bounds==="ticks"&&Kr.length&&(this.min=this._userMin||Kr[0],this.max=this._userMax||Kr[Kr.length-1]);let Jr=this.min,Qr=this.max,ti=dW(Kr,Jr,Qr);return this._unit=Wr.unit||(Zr.autoSkip?L4(Wr.minUnit,this.min,this.max,this._getLabelCapacity(Jr)):zut(this,ti.length,Wr.minUnit,this.min,this.max)),this._majorUnit=!Zr.major.enabled||this._unit==="year"?void 0:Nut(this._unit),this.initOffsets(Kr),Gr.reverse&&ti.reverse(),R4(this,ti,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(Gr=>+Gr.value))}initOffsets(Gr=[]){let Wr=0,Zr=0,Kr,Jr;this.options.offset&&Gr.length&&(Kr=this.getDecimalForValue(Gr[0]),Gr.length===1?Wr=1-Kr:Wr=(this.getDecimalForValue(Gr[1])-Kr)/2,Jr=this.getDecimalForValue(Gr[Gr.length-1]),Gr.length===1?Zr=Jr:Zr=(Jr-this.getDecimalForValue(Gr[Gr.length-2]))/2);let Qr=Gr.length<3?.5:.25;Wr=Xa(Wr,0,Qr),Zr=Xa(Zr,0,Qr),this._offsets={start:Wr,end:Zr,factor:1/(Wr+1+Zr)}}_generate(){let Gr=this._adapter,Wr=this.min,Zr=this.max,Kr=this.options,Jr=Kr.time,Qr=Jr.unit||L4(Jr.minUnit,Wr,Zr,this._getLabelCapacity(Wr)),ti=zn(Kr.ticks.stepSize,1),ei=Qr==="week"?Jr.isoWeekday:!1,ri=vc(ei)||ei===!0,ii={},ni=Wr,ai,oi;if(ri&&(ni=+Gr.startOf(ni,"isoWeek",ei)),ni=+Gr.startOf(ni,ri?"day":Qr),Gr.diff(Zr,Wr,Qr)>1e5*ti)throw new Error(Wr+" and "+Zr+" are too far apart with stepSize of "+ti+" "+Qr);let si=Kr.ticks.source==="data"&&this.getDataTimestamps();for(ai=ni,oi=0;ai<Zr;ai=+Gr.add(ai,ti,Qr),oi++)k4(ii,ai,si);return(ai===Zr||Kr.bounds==="ticks"||oi===1)&&k4(ii,ai,si),Object.keys(ii).sort(D4).map(li=>+li)}getLabelForValue(Gr){let Wr=this._adapter,Zr=this.options.time;return Zr.tooltipFormat?Wr.format(Gr,Zr.tooltipFormat):Wr.format(Gr,Zr.displayFormats.datetime)}format(Gr,Wr){let Kr=this.options.time.displayFormats,Jr=this._unit,Qr=Wr||Kr[Jr];return this._adapter.format(Gr,Qr)}_tickFormatFunction(Gr,Wr,Zr,Kr){let Jr=this.options,Qr=Jr.ticks.callback;if(Qr)return ua(Qr,[Gr,Wr,Zr],this);let ti=Jr.time.displayFormats,ei=this._unit,ri=this._majorUnit,ii=ei&&ti[ei],ni=ri&&ti[ri],ai=Zr[Wr],oi=ri&&ni&&ai&&ai.major;return this._adapter.format(Gr,Kr||(oi?ni:ii))}generateTickLabels(Gr){let Wr,Zr,Kr;for(Wr=0,Zr=Gr.length;Wr<Zr;++Wr)Kr=Gr[Wr],Kr.label=this._tickFormatFunction(Kr.value,Wr,Gr)}getDecimalForValue(Gr){return Gr===null?NaN:(Gr-this.min)/(this.max-this.min)}getPixelForValue(Gr){let Wr=this._offsets,Zr=this.getDecimalForValue(Gr);return this.getPixelForDecimal((Wr.start+Zr)*Wr.factor)}getValueForPixel(Gr){let Wr=this._offsets,Zr=this.getDecimalForPixel(Gr)/Wr.factor-Wr.end;return this.min+Zr*(this.max-this.min)}_getLabelSize(Gr){let Wr=this.options.ticks,Zr=this.ctx.measureText(Gr).width,Kr=Ws(this.isHorizontal()?Wr.maxRotation:Wr.minRotation),Jr=Math.cos(Kr),Qr=Math.sin(Kr),ti=this._resolveTickFontOptions(0).size;return{w:Zr*Jr+ti*Qr,h:Zr*Qr+ti*Jr}}_getLabelCapacity(Gr){let Wr=this.options.time,Zr=Wr.displayFormats,Kr=Zr[Wr.unit]||Zr.millisecond,Jr=this._tickFormatFunction(Gr,0,R4(this,[Gr],this._majorUnit),Kr),Qr=this._getLabelSize(Jr),ti=Math.floor(this.isHorizontal()?this.width/Qr.w:this.height/Qr.h)-1;return ti>0?ti:1}getDataTimestamps(){let Gr=this._cache.data||[],Wr,Zr;if(Gr.length)return Gr;let Kr=this.getMatchingVisibleMetas();if(this._normalized&&Kr.length)return this._cache.data=Kr[0].controller.getAllParsedValues(this);for(Wr=0,Zr=Kr.length;Wr<Zr;++Wr)Gr=Gr.concat(Kr[Wr].controller.getAllParsedValues(this));return this._cache.data=this.normalize(Gr)}getLabelTimestamps(){let Gr=this._cache.labels||[],Wr,Zr;if(Gr.length)return Gr;let Kr=this.getLabels();for(Wr=0,Zr=Kr.length;Wr<Zr;++Wr)Gr.push(I4(this,Kr[Wr]));return this._cache.labels=this._normalized?Gr:this.normalize(Gr)}normalize(Gr){return nE(Gr.sort(D4))}};function _b(Yr,Gr,Wr){let Zr=0,Kr=Yr.length-1,Jr,Qr,ti,ei;Wr?(Gr>=Yr[Zr].pos&&Gr<=Yr[Kr].pos&&({lo:Zr,hi:Kr}=Kl(Yr,"pos",Gr)),{pos:Jr,time:ti}=Yr[Zr],{pos:Qr,time:ei}=Yr[Kr]):(Gr>=Yr[Zr].time&&Gr<=Yr[Kr].time&&({lo:Zr,hi:Kr}=Kl(Yr,"time",Gr)),{time:Jr,pos:ti}=Yr[Zr],{time:Qr,pos:ei}=Yr[Kr]);let ri=Qr-Jr;return ri?ti+(ei-ti)*(Gr-Jr)/ri:ti}var oD=class extends ng{static id="timeseries";static defaults=ng.defaults;constructor(Gr){super(Gr),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let Gr=this._getTimestampsForTable(),Wr=this._table=this.buildLookupTable(Gr);this._minPos=_b(Wr,this.min),this._tableRange=_b(Wr,this.max)-this._minPos,super.initOffsets(Gr)}buildLookupTable(Gr){let{min:Wr,max:Zr}=this,Kr=[],Jr=[],Qr,ti,ei,ri,ii;for(Qr=0,ti=Gr.length;Qr<ti;++Qr)ri=Gr[Qr],ri>=Wr&&ri<=Zr&&Kr.push(ri);if(Kr.length<2)return[{time:Wr,pos:0},{time:Zr,pos:1}];for(Qr=0,ti=Kr.length;Qr<ti;++Qr)ii=Kr[Qr+1],ei=Kr[Qr-1],ri=Kr[Qr],Math.round((ii+ei)/2)!==ri&&Jr.push({time:ri,pos:Qr/(ti-1)});return Jr}_generate(){let Gr=this.min,Wr=this.max,Zr=super.getDataTimestamps();return(!Zr.includes(Gr)||!Zr.length)&&Zr.splice(0,0,Gr),(!Zr.includes(Wr)||Zr.length===1)&&Zr.push(Wr),Zr.sort((Kr,Jr)=>Kr-Jr)}_getTimestampsForTable(){let Gr=this._cache.all||[];if(Gr.length)return Gr;let Wr=this.getDataTimestamps(),Zr=this.getLabelTimestamps();return Wr.length&&Zr.length?Gr=this.normalize(Wr.concat(Zr)):Gr=Wr.length?Wr:Zr,Gr=this._cache.all=Gr,Gr}getDecimalForValue(Gr){return(_b(this._table,Gr)-this._minPos)/this._tableRange}getValueForPixel(Gr){let Wr=this._offsets,Zr=this.getDecimalForPixel(Gr)/Wr.factor-Wr.end;return _b(this._table,Zr*this._tableRange+this._minPos,!0)}},Vut=Object.freeze({__proto__:null,CategoryScale:eD,LinearScale:rD,LogarithmicScale:iD,RadialLinearScale:aD,TimeScale:ng,TimeSeriesScale:oD}),eY=[$ot,Slt,mut,Vut];md.register(...eY);var rY=md;document.addEventListener("DOMContentLoaded",function(){iY.default.loadAnimation({container:document.getElementById("lottie-animation"),renderer:"svg",loop:!0,autoplay:!0,path:"assets/animation/Animation - 1712666371830.json"})});document.addEventListener("keydown",function(Yr){let Gr=document.activeElement;if(!Gr.classList.contains("links"))return;let Wr=null;switch(Yr.key){case"ArrowDown":Wr=Gr.parentElement.nextElementSibling,Wr&&(Wr=Wr.querySelector(".links"));break;case"ArrowUp":Wr=Gr.parentElement.previousElementSibling,Wr&&(Wr=Wr.querySelector(".links"));break}Wr&&(Wr.focus(),Yr.preventDefault())});document.addEventListener("DOMContentLoaded",function(){let Yr=document.getElementById("echart");new rY(Yr,{type:"bar",data:{labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],datasets:[{label:"Days of the week",data:[12,19,3,5,2,3,11],borderWidth:1,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})});document.addEventListener("DOMContentLoaded",function(){console.log("htmx:afterRequest event fired");var Yr=document.querySelectorAll(".left-controls-button");Yr.forEach(function(Gr){Gr.addEventListener("htmx:afterRequest",function(Wr){console.log("AJAX request has finished for button: ",Gr),console.log("AJAX request status: ",Wr.detail.successful),console.log("XMLHttpRequest: ",Wr.detail.xhr),console.log("XMLHttpRequest response: ",Wr.detail.xhr.response)})})});})();
/*! Bundled license information:

lottie-web/build/player/lottie.js:
  (*!
   Transformation Matrix v2.0
   (c) Epistemex 2014-2015
   www.epistemex.com
   By Ken Fyrstenberg
   Contributions by leeoniya.
   License: MIT, header required.
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

zrender/lib/zrender.js:
  (*!
  * ZRender, a high performance 2d drawing library.
  *
  * Copyright (c) 2013, Baidu Inc.
  * All rights reserved.
  *
  * LICENSE
  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
  *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.2
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.2
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)
*/
//# sourceMappingURL=out.js.map
